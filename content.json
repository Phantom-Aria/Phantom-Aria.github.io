{"meta":{"title":"æˆ‘çš„å°ç ´ç«™","subtitle":"","description":"","author":null,"url":"http://www.shelven.com","root":"/"},"pages":[{"title":"","date":"2022-04-09T14:14:36.602Z","updated":"2022-04-09T14:14:36.598Z","comments":true,"path":"404.html","permalink":"http://www.shelven.com/404.html","excerpt":"","text":"404 è®¿é—®çš„é¡µé¢èµ°ä¸¢äº†ï¼(âŠ™_âŠ™) å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤ å¦‚æœç¡®è®¤åœ°å€æ— è¯¯ï¼Œè¯·è¸¢æˆ‘ä¸€è„šé©¬ä¸Šæ¥æ”¹ TAT"},{"title":"","date":"2022-04-13T13:37:18.783Z","updated":"2022-04-13T13:37:18.770Z","comments":true,"path":"about/index.html","permalink":"http://www.shelven.com/about/index.html","excerpt":"","text":"æ„Ÿè°¢å°ä¼™ä¼´çš„æ¥è®¿ï¼ å°ç ´ç«™å°šåœ¨æ­å»ºä¸­ï¼Œæœ‰å¥½çš„æƒ³æ³•è¯·ç•™è¨€~ æœ¬ç«™æˆç«‹çš„åˆè¡·æ˜¯è®°å½•æœ¬äººå­¦ä¹ ç¬”è®°ï¼Œä»¥åŠæ•´åˆå„ç§æœ‰ç”¨çš„ç”Ÿä¿¡ç½‘ç«™å’Œå·¥å…·ï¼Œæ–¹ä¾¿æŸ¥é˜…å’Œå­¦ä¹ ã€‚æœ¬äººæ˜¯å‰ç«¯å°ç™½æŒ‡bugè¶Šä¿®è¶Šå¤š,å¦‚æœæœ¬ç«™æœ‰bugè¯·ç•™è¨€ï¼Œéå¸¸æ„Ÿè°¢!å„ä½dalaoé«˜æŠ¬è´µæ‰‹ï¼Œè¯·ä¸è¦DDOSæ”»å‡»_(:Ğ·ã€âˆ )_"},{"title":"æ‰€æœ‰åˆ†ç±»","date":"2022-04-13T09:37:32.168Z","updated":"2022-04-13T09:37:32.164Z","comments":true,"path":"categories/index.html","permalink":"http://www.shelven.com/categories/index.html","excerpt":"","text":"æ²¡æœ‰ä½ æ„Ÿå…´è¶£çš„ï¼Ÿ0.0 è¯·ç•™è¨€æå‡ºä½ çš„å®è´µæ„è§~"},{"title":"","date":"2023-11-16T16:04:03.354Z","updated":"2023-11-16T16:04:02.000Z","comments":false,"path":"history/index.html","permalink":"http://www.shelven.com/history/index.html","excerpt":"","text":"2023-11-17 æ›´æ–°æ—¥å¿—ï¼šæ–°å»ºæ ç›® æ–°å»ºSRA Exploreræ ç›® 2023-10-6 æ›´æ–°æ—¥å¿—ï¼šæ–°å»ºæ ç›® æ–°å»ºéŸ³ä¹è§£é”æ ç›®ï¼Œå¯èƒ½éœ€è¦ä¸€æ¬¡é­”æ³•æ‰èƒ½è®¿é—® 2023-9-21 æ›´æ–°æ—¥å¿—ï¼šbugä¿®å¤ ä¿®å¤ç•™è¨€ç³»ç»Ÿä¸æé†’çš„bug 2023-9-18 æ›´æ–°æ—¥å¿—ï¼šæ–°å»ºæ ç›® æ–°å»ºå‹é“¾æ ç›®ï¼Œæ¬¢è¿äº¤æ¢å‹é“¾ï¼ 2023-2-23 æ›´æ–°æ—¥å¿—ï¼šä¿®å¤bug ä¿®å¤æ–‡ç« åˆ†ç±»é¡µå’Œçƒ­é—¨æ ‡ç­¾é¡µè·³è½¬é”™è¯¯bug 2023-1-14 æ›´æ–°æ—¥å¿—ï¼šä¿®å¤bugå’Œæ ç›®æ›´æ–° ä¿®å¤è¯„è®ºåŒºæ˜¾ç¤ºé”™è¯¯bug æ›´æ–°ç”Ÿä¿¡ç½‘ç«™å¯¼èˆªæ ç›® 2022-12-11 æ›´æ–°æ—¥å¿—ï¼šä¿®å¤bugå’Œæ ç›®ä¼˜åŒ– æœ¬åœ°åˆ›å»ºAPIï¼Œä¿®å¤çœ‹æ¿å¨˜æ˜¾ç¤ºbug è¿ç§»èµ„æºï¼Œä¿®å¤æœ¬ç«™å“åº”æ—¶é—´è¿‡é•¿bug ä¼˜åŒ–åº•éƒ¨æ’­æ”¾å™¨ï¼Œè§£å†³ä¸¤ä¸ªæ’­æ”¾å™¨æ’­æ”¾ä¸åŒæ­¥é—®é¢˜ 2022-12-4 æ›´æ–°æ—¥å¿—ï¼šæ ç›®æ–°å¢å’Œä¼˜åŒ– æ–°å¢ç½‘å€å¯¼èˆªæ äººå·¥æ™ºèƒ½æ¿å— ä¼˜åŒ–æ–‡ç« æ˜¾ç¤ºæ–¹å¼ï¼Œä¿®å¤æ‘˜è¦æ˜¾ç¤ºbug 2022-11-29 æ›´æ–°æ—¥å¿—ï¼šæ ç›®ä¼˜åŒ– ä¼˜åŒ–ç»“ç»³æ ç›®ï¼Œç¬”è®°å…¨éƒ¨å½’æ¡£ 2022-09-17 æ›´æ–°æ—¥å¿—ï¼šè¯„è®ºç³»ç»Ÿæ›´æ¢ ç”±äºä¸å¯æŠ—åŠ›å› ç´ åŸè¯„è®ºç³»ç»Ÿæ•°æ®å·²æ— æ³•æ¢å¤ï¼Œä»Šåå°†å¸å–æ•™è®­åšå¥½å¤‡ä»½ è¯„è®ºç³»ç»Ÿé‡æ–°éƒ¨ç½²åˆ°Vercelï¼Œæœ¬ç«™ä¸å†éƒ¨ç½²ä»»ä½•é¡¹ç›®åˆ°è…¾è®¯äº‘å¼€å‘ 2022-05-24 æ›´æ–°æ—¥å¿—ï¼šå›¾åºŠè¿ç§» æœ¬ç«™å›¾åºŠå·²å…¨éƒ¨è¿ç§»è‡³æœ¬åœ°æœåŠ¡å™¨ï¼Œå‡ºäºç¨³å®šæ€§è€ƒè™‘ä¸å†ä½¿ç”¨jsdelivr ä¼˜åŒ–å’Œæ–°å¢ç½‘å€å¯¼èˆªæ å†…å®¹ 2022-05-18 æ›´æ–°æ—¥å¿—ï¼šæ–°å¢æ ç›® æ–°å¢ç½‘å€å¯¼èˆªæ ç›®ï¼Œä¼˜åŒ–å¯¼èˆªæ  2022-04-29 æ›´æ–°æ—¥å¿—ï¼šå›¾åºŠè¿ç§» githubå›¾åºŠå·²æŒ‚ï¼Œ2022å¹´4æœˆ29æ—¥ä¹‹åæœ¬ç«™å›¾åºŠå°†é€æ¸è¿ç§»æœ¬åœ° 2022-04-19 æ›´æ–°æ—¥å¿—ï¼šå›¾åºŠè¿ç§» ä¼˜åŒ–ç›¸å†Œæ ç›® èƒŒæ™¯å›¾ç‰‡å›¾åºŠè¿ç§»è‡³æœ¬åœ° 2022-04-18 æ›´æ–°æ—¥å¿—ï¼šæ–°å¢æ ç›® æ–°å¢ç›¸å†Œæ ç›® 2022-04-16 æ›´æ–°æ—¥å¿—ï¼šçœ‹æ¿å¨˜ä¼˜åŒ– çœ‹æ¿å¨˜æ¨¡å—æ˜¾ç¤ºä¼˜åŒ– 2022-04-15 æ›´æ–°æ—¥å¿—ï¼šé¡µé¢ä¼˜åŒ– ç½‘ç«™é¡µè„šä¼˜åŒ– 2022-04-14 æ›´æ–°æ—¥å¿—ï¼šbugä¿®å¤ ä¿®å¤æ–‡ç« æ°¸ä¹…é“¾æ¥ä¸­æ–‡ä¹±ç bugï¼Œå·²æ›´æ”¹æ°¸ä¹…é“¾æ¥æ ¼å¼ ä¿®å¤éƒ¨åˆ†é¡µé¢å¼ºåˆ¶é‡æ–°åŠ è½½bugï¼Œä¿®æ”¹äº†éƒ¨åˆ†pjaxä»£ç  ä¿®å¤aplayeræ’­æ”¾å™¨åˆ‡æ¢é¡µé¢åä¸­æ–­æ’­æ”¾bugï¼ŒåŒä¸Š 2022-04-13 æ›´æ–°æ—¥å¿—ï¼šbugä¿®å¤å’ŒCDNåŠ é€Ÿ ä¿®å¤ä¸»é¡µè½®æ’­å›¾ç‰‡ç©ºç™½bugï¼Œä¿®æ”¹äº†éƒ¨åˆ†parallaxä»£ç ï¼Œå·²ä¼˜åŒ–å›¾ç‰‡åŠ è½½æ–¹å¼ æœ¬ç«™å·²åŠ å…¥åˆæ‹äº‘è”ç›Ÿï¼Œç«™ç‚¹å·²è¿›è¡ŒCDNåŠ é€Ÿ å°ç ´ç«™æ­£å¼å¯¹å¤–å¼€æ”¾ï¼ 2022-04-12 æ›´æ–°æ—¥å¿—ï¼šæœåŠ¡å™¨è¿ç§» æœåŠ¡å™¨è¿ç§»è‡³æœ¬åœ° æœ¬ç«™å·²ç»‘å®šwww.shelven.comåŸŸå æœ¬ç«™å·²å®‰è£…SSLå®‰å…¨è¯ä¹¦ 2022-04-11 æ›´æ–°æ—¥å¿—ï¼šç•Œé¢ä¼˜åŒ– æ·»åŠ pjaxæ’ä»¶ï¼Œä¼˜åŒ–éƒ¨åˆ†é¡µé¢åŠ è½½é€Ÿåº¦ ç™¾åº¦ç»Ÿè®¡ç»´æŠ¤ï¼Œ5æœˆ31æ—¥æ¢å¤æ¥å…¥ bug:æš‚æ—¶æ— æ³•å…¨ç«™æ— åˆ·æ–°åŠ è½½ 2022-04-10 æ›´æ–°æ—¥å¿—ï¼šåŠŸèƒ½æ·»åŠ  æ·»åŠ rssè®¢é˜…åŠŸèƒ½ æ–°å¢ç»“ç»³æ ç›® æ–°å¢ç«™å†…æœç´¢åŠŸèƒ½ æ¥å…¥ç™¾åº¦ç»Ÿè®¡ 2022-04-09 æ›´æ–°æ—¥å¿—ï¼šåŠŸèƒ½æ·»åŠ  æ–°å¢live2Dçœ‹æ¿å¨˜æ¨¡å— æ¥å…¥è…¾è®¯äº‘å¼€å‘å’Œtwikooè¯„è®ºç³»ç»Ÿ å¯ç”¨MFAï¼Œæ–°å¢ç•™è¨€æé†’å’ŒQQé‚®ç®±å¤´åƒæŠ“å–åŠŸèƒ½ 2022-04-08 æ›´æ–°æ—¥å¿—ï¼šé¡µé¢ç¾åŒ– æ›´æ”¹é¼ æ ‡æ ·å¼ æ›´æ”¹ä¾§è¾¹æ é…ç½® æ–°å¢ç½‘é¡µåŠ è½½æ¡ 2022-04-07 æ›´æ–°æ—¥å¿—ï¼šé¡µé¢ç¾åŒ–å’ŒåŠŸèƒ½æ›´æ–° é‡è®¾å¯¼èˆªæ  é‡è®¾å°é¢ æ›´æ”¹å³é”®èœå•åŠŸèƒ½ 2022-04-06 æ›´æ–°æ—¥å¿—ï¼šåŠŸèƒ½æ·»åŠ  æ·»åŠ èƒŒæ™¯éŸ³ä¹åŠŸèƒ½ï¼Œæ¥å…¥aplayeræ’­æ”¾å™¨ æ·»åŠ ç½‘ç«™ç»Ÿè®¡è®¿å®¢æ•°åŠŸèƒ½ï¼Œæ¥å…¥LeanCloud æ·»åŠ æ–‡ç« å­—æ•°ç»Ÿè®¡åŠŸèƒ½ 2022-04-05 æ›´æ–°æ—¥å¿—ï¼šé¡µé¢ç¾åŒ– å¯¼èˆªæ è®¾è®¡å’Œç¾åŒ– å¡ç‰‡æ·»åŠ é€æ˜åº¦ ä¼˜åŒ–ä¸»é¢˜èƒŒæ™¯å›¾ç‰‡ 2022-04-04 æ›´æ–°æ—¥å¿—ï¼šå°ç ´ç«™æˆç«‹å•¦ï¼ ä½¿ç”¨Hexoæ¡†æ¶ï¼Œvolantisä¸»é¢˜æ­å»ºç½‘ç«™ githubå»ºåº“ï¼Œä»£ç æ‰˜ç®¡ å»ºç«‹å›¾åºŠï¼Œä½¿ç”¨jsDelivrè¿›è¡ŒCDNåŠ é€Ÿ"},{"title":"","date":"2023-07-04T10:04:18.318Z","updated":"2023-07-04T10:04:16.000Z","comments":true,"path":"more/404.html","permalink":"http://www.shelven.com/more/404.html","excerpt":"","text":"404 è®¿é—®çš„é¡µé¢èµ°ä¸¢äº†ï¼(âŠ™_âŠ™) å¯èƒ½æ˜¯è¾“å…¥åœ°å€æœ‰è¯¯æˆ–è¯¥åœ°å€å·²è¢«åˆ é™¤ å¦‚æœç¡®è®¤åœ°å€æ— è¯¯ï¼Œè¯·è¸¢æˆ‘ä¸€è„šé©¬ä¸Šæ¥æ”¹ TAT"},{"title":"","date":"2022-04-13T07:44:09.805Z","updated":"2022-04-13T07:44:09.801Z","comments":true,"path":"mylist/index.html","permalink":"http://www.shelven.com/mylist/index.html","excerpt":"","text":""},{"title":"æ‰€æœ‰æ ‡ç­¾","date":"2022-04-13T09:37:59.531Z","updated":"2022-04-13T09:37:59.527Z","comments":true,"path":"tags/index.html","permalink":"http://www.shelven.com/tags/index.html","excerpt":"","text":"æ²¡æœ‰ä½ æ„Ÿå…´è¶£çš„ï¼Ÿ0.0 è¯·ç•™è¨€æå‡ºä½ çš„å®è´µæ„è§~"},{"title":"å£çº¸åˆ†äº«(ç‚¹å‡»æŸ¥çœ‹å¤§å›¾)","date":"2022-04-19T06:40:53.941Z","updated":"2022-04-19T06:40:53.937Z","comments":true,"path":"photo/index.html","permalink":"http://www.shelven.com/photo/index.html","excerpt":"","text":""},{"title":"å®æ—¶å¾®åšçƒ­æœæ¦œ","date":"2022-04-27T18:04:09.706Z","updated":"2022-04-27T18:04:09.701Z","comments":true,"path":"weibo/index.html","permalink":"http://www.shelven.com/weibo/index.html","excerpt":"","text":""},{"title":"","date":"2022-12-01T15:33:37.918Z","updated":"2022-12-01T15:33:36.000Z","comments":true,"path":"Bioinformatics/index.html","permalink":"http://www.shelven.com/Bioinformatics/index.html","excerpt":"ç”Ÿä¿¡ç½‘ç«™å¿«é€Ÿå¯¼èˆª æœ¬é¡µé¢æš‚æ—¶æ— æ³•ä½¿ç”¨ç«™å†…æœç´¢ ç»å¯¹ä¸æ˜¯æˆ‘æ‡’å¾—æ”¹ä»£ç  æœç´¢è¯·ç›´æ¥ä½¿ç”¨ctrl + F","text":"ç”Ÿä¿¡ç½‘ç«™å¿«é€Ÿå¯¼èˆª æœ¬é¡µé¢æš‚æ—¶æ— æ³•ä½¿ç”¨ç«™å†…æœç´¢ ç»å¯¹ä¸æ˜¯æˆ‘æ‡’å¾—æ”¹ä»£ç  æœç´¢è¯·ç›´æ¥ä½¿ç”¨ctrl + F äº¤æ¢å‹é“¾è¯·å‚ç…§ä¸‹åˆ—æ ¼å¼å¹¶ç•™è¨€ åå­—|name: Phantomé“¾æ¥åœ°å€|link: http://www.shelven.com/å¤´åƒåœ°å€|avatar: https://www.shelven.com/tuchuang/avatar.jpgæè¿°|desc: åšå­¦è€Œç¬ƒå¿—ï¼Œåˆ‡é—®è€Œè¿‘æ€"},{"title":"","date":"2023-09-18T10:44:51.793Z","updated":"2023-09-18T10:44:49.000Z","comments":true,"path":"AI/index.html","permalink":"http://www.shelven.com/AI/index.html","excerpt":"äººå·¥æ™ºèƒ½å¿«é€Ÿå¯¼èˆª å’Œå‰é¢ç”Ÿä¿¡ç½‘ç«™å¯¼èˆªä¸€æ ·ï¼Œæš‚æ—¶æ— æ³•ä½¿ç”¨ç«™å†…æœç´¢ è¿™ä¸€é¡µæ”¶è—æœºå™¨å­¦ä¹ å’Œäººå·¥æ™ºèƒ½ç›¸å…³ç½‘ç«™","text":"äººå·¥æ™ºèƒ½å¿«é€Ÿå¯¼èˆª å’Œå‰é¢ç”Ÿä¿¡ç½‘ç«™å¯¼èˆªä¸€æ ·ï¼Œæš‚æ—¶æ— æ³•ä½¿ç”¨ç«™å†…æœç´¢ è¿™ä¸€é¡µæ”¶è—æœºå™¨å­¦ä¹ å’Œäººå·¥æ™ºèƒ½ç›¸å…³ç½‘ç«™ äººå·¥æ™ºèƒ½å¸¸ç”¨æ–‡æ¡£PyTorchç›¸å…³ Githubä»“åº“ PyTorchå®˜ç½‘ PyTorchä¸­æ–‡æ–‡æ¡£ OpenCVç›¸å…³ Githubä»“åº“ OpenCVå®˜ç½‘ OpenCVä¸­æ–‡è®ºå› OpenCVå®˜æ–¹æ–‡æ¡£ Numpyç›¸å…³ Githubä»“åº“ Numpyå®˜ç½‘ Numpyå®˜æ–¹æ–‡æ¡£ Pandasç›¸å…³ Githubä»“åº“ Pandasä¸­æ–‡å®˜ç½‘ Matplotlibç›¸å…³ Githubä»“åº“ Matplotlibå®˜ç½‘ Matplotlibä¸­æ–‡æ–‡æ¡£ å¸¸ç”¨è½¯ä»¶æº æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ é˜¿é‡Œå·´å·´å¼€æºé•œåƒç«™ è±†ç“£é•œåƒæº åŒ—äº¬å¤–å›½è¯­å¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ ç®—åŠ›å¹³å° Colaboratoryï¼ˆæ¨èï¼‰ Kaggleï¼ˆæ¨èï¼‰ æ·±åº¦å­¦ä¹ é›¾è®¡ç®—å¹³å° çŸ©æ± äº‘ æ•°æ®é›†å„ç§ç±»å‹çš„æ•°æ®å­˜å‚¨åº“ Kaggle Datasets Google Dataset Search Papers With Code DatasetList æ ¼ç‰©é’› é£æ¡¨AI Studio è®¡ç®—æœºè§†è§‰ï¼ˆCVï¼‰ç›¸å…³ ImageNet MNIST IMDB-WIKI VisualData è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰ç›¸å…³ M-AILABS Speech Dataset LJ Speech Dataset LibriSpeech ASR corpus æ ‡è´ä¸­æ–‡æ ‡å‡†å¥³å£°éŸ³åº“ äººå·¥æ™ºèƒ½ç«èµ›ç½‘ç«™ Kaggle å’Œé²¸ç¤¾åŒº DataFountain åä¸ºäº‘å¼€å‘è€…å¤§èµ› é˜¿é‡Œäº‘å¤©æ±  äº¤æ¢å‹é“¾è¯·å‚ç…§ä¸‹åˆ—æ ¼å¼å¹¶ç•™è¨€ åå­—|name: Phantomé“¾æ¥åœ°å€|link: http://www.shelven.com/å¤´åƒåœ°å€|avatar: https://www.shelven.com/tuchuang/avatar.jpgæè¿°|desc: åšå­¦è€Œç¬ƒå¿—ï¼Œåˆ‡é—®è€Œè¿‘æ€"},{"title":"","date":"2023-10-24T06:28:49.816Z","updated":"2023-10-24T06:28:48.000Z","comments":true,"path":"Friends/index.html","permalink":"http://www.shelven.com/Friends/index.html","excerpt":"å‹é“¾ ä¸“é—¨å¼€äº†ä¸€ä¸ªç½‘å€æ ç”¨æ¥æ”¾å‹é“¾ï¼Œæ¬¢è¿ä¸€èµ·äº¤æµå­¦ä¹ ~ è¯·æŒ‰ç…§ä¸‹æ–¹æ ·å¼ç•™è¨€ï¼Œæœ¬äººæ£€æŸ¥æ— è¯¯åä¼šåŠ è¿›æ¥å“’ Phantomåšå­¦è€Œç¬ƒå¿—ï¼Œåˆ‡é—®è€Œè¿‘æ€é…·å°å‘µçˆ±åˆ†äº«çš„é…·å°å‘µChenliè®°å½•ç”Ÿæ´»,åˆ†äº«ç”Ÿæ´»","text":"å‹é“¾ ä¸“é—¨å¼€äº†ä¸€ä¸ªç½‘å€æ ç”¨æ¥æ”¾å‹é“¾ï¼Œæ¬¢è¿ä¸€èµ·äº¤æµå­¦ä¹ ~ è¯·æŒ‰ç…§ä¸‹æ–¹æ ·å¼ç•™è¨€ï¼Œæœ¬äººæ£€æŸ¥æ— è¯¯åä¼šåŠ è¿›æ¥å“’ Phantomåšå­¦è€Œç¬ƒå¿—ï¼Œåˆ‡é—®è€Œè¿‘æ€é…·å°å‘µçˆ±åˆ†äº«çš„é…·å°å‘µChenliè®°å½•ç”Ÿæ´»,åˆ†äº«ç”Ÿæ´» äº¤æ¢å‹é“¾è¯·å‚ç…§ä¸‹åˆ—æ ¼å¼å¹¶ç•™è¨€ åå­—|name: Phantomé“¾æ¥åœ°å€|link: https://www.shelven.com/å¤´åƒåœ°å€|avatar: https://www.shelven.com/tuchuang/avatar.jpgé¡µé¢æˆªå›¾|screenshot: https://www.shelven.com/tuchuang/screen.jpgæè¿°|desc: åšå­¦è€Œç¬ƒå¿—ï¼Œåˆ‡é—®è€Œè¿‘æ€"}],"posts":[{"title":"éæ¨¡å¼ç”Ÿç‰©çš„GOå’ŒKEGGå¯Œé›†","slug":"éæ¨¡å¼ç”Ÿç‰©çš„GOå’ŒKEGGå¯Œé›†","date":"2023-12-22T16:08:41.000Z","updated":"2023-12-23T10:59:32.000Z","comments":true,"path":"2023/12/23/a.html","link":"","permalink":"http://www.shelven.com/2023/12/23/a.html","excerpt":"æœ€è¿‘åœ¨åšéæ¨¡å¼ç”Ÿç‰©çš„GOå’ŒKEGGå¯Œé›†åˆ†æï¼Œå‚è€ƒäº†ç½‘ä¸Šçš„ä¸€äº›å¸–å­å’ŒçŸ¥ä¹ä¸“æ ï¼Œå‘ç°ä»£ç æ€»æœ‰ä¸€äº›å°é—®é¢˜ï¼Œäºæ˜¯è‡ªå·±æ‘¸ç´¢ä¿®æ”¹ç»ˆäºè·‘é€šäº†&#x3D; &#x3D;ï¼Œè¿™é‡Œåšä¸ªè®°å½•ã€‚","text":"æœ€è¿‘åœ¨åšéæ¨¡å¼ç”Ÿç‰©çš„GOå’ŒKEGGå¯Œé›†åˆ†æï¼Œå‚è€ƒäº†ç½‘ä¸Šçš„ä¸€äº›å¸–å­å’ŒçŸ¥ä¹ä¸“æ ï¼Œå‘ç°ä»£ç æ€»æœ‰ä¸€äº›å°é—®é¢˜ï¼Œäºæ˜¯è‡ªå·±æ‘¸ç´¢ä¿®æ”¹ç»ˆäºè·‘é€šäº†&#x3D; &#x3D;ï¼Œè¿™é‡Œåšä¸ªè®°å½•ã€‚ æœ¬ç¯‡ç¬”è®°ä»£ç ä¸»è¦å‚è€ƒè‡ªï¼š æ¯”è¾ƒåŸºå› ç»„å­¦åˆ†æ3ï¼šç‰¹å¼‚èŠ‚ç‚¹åŸºå› å®¶æ—å¯Œé›†åˆ†æï¼ˆéæ¨¡å¼ç‰©ç§GO&#x2F;KEEGå¯Œé›†åˆ†æï¼‰ - ç®€ä¹¦ (jianshu.com) å°ä¼—æˆ–éæ¨¡å¼ç”Ÿç‰©çš„è‡ªå»ºåº“GO&#x2F;KEGGå¯Œé›†åˆ†æ - çŸ¥ä¹ (zhihu.com) 1. eggNOGæ³¨é‡Šå› ä¸ºæˆ‘ä»¬è¦åšçš„ç‰©ç§æ˜¯éæ¨¡å¼ç”Ÿç‰©ï¼Œæ‰€æœ‰èƒŒæ™¯åŸºå› éœ€è¦æˆ‘ä»¬äº²è‡ªæ³¨é‡Šï¼Œè¿™é‡Œåªæ¨èeggNOGï¼Œé€Ÿåº¦å¿«ï¼Œå¯ä»¥æœ¬åœ°è¿è¡Œæˆ–è€…åœ¨çº¿è¿è¡Œï¼Œåœ¨çº¿è¿è¡Œæœ‰10ä¸‡æ¡åºåˆ—çš„é™åˆ¶ã€‚åœ¨çº¿ç½‘é¡µçš„ä»‹ç»å¯ä»¥çœ‹æˆ‘çš„è¿™ç¯‡ç¬”è®°ï¼šåŸºå› ç»„æ³¨é‡Šï¼ˆ6ï¼‰â€”â€”åœ¨çº¿ç‰ˆeggNOG-mapperæ³¨é‡ŠåŠŸèƒ½åŸºå›  - æˆ‘çš„å°ç ´ç«™ (shelven.com) å‡è®¾æˆ‘ä»¬å·²ç»æ‹¿è›‹ç™½åºåˆ—åšäº†æ³¨é‡Šï¼Œåœ¨ä¸€å¤§å †ç»“æœæ–‡ä»¶ä¸­æˆ‘ä»¬åªéœ€è¦out.emapper.annotationã€‚ç”¨notepad++æ‰“å¼€ï¼Œå»æ‰å¸¦â€œ#â€ç¬¦å·çš„å‰ä¸‰è¡Œï¼ŒæŠŠè¡¨å¤´çš„queryå‰é¢çš„â€œ#â€æ³¨é‡Šä¹Ÿç»™å»æ‰ï¼Œè¿™äº›å¤„ç†åšå¥½åæ–‡ä»¶å¦‚ä¸‹ï¼š åç»­éƒ½æ˜¯ä»è¿™ä¸ªæ–‡ä»¶ä¸­æ‰¾åˆ°åŸºå› åä¸GOå’ŒKEGGå·ä¹‹é—´çš„å¯¹æ˜ å…³ç³»ã€‚ å‡è®¾æˆ‘ä»¬ä»åŸºå› å®¶æ—æ”¶ç¼©&#x2F;æ‰©å¼ åˆ†æã€è½¬å½•ç»„ç­‰ç­‰æ•°æ®å·²ç»æ‹¿åˆ°äº†æˆ‘ä»¬æƒ³è¦çš„åºåˆ—ï¼Œåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œä¸€è¡Œä¸€ä¸ªåŸºå› åæ”¾å…¥æˆ‘ä»¬è¦åˆ†æçš„åºåˆ—ï¼Œæ–‡ä»¶å‘½åä¸ºgene.txtå¦‚ä¸‹æ‰€ç¤ºï¼š 2. GOå¯Œé›†é¦–å…ˆè¿›è¡ŒGOæ³¨é‡Šåº“çš„æ„å»ºï¼š 1234567# ä¸‹è½½æœ€æ–°çš„GOåº“æ³¨é‡Šwget http://purl.obolibrary.org/obo/go/go-basic.obo# å¤„ç†æ³¨é‡Šæ–‡ä»¶ï¼Œä¸»è¦æ˜¯å¸®æˆ‘ä»¬æ‰¾å¯¹åº”å…³ç³»grep &quot;^id:&quot; go-basic.obo |awk &#x27;&#123;print $2&#125;&#x27; &gt; GO.idgrep &quot;^name:&quot; go-basic.obo | awk -F &#x27;: &#x27; &#x27;&#123;print $2&#125;&#x27; &gt; GO.namegrep &quot;^namespace:&quot; go-basic.obo |awk &#x27;&#123;print $2&#125;&#x27; &gt; GO.classpaste GO.id GO.name GO.class -d &quot;\\t&quot; &gt; GO.library æ„å»ºçš„GOæ³¨é‡Šåº“å¦‚ä¸‹ï¼š ç¬¬ä¸€åˆ—æ˜¯GOå·ï¼Œç¬¬äºŒåˆ—æ˜¯æè¿°ï¼ˆæ³¨æ„è¦å®Œæ•´çš„æè¿°ï¼Œè€Œéä¸€ä¸ªå•è¯ï¼Œå¦åˆ™åç»­å› ä¸ºæè¿°é‡å¤è€Œæ— æ³•å¯Œé›†ï¼ï¼‰ï¼Œç¬¬ä¸‰åˆ—æ˜¯GOåˆ†ç±»ã€‚ 12345678910111213141516171819202122232425262728293031323334library(clusterProfiler)library(dplyr)library(stringr)setwd(&quot;D:\\\\zhuomian\\\\åŸºå› å®¶æ—è¿›åŒ–\\\\GO&quot;) # è®¾ç½®è‡ªå·±çš„å·¥ä½œç›®å½•## GOæ³¨é‡Šç”Ÿæˆoptions(stringsAsFactors = F)egg &lt;- read.delim(&quot;out.emapper.annotations&quot;,header = T,sep=&quot;\\t&quot;)egg[egg==&quot;&quot;]&lt;-NAgterms &lt;- egg %&gt;% dplyr::select(query, GOs) %&gt;% na.omit()gene_ids &lt;- egg$queryeggnog_lines_with_go &lt;- egg$GOs!= &quot;&quot;eggnog_annoations_go &lt;- str_split(egg[eggnog_lines_with_go,]$GOs, &quot;,&quot;)gene2go &lt;- data.frame(gene = rep(gene_ids[eggnog_lines_with_go], # ä¸€ä¸ªåŸºå› å¯èƒ½æœ‰å¤šä¸ªGOtermï¼Œéœ€è¦æ‹†åˆ†æˆ1ï¼š1å¯¹åº”å…³ç³» times = sapply(eggnog_annoations_go, length)), term = unlist(eggnog_annoations_go))go2name &lt;- read.delim(&#x27;GO.library&#x27;, header = FALSE, stringsAsFactors = FALSE)names(go2name) &lt;- c(&#x27;ID&#x27;, &#x27;Description&#x27;, &#x27;Ontology&#x27;)# GOå¯Œé›†gene_select &lt;- read.delim(file = &#x27;gene.txt&#x27;, stringsAsFactors = FALSE,header = F)$V1go_rich &lt;- enricher(gene = gene_select, TERM2GENE = gene2go[c(&#x27;term&#x27;,&#x27;gene&#x27;)], # è¿™ä¸¤é¡¹éƒ½è¦æ³¨æ„é¡ºåº TERM2NAME = go2name[c(&#x27;ID&#x27;, &#x27;Description&#x27;)], pvalueCutoff = 1, pAdjustMethod = &#x27;BH&#x27;, qvalueCutoff = 1)tmp &lt;- merge(go_rich, go2name[c(&#x27;ID&#x27;, &#x27;Ontology&#x27;)], by = &#x27;ID&#x27;)tmp &lt;- tmp[c(10, 1:9)]tmp &lt;- tmp[order(tmp$pvalue), ]write.table(tmp, &#x27;GO_enrichment.xls&#x27;, sep = &#x27;\\t&#x27;, row.names = FALSE, quote = FALSE) çœ‹ä¸€ä¸‹ç”Ÿæˆçš„GO_enrichment.xlsæ–‡ä»¶å¦‚ä¸‹ï¼š æˆ‘ä»¬ä¸€èˆ¬æ‹¿åˆ°è¿™ä¸ªæ–‡ä»¶åï¼Œæ ¹æ®qvalueå€¼ä»å°åˆ°å¤§ç­›é€‰å¯ä¿¡åº¦æœ€é«˜çš„å¯Œé›†ç»“æœï¼Œå†æ‰‹åŠ¨å»æ‰ä¸åˆç†çš„ï¼ˆæ¯”å¦‚ä½ åšæ¤ç‰©ï¼Œå´æ³¨é‡Šåˆ°åŠ¨ç‰©å’Œå¾®ç”Ÿç‰©çš„ï¼‰ã€‚ åšåˆ°è¿™ä¸€æ­¥ç”ŸæˆGOå¯Œé›†æ–‡ä»¶å°±å¯ä»¥äº†ï¼ˆå†åšå°±ä¸ç¤¼è²Œäº†ï¼‰ï¼ŒGOå¯Œé›†ç»“æœå¯ä»¥åœ¨Råšå¯è§†åŒ–ï¼Œä½†æ˜¯æˆ‘è§‰å¾—æ²¡å¿…è¦ï¼ŒçœŸçš„ï¼Œè°ƒå‚æ•°çœŸçš„å¤ªéš¾å—äº†ï¼Œè€Œä¸”æ¯ä¸ªäººä½œå›¾çš„è¦æ±‚éƒ½ä¸ä¸€æ ·ã€‚æˆ‘ä¸ªäººæ¯”è¾ƒå»ºè®®åœ¨ä¸€äº›åœ¨çº¿ç½‘ç«™ä¸Šæ‰‹åŠ¨ç”»ï¼Œæ¯”å¦‚è¿™ä¸ªç½‘ç«™ï¼šChiPlot ç½‘ç«™çš„å¼€å‘è€…åœ¨Bç«™ä¼ è¿‡å¯è§†åŒ–å¯Œé›†ç»“æœçš„æ•™å­¦è§†é¢‘ï¼šã€ChiPlotã€‘ç»˜åˆ¶KEGG&#x2F;GOå¯Œé›†å›¾_å“”å“©å“”å“©_bilibili çœæµä¸çœ‹ç‰ˆæ ¹æ®å¯Œé›†ç»“æœï¼Œç­›é€‰molecular functionã€biological processå’Œcellular componentä¸‰ä¸ªç±»åˆ«ä¸­qvalueå€¼å‰5çš„GO termï¼Œè®¡ç®—ç¬¬å››åˆ—çš„GeneRatioå€¼ã€‚ åˆ›å»ºä¸€ä¸ªæ–°çš„excelè¡¨ï¼Œéœ€è¦5åˆ—å†…å®¹ï¼Œå¦‚ä¸‹ï¼š typeé‚£ä¸€åˆ—ä¸éœ€è¦ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿å±•ç¤ºï¼Œidè¿™ä¸€åˆ—çš„åˆ—åå¯ä»¥éšæ„ï¼ŒDescriptionã€Qvalueã€Countã€GeneRatioå››åˆ—åˆ—åå¿…é¡»è¦ä¸€æ ·ï¼Œé¡ºåºæ— æ‰€è°“ã€‚ å†åšä¸€ä¸ªå±•ç¤ºå›¾å±‚çš„excelï¼Œä½œç”¨æ˜¯åŒºåˆ†GO termå±äºå“ªä¸ªç±»å‹ï¼š ä¼ åˆ°ä¸Šé¢ç½‘ç«™çš„KEGG&#x2F;GOå¯Œé›†ä½œå›¾çš„æ¨¡å—ï¼Œæ‰‹åŠ¨è°ƒæ•´å‚æ•°ï¼ˆè‡ªå·±å¤šè¯•ä¸€ä¸‹ï¼‰å†åŠ ç‚¹AIä½œå›¾ï¼Œåæ­£æ¯”æˆ‘Råšçš„å¥½ä¸€äº›ï¼š 3. KEGGå¯Œé›†æ€è·¯å’ŒGOæ³¨é‡Šæ˜¯ç±»ä¼¼çš„ï¼Œç›¸æ¯”GOï¼ŒKEGGå¯é€‰æ‹©çš„ç‰©ç§ä¼šå¤šä¸€äº›ï¼Œæˆ‘ä»¬è¿™é‡Œä»ç„¶å½“ä½œæ˜¯éæ¨¡å¼ç”Ÿç‰©ï¼Œä»¥ç¬¬ä¸€æ­¥eggNOGæ³¨é‡Šçš„åŸºå› é›†ä¸ºèƒŒæ™¯åŸºå› é›†ã€‚ æ„å»ºKEGGæ³¨é‡Šåº“ï¼š 12345678910111213141516171819202122232425262728293031# ä¸‹è½½KEGGæ³¨é‡Šåº“ https://www.genome.jp/kegg-bin/get_htext?ko00001ï¼Œç‚¹å‡» Download jsonï¼Œä¸‹è½½å¾—åˆ°ko00001.jsonæ–‡ä»¶library(clusterProfiler)library(dplyr)library(stringr)library(jsonlite)setwd(&quot;D:\\\\zhuomian\\\\åŸºå› å®¶æ—è¿›åŒ–\\\\KEGG&quot;)pathway2name &lt;- tibble(Pathway = character(), Name = character())ko2pathway &lt;- tibble(Ko = character(), Pathway = character())kegg &lt;- fromJSON(&quot;ko00001.json&quot;)for (a in seq_along(kegg[[&quot;children&quot;]][[&quot;children&quot;]])) &#123; A &lt;- kegg[[&quot;children&quot;]][[&quot;name&quot;]][[a]] for (b in seq_along(kegg[[&quot;children&quot;]][[&quot;children&quot;]][[a]][[&quot;children&quot;]])) &#123; B &lt;- kegg[[&quot;children&quot;]][[&quot;children&quot;]][[a]][[&quot;name&quot;]][[b]] for (c in seq_along(kegg[[&quot;children&quot;]][[&quot;children&quot;]][[a]][[&quot;children&quot;]][[b]][[&quot;children&quot;]])) &#123; pathway_info &lt;- kegg[[&quot;children&quot;]][[&quot;children&quot;]][[a]][[&quot;children&quot;]][[b]][[&quot;name&quot;]][[c]] pathway_id &lt;- str_match(pathway_info, &quot;ko[0-9]&#123;5&#125;&quot;)[1] pathway_name &lt;- str_replace(pathway_info, &quot; \\\\[PATH:ko[0-9]&#123;5&#125;\\\\]&quot;, &quot;&quot;) %&gt;% str_replace(&quot;[0-9]&#123;5&#125; &quot;, &quot;&quot;) pathway2name &lt;- rbind(pathway2name, tibble(Pathway = pathway_id, Name = pathway_name)) kos_info &lt;- kegg[[&quot;children&quot;]][[&quot;children&quot;]][[a]][[&quot;children&quot;]][[b]][[&quot;children&quot;]][[c]][[&quot;name&quot;]] kos &lt;- str_match(kos_info, &quot;K[0-9]*&quot;)[,1] ko2pathway &lt;- rbind(ko2pathway, tibble(Ko = kos, Pathway = rep(pathway_id, length(kos)))) &#125; &#125;&#125;colnames(ko2pathway) &lt;- c(&quot;KO&quot;,&quot;Pathway&quot;)write.table(pathway2name,&quot;KEGG.library&quot;,sep=&quot;\\t&quot;,row.names = F) æ„å»ºçš„KEGGæ³¨é‡Šåº“å¦‚ä¸‹ï¼š ç¬¬ä¸€åˆ—æ˜¯koå·ï¼Œç¬¬äºŒåˆ—æ˜¯koå·å¯¹åº”çš„ä»£è°¢é€šè·¯æè¿°ï¼ŒåŒæ ·çš„ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸ªåŸºå› å¯èƒ½å¯¹åº”å¤šä¸ªkoå·ï¼Œåœ¨å¯¹æ˜ å…³ç³»ä¸Šéœ€è¦åšä¸€äº›å¤„ç†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869## KEGGæ³¨é‡Šç”Ÿæˆoptions(stringsAsFactors = F)egg &lt;- read.delim(&quot;out.emapper.annotations&quot;,header = T,sep=&quot;\\t&quot;)egg[egg==&quot;&quot;]&lt;-NAgene2ko &lt;- egg %&gt;% dplyr::select(GID = query, KO = KEGG_ko) %&gt;% na.omit()pathway2name &lt;- read.delim(&quot;KEGG.library&quot;)colnames(pathway2name)&lt;-c(&quot;Pathway&quot;,&quot;Name&quot;)ko2gene &lt;- tibble(Ko=character(),GID=character())for (Query in gene2ko$GID)&#123; ko_list &lt;- strsplit(gene2ko$KO[which(gene2ko[,1]==Query)],split = &#x27;,&#x27;) for (ko in ko_list)&#123; if (length(which(ko2gene[,1]==ko))==0)&#123; tmp &lt;- data.frame(Ko=ko,GID=Query) ko2gene &lt;- rbind(ko2gene,tmp) &#125; else&#123; old_Query &lt;- ko2gene$GID[which(ko2gene[,1]==ko)] ko2gene$GID[which(ko2gene[,1]==ko)] &lt;- paste(old_Query,Query,sep = &#x27;,&#x27;) &#125; &#125;&#125;pathway2gene &lt;- tibble(Pathway = character(), GID = character())for (ko in ko2pathway$KO)&#123; pathway_list &lt;- ko2pathway$Pathway[which(ko2pathway[,1]==ko)] for (pathway in pathway_list)&#123; if (paste(&#x27;ko:&#x27;,ko,sep=&#x27;&#x27;) %in% ko2gene$Ko)&#123; ko &lt;- paste(&#x27;ko:&#x27;,ko,sep=&#x27;&#x27;) if (length(which(pathway2gene[,1]==pathway))==0 )&#123; ko2gene$GID[which(ko2gene[,1]==ko)] tmp &lt;- data.frame(pathway=pathway,GID=ko2gene$GID[which(ko2gene[,1]==ko)]) pathway2gene &lt;- rbind(pathway2gene,tmp) &#125; else&#123; old_Query &lt;- pathway2gene$GID[which(pathway2gene[,1]==pathway)] Query &lt;- ko2gene$GID[which(ko2gene[,1]==ko)] pathway2gene$GID[which(pathway2gene[,1]==pathway)] &lt;- paste(old_Query,Query,sep=&#x27;,&#x27;) &#125; &#125; &#125;&#125; new_pathway2gene &lt;- data.frame() # éå†pathway2geneæ¯ä¸€è¡Œï¼Œæ‹†åˆ†genefor (i in 1:nrow(pathway2gene)) &#123; pathway &lt;- pathway2gene$pathway[i] genes &lt;- strsplit(as.character(pathway2gene$GID[i]), &quot;,&quot;)[[1]] for (gene in genes) &#123; new_row &lt;- data.frame(pathway = pathway, gene = gene) new_pathway2gene &lt;- rbind(new_pathway2gene, new_row) &#125;&#125;#KEGGå¯Œé›†gene_select &lt;- read.delim (&#x27;gene.txt&#x27;, stringsAsFactors = FALSE,header = F)$V1kegg_rich &lt;- enricher (gene = gene_select, TERM2GENE = new_pathway2gene[c (&#x27;pathway&#x27;,&#x27;gene&#x27;)], TERM2NAME = pathway2name[c (&#x27;Pathway&#x27;,&#x27;Name&#x27;)], pvalueCutoff = 1, pAdjustMethod = &#x27;BH&#x27;, qvalueCutoff = 1, maxGSSize = 500)write.table (kegg_rich, &#x27;KEGG_enrichment.xls&#x27;, sep = &#x27;\\t&#x27;, row.names = FALSE, quote = FALSE) æœ€ç»ˆå¾—åˆ°çš„KEGGå¯Œé›†ç»“æœKEGG_enrichment.xlså¦‚ä¸‹ï¼š åŒæ ·æ˜¯æ ¹æ®qvalueç­›é€‰ï¼Œå‰”é™¤ä¸åˆç†çš„å¯Œé›†é€šè·¯ï¼ˆæ¯”å¦‚ä½ åšçš„æ¤ç‰©ï¼Œå¯Œé›†åˆ°åŠ¨ç‰©ã€å¾®ç”Ÿç‰©ç­‰ä»£è°¢é€šè·¯ï¼‰ï¼Œä½œå›¾æ˜¯å’ŒGOå¯Œé›†ä½œå›¾ä¸€æ¨¡ä¸€æ ·çš„ï¼Œè¿™é‡Œä¸èµ˜è¿°äº†ã€‚ å‰”é™¤ä¸åˆç†çš„ä»£è°¢é€šè·¯é¡ºä¾¿è¯´ä¸€ä¸‹ï¼ŒKEGGç»“æœä¸­ä¼šæœ‰ä¸å°‘ä¸åˆç†çš„åœ°æ–¹ï¼Œæ¯”å¦‚æˆ‘æ³¨é‡Šçš„æ¤ç‰©åŸºå› ä»£è°¢é€šè·¯ï¼Œä¼šæœ‰æŒºå¤šæ³¨é‡Šåˆ°éæ¤ç‰©ç›¸å…³çš„KEGGé€šè·¯â€¦â€¦ å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥ä¸€ä¸ªä¸ªåœ¨KEGGå®˜ç½‘æŸ¥è¯¢å¯Œé›†çš„é€šè·¯ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥åœ¨Rä¸­æŠŠKEGGçš„æ‰€æœ‰æ¤ç‰©ä»£è°¢é€šè·¯æ•´ç†å‡ºæ¥ã€‚è¿™é‡Œéœ€è¦ç”¨åˆ°ä¸€ä¸ªRåŒ…KEGGRESTå¿«é€Ÿè·å–KEGGæ•°æ®åº“ä¿¡æ¯ï¼Œéœ€è¦æ³¨æ„ï¼Œé€šè¿‡BiocManagerä¸‹è½½çš„KEGGRESTåŒ…å·²ç»ä¸èƒ½æ­£å¸¸ä½¿ç”¨äº†ï¼ˆ2022å¹´6æœˆ1æ—¥è°ƒç”¨APIåœ°å€å‘ç”Ÿäº†å˜åŒ–ï¼‰ï¼Œéœ€è¦åœ¨githubä¸Šä¸‹è½½æœ€æ–°ç‰ˆï¼š 12345# å›½å†…æˆ–è®¸ä¼šå‡ºç°ç½‘ç»œé—®é¢˜ï¼Œéœ€è¦ä¸€ç‚¹é­”æ³•ï¼ˆæ‘Šæ‰‹ï¼‰## ä¸è¦æ‰¾åˆ«äººå¤‡ä»½çš„åº“ï¼Œå¯èƒ½ä¹Ÿä¼šæœ‰é—®é¢˜ï¼Œè®¤å‡†å®˜æ–¹Bioconductorlibrary(devtools)devtools::install_github(&quot;https://github.com/Bioconductor/KEGGREST&quot;)library(KEGGREST) å‚è€ƒä»£ç ï¼šç©è½¬KEGG (äºŒ)â€”â€”æ¤ç‰©å¯Œé›†åˆ°äº†åŠ¨ç‰©é€šè·¯ï¼Ÿéš¾ä¸æˆå’±ç ”ç©¶çš„æ¤ç‰©äººå„¿ğŸ˜‚ - çŸ¥ä¹ (zhihu.com) å…·ä½“æ€è·¯æ˜¯ç”¨KEGGRESTåŒ…æŠ“å–æ¤ç‰©ç‰©ç§ä¿¡æ¯ï¼Œè·å–æ¯ä¸ªKEGGåº“ä¸­æ¤ç‰©çš„ä»£è°¢é€šè·¯ï¼Œå–å¹¶é›†ï¼š 123456789101112131415org &lt;- data.frame(keggList(&quot;organism&quot;))plants &lt;- org[grep(&quot;Plants&quot;, org$phylogeny), ]# é€‰å–æ¤ç‰©çš„ç‰©ç§ä¿¡æ¯pathways_tot &lt;- vector()for (i in 1:length(plants$organism)) &#123; try(&#123; pathways &lt;- keggLink(&quot;pathway&quot;, plants[i,2]) pathways &lt;- sub(paste(&quot;.*&quot;,plants[i,2], sep = &quot;&quot;), &quot;&quot;, pathways) pathways &lt;- unique(pathways) pathways_tot &lt;- append(pathways_tot,pathways) pathways_tot &lt;- unique(pathways_tot) &#125;)&#125;pathways_tot &lt;- paste0(&quot;ko&quot;, pathways_tot)writeLines(pathways_tot, &quot;plants.kegg.txt&quot;) æ¯ä¸€ä¸ªç‰©ç§éƒ½è¦æŠ“å–koå·ï¼Œæ‰€ä»¥æ—¶é—´ä¼šæœ‰ç‚¹æ…¢ï¼Œå¤§æ¦‚10åˆ†é’Ÿå·¦å³ã€‚ å¯ä»¥çœ‹åˆ°ç°åœ¨KEGGä¸­ä¸€å…±æœ‰152ä¸ªæ¤ç‰©ï¼Œå–ä»£è°¢é€šè·¯çš„å¹¶é›†åï¼Œæ¯è¡Œè¾“å‡ºç»“æœã€‚ æœ€åç”¨æˆ‘ç†Ÿæ‚‰çš„pythonç®€å•å¤„ç†è¿‡æ»¤ä¸€ä¸‹ï¼š 1234567891011with open(&#x27;plants.kegg.txt&#x27;, &#x27;r&#x27;) as file: ko_plant = file.read().splitlines()with open(&#x27;KEGG_enrichment.xls&#x27;,&#x27;r&#x27;) as input, open(&#x27;KEGG_enrichment.filter.xls&#x27;,&#x27;w&#x27;) as output: for line in input: if line.startswith(&#x27;ko&#x27;): id = line.split(&#x27;\\t&#x27;)[0] if id in ko_plant: output.write(line) else: output.write(line) è´¹è¿™ä¹ˆè€å¤§åŠ²åŠŸå¤«ä¸å¦‚ä¸ŠKEGGå®˜ç½‘æŠŠå‰å‡ ä¸ªä»£è°¢é€šè·¯æœä¸€ä¸‹â€¦..ï¼ˆæƒ³ç»™è‡ªå·±ä¸€å˜´å·´å­ï¼‰ KEGG PATHWAY: ko03250 (genome.jp) æŠŠç½‘å€ä¸Šçš„koæ”¹ä¸€æ”¹ï¼Œçœ‹ä¸€ä¸‹descriptionå°±è¡Œâ€¦ä¸è¿‡æœ‰çš„æè¿°ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œè¿™æ ·è¿‡æ»¤ä¸€éå‡†ç¡®æ€§è‚¯å®šæ˜¯æé«˜çš„ã€‚ æœ€åæŠŠKEGGå¯Œé›†ç»“æœæ‹¿åˆ°Chiplotä¸Šåšå›¾å³å¯ï¼š","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"GO","slug":"GO","permalink":"http://www.shelven.com/tags/GO/"},{"name":"KEGG","slug":"KEGG","permalink":"http://www.shelven.com/tags/KEGG/"}]},{"title":"åŸºå› å®¶æ—æ”¶ç¼©æ‰©å¼ åˆ†æ","slug":"åŸºå› å®¶æ—æ”¶ç¼©æ‰©å¼ åˆ†æ","date":"2023-12-01T09:34:24.000Z","updated":"2023-12-18T03:43:27.000Z","comments":true,"path":"2023/12/01/a.html","link":"","permalink":"http://www.shelven.com/2023/12/01/a.html","excerpt":"æœ€è¿‘ç”¨è‡ªå·±ç»„è£…çš„æ¤ç‰©åŸºå› ç»„åœ¨åšåŸºå› å®¶æ—åˆ†æï¼Œç®€å•è®°å½•ä¸‹è‡ªå·±å¯¹æ•°æ®çš„å¤„ç†ä»¥åŠåˆ†æçš„æµç¨‹ã€‚ éšç€ç°åœ¨æµ‹åºæŠ€æœ¯çš„æ™®åŠï¼Œè¶Šæ¥è¶Šå¤šçš„æ¤ç‰©åšäº†å…¨åŸºå› ç»„æµ‹åºï¼Œå¯¹äºåŸºå› ç»„æ¯”è¾ƒå°çš„æ¤ç‰©ï¼Œç°åœ¨çº¯åšåŸºå› ç»„ç»„è£…å’Œæ³¨é‡Šå·²ç»å¾ˆéš¾å‘æ–‡ç« äº†ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è¿˜è¦å†æå‡ºå’Œè§£å†³ä¸€äº›ç”Ÿç‰©å­¦é—®é¢˜ï¼Œæœ€åŸºç¡€çš„å°±æ˜¯é€šè¿‡æ¯”è¾ƒåŸºå› ç»„å­¦ï¼Œå¯¹ç³»ç»Ÿå‘è‚²ä¸­çš„ä»£è¡¨æ€§ç‰©ç§ä¹‹é—´çš„åŸºå› å®¶æ—è¿›è¡Œæ¯”è¾ƒåˆ†æã€æ„å»ºç³»ç»Ÿå‘è‚²å›¾è°±ï¼Œæ¥æ­ç¤ºè¿™äº›åŸºå› å®¶æ—çš„èµ·æºå’ŒåŠŸèƒ½ã€‚","text":"æœ€è¿‘ç”¨è‡ªå·±ç»„è£…çš„æ¤ç‰©åŸºå› ç»„åœ¨åšåŸºå› å®¶æ—åˆ†æï¼Œç®€å•è®°å½•ä¸‹è‡ªå·±å¯¹æ•°æ®çš„å¤„ç†ä»¥åŠåˆ†æçš„æµç¨‹ã€‚ éšç€ç°åœ¨æµ‹åºæŠ€æœ¯çš„æ™®åŠï¼Œè¶Šæ¥è¶Šå¤šçš„æ¤ç‰©åšäº†å…¨åŸºå› ç»„æµ‹åºï¼Œå¯¹äºåŸºå› ç»„æ¯”è¾ƒå°çš„æ¤ç‰©ï¼Œç°åœ¨çº¯åšåŸºå› ç»„ç»„è£…å’Œæ³¨é‡Šå·²ç»å¾ˆéš¾å‘æ–‡ç« äº†ï¼Œä¸€èˆ¬æ¥è¯´æˆ‘ä»¬è¿˜è¦å†æå‡ºå’Œè§£å†³ä¸€äº›ç”Ÿç‰©å­¦é—®é¢˜ï¼Œæœ€åŸºç¡€çš„å°±æ˜¯é€šè¿‡æ¯”è¾ƒåŸºå› ç»„å­¦ï¼Œå¯¹ç³»ç»Ÿå‘è‚²ä¸­çš„ä»£è¡¨æ€§ç‰©ç§ä¹‹é—´çš„åŸºå› å®¶æ—è¿›è¡Œæ¯”è¾ƒåˆ†æã€æ„å»ºç³»ç»Ÿå‘è‚²å›¾è°±ï¼Œæ¥æ­ç¤ºè¿™äº›åŸºå› å®¶æ—çš„èµ·æºå’ŒåŠŸèƒ½ã€‚ è¿™ç¯‡ç¬”è®°çš„æµç¨‹ä¸»è¦æ˜¯è®°å½•ä¸‹ä½¿ç”¨OrthoFinder + r8s + cafeè¿›è¡ŒåŸºå› å®¶æ—èšç±»ã€æ„å»ºç³»ç»Ÿå‘ç”Ÿæ ‘ã€ä¼°ç®—åˆ†æ­§æ—¶é—´å’ŒåŸºå› å®¶æ—çš„æ”¶ç¼©æ‰©å¼ åˆ†æã€‚ æ•°æ®å‡†å¤‡æœ€é‡è¦çš„å°±æ˜¯è¦æ‹¿åˆ°ä½ æƒ³è¦åˆ†æç‰©ç§çš„åŸºå› ç»„æ•°canXæ®ï¼ŒåšåŸºå› å®¶æ—åˆ†æçš„è¯è›‹ç™½è´¨åºåˆ—æ–‡ä»¶ã€CDSåºåˆ—æ–‡ä»¶è¿™ä¸¤ä¸ªæ˜¯å¿…éœ€çš„ã€‚å¦‚æœè¦åšå…±çº¿æ€§åˆ†æï¼ˆå¦‚MCScanâ€™Xï¼‰ï¼Œè¿˜è¦æœ‰gffæ–‡ä»¶ï¼Œä»¥åŠå¯¹ç»„è£…çš„åŸºå› ç»„æœ‰è¦æ±‚ï¼Œä¸€å®šæ˜¯è¦ç»„è£…åˆ°æŸ“è‰²ä½“çº§åˆ«ï¼ˆåªæœ‰contigsçš„å…±çº¿æ€§åˆ†ææ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼‰ã€‚ é€‰æ‹©ç‰©ç§æ¤ç‰©åŸºå› ç»„æ•°æ®å¯ä»¥é€šè¿‡NCBIçš„genebankæ•°æ®åº“ã€Ensembleæ•°æ®åº“æˆ–è€…Phytozomeæ•°æ®åº“è·å¾—ï¼Œé€‰æ‹©çš„ç‰©ç§è¦å’Œè‡ªå·±ç ”ç©¶çš„ç‰©ç§äº²ç¼˜å…³ç³»ä¸èƒ½å¤ªè¿œï¼Œè€Œä¸”è¦åœ¨è¿›åŒ–ä¸Šæœ‰å±‚çº§ç»“æ„ï¼ŒæŸ“è‰²ä½“å€æ€§æœ€å¥½ä¸€æ ·ï¼Œæ€§çŠ¶è¦èƒ½å¤Ÿè¯´æ˜ä¸€å®šçš„ç”Ÿç‰©å­¦é—®é¢˜ã€‚è¿˜è¦é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å¤–ç¾¤ï¼Œåšè¿›åŒ–æ ‘çš„æ—¶å€™è¦é€šè¿‡å¤–ç¾¤ç¡®å®šæ ‘æ ¹ã€‚ æˆ‘ä»¬å¯ä»¥å°†å·²å‘è¡¨çš„è¿‘ç¼˜ç‰©ç§åŸºå› ç»„æ–‡ç« ä¸­è¿›åŒ–æ ‘ä½œä¸ºå‚è€ƒé€‰æ‹©éœ€è¦çš„ç‰©ç§ï¼Œæˆ–è€…ç»“åˆç½‘ç«™Published Plant Genomes (plabipd.de)é€‰æ‹©åˆé€‚çš„ç‰©ç§ã€‚ä¸Šé¢çš„ç½‘ç«™è‡³ä»Šä»ç„¶åœ¨æ›´æ–°ï¼Œä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„æ‰¾åˆ°å·²å‘è¡¨çš„æ¤ç‰©åŸºå› ç»„æ–‡ç« ï¼Œå¾—åˆ°è¿™äº›å·²æµ‹åºçš„æ¤ç‰©åœ¨è¿›åŒ–å…³ç³»ä¸­çš„ä½ç½®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š æˆ‘æ˜¯ä¸€è¾¹å‚è€ƒè¿™ä¸ªç½‘ç«™ï¼Œä¸€è¾¹æ‰“å¼€genebankæ•°æ®åº“æ‰¾åˆ°éœ€è¦çš„æ¤ç‰©åŸºå› ç»„ï¼Œä¸‹è½½è›‹ç™½åºåˆ—æ–‡ä»¶å’ŒCDSæ–‡ä»¶ï¼ˆgenbankæœ‰äº›æ¤ç‰©åŸºå› ç»„ä¸­æ²¡æœ‰ç›¸åº”çš„æ•°æ®ï¼Œéœ€è¦ä»gbffæ–‡ä»¶ä¸­æå–ï¼‰ã€‚å¯ä»¥æ ¹æ®ç½‘ç«™ä¸Šæ˜¾ç¤ºçš„è¿›åŒ–å…³ç³»ï¼Œæå‰å†™ä¸€ä¸ªæ€ç»´å¯¼å›¾é¢„è®¡åšå‡ºæ¥ç‰©ç§æ ‘é•¿ä»€ä¹ˆæ ·å­ï¼ˆå¯ä»¥å’Œåç»­åšå‡ºæ¥çš„è¿›åŒ–æ ‘å¯¹æ¯”ï¼‰ã€‚ æ•°æ®é¢„å¤„ç†é¢„å¤„ç†ä¸»è¦åšæå–æœ€é•¿è½¬å½•æœ¬ï¼Œä»¥ä¿è¯åŸºå› å®¶æ—èšç±»çš„å‡†ç¡®æ€§å’Œæé«˜è®¡ç®—æ•ˆç‡ã€‚åœ¨genebankä¸­ä¸‹è½½çš„å‡ ä¸ªç‰©ç§è›‹ç™½è´¨åºåˆ—éƒ½æ˜¯å»å†—ä½™çš„ï¼Œä½†æ˜¯æˆ‘è‡ªå·±ç»„è£…çš„ç‰©ç§æ²¡æœ‰å»å†—ä½™ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„è„šæœ¬å°†isoformè›‹ç™½åºåˆ—è¿‡æ»¤ï¼Œåªä¿ç•™æœ€é•¿è½¬å½•æœ¬ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061# è›‹ç™½åºåˆ—æå–æœ€é•¿è½¬å½•æœ¬ï¼ˆå¼€å¤´æœ‰ç©ºè¡Œä¼šæŠ¥é”™ï¼éœ€è¦æ£€æŸ¥è¾“å…¥æ–‡ä»¶ï¼‰## removeRedundantProteins.pyimport sysimport getoptdef usage(): print(&#x27;ç”¨æ³•ï¼špython3 removeRedundantProteins.py -i &lt;è¾“å…¥fastaæ–‡ä»¶&gt; -o &lt;è¾“å‡ºfastaæ–‡ä»¶&gt; &lt;-h&gt;&#x27;) returndef removeRedundant(in_file, out_file): gene_dic = &#123;&#125; # å­˜å‚¨åŸºå› çš„å­—å…¸ flag = &#x27;&#x27; # æ ‡è®°å½“å‰å¤„ç†çš„åŸºå›  with open(in_file, &#x27;r&#x27;) as in_fasta: for line in in_fasta: if &#x27;&gt;&#x27; in line: # å–åŸºå› åçš„åˆ¤æ–­è¡Œï¼Œæ ¹æ®éœ€è¦è‡ªå·±æ”¹ li = line.strip(&#x27;&gt;\\n&#x27;).split(&#x27;.&#x27;)[0] flag = li try: gene_dic[li] except KeyError: gene_dic[li] = [line] else: gene_dic[li].append(line) else: gene_dic[flag][-1] += line # å°†å½“å‰è¡Œçš„åŸºå› åºåˆ—è¿½åŠ åˆ°æœ€åä¸€ä¸ªåŸºå› æ ‡è¯†è¡Œä¸­ with open(out_file, &#x27;w&#x27;) as out_fasta: for key, value in gene_dic.items(): if len(value) == 1: # å¦‚æœåªæœ‰ä¸€ä¸ªåŸºå› åºåˆ—ï¼Œç›´æ¥å†™å…¥ç»“æœ out_fasta.write(gene_dic[key][0]) else: trans_max = &#x27;&#x27; # å­˜å‚¨æœ€é•¿çš„åŸºå› åºåˆ— for trans in gene_dic[key]: if len(trans) &gt; len(trans_max): # å¦‚æœå½“å‰åŸºå› åºåˆ—æ›´é•¿ï¼Œåˆ™æ›´æ–°æœ€é•¿åŸºå› åºåˆ— trans_max = trans out_fasta.write(trans_max) # å°†æœ€é•¿çš„åŸºå› åºåˆ—å†™å…¥è¾“å‡ºæ–‡ä»¶def main(argv): try: opts, args = getopt.getopt(argv, &#x27;hi:o:&#x27;) # hä¸éœ€è¦å‚æ•°ï¼Œiå’Œoåé¢å„å¸¦ä¸€ä¸ªå‚æ•°ï¼Œargså‚¨å­˜é¢å¤–çš„å‚æ•°ï¼Œæ­£å¸¸æƒ…å†µä¸‹ä¸ºç©ºåˆ—è¡¨ï¼Œä¸ç”¨å¤„ç† except getopt.GetoptError: # æ²¡æœ‰æ‰¾åˆ°å‚æ•°åˆ—è¡¨ï¼Œæˆ–é€‰é¡¹çš„éœ€è¦çš„å‚æ•°ä¸ºç©ºæ—¶æŠ¥é”™ usage() sys.exit() for opt, arg in opts: if opt == &#x27;-h&#x27;: usage() sys.exit() elif opt == &#x27;-i&#x27;: in_fasta_name = arg elif opt == &#x27;-o&#x27;: outfile_name = arg try: removeRedundant(in_fasta_name, outfile_name) except UnboundLocalError: # å¼•ç”¨å˜é‡æœªåˆå§‹åŒ–çš„æŠ¥é”™ usage() returnif __name__ == &#x27;__main__&#x27;: main(sys.argv[1:]) # å–æ–‡ä»¶åä¹‹åçš„å‚æ•° ä¸€ä¸ªç®€å•åˆ¤æ–­è‡ªå·±è›‹ç™½åºåˆ—æ˜¯å¦å†—ä½™çš„æ–¹æ³•ï¼š 1grep &quot;\\.2&quot; è›‹ç™½åºåˆ—æ–‡ä»¶ å¦‚æœåŸºå› åä¸­æœ‰xxx.2çš„æ ¼å¼ï¼Œè¯´æ˜è¿™ä¸ªè›‹ç™½åºåˆ—ä¸æ˜¯å»å†—ä½™çš„ï¼ˆæ­£å¸¸æƒ…å†µä¸‹ï¼‰ã€‚è›‹ç™½åºåˆ—å»å†—ä½™ä¹‹åè®°å¾—ä¹Ÿè¦æŠŠç›¸åº”çš„æœ€é•¿è½¬å½•æœ¬çš„cdsåºåˆ—æå–å‡ºæ¥ï¼Œå†™ä¸€ä¸ªpythonè„šæœ¬å¯ä»¥æå–å‡ºæ¥ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼ˆæœ¬ç¯‡ç¬”è®°cdsåºåˆ—æš‚æ—¶ç”¨ä¸åˆ°ï¼Œåé¢åšksè®¡ç®—å†è¯´ï¼‰ã€‚ 1. åŸºå› å®¶æ—èšç±»&amp;ç³»ç»Ÿè¿›åŒ–åŸºå› å®¶æ—èšç±»æ˜¯å°†æ¥æºäºåŒä¸€ä¸ªç¥–å…ˆï¼Œç”±ä¸€ä¸ªåŸºå› é€šè¿‡å¤åˆ¶è€Œäº§ç”Ÿçš„ä¸€ç»„åŸºå› è¿›è¡Œåˆ†ç±»å’Œæ³¨é‡Šï¼Œå¯¹æœ¬ç‰©ç§ç‰¹æœ‰çš„åŸºå› å®¶æ—è¿›è¡ŒGOå’ŒKEGGå¯Œé›†åˆ†æï¼ˆè¿™ä¸ªåç»­å†è¯´ï¼‰ã€‚é€šè¿‡ç‰©ç§å…±æœ‰çš„åŸºå› å®¶æ—ä¸­å•æ‹·è´åŒæºåŸºå› æ„å»ºç³»ç»Ÿå‘è‚²æ ‘ï¼Œç”¨éŸ¦æ©å›¾å¯è§†åŒ–å¾…åˆ†æç‰©ç§é—´ç‰¹æœ‰çš„åŸºå› å®¶æ—å’Œå…±æœ‰çš„åŸºå› å®¶æ—æ•°é‡ã€‚ æŠŠè¿™ä¸¤ä¸ªæ”¾åœ¨ä¸€èµ·çš„åŸå› æ˜¯OrthoFinderå¯ä»¥ä¸€æ­¥åšåˆ°ä½ã€‚ OrthoFinderdavidemms&#x2F;OrthoFinder: Phylogenetic orthology inference for comparative genomics (github.com) æŒ‰ç…§githubå®˜æ–¹ä»“åº“ä¸­è¯´çš„condaå®‰è£…æ–¹æ³•ï¼Œè¿è¡Œçš„æ—¶å€™ä¼šæŠ¥ä¸‹é¢çš„é”™ç‰©ï¼š 123456789101112For Linux 64, Open MPI is built with CUDA awareness but this support is disabled by default.To enable it, please set the environment variable OMPI_MCA_opal_cuda_support=true beforelaunching your MPI processes. Equivalently, you can set the MCA parameter in the command line:mpiexec --mca opal_cuda_support 1 ... In addition, the UCX support is also built but disabled by default.To enable it, first install UCX (conda install -c conda-forge ucx). Then, set the environmentvariables OMPI_MCA_pml=&quot;ucx&quot; OMPI_MCA_osc=&quot;ucx&quot; before launching your MPI processes.Equivalently, you can set the MCA parameters in the command line:mpiexec --mca pml ucx --mca osc ucx ...Note that you might also need to set UCX_MEMTYPE_CACHE=n for CUDA awareness via UCX.Please consult UCX&#x27;s documentation for detail. ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼ŒOrthoFinderè¿è¡Œæ˜¯ä¸ä¾èµ–äºOpen MPIçš„ï¼Œæ€»ä¹‹æ— æ³•æ­£å¸¸è¿è¡Œï¼Œæ‰€ä»¥æˆ‘ä¸‹è½½äº†å®˜æ–¹çš„sourceæºç ï¼Œè§£å‹åcondaå®‰è£…äº†å¿…éœ€çš„ä¸¤ä¸ªè½¯ä»¶ï¼š 1234# å¤šåºåˆ—æ¯”å¯¹è½¯ä»¶mafftconda install mafft# å»ºæ ‘è½¯ä»¶fasttreeconda install fasttree æˆ‘ä»¬è¿™é‡Œåªéœ€è¦å°†æ¯”è¾ƒçš„ç‰©ç§è›‹ç™½åºåˆ—æ”¾åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼ˆæ¯”å¦‚mydataï¼‰å°±å¯ä»¥äº†ï¼Œæ¯ä¸ªç‰©ç§ä¸€ä¸ªæ–‡ä»¶ï¼Œä»¥.fa .faa .fasta .fas .pepåç¼€éƒ½å¯ä»¥è¯†åˆ«ï¼Œå‰ç¼€æ”¹æˆç‰©ç§åã€‚å†™ä¸€ä¸ªslurmè„šæœ¬ï¼š 12345#!/bin/bash#SBATCH -n 5#SBATCH -t 7200python ./orthofinder.py -M msa -f mydata/ -t 5 -M msaæŒ‡å®šç‰©ç§æ ‘çš„æ¨æ–­æ–¹æ³•ï¼Œå°†ä½¿ç”¨ä¸²è”çš„å¤šåºåˆ—æ¯”å¯¹è¿›è¡Œæœ€å¤§ä¼¼ç„¶æ ‘æ¨æ–­ã€‚è¯¥æ¨¡å¼ä¸‹ä¼šä½¿ç”¨MAFFTè¿›è¡Œåºåˆ—æ¯”å¯¹ï¼Œç”¨FastTreeè¿›è¡Œæ ‘æ¨æ–­ã€‚ æ„å»ºç‰©ç§æ ‘æœ‰ä¸¤ç§æ–¹æ³•ï¼šä¸²è”æ³•å’Œåˆå¹¶æ³•ï¼Œorthofinderä½¿ç”¨çš„æ˜¯ä¸²è”æ³•ï¼Œå°†æ‰€æœ‰å•æ‹·è´ç›´ç³»åŒæºåŸºå› åºåˆ—è¿èµ·æ¥ï¼Œå†è¿›è¡Œå¤šåºåˆ—æ¯”å¯¹å»ºæ ‘ï¼Œè¯¥æ¯”å¯¹æ–‡ä»¶ä½äºMultipleSequenceAlignments/SpeciesTreeAlignment.faã€‚åˆå¹¶æ³•æ˜¯å°†æ¯ä¸ªå•æ‹·è´åŸºå› å®¶æ—å»ºæ ‘ï¼Œç„¶åå¯¹åŸºå› æ ‘è¿›è¡Œæ•´åˆå¾—åˆ°ä¸€è‡´æ ‘ï¼ˆäº†è§£ä¸€ä¸‹å°±è¡Œï¼‰ã€‚ ç»“æœæ–‡ä»¶è¿è¡Œç»“æŸåå¯ä»¥åœ¨è›‹ç™½åºåˆ—æ–‡ä»¶ä¸­æ‰¾åˆ°OrthoFinderç»“æœæ–‡ä»¶å¤¹ï¼Œç»“æœæ–‡ä»¶éå¸¸å¤šï¼Œå®˜æ–¹æœ‰è§£é‡Šæ¯ä¸€ä¸ªæ–‡ä»¶å¤¹ä¿¡æ¯ï¼šExploring OrthoFinderâ€™s results | OrthoFinder Tutorials æ¯”è¾ƒé‡è¦çš„å‡ ä¸ªç»“æœæ–‡ä»¶ï¼š MultipleSequenceAlignments&#x2F;SpeciesTreeAlignment.fa ä¸²è”çš„å¤šåºåˆ—æ¯”å¯¹æ–‡ä»¶ Species_Tree&#x2F;SpeciesTree_rooted.txt å«æœ‰bootstrapå€¼çš„ç‰©ç§æ ‘æ–‡ä»¶ Orthogroups&#x2F;Orthogroups.GeneCount.tsv ç›´ç³»åŒæºåŸºå› æ•°ç›®æ–‡ä»¶ Single_Copy_Orthologue_Sequences å•æ‹·è´ç›´ç³»åŒæºåŸºå› æ–‡ä»¶å¤¹ Comparative_Genomics_Statistics&#x2F;Statistics_Overall.tsv ç»Ÿè®¡æ–‡ä»¶ æ‰“å¼€Statistics_Overall.tsvæ–‡ä»¶å¯ä»¥è·å¾—å¦‚ä¸‹ä¿¡æ¯ï¼š 12345678910111213Number of species 12Number of genes 502539Number of genes in orthogroups 468058Number of unassigned genes 34481Percentage of genes in orthogroups 93.1Percentage of unassigned genes 6.9Number of orthogroups 39603Number of species-specific orthogroups 13537Number of genes in species-specific orthogroups 72104Percentage of genes in species-specific orthogroups 14.3Mean orthogroup size 11.8Median orthogroup size 5.0... ä¸€å…±æœ‰468058ä¸ªåŸºå› ï¼ˆå æ¯”93.1%ï¼‰è¢«èšç±»åˆ°39603ä¸ªæ­£äº¤ç¾¤ï¼ˆorthogroupï¼‰ä¸­ï¼Œè‡³å°‘80%ä»¥ä¸Šçš„åŸºå› å¯ä»¥èšç±»åˆ°æ­£äº¤ç¾¤ï¼Œè¯´æ˜è¿™ä¸ªç»“æœè¿˜æ˜¯å¾ˆå¯ä¿¡çš„ã€‚ æ‰“å¼€SpeciesTree_rooted.txtæ–‡ä»¶å¯ä»¥è·å¾—è¿›åŒ–æ ‘ä¿¡æ¯ï¼š 1(O.s:0.288854,(((L.s:0.323215,(N.a:0.233945,(C.c:0.185824,((A.p:0.00372873,A.v:0.00344612)1:0.102058,C.r:0.121885)1:0.0883246)1:0.0751893)1:0.0565903)1:0.0505776,(((G.h:0.0112911,G.b:0.011717)1:0.209852,A.t:0.363066)1:0.0376571,M.t:0.325608)1:0.0450521)1:0.0678736,A.c:0.272559)1:0.288854); å»æ‰å†’å·å‰çš„1ï¼Œå°±æ˜¯æ ‡å‡†çš„è¿›åŒ–æ ‘æ–‡ä»¶ç±»å‹.nwkï¼Œ1æ˜¯Bootstrapå€¼ï¼ˆè‡ªå±•å€¼ï¼‰ï¼Œå¤§äº70%è¡¨ç¤ºæ„å»ºçš„è¿›åŒ–æ ‘éå¸¸å¯é ï¼Œåç»­å¤„ç†çš„æ—¶å€™éœ€è¦æŠŠ1æ‰‹åŠ¨åˆ é™¤ã€‚å…³äºè¿›åŒ–æ ‘çš„åŸºç¡€æ¦‚å¿µï¼Œå¯ä»¥å‚è€ƒï¼šRè¯­è¨€ç»˜åˆ¶è¿›åŒ–æ ‘ï¼štreeio+ggtree - çŸ¥ä¹ (zhihu.com) æˆ‘ä»¬å¯ä»¥ç”¨å¯è§†åŒ–æ ‘çš„è½¯ä»¶ï¼Œæ¯”å¦‚å¯¼å…¥Dendroscopeï¼š è¿™ä¸ªæ—¶å€™å¯ä»¥å¯¹æ¯”ä¸€ä¸‹å‰é¢æ€ç»´å¯¼å›¾åšçš„è¿›åŒ–æ ‘ï¼Œç»“æ„æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ æ‰“å¼€Orthogroups.GeneCount.tsvæ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°å„ä¸ªç‰©ç§åœ¨æ­£äº¤ç¾¤ä¸­çš„åŸºå› æ•°ï¼Œè¿™ä¸ªæ–‡ä»¶åé¢åšåŸºå› å®¶æ—æ”¶ç¼©æ‰©å¼ è¦ç”¨åˆ°ã€‚æˆ‘ä»¬å¯ä»¥å…ˆç®€å•æ•´ç†ä¸€ä¸‹éœ€è¦åˆ†æçš„ç‰©ç§æ•°æ®ï¼š 12## åˆ é™¤ç¬¬ä¸€è¡Œï¼Œç„¶åé€‰æ‹©ç¬¬äºŒåˆ—å¤§äºé›¶çš„è¡Œï¼Œå¹¶å°†è¿™äº›è¡Œçš„ç¬¬ä¸€åˆ—ä¿å­˜åˆ°åä¸º 1.txt çš„æ–‡ä»¶ä¸­sed &#x27;1d&#x27; Orthogroups.GeneCount.tsv |awk &#x27;$2 &gt;0 &#123;print $1&#125;&#x27; &gt;1.txt awk &#39;$2 &gt;0 &#123;print $1&#125;&#39;æ ¹æ®éœ€è¦æ”¹å“ªä¸€åˆ—ï¼Œæœ€ç»ˆæ˜¯ä¸€ä¸ªç‰©ç§ä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯ä¸ªæ–‡ä»¶ç»Ÿè®¡åŸºå› æ•°é‡å¤§äº0çš„æ­£äº¤ç¾¤ï¼Œå¯ä»¥ç”¨åœ¨çº¿å·¥å…·å¯è§†åŒ–èšç±»ç»“æœã€‚ä»¥åœ¨çº¿VENNå›¾ä¸ºä¾‹ï¼šjvenn (inrae.fr) 2. åˆ†æ­§æ—¶é—´ä¼°ç®—æ ¹æ®Species_Tree/SpeciesTree_rooted.txtæ–‡ä»¶ä¸­çš„è¿›åŒ–æ ‘ä¿¡æ¯ï¼Œæˆ‘ä»¬å€ŸåŠ©åŒ–çŸ³æ—¶é—´çŸ«æ­£ï¼Œå¯ä»¥å¾—åˆ°æœ‰åˆ†åŒ–æ—¶é—´çš„ç‰©ç§æ ‘ï¼ˆè¶…åº¦é‡æ ‘&#x2F;æ—¶é’Ÿæ ‘ï¼‰ã€‚è¿›è¡Œåˆ†æ­§æ—¶é—´ä¼°ç®—çš„è½¯ä»¶æœ‰PAMLä¸­çš„mcmctreeå‘½ä»¤ï¼Œè½¯ä»¶beastã€r8sã€Multidivtimeç­‰ã€‚ åœ¨ç®—æ³•ä¸Šï¼Œmcmctreeã€Multidivtimeå’Œbeastä¸‰ä¸ªè½¯ä»¶éƒ½æ˜¯åŸºäºè´å¶æ–¯ï¼ˆBayesï¼‰æ–¹æ³•ï¼Œmcmctreeå¯ä»¥é€‰æ‹©ç›¸å…³é€Ÿç‡æ¨¡å‹ï¼ˆcorrelated rate modelï¼‰æˆ–è€…ç‹¬ç«‹é€Ÿç‡æ¨¡å‹ï¼ˆindependent rate modelï¼‰ï¼Œæ”¯æŒè›‹ç™½åºåˆ—æˆ–è€…æ ¸é…¸åºåˆ—è¾“å…¥ã€‚r8så¯ä»¥é€‰æ‹©NPRSï¼ˆNonparametric rate smoothingï¼‰æ–¹æ³•ï¼Œæƒ©åˆ†ä¼¼ç„¶æ³•ï¼ˆpenalized likelihoodï¼ŒPLï¼‰ç­‰ã€‚ çœ‹åˆ°ä¸€ç¯‡æ–‡çŒ®æ¯”è¾ƒäº†ä½¿ç”¨ä¸åŒè½¯ä»¶å’Œæ¨¡å‹æ„é€ æ—¶é’Ÿæ ‘ï¼Œmcmctreeåœ¨è¾ƒæµ…çš„åˆ†æ­§ä¼°ç®—ä¸­è¡¨ç°å¥½ï¼ŒMultidivtimeå’Œr8såœ¨è¾ƒæ·±çš„åˆ†æ­§ä¼°ç®—ä¸­è¡¨ç°æ›´å¥½ï¼Œè€Œbeastè¡¨ç°éƒ½ä¸æ€ä¹ˆå¥½ã€‚å‚è€ƒä»¥ä¸‹åŸæ–‡ï¼š (PDF) Dating the origin of the major lineages of Branchiopoda (researchgate.net) è€ƒè™‘åˆ°r8sè¿ç®—é€Ÿåº¦æ›´å¿«ï¼Œä»¥ä¸‹ç”¨r8sè¿›è¡Œåˆ†æ­§æ—¶é—´ä¼°ç®—ï¼Œæœ‰ç©ºå†æŠŠmcmctreeä¹Ÿè·‘ä¸€éã€‚ r8sæºç åœ°å€ï¼šr8s download | SourceForge.net æˆ‘ä¸‹è½½r8sæºç ç¼–è¯‘çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œåæ¥åœ¨Biostarsæ‰¾åˆ°ä¸€ä¸ªè§£å†³æ–¹æ³•ï¼š 123456tar -xzvf r8s1.81.tar.gzcd r8s1.81/srccp Makefile.linux Makefile.linux.baksed -i &#x27;s/continuousML.o //&#x27; Makefile.linuxsed -i &#x27;s/continuousML.o:/#continuousML.o:/&#x27; Makefile.linuxmake -f Makefile.linux æºç åŒ…ä¸­æœ‰ä½¿ç”¨æ‰‹å†Œï¼Œå›½å†…æœ‰ç¿»è¯‘æˆä¸­æ–‡çš„ç‰ˆæœ¬ï¼šr8sä½¿ç”¨æŒ‡å—.pdf (book118.com) ä½¿ç”¨r8séœ€è¦æ ¹æ®æ‰‹å†Œå†™ä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶ï¼Œä½ å¯ä»¥è‡ªå·±æ ¹æ®éœ€è¦å†™ï¼Œä¹Ÿå¯ä»¥ç”¨cafe5å®˜æ–¹æä¾›çš„prep_r8s.py è¿™ä¸ªpythonè„šæœ¬éœ€è¦å‡ ä¸ªè¾“å…¥å‚æ•°ï¼š -i è¾“å…¥æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢ç”Ÿæˆçš„æ ‘æ–‡ä»¶ -o è¾“å‡ºæ–‡ä»¶ï¼Œè‡ªå®šä¹‰çš„è¾“å‡ºæ–‡ä»¶åç§° -s å¯¹é½çš„åºåˆ—æ°¨åŸºé…¸æ•°é‡ -p æ ¡å‡†çš„ç‰©ç§å -c æ ¡å‡†æ—¶é—´ æ³¨æ„ï¼å¦‚æœä½ æ˜¯python2å¯ä»¥ç›´æ¥è¿è¡Œï¼Œå¦‚æœæ˜¯python3ä»¥ä¸Šéœ€è¦ä¿®æ”¹æºä»£ç çš„59è¡Œï¼š 123print &quot;\\nRunning cafetutorial_clade_and_size_filter.py as a standalone...\\n&quot;# ä¿®æ”¹ä¸ºprint(&quot;\\nRunning cafetutorial_clade_and_size_filter.py as a standalone...\\n&quot;) python3ä¹‹åprint â€œâ€æ”¹æˆäº†print()ã€‚ 123$ seqkit stat MultipleSequenceAlignments/SpeciesTreeAlignment.fafile format type num_seqs sum_len min_len avg_len max_lenMultipleSequenceAlignments/SpeciesTreeAlignment.fa FASTA Protein 12 1,541,496 128,458 128,458 128,458 å¯ä»¥ç”¨seqkitå·¥å…·ï¼ˆéœ€è¦condaä¸‹è½½ï¼‰è®¡ç®—å¯¹é½åºåˆ—çš„æ°¨åŸºé…¸æ•°é‡ï¼Œè¿™é‡Œæ˜¯128458 æ ¡å‡†æ—¶é—´å¯ä»¥é€šè¿‡ç‰©ç§åˆ†åŒ–æ—¶é—´æŸ¥è¯¢ç½‘ç«™TimeTree :: The Timescale of Lifeè·å¾—ï¼š 1python prep_r8s.py -i SpeciesTree_rooted.txt -o r8s_ctl_file.txt -s 125517 -p &#x27;A.thaliana,O.sativa&#x27; -c &#x27;160&#x27; ç”Ÿæˆçš„æ–‡ä»¶r8s_ctl_file.txtå°±æ˜¯r8sçš„æ‰¹å¤„ç†æ–‡ä»¶ï¼Œå…¶å®è¿™ä¸ªpythonè„šæœ¬å°±æ˜¯æŒ‡å®šäº†ä¸€äº›å‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°å®šä¹‰äº†anaivaç‰©ç§ä¸ºå‡å®šçš„æ‹Ÿå—èŠ¥å’Œæ°´ç¨»çš„å…±åŒç¥–å…ˆï¼ˆä¸¤ä¸ªç‰©ç§åçš„åä¸‰ä¸ªå­—æ¯ç»„åˆï¼‰ï¼Œåˆ†åŒ–çš„æ—¶é—´ä¸ºæˆ‘ä»¬ä¸Šé¢æŸ¥çš„160MYAã€‚ 12345678910111213#NEXUSbegin trees;tree nj_tree = ä½ çš„æ ‘æ–‡ä»¶End;begin rates;blformat nsites=128458 lengths=persite ultrametric=no;collapse;mrca anaiva A.thaliana O.sativa;fixage taxon=anaiva age=160;divtime method=pl algorithm=tn cvStart=0 cvInc=0.5 cvNum=8 crossv=yes;describe plot=chronogram;describe plot=tree_description;end; æœ‰äº†æ‰¹å¤„ç†æ–‡ä»¶å°±å¯ä»¥è¿è¡Œr8säº†ï¼š 1r8s -b -f r8s_ctl_file.txt &gt;r8s_tmp.txt å®é™…ä¸Šæˆ‘ä»¬åªéœ€è¦æœ€åä¸€è¡Œçš„æ—¶é’Ÿæ ‘ï¼Œå¹¶æ‰‹åŠ¨åˆ é™¤å‡æƒ³çš„å…±åŒç¥–å…ˆanaivaï¼ˆä¸ºäº†ä¹‹åè¿è¡Œcafeï¼‰ï¼š 1tail -n 1 r8s_tmp.txt | cut -c 16- &gt; tree.txt è¿™ä¸ªtreeæ–‡ä»¶å¯ä»¥åœ¨TVBOT (chiplot.online)è¿›è¡Œå¯è§†åŒ–ï¼ˆç½‘ç«™ä¸Šæ¨èæ˜¯ç”¨mcmctreeå’Œbeastç»“æœï¼‰ï¼Œæœ€åå›¾ç‰‡å¯ä»¥ç”¨AIåšç¾åŒ–ã€‚ 3. åŸºå› å®¶æ—æ”¶ç¼©æ‰©å¼ é€šè¿‡æ—¶é’Ÿæ ‘å’ŒåŸºå› å®¶æ—çš„èšç±»ç»“æœï¼Œæ ¹æ®å‡ºç”Ÿæ­»äº¡æ¨¡å‹ä¼°è®¡æ¯ä¸ªåˆ†æç¥–å…ˆåŸºå› å®¶æ—æˆå‘˜ä¸ªæ•°ï¼Œä»è€Œé¢„æµ‹ç›®æ ‡ç‰©ç§åŸºå› å®¶æ—ç›¸å¯¹ç¥–å…ˆçš„æ”¶ç¼©æ‰©å¼ æƒ…å†µã€‚ cafe5hahnlab&#x2F;CAFE5: Version 5 of the CAFE phylogenetics software (github.com) cafeéœ€è¦ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶ï¼š ç¬¬ä¸€åˆ—ä¸ºåŠŸèƒ½æè¿°çš„ç›´ç³»åŒæºåŸºå› æ•°ç›®æ–‡ä»¶ äºŒå…ƒçš„ï¼Œæœ‰æ ¹çš„ï¼Œè¶…åº¦é‡æ ‘ï¼ˆnwkæ ¼å¼ï¼‰ ç¬¬äºŒä¸ªæ–‡ä»¶å°±æ˜¯ä¸Šä¸€æ­¥r8sç”Ÿæˆçš„tree.txtæ ‘æ–‡ä»¶ï¼Œç¬¬ä¸€ä¸ªæ–‡ä»¶éœ€è¦æˆ‘ä»¬å¯¹Orthofinderç»“æœæ–‡ä»¶ä¸­çš„Orthogroups.GeneCount.tsvåšä¸€äº›å¤„ç†ï¼š 12# å»æ‰æœ€åä¸€åˆ—totalï¼Œæ·»åŠ ç¬¬ä¸€åˆ—ä¸º(null)ï¼Œä¿®æ”¹ç¬¬ä¸€è¡ŒDescawk &#x27;OFS=&quot;\\t&quot; &#123;$NF=&quot;&quot;; print&#125;&#x27; Orthogroups.GeneCount.tsv &gt; tmp &amp;&amp; awk &#x27;&#123;print &quot;(null)&quot;&quot;\\t&quot;$0&#125;&#x27; tmp &gt; cafe.input.tsv &amp;&amp; sed -i &#x27;1s/(null)/Desc/g&#x27; cafe.input.tsv &amp;&amp; rm tmp å¤„ç†ä¹‹åç”Ÿæˆçš„cafe.input.tsvå¦‚ä¸‹ï¼š æœ‰ä¸¤ä¸ªç‰©ç§æˆ‘æ”¾çš„æ˜¯å››å€ä½“ï¼Œæ²¡æ‹†æˆäºšåŸºå› ç»„ï¼Œå…¶ä»–éƒ½æ˜¯äºŒå€ä½“ï¼Œå¯èƒ½ä¼šå¯¹å•æ‹·è´åŸºå› å®¶æ—æ ‘ç»Ÿè®¡äº§ç”Ÿå½±å“ã€‚ç”¨å®˜æ–¹ä»“åº“ä¸­çš„clade_and_size_filter.pyè„šæœ¬è¿›è¡Œè¿‡æ»¤ï¼š 1python cafetutorial_clade_and_size_filter.py -i cafe.input.tsv -o gene.families.filtered.tsv -s 2&gt; filtered.log è¿‡æ»¤è¶…è¿‡100ä¸ªæ‹·è´çš„åŸºå› å®¶æ—ï¼Œå¾—åˆ°gene.families.filtered.tsvæ–‡ä»¶åå°±å¯ä»¥è¿è¡Œcafeäº†ï¼š 1cafe5 -i gene.families.filtered.tsv -t tree.txt -c 10 -p -k 5 -o k5p cafe5å’Œä¹‹å‰çš„ç‰ˆæœ¬ä¸åŒï¼Œä¸ç”¨å†å†™è¿è¡Œè„šæœ¬ï¼Œç›´æ¥æŒ‡å®šå‚æ•°å³å¯ï¼Œ-pæŒ‡å®šæ ¹çš„é¢‘ç‡åˆ†å¸ƒä¸ºæ³Šæ¾åˆ†å¸ƒï¼Œ-kæŒ‡å®šä½¿ç”¨Gammaæ¨¡å‹ï¼Œè¿™é‡ŒæŒ‡å®šäº†3ç§gamma rateï¼Œä¸€èˆ¬åœ¨2-5ä¹‹é—´ï¼Œ-oæŒ‡å®šè¾“å‡ºæ–‡ä»¶å¤¹åç§°ã€‚ å¦‚æœä½ è§‰å¾—è‡ªå·±åšçš„ç‰©ç§è¿›åŒ–é€Ÿç‡ä¸ä¸€è‡´çš„è¯ï¼Œè¿˜å¯ä»¥ä¿®æ”¹ä¸åŒçš„lambdaå€¼ï¼Œå¹¶æŒ‡å®šå‚æ•°-yï¼š 12# å®˜æ–¹çš„ä¾‹å­ï¼Œchimphuman_separate_lambda.txtï¼Œ1å’Œ2åˆ†åˆ«ä»£è¡¨ä¸åŒè¿›åŒ–é€Ÿç‡çš„ç¾¤ä½“((((cat:1,horse:1):1,cow:1):1,(((((chimp:2,human:2):2,orang:1):1,gibbon:1):1,(macaque:1,baboon:1):1):1,marmoset:1):1):1,(rat:1,mouse:1):1); ç»“æœæ–‡ä»¶è¿™é‡Œæˆ‘æŒ‡å®šäº†Gammaæ¨¡å‹ï¼Œç»“æœæ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š â”œâ”€â”€ Gamma_asr.tre # æ¯ä¸ªåŸºå› å®¶æ—æ ‘æ–‡ä»¶â”œâ”€â”€ Gamma_branch_probabilities.tabâ”œâ”€â”€ Gamma_category_likelihoods.txtâ”œâ”€â”€ Gamma_change.tabâ”œâ”€â”€ Gamma_clade_results.txt # æ¯ä¸ªèŠ‚ç‚¹çš„æ‰©å¼ &#x2F;æ”¶ç¼©åŸºå› å®¶æ—æ•°é‡â”œâ”€â”€ Gamma_count.tabâ”œâ”€â”€ Gamma_family_likelihoods.txtâ”œâ”€â”€ Gamma_family_results.txtâ”œâ”€â”€ Gamma_report.cafe # æŠ¥å‘Šæ–‡ä»¶ï¼Œç”¨äºä¸‹æ¸¸ç»Ÿè®¡åˆ†æã€å¯è§†åŒ–ä½œå›¾ç­‰â””â”€â”€ Gamma_results.txt # Gammaæ¨¡å‹çš„æœ€ç»ˆä¼¼ç„¶å€¼ï¼Œlambdaå€¼ cafe5åˆšæ›´æ–°çš„æ—¶å€™æ²¡æœ‰report.cafeè¿™ä¸ªæ–‡ä»¶ï¼Œå½“æ—¶æœ‰äººåšäº†ä¸ªå¯è§†åŒ–ç»“æœè½¯ä»¶CafePlotter moshi4&#x2F;CafePlotter: A tool for plotting CAFE5 gene family expansion&#x2F;contraction result (github.com) è¿™ä¸ªè½¯ä»¶è¿‘æœŸä»ç„¶åœ¨æ›´æ–°ï¼Œä½œå›¾è¿˜æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„ï¼š 123pip install cafeplottercafeplotter -i k5p/ -o k5p_plotter/ --format svg è¿™ä¸ªå›¾ç‰‡çš„ç¾åŒ–å¯ä»¥ç”¨Adobe illustratorï¼Œè¿˜æœ‰ä¸ªå¯è§†åŒ–è½¯ä»¶CAFE_figï¼š LKremer&#x2F;CAFE_fig: A tool to extract and visualize the results of CAFE (Computational Analysis of gene Family Evolution) (github.com) æˆ‘è¿è¡Œè¿™ä¸ªè½¯ä»¶ä¼šæŠ¥é”™module &#39;ete3&#39; has no attribute &#39;TreeStyle&#39;ï¼Œæš‚æ—¶æ— æ³•è§£å†³ã€‚ ## 2023&#x2F;12&#x2F;17æ›´æ–°mcmctreeå‰é¢è¯´åˆ°åˆ†æ­§æ—¶é—´ä¼°ç®—é™¤äº†ç”¨r8sä¹‹å¤–ï¼Œç°åœ¨æ–‡ç« é‡Œæœ€å¸¸ç”¨çš„å°±æ˜¯mcmctreeã€‚æ­£å¥½è¿™å‡ å¤©é‡æ–°é€‰äº†å‡ ä¸ªç‰©ç§ï¼Œé¡ºä¾¿è·‘äº†ä¸€émcmctreeï¼Œè¿™é‡Œåšä¸€ä¸ªè®°å½•ã€‚ å› ä¸ºmcmctreeæ˜¯PAMLçš„ä¸€ä¸ªå­ç¨‹åºï¼Œæ‰€ä»¥ç›´æ¥æºç ç¼–è¯‘å®‰è£…PAMLå³å¯ï¼š 12345# PAMLçš„githubé•œåƒgit clone https://githubfast.com/abacus-gene/paml.gitcd paml/srcmake -f Makefile è¿™é‡Œç¼–è¯‘çš„è¿‡ç¨‹é‡åˆ°ä¸€ç‚¹å°é—®é¢˜ï¼š 123cc -O3 -Wall -Wno-unused-result -Wmemset-elt-size -c baseml.ccc: error: unrecognized command line option â€˜-Wmemset-elt-sizeâ€™make: *** [baseml.o] Error 1 -Wmemset-elt-sizeè¿™ä¸ªå‚æ•°åªèµ·åˆ°ç¼–è¯‘è¿‡ç¨‹ä¸­å¿½ç•¥Warningä¿¡æ¯çš„ä½œç”¨ï¼Œæˆ‘çš„gccç‰ˆæœ¬å¯èƒ½è¿‡ä½ï¼Œä¸æ”¯æŒè¿™ä¸ªå‚æ•°ï¼Œåœ¨Makefileæ–‡ä»¶ä¸­ç›´æ¥æŠŠè¿™ä¸ªå‚æ•°åˆ é™¤å³å¯æ­£å¸¸ç¼–è¯‘ã€‚ 1234567# å°†ç¼–è¯‘å®Œæˆçš„äºŒè¿›åˆ¶æ‰§è¡Œæ–‡ä»¶æ”¾åˆ°ä¸»ç›®å½•çš„binæ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶æŠŠè·¯å¾„åŠ å…¥åˆ°.bashrcæ–‡ä»¶ä¸­mkdir ../bin/mv baseml basemlg chi2 codeml evolver infinitesites mcmctree pamp yn00 ../bin/vim ~/.bashrcexport PATH=&quot;/public/home/wlxie/biosoft/paml/bin:$PATH&quot;. ~/.bashrc è¿™æ ·PAMLå°±ç®—å®‰è£…ç»“æŸäº†ã€‚ åˆ†ææ­¥éª¤å‰é¢æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå‡†å¤‡ç‰©ç§è›‹ç™½åºåˆ—ï¼Œå–æœ€é•¿è½¬å½•æœ¬ï¼Œé¡ºä¾¿ç­›é€‰åˆ é™¤äº†50ä¸ªAAé•¿åº¦ä»¥å†…çš„è›‹ç™½åºåˆ—ï¼Œè·‘ä¸€éOrthofinderåšåŸºå› å®¶æ—èšç±»ï¼Œè®°å¾—åŠ ä¸Šå‚æ•°-M msaï¼Œå¯ä»¥ç›´æ¥è¾“å‡ºç‰©ç§é—´å•æ‹·è´ç›´ç³»åŒæºåŸºå› çš„æ¯”å¯¹ç»“æœï¼ˆä¸²è”æ³•ï¼‰ã€‚ ä¸æ˜¯å¾ˆæ˜ç™½ï¼Œæ–‡çŒ®ä¸­å¥½å¤šæ˜¯æŠŠOrthofinderé‰´å®šçš„å•æ‹·è´ç›´ç³»åŒæºåŸºå› åˆå»è·‘ä¸€éå¤šåºåˆ—æ¯”å¯¹ï¼Œå†å»ç”¨åˆ«çš„è½¯ä»¶å»ºä¸€ä¸ªç‰©ç§æ ‘ï¼Œæ˜æ˜ä¸€ä¸ªOrthofinderå°±å¯ä»¥åŒ…åŠè¿™äº›äº‹çš„ã€‚å·®åˆ«ä¸å¤§çš„è¯æˆ‘ä¸ªäººè§‰å¾—æ²¡å¿…è¦å»æŠ˜è…¾â€¦â€¦ mcmctreeæ¥æ”¶çš„æ˜¯phylipæ ¼å¼çš„å¤šåºåˆ—æ¯”å¯¹æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å¯¹orthofinderè·‘å‡ºæ¥çš„MultipleSequenceAlignments/SpeciesTreeAlignment.faæ–‡ä»¶è¿›è¡Œä¸€ç‚¹ç‚¹ä¿®æ”¹ï¼ˆæ‰‹åŠ¨è½¬æˆphylipï¼‰æ ¼å¼ï¼š å…·ä½“æ¥è¯´ï¼Œç¬¬ä¸€è¡Œæ˜¯ç‰©ç§æ•°é‡ + ç©ºæ ¼ + æ¯”å¯¹çš„åºåˆ—é•¿åº¦ï¼Œåé¢æ¯è¡Œæ˜¯ç‰©ç§åï¼ˆä¸èƒ½æœ‰.è¿™ä¸ªç¬¦å·ï¼‰ï¼Œä¸¤ä¸ªä»¥ä¸Šçš„ç©ºæ ¼ï¼Œä»¥åŠæ¯”å¯¹çš„åºåˆ—ï¼ˆä¸€è¡Œçš„å½¢å¼ï¼‰ï¼Œç®€å•å†™ä¸ªpythonè„šæœ¬å¤„ç†ä¸€ä¸‹ï¼š 1234567891011121314151617181920212223# åˆ›å»ºä¸€ä¸ªå­—å…¸ä¿å­˜è›‹ç™½åºåˆ—ä¿¡æ¯def protein_sequence(file_path): sequences = &#123;&#125; with open(file_path, &#x27;r&#x27;) as file: content = file.read() blocks = content.split(&#x27;&gt;&#x27;) for block in blocks[1:]: index = block.find(&#x27;\\n&#x27;) header = block[:index] sequence = block[index + 1: -1].replace(&#x27;\\n&#x27;, &#x27;&#x27;) sequences[header] = sequence return sequencessequences = protein_sequence(&#x27;./åŸºå› å®¶æ—è¿›åŒ–/mcmctree/SpeciesTreeAlignment.fa&#x27;)species_number = len(sequences)sequence_length = len(sequences[next(iter(sequences))]) # è·å–ç¬¬ä¸€ä¸ªåºåˆ—çš„é•¿åº¦(å®é™…ä¸Šæ¯ä¸ªéƒ½æ˜¯ä¸€æ ·çš„)# ä¿å­˜æˆmcmctreeéœ€è¦çš„phylipæ ¼å¼with open(&#x27;mcmctree.phylip&#x27;, &#x27;w&#x27;) as f: f.write(f&#x27;&#123;species_number&#125; &#123;sequence_length&#125;\\n&#x27;) # ä¸€ä¸ªç©ºæ ¼ for key, value in sequences.items(): f.write(f&#x27;&#123;key&#125; &#123;value&#125;\\n&#x27;) # ä¸¤ä¸ªç©ºæ ¼ å’Œr8sä¸€æ ·ï¼Œmcmctreeä¼°ç®—åˆ†æ­§æ—¶é—´ä¹Ÿéœ€è¦åŒ–çŸ³è¯æ®åšæ ¡å‡†ï¼ŒåŒºåˆ«åœ¨äºmcmctreeæ—¶é—´å°ºåº¦æ˜¯100ä¸ªç™¾ä¸‡å¹´ï¼ˆ100Myaï¼‰ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œç”¨äº†æ°´ç¨»å’Œæ‹Ÿå—èŠ¥ä»¥åŠæ‹Ÿå—èŠ¥å’Œè‘¡è„çš„åˆ†æ­§æ—¶é—´åšæ ¡å‡†ï¼Œä¹Ÿæ˜¯ç”¨http://www.timetree.org/ mcmctreeæ˜¯åœ¨æ ‘æ–‡ä»¶ä¸­åŠ å…¥æ ¡å‡†æ—¶é—´ï¼Œå¹¶ä¸”è¦åˆ é™¤æ‰€æœ‰æé•¿ã€æ ‡ç­¾ç­‰å†…å®¹ï¼Œç¬¬ä¸€è¡ŒåŠ å…¥ç‰©ç§æ•°é‡ï¼Œæ ‘çš„æ•°é‡ï¼Œç›´æ¥æ‹¿orthofinderåšçš„ç‰©ç§æ ‘Species_Tree/SpeciesTree_rooted.txtï¼Œä¿®æ”¹åçš„ç‰©ç§æ ‘é•¿è¿™ä¸ªæ ·å­ï¼š 123# ä¿®æ”¹åçš„ç‰©ç§æ ‘å‘½åä¸ºmcmctree.tree10 1((((((((As,Cg),Mt),(Av,Ap)),Vt),Cr),Vv),At)&#x27;B(1.098,1.244)&#x27;,Os)&#x27;B(1.421,1.635)&#x27;; æ³¨æ„æ ‘ä¸­çš„ç‰©ç§åç§°å’Œåºåˆ—æ¯”å¯¹æ–‡ä»¶ä¸­çš„è¦ä¸€è‡´ï¼Œæˆ‘è¿™é‡Œéšå»äº†ç‰©ç§ä¿¡æ¯ï¼ŒçŸ¥é“æ„æ€å°±è¡Œã€‚ è¿˜éœ€è¦ä¿®æ”¹ä¸€ä¸‹é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œæˆ‘å‚è€ƒç”Ÿä¿¡æŠ€å·¥çš„ä¸€ç¯‡æ–‡ç« ï¼Œå…·ä½“å‚æ•°çš„æ„æ€å°±ä¸é‡å¤é€ è½®å­äº†ï¼Œä¼°ç®—ç³»ç»Ÿæ ‘åˆ†æ­§æ—¶é—´ â€”â€” paml.mcmctree,r8s | ç”Ÿä¿¡æŠ€å·¥ (yanzhongsino.github.io) é…ç½®æ–‡ä»¶å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233 seed = -1 seqfile = mcmctree.phylip treefile = mcmctree.tree outfile = mcmc.out ndata = 1 seqtype = 2 * 0: nucleotides; 1:codons; 2:AAs usedata = 3 * 0: no data; 1:seq like; 2:use in.BV; 3: out.BV clock = 3 * 1: global clock; 2: independent rates; 3: correlated rates RootAge = &lt;2.0 * safe constraint on root age, used if no fossil for root. model = 2 * 0:JC69, 1:K80, 2:F81, 3:F84, 4:HKY85 alpha = 0 * alpha for gamma rates at sites ncatG = 5 * No. categories in discrete gamma aaRatefile = wag.dat cleandata = 0 * remove sites with ambiguity data (1:yes, 0:no)? BDparas = 1 1 0 * birth, death, sampling kappa_gamma = 6 2 * gamma prior for kappa alpha_gamma = 1 1 * gamma prior for alpha rgene_gamma = 2 2 * gamma prior for overall rates for genes sigma2_gamma = 1 10 * gamma prior for sigma^2 (for clock=2 or 3) finetune = 1: 0.1 0.1 0.1 0.01 .5 * auto (0 or 1) : times, musigma2, rates, mixing, paras, FossilErr print = 1 burnin = 8000 sampfreq = 2 nsample = 200000*** Note: Make your window wider (100 columns) before running the program. æŠŠdat/wag.datè¿™ä¸ªæ°¨åŸºé…¸æ›¿æ¢é€Ÿç‡æ–‡ä»¶å¤åˆ¶åˆ°å½“å‰ç›®å½•ä¸‹ï¼Œè·‘ç¬¬ä¸€æ¬¡mcmctree mcmctree.ctlï¼Œç”Ÿæˆout.BVè¿™ä¸ªæ–‡ä»¶ã€‚ 12345# ä¿®æ”¹out.BVæ–‡ä»¶åä¸ºin.BVmv out.BV in.BV# ä¿®æ”¹é…ç½®æ–‡ä»¶usedata = 2 å†è·‘ä¸€æ¬¡mcmctree mcmctree.ctlï¼Œå°±ç”Ÿæˆäº†FigTree.treè¿™ä¸ªåˆ†æ­§æ ‘çš„ç»“æœæ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶å¯ä»¥ç›´æ¥åœ¨Tree Gallery (chiplot.online)å¯è§†åŒ–ï¼š æ³¨æ„ä¸‹æ—¶é—´å°ºåº¦å³å¯ï¼Œè¿˜å¯ä»¥åŠ ä¸Šåœ°è´¨æ—¶é—´æ ‡å°ºç­‰ç­‰ï¼Œå¯ä»¥çœ‹å¼€å‘è€…çš„bç«™æ•™å­¦è§†é¢‘ï¼š å°é©°Codingçš„ä¸ªäººç©ºé—´-å°é©°Codingä¸ªäººä¸»é¡µ-å“”å“©å“”å“©è§†é¢‘ (bilibili.com)","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ¯”è¾ƒåŸºå› ç»„å­¦","slug":"æ¯”è¾ƒåŸºå› ç»„å­¦","permalink":"http://www.shelven.com/categories/%E6%AF%94%E8%BE%83%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"}],"tags":[{"name":"OrthoFinder","slug":"OrthoFinder","permalink":"http://www.shelven.com/tags/OrthoFinder/"},{"name":"r8s","slug":"r8s","permalink":"http://www.shelven.com/tags/r8s/"},{"name":"cafe5","slug":"cafe5","permalink":"http://www.shelven.com/tags/cafe5/"},{"name":"mcmctree","slug":"mcmctree","permalink":"http://www.shelven.com/tags/mcmctree/"}]},{"title":"åŸºå› å®¶æ—åˆ†æâ€”â€”è‡ªåŠ¨åŒ–æäº¤åœ¨çº¿ç½‘ç«™æ•°æ®å’Œå¤„ç†ç»“æœ","slug":"åŸºå› å®¶æ—åˆ†æâ€”â€”è‡ªåŠ¨åŒ–æäº¤æ•°æ®å’Œå¤„ç†ç»“æœ","date":"2023-11-10T14:01:55.000Z","updated":"2023-11-10T14:05:44.000Z","comments":true,"path":"2023/11/10/a.html","link":"","permalink":"http://www.shelven.com/2023/11/10/a.html","excerpt":"æœ€è¿‘åœ¨åšä¸€ä¸ªæ¤ç‰©ç‰©ç§çš„åŸºå› å®¶æ—åˆ†æï¼ŒèŠ±äº†ä¸€å‘¨æ—¶é—´æŠŠèƒ½åšçš„å›¾éƒ½åšäº†ä¸€éï¼Œæœ‰ç©ºå°±æŠŠæ‰€æœ‰åˆ†ææµç¨‹éƒ½è®°å½•ä¸€ä¸‹ã€‚ å…ˆè¯´ä¸€ä¸ªè›‹ç™½æ€§è´¨å’Œåºåˆ—åˆ†æä¸­ç¢°åˆ°çš„é—®é¢˜ï¼Œæˆ‘è¿™é‡Œä¹Ÿæ”¶å½•äº†ä¸å°‘è›‹ç™½ç±»çš„åœ¨çº¿åˆ†æå·¥å…·å’Œæ•°æ®åº“ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ (shelven.com)ï¼Œè¿™äº›å·¥å…·æˆ‘æ¯å¹´ä¼šåšä¸€æ¬¡æ›´æ–°ã€‚æœ‰çš„åœ¨çº¿åˆ†æç½‘ç«™åªèƒ½è¾“å…¥ä¸€æ¡åºåˆ—åˆ†æï¼Œå½“ä½ æ‰‹ä¸Šå¾ˆå¤šåºåˆ—çš„æ—¶å€™ï¼Œä¸€æ¡æ¡æ•°æ®å¤åˆ¶ç²˜è´´ï¼Œç‚¹å‡»æäº¤ï¼Œç„¶åä¸‹ä¸€ä¸ªé¡µé¢å†å¤åˆ¶ç²˜è´´ä½ è¦çš„æ•°æ®ï¼Œå±å®éº»çƒ¦&#x3D; &#x3D;","text":"æœ€è¿‘åœ¨åšä¸€ä¸ªæ¤ç‰©ç‰©ç§çš„åŸºå› å®¶æ—åˆ†æï¼ŒèŠ±äº†ä¸€å‘¨æ—¶é—´æŠŠèƒ½åšçš„å›¾éƒ½åšäº†ä¸€éï¼Œæœ‰ç©ºå°±æŠŠæ‰€æœ‰åˆ†ææµç¨‹éƒ½è®°å½•ä¸€ä¸‹ã€‚ å…ˆè¯´ä¸€ä¸ªè›‹ç™½æ€§è´¨å’Œåºåˆ—åˆ†æä¸­ç¢°åˆ°çš„é—®é¢˜ï¼Œæˆ‘è¿™é‡Œä¹Ÿæ”¶å½•äº†ä¸å°‘è›‹ç™½ç±»çš„åœ¨çº¿åˆ†æå·¥å…·å’Œæ•°æ®åº“ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ (shelven.com)ï¼Œè¿™äº›å·¥å…·æˆ‘æ¯å¹´ä¼šåšä¸€æ¬¡æ›´æ–°ã€‚æœ‰çš„åœ¨çº¿åˆ†æç½‘ç«™åªèƒ½è¾“å…¥ä¸€æ¡åºåˆ—åˆ†æï¼Œå½“ä½ æ‰‹ä¸Šå¾ˆå¤šåºåˆ—çš„æ—¶å€™ï¼Œä¸€æ¡æ¡æ•°æ®å¤åˆ¶ç²˜è´´ï¼Œç‚¹å‡»æäº¤ï¼Œç„¶åä¸‹ä¸€ä¸ªé¡µé¢å†å¤åˆ¶ç²˜è´´ä½ è¦çš„æ•°æ®ï¼Œå±å®éº»çƒ¦&#x3D; &#x3D; è¿™é‡Œå°±ç®€å•è®°å½•ä¸‹æˆ‘æœ€è¿‘ç”¨çš„å‡ ä¸ªè›‹ç™½åˆ†æåœ¨çº¿ç½‘ç«™ï¼Œä»¥åŠå¦‚ä½•åšçš„å¤§æ‰¹é‡è‡ªåŠ¨æäº¤æ•°æ®ä»¥åŠæ•´ç†ç»“æœã€‚ 1. ExPASYè¿™ä¸ªç½‘ç«™ä¸»è¦æ˜¯åšè›‹ç™½æ€§è´¨é¢„æµ‹çš„ï¼Œå¯ä»¥æä¾›æ°¨åŸºé…¸åºåˆ—é•¿åº¦ã€è›‹ç™½åˆ†å­é‡ã€ç­‰ç”µç‚¹ã€ä¸ç¨³å®šæŒ‡æ•°ã€è„‚æº¶æŒ‡æ•°å’Œäº²æ°´æŒ‡æ•°ç­‰ç­‰çš„ä¿¡æ¯ã€‚ å¯ä»¥é€šè¿‡å¦‚ä¸‹é“¾æ¥è®¿é—®å®˜ç½‘ï¼šExpasy - ProtParam tool è¿™ä¸ªç½‘ç«™å”¯ä¸€çš„ç¼ºç‚¹æ˜¯ä¸€æ¬¡åªèƒ½è¾“å…¥ä¸€æ¡åºåˆ—ï¼Œæ‰€ä»¥æˆ‘ç®€å•å†™äº†ä¸ªseleniumè„šæœ¬æ¥å®ç°è‡ªåŠ¨åŒ–è¾“å…¥åºåˆ—ï¼Œä»¥åŠæ”¶é›†æƒ³è¦çš„é¢„æµ‹ä¿¡æ¯ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465# ExPASYé¢„æµ‹ä¸“ç”¨from selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.support import expected_conditions as ECfrom selenium.webdriver.support.wait import WebDriverWaitfrom selenium.webdriver.chrome.service import Servicefrom selenium.webdriver import ChromeOptionsfrom lxml import etreeimport requestsfrom tqdm import tqdm # åŠ äº†ä¸ªè¿›åº¦æ¡# è¯»å–è›‹ç™½å’Œå­˜å‚¨åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªå­—å…¸def protein_sequence(file_path): sequences = &#123;&#125; with open(file_path, &#x27;r&#x27;) as file: content = file.read() blocks = content.split(&#x27;&gt;&#x27;) # ä»¥â€œ&gt;â€åˆ†éš”åŒºå— for block in blocks[1:]: index = block.find(&#x27;\\n&#x27;) # å¯»æ‰¾ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦ç´¢å¼•å€¼ header = block[:index] sequence = block[index + 1: -1] sequences[header] = sequence return sequences# seleniumç¨‹åºdef selenium_search(args): option = ChromeOptions() option.add_experimental_option(&#x27;excludeSwitches&#x27;, [&#x27;enable-automation&#x27;]) # é˜²æ£€æµ‹ bro = Service(executable_path = &#x27;./chromedriver.exe&#x27;) bro = webdriver.Chrome(service = bro) bro.get(&#x27;https://web.expasy.org/protparam/&#x27;) search_input = bro.find_element(By.NAME, &#x27;sequence&#x27;) for key,value in tqdm(args.items()): search_input.clear() search_input.send_keys(value) # è¾“å…¥æ¡† btn = bro.find_element(By.XPATH, &#x27;//*[@type=&quot;submit&quot;]&#x27;) btn.click() wait = WebDriverWait(bro, 2) # ä¸¤ç§’ç¼“å†² # xpath + lxmlå®šä½æ ‡ç­¾ page_text = bro.page_source tree = etree.HTML(page_text) Number_of_AA = &quot;&quot;.join(tree.xpath(&#x27;//*[@id=&quot;sib_body&quot;]/pre[2]/b[1]/following-sibling::text()[1]&#x27;)).strip() Molecular_weight = &quot;&quot;.join(tree.xpath(&#x27;//*[@id=&quot;sib_body&quot;]/pre[2]/b[2]/following-sibling::text()[1]&#x27;)).strip() Theoretical_pI = &quot;&quot;.join(tree.xpath(&#x27;//*[@id=&quot;sib_body&quot;]/pre[2]/b[3]/following-sibling::text()[1]&#x27;)).strip() Instability_index = tree.xpath(&quot;//*[contains(text(),&#x27;Instability index:&#x27;)]/following-sibling::text()[1]&quot;) Instability_index = &quot;&quot;.join(Instability_index).strip().split(&#x27; &#x27;)[8].split(&#x27;\\n&#x27;)[0] Aliphatic_index = &quot;&quot;.join(tree.xpath(&quot;//*[contains(text(),&#x27;Aliphatic index:&#x27;)]/following-sibling::text()[1]&quot;)).strip() gravy = &quot;&quot;.join(tree.xpath(&quot;//*[contains(text(),&#x27;Grand average of hydropathicity (GRAVY):&#x27;)]/following-sibling::text()[1]&quot;)).strip() # ä¿å­˜ç»“æœ with open(&#x27;ExPASY.tab&#x27;, &#x27;a&#x27;, encoding = &#x27;utf-8&#x27;) as file: file.write(f&#x27;&#123;key&#125;\\t&#123;Number_of_AA&#125;\\t&#123;Molecular_weight&#125;\\t&#123;Theoretical_pI&#125;\\t&#123;Instability_index&#125;\\t&#123;Aliphatic_index&#125;\\t&#123;gravy&#125;\\n&#x27;) bro.back() # æµè§ˆå™¨å›é€€ bro.quit()protein_file = &quot;path/to/your/protein/file&quot; ## æ”¹æˆä½ çš„è›‹ç™½æ–‡ä»¶è·¯å¾„protein_dictionary = protein_sequence(protein_file)selenium_search(protein_dictionary) è¿è¡Œçš„æ—¶å€™ä¼šè‡ªåŠ¨è°ƒç”¨chromeï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥å–æ¯èŒ¶ä¼‘æ¯ä¸€ä¸‹ç­‰ç»“æœäº†~ ç»“æœæ–‡ä»¶ExPASY.tabä¸­ä¸€å…±æœ‰tabé”®åˆ†éš”çš„7åˆ—ï¼Œåˆ†åˆ«æ˜¯è›‹ç™½åã€æ°¨åŸºé…¸åºåˆ—é•¿åº¦ã€è›‹ç™½åˆ†å­é‡ã€ç­‰ç”µç‚¹ã€ä¸ç¨³å®šæŒ‡æ•°ã€è„‚æº¶æŒ‡æ•°å’Œäº²æ°´æŒ‡æ•°ï¼ˆGRAVYï¼‰ã€‚æˆ‘è¿™é‡Œ51ä¸ªåºåˆ—åªç”¨äº†2åˆ†é’Ÿä¸åˆ°ï¼š è¿™ä¸ªç½‘é¡µæˆ‘çš„å°è±¡å¾ˆæ·±ï¼Œå› ä¸ºç»“æœç½‘é¡µä¸­æ‰€æœ‰æˆ‘è¦çš„æ•°æ®æ˜¯æ²¡æœ‰æ ‡ç­¾åŒ…è£¹çš„ï¼Œæ‰€ä»¥åªèƒ½ç”¨following-sibling::text()è¿™ç§æ–¹å¼æ¥å®šä½ä¸¤ä¸ªæ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬ã€‚è€Œä¸”å¾ˆå¥‡æ€ªï¼Œxpathå®šä½åä¸‰ä¸ªæ•°æ®çš„è·¯å¾„æ— æ³•ç”¨å‰ä¸‰ä¸ªæ•°æ®çš„å®šä½æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯b[11]ã€b[12]å’Œb[13]è¿™å‡ ä¸ªæ ‡ç­¾æ— æ³•ç”¨è·¯å¾„å®šä½ï¼Œä½†æ˜¯selenumè‡ªå¸¦çš„find_element(By.XPATH)å´å¯ä»¥ï¼Œå¯èƒ½å› ä¸ºç½‘é¡µæ˜¯åŠ¨æ€åŠ è½½çš„ï¼Ÿ å¦‚æœæ€•è®¿é—®å¤ªå¿«ipè¢«banï¼Œå¯ä»¥é€‚å½“sleepå‡ ç§’ 2. Plant-mPLocè¿™ä¸ªç½‘ç«™æ˜¯é¢„æµ‹è›‹ç™½äºšç»†èƒå®šä½çš„ï¼Œå’Œä¸Šé¢ä¸€æ ·ä¸€æ¬¡åªèƒ½æäº¤ä¸€æ¡åºåˆ—ã€‚ å¯ä»¥é€šè¿‡ä»¥ä¸‹é“¾æ¥è®¿é—®å®˜ç½‘ï¼šPlant-mPLoc server (sjtu.edu.cn) è¿™ä¸ªç½‘ç«™çš„ç»“æœé¡µé¢å¾ˆç®€å•ï¼Œä¸”å¾ˆå®¹æ˜“å®šä½åˆ°æˆ‘ä»¬æƒ³è¦çš„æ ‡ç­¾ï¼Œåªéœ€è¦æŠŠä¸Šé¢çš„ä»£ç ç¨å¾®æ”¹ä¸€æ”¹å³å¯ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354# Plant-mPLocé¢„æµ‹ä¸“ç”¨from selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.support.wait import WebDriverWaitfrom selenium.webdriver.chrome.service import Servicefrom selenium.webdriver import ChromeOptionsfrom lxml import etreefrom tqdm import tqdm# è¯»å–è›‹ç™½å’Œå­˜å‚¨åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªå­—å…¸def protein_sequence(file_path): sequences = &#123;&#125; with open(file_path, &#x27;r&#x27;) as file: content = file.read() blocks = content.split(&#x27;&gt;&#x27;) for block in blocks[1:]: index = block.find(&#x27;\\n&#x27;) header = block[:index] sequence = block[index + 1: -1] sequences[header] = sequence return sequencesdef search_selenium(args): option = ChromeOptions() option.add_experimental_option(&#x27;excludeSwitches&#x27;, [&#x27;enable-automation&#x27;]) # é˜²æ£€æµ‹ bro = Service(executable_path = &#x27;./chromedriver.exe&#x27;) bro = webdriver.Chrome(service = bro) bro.get(&#x27;http://www.csbio.sjtu.edu.cn/bioinf/plant-multi/#&#x27;) search_input = bro.find_element(By.NAME, &#x27;S1&#x27;) for key,value in tqdm(args.items()): search_input.clear() search_input.send_keys(f&quot;&gt;&#123;key&#125;\\n&#123;value&#125;&quot;) # è¾“å…¥æ¡† btn = bro.find_element(By.XPATH, &#x27;//*[@type=&quot;submit&quot;]&#x27;) btn.click() wait = WebDriverWait(bro, 2) # ä¸¤ç§’ç¼“å†² # xpath + lxmlå®šä½æ ‡ç­¾ page_text = bro.page_source tree = etree.HTML(page_text) location = tree.xpath(&#x27;/html/body/div/table/tbody/tr[8]/td/table/tbody/tr[2]/td[2]/strong/font/text()&#x27;) location = location[0].strip().replace(&#x27;.&#x27;, &#x27;&#x27;) # è¾“å‡ºç»“æœ with open(&#x27;Plant-mPLoc.tab&#x27;, &#x27;a&#x27;) as file: file.write(f&#x27;&#123;key&#125;\\t&#123;location&#125;\\n&#x27;) bro.back() # æµè§ˆå™¨å›é€€ bro.quit()protein_file = &quot;path/to/your/protein/file&quot; ## æ”¹æˆä½ çš„è›‹ç™½æ–‡ä»¶è·¯å¾„protein_dictionary = protein_sequence(protein_file)search_selenium(protein_dictionary) ç»“æœæ–‡ä»¶å°±ä¸¤åˆ—ï¼Œä¸€åˆ—æ˜¯è›‹ç™½åï¼Œä¸€åˆ—æ˜¯é¢„æµ‹çš„äºšç»†èƒå®šä½åŒºåŸŸã€‚ å¦‚æœæœ‰http connectionæŠ¥é”™ï¼ŒæŠŠç”µè„‘çš„ä»£ç†å…³äº†å³å¯ï¼ˆä¸Šé¢ä¹Ÿä¸€æ ·ï¼‰ã€‚ 3. NetPhos 3.1è¿™ä¸ªç½‘ç«™æ—¶é¢„æµ‹è›‹ç™½ç£·é…¸åŒ–ä½ç‚¹çš„ï¼Œå’Œä¸Šé¢ä¸¤ä¸ªä¸åŒï¼Œè¿™ä¸ªç½‘ç«™æ”¯æŒå¤šæ¡åºåˆ—è¾“å…¥ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ç›´æ¥å‡†å¤‡fastaæ ¼å¼çš„æ–‡ä»¶ä¸Šä¼ ã€‚ å¯ä»¥é€šè¿‡ä»¥ä¸‹ç½‘å€è®¿é—®ï¼šNetPhos 3.1 - DTU Health Tech - Bioinformatic Services è™½ç„¶æ”¯æŒå¤šæ¡åºåˆ—è¾“å…¥ï¼Œä½†æ˜¯äººå®¶ç»“æœæ˜¯ä¸€è‚¡è„‘å„¿å…¨å †åœ¨ç»“æœç½‘é¡µä¸­çš„ï¼Œä½ æ²¡æ³•æ‰“åŒ…ä¸‹è½½â€¦â€¦. å¯¹äºé¢„æµ‹çš„ç£·é…¸åŒ–ä½ç‚¹çš„å›¾ç‰‡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢æ–¹å¼æ‰¹é‡ä¸‹è½½ï¼š 123456789101112131415161718192021222324252627282930# æ‰¹é‡ä¸‹è½½NetPhosé¢„æµ‹ç»“æœå›¾import requests# è¯»å–è›‹ç™½å’Œå­˜å‚¨åºåˆ—ï¼Œè¿”å›ä¸€ä¸ªå­—å…¸def protein_sequence(file_path): sequences = &#123;&#125; with open(file_path, &#x27;r&#x27;) as file: content = file.read() blocks = content.split(&#x27;&gt;&#x27;) for block in blocks[1:]: index = block.find(&#x27;\\n&#x27;) header = block[:index] sequence = block[index + 1: -1] sequences[header] = sequence return sequencesprotein_file = &quot;your/path/to/your/protein/file&quot; ## æ”¹æˆä½ çš„è›‹ç™½æ–‡ä»¶è·¯å¾„protein_dictionary = protein_sequence(protein_file)for key in protein_dictionary: url = f&quot;https://services.healthtech.dtu.dk/services/NetPhos-3.1/tmp/your_number/netphos-3.1b.&#123;key&#125;.gif&quot; ## éœ€è¦ä¿®æ”¹æˆè‡ªå·±çš„ file_name = f&#x27;&#123;key&#125;.gif&#x27; response = requests.get(url) if response.status_code == 200: with open(file_name, &quot;wb&quot;) as file: file.write(response.content) print(f&#x27;å›¾ç‰‡&#123;file_name&#125;ä¿å­˜æˆåŠŸï¼&#x27;) else: print(f&#x27;æ— æ³•ä¸‹è½½å›¾ç‰‡:\\n&#123;url&#125;&#x27;) æ‡’å¾—å†å†™ä¸€ä¸ªå‡½æ•°äº†ï¼Œåæ­£å°±æ˜¯æ”¹ä¸¤ä¸ªåœ°æ–¹ï¼Œä¸€ä¸ªæ˜¯è›‹ç™½æ–‡ä»¶è·¯å¾„ï¼Œä¸€ä¸ªæ˜¯å›¾ç‰‡çš„urlåœ°å€ã€‚ å›¾ç‰‡urlåœ°å€æ€ä¹ˆæ‰¾å‘¢ï¼Ÿæˆ‘ä»¬åœ¨ç»“æœç½‘é¡µä¸­ï¼ŒæŒ‰F12è°ƒå‡ºæ§åˆ¶å°ï¼Œç‚¹å‡»ä¸‹é¢çš„çº¢æ¡†1å®¡æŸ¥å…ƒç´ ï¼Œå†ç‚¹å‡»ç»“æœç½‘é¡µä¸­çš„ä»»ä½•ä¸€å¼ å›¾ç‰‡ï¼Œå³è¾¹å°±ä¼šå®šä½åˆ°è¿™å¼ å›¾ç‰‡çš„imgæ ‡ç­¾ä½ç½®ï¼ŒæŸ¥çœ‹æºåœ°å€ï¼Œæˆ‘ä»¬æ˜¯å¯ä»¥å‘ç°è§„å¾‹çš„ï¼š https://services.healthtech.dtu.dk/services/NetPhos-3.1/tmp/ä½ çš„ä¸´æ—¶æ–‡ä»¶æ•°å­—/netphos-3.1b.&#123;key&#125;.gif è¿™é‡Œçš„keyå€¼å°±æ˜¯ä¸Šé¢protein_sequenceå‡½æ•°æå–çš„è›‹ç™½åï¼Œä¸ç”¨æ”¹ã€‚ å½“ç„¶ï¼Œåªæœ‰å›¾ç‰‡ä¹Ÿä¸è¡Œï¼Œæ¯•ç«Ÿè¿˜æœ‰ä¸€å †ç»“æœæ•°æ®å˜›ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»¥ä¸‹åŒºåŸŸç»Ÿè®¡ç£·é…¸åŒ–ä½ç‚¹ä¿¡æ¯ï¼š è™½ç„¶å¯ä»¥ç”¨xpathå®šä½å’Œæ­£åˆ™åŒ¹é…çš„æ–¹å¼å¾—åˆ°ä¿¡æ¯ï¼Œä½†æ˜¯å†™æ­£åˆ™è¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦â€¦.ç›´æ¥æŠŠæ•´ä¸ªç½‘é¡µå†…å®¹å…¨é€‰ï¼Œä¿å­˜ä¸ºresult.txtæ–‡ä»¶ä¿å­˜åœ¨æœ¬åœ°ï¼Œç„¶åç”¨ä»¥ä¸‹ä»£ç ç»Ÿè®¡ç£·é…¸åŒ–ä¿¡æ¯ï¼š 123456789101112131415161718192021222324252627282930# ç»Ÿè®¡NetPhos 3.1é¢„æµ‹çš„ç£·é…¸åŒ–ä½ç‚¹protein_dictionary = &#123;&#125;Serine = 0Threonine = 0Tyrosine = 0with open(&#x27;result.txt&#x27;, &#x27;r&#x27;) as f: for line in f: if line.strip(): if line.startswith(&quot;&gt;&quot;): gene = line.strip().split(&#x27;\\t&#x27;)[0] if line.startswith(&quot;%1&quot;): Serine += line.count(&quot;S&quot;) Threonine += line.count(&quot;T&quot;) Tyrosine += line.count(&quot;Y&quot;) else: if gene in protein_dictionary: continue else: protein_dictionary[gene] = [Serine, Threonine, Tyrosine] Serine = 0 Threonine = 0 Tyrosine = 0with open(&quot;classification.txt&quot;, &#x27;a&#x27;) as out: for key, value in protein_dictionary.items(): total = sum(value) out.write(key[1:] + &#x27;\\t&#x27; + &#x27;\\t&#x27;.join(map(str, value)) + &#x27;\\t&#x27; + str(total) + &#x27;\\n&#x27;) ä¹Ÿæ˜¯ç®€å•ç»Ÿè®¡å„ä¸ªè›‹ç™½çš„ç£·é…¸åŒ–ä¿¡æ¯ï¼Œç»“æœæ–‡ä»¶classification.txtä¸€å…±æœ‰5åˆ—ï¼Œåˆ†åˆ«æ˜¯è›‹ç™½åã€ä¸æ°¨é…¸ç£·é…¸åŒ–ä½ç‚¹æ•°ã€è‹æ°¨é…¸ç£·é…¸åŒ–ä½ç‚¹æ•°ã€é…ªæ°¨é…¸ç£·é…¸åŒ–ä½ç‚¹æ•°å’Œæ€»çš„ç£·é…¸åŒ–ä½ç‚¹æ•°ã€‚å¦‚ä¸‹ï¼š å¯ä»¥è‡ªå·±åœ¨æœ€ä¸Šæ–¹åŠ ä¸Šå¯¹åº”çš„ä¿¡æ¯ã€‚ 4. Phyre2è¿™ä¸ªç½‘ç«™æ˜¯é¢„æµ‹è›‹ç™½ä¸‰ç»´ç»“æ„çš„ï¼Œå¯¹äºæ³¨å†Œä¿¡æ¯çš„ç”¨æˆ·ï¼Œå®˜æ–¹æä¾›æ‰¹é‡é¢„æµ‹çš„é€šé“ï¼ˆæ³¨å†Œåªè¦é‚®ç®±ï¼‰ã€‚ å®˜ç½‘å¦‚ä¸‹ï¼šPHYRE2 Protein Fold Recognition Server (ic.ac.uk) å†æ¬¡æé†’ï¼Œæ‰¹é‡é¢„æµ‹ä¸€å®šè¦æ³¨å†Œä¿¡æ¯ï¼æ³¨å†Œåç‚¹å‡»å·¦ä¸Šè§’Expert Modeï¼Œé€‰æ‹©Batch processingï¼Œå¦‚ä¸‹ï¼š ä¸è¦è·‘äº†åŠå¤©å‘ç°åªé¢„æµ‹äº†ä¸€æ¡æ•°æ®ï¼ˆè¯´çš„å°±æ˜¯æˆ‘â€¦â€¦.ï¼‰ã€‚ å•æ¡åºåˆ—çš„è¯ç»“æœæ–‡ä»¶ä¼šé€šè¿‡é‚®ä»¶é™„ä»¶ç›´æ¥å‘é€ç»™ä½ ï¼Œå¦‚æœæ˜¯batch processingï¼Œä¼šæé†’ä½ åˆ°ä»–ä»¬çš„ç½‘ç«™æŸ¥çœ‹ç»“æœã€‚ ä¸‹è½½ä¸Šé¢çš„å‹ç¼©åŒ…è§£å‹ï¼ˆé‡Œé¢æ˜¯é¢„æµ‹çš„æœ€ä¼˜3Dæ¨¡å‹æ•°æ®ï¼‰ï¼Œä½ ä¼šå‘ç°é‡Œé¢éƒ½æ˜¯å“ˆå¸Œå€¼å‘½åçš„æ–‡ä»¶ï¼Œä¸è¿‡é—®é¢˜ä¸å¤§ï¼Œæœ‰ä¸€ä¸ªsummaryinfoæ–‡ä»¶è®°å½•äº†è›‹ç™½åå’Œå“ˆå¸Œå€¼ä¹‹é—´çš„å…³ç³»ï¼Œå…ˆå¤„ç†ä¸€ä¸‹å¹¶ä¸”é‡å‘½åpdbæ–‡ä»¶ï¼š 1234567891011121314151617# é‡å‘½åpdbæ–‡ä»¶import os## æå–æ–‡ä»¶å¯¹åº”å…³ç³»filename = &#123;&#125;with open(&#x27;1293015811e6f396/summaryinfo&#x27;, &#x27;r&#x27;) as f: for line in f: if line.startswith(&quot;A&quot;): gene = line.split(&#x27; &#x27;)[0] file = line.split(&#x27; &#x27;)[2] filename[gene] = file# æ–‡ä»¶é‡å‘½åfor key, value in filename.items(): old_filename = f&#x27;1293015811e6f396/&#123;value&#125;.final.pdb&#x27; new_filename = f&#x27;1293015811e6f396/&#123;key&#125;.pdb&#x27; os.rename(old_filename, new_filename) è·¯å¾„åç”¨è‡ªå·±çš„å°±ä¸è§£é‡Šäº†ï¼Œpdbæ–‡ä»¶æ˜¯è®°å½•è›‹ç™½ä¸‰çº§ç»“æ„çš„æ–‡ä»¶ï¼Œæˆ‘ä»¬ä¸€ä¼šå„¿è¿˜è¦ç”¨ã€‚ åœ¨ä¸Šé¢çš„é‚£ä¸ªç»“æœé¡µé¢ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»Statusæ çš„Finishedï¼ŒæŸ¥çœ‹æ¯æ¡åºåˆ—çš„é¢„æµ‹è¯¦ç»†ç»“æœï¼Œå®˜ç½‘è™½ç„¶ä¹Ÿç»™å‡ºäº†3Dæ¨¡å‹é¢„æµ‹å›¾ï¼Œä½†æ˜¯åƒç´ æ¯”è¾ƒä½ï¼Œè€Œä¸”é»‘ä¹ä¹çš„ä¸å¥½çœ‹ï¼Œä¸€ä¼šå„¿æˆ‘ä»¬å¯ä»¥ç”¨PyMOLç¾åŒ–ä¸€ä¸‹ã€‚è¿™é‡Œæ‹‰åˆ°æœ€åº•ä¸‹è¿˜å¯ä»¥çœ‹åˆ°è·¨è†œèºæ—‹çš„é¢„æµ‹ç»“æœï¼š è¿™ä¸ªå›¾ä¹Ÿå¯ä»¥ç”¨ï¼ŒæŒ‰ç…§å‰é¢çˆ¬å›¾ç‰‡çš„æ–¹æ³•ï¼Œä¹Ÿæ˜¯F12å‘¼å‡ºæ§åˆ¶å°ï¼Œå®¡æŸ¥è¿™ä¸ªå›¾ç‰‡å…ƒç´ ï¼Œä½ ä¼šå‘ç°è¿™ä¸ªå›¾ç‰‡çš„urlä¹Ÿæ˜¯æœ‰è§„å¾‹çš„ï¼Œä¸­é—´æœ‰ä¸€æ®µå“ˆå¸Œå€¼å°±æ˜¯summaryinfoæ–‡ä»¶ä¸­çš„å“ˆå¸Œå€¼ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸‹é¢è„šæœ¬æ‰¹é‡ä¸‹è½½ï¼š 123456789101112131415161718192021222324# æ‰¹é‡ä¸‹è½½phyre2çš„è·¨è†œèºæ—‹é¢„æµ‹å›¾ç‰‡import requests# æå–urlfilename = &#123;&#125;with open(&#x27;1293015811e6f396/summaryinfo&#x27;, &#x27;r&#x27;) as f: for line in f: if line.startswith(&quot;A&quot;): gene = line.split(&#x27; &#x27;)[0] file = line.split(&#x27; &#x27;)[2] filename[gene] = file# ä¸‹è½½å›¾ç‰‡for key, value in filename.items(): image_url = f&#x27;http://www.sbg.bio.ic.ac.uk/phyre2/phyre2_output/&#123;value&#125;/query_cartoon_memsat_svm.png&#x27; file_name = f&#x27;&#123;key&#125;.png&#x27; response = requests.get(image_url) if response.status_code == 200: with open(file_name, &quot;wb&quot;) as file: file.write(response.content) print(f&#x27;å›¾ç‰‡&#123;file_name&#125;ä¿å­˜æˆåŠŸï¼&#x27;) else: print(f&#x27;æ— æ³•ä¸‹è½½å›¾ç‰‡:\\n&#123;image_url&#125;&#x27;) 5. PyMOLè¿™æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å­ä¸‰ç»´ç»“æ„æ˜¾ç¤ºè½¯ä»¶ï¼Œä¸è¿‡åæ¥å•†ä¸šåŒ–äº†â€¦.å¥½æ¶ˆæ¯æ˜¯å’±ä»¬å­¦ç”Ÿå¯ä»¥ç”³è¯·æ•™è‚²ç‰ˆè®¤è¯ï¼Œä¹Ÿæ˜¯ç•™ä¸‹é‚®ç®±å³å¯ï¼Œè®¤è¯çš„è¿‡ç¨‹å°±ä¸è¯´äº†ã€‚æœ€åæˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªè®¤è¯è¯ä¹¦ï¼Œåœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨è½¯ä»¶çš„æ—¶å€™ä¼šæé†’æˆ‘ä»¬è®¤è¯ã€‚ è¿™ä¸ªä¸æ˜¯åœ¨çº¿å·¥å…·ï¼Œæƒ³äº†æƒ³è¿˜æ˜¯é¡ºä¾¿æ”¾ä¸Šæ¥äº†ï¼Œä¸»è¦ç”¨æ¥ç»™Phyre2é¢„æµ‹çš„3Dæ¨¡å‹æ‰¹é‡è°ƒæ•´çš„ã€‚ ä½¿ç”¨æ–¹æ³•ä¸ä»‹ç»äº†ï¼Œç½‘ä¸Šæ•™ç¨‹ä¸€å¤§å †ï¼Œå°±æ¥ç€ä¸Šé¢çš„æ­¥éª¤ã€‚è¿™ä¸ªå·¥å…·çš„ä¼˜ç‚¹åœ¨äºå¯ä»¥ç”¨å‘½ä»¤è¡Œè·‘ï¼Œå…¼å®¹pythonï¼ˆäººå®¶æœ¬æ¥å°±æ˜¯pythonå†™çš„ï¼‰ï¼Œå†™ä¸€ä¸ªæ‰¹é‡å¤„ç†çš„è„šæœ¬ï¼š 123456789101112131415161718192021# è·¯å¾„æ ¹æ®éœ€è¦ä¿®æ”¹ï¼Œåªèƒ½åœ¨pymolè½¯ä»¶ä¸­è·‘from pymol import cmd# è·å–æ–‡ä»¶åfilename = []with open(&#x27;1293015811e6f396/summaryinfo&#x27;, &#x27;r&#x27;) as f: for line in f: if line.startswith(&quot;A&quot;): file = line.split(&#x27; &#x27;)[0] filename.append(file) # æ‰¹é‡å¤„ç†å’Œä¿å­˜for i in filename: file_path = f&#x27;1293015811e6f396/&#123;i&#125;.pdb&#x27; cmd.load(file_path) cmd.bg_color(&#x27;white&#x27;) # ç™½è‰²èƒŒæ™¯ cmd.spectrum(expression=&quot;count&quot;, palette=&quot;rainbow&quot;) # ä¸Šè‰² cmd.ray(2000,2000) # æ¸²æŸ“ new_path = f&#x27;3D_models/Models/&#123;i&#125;.png&#x27; cmd.save(new_path) cmd.delete(&#x27;all&#x27;) # ä¸å åŠ ä¸€å®šè¦delete æ‰“å¼€è½¯ä»¶ï¼Œç‚¹å‡»Fileâ€”â€”Run Scriptï¼Œè¿è¡Œä¸Šé¢çš„pythonè„šæœ¬ï¼š å°±å¯ä»¥é™é™ç­‰å¾…å‡ºå›¾å•¦~ æˆ‘è¿™é‡Œå°±æ˜¯ç®€å•æŠŠé»‘ä¹ä¹çš„èƒŒæ™¯æ”¹æˆäº†ç™½è‰²ï¼Œå¦‚æœæƒ³æé«˜æ¸²æŸ“è´¨é‡ï¼Œå¯ä»¥æŠŠcmd.ray()å‡½æ•°çš„å‚æ•°å†è°ƒé«˜ï¼Œä»¥åŠå…¶ä»–ä¸ªæ€§åŒ–çš„å¤„ç†ã€‚å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚ï¼ŒæŸ¥çœ‹PyMOLçš„å‘½ä»¤è¡Œæ‰‹å†Œï¼šPyMOL Command Reference","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› å®¶æ—åˆ†æ","slug":"åŸºå› å®¶æ—åˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"ExPASY","slug":"ExPASY","permalink":"http://www.shelven.com/tags/ExPASY/"},{"name":"Plant-mPLoc","slug":"Plant-mPLoc","permalink":"http://www.shelven.com/tags/Plant-mPLoc/"},{"name":"NetPhos 3.1","slug":"NetPhos-3-1","permalink":"http://www.shelven.com/tags/NetPhos-3-1/"},{"name":"Phyre2","slug":"Phyre2","permalink":"http://www.shelven.com/tags/Phyre2/"},{"name":"PyMOL","slug":"PyMOL","permalink":"http://www.shelven.com/tags/PyMOL/"}]},{"title":"pythonè§£å†³githubçš„2FAè®¤è¯","slug":"pythonè§£å†³githubçš„2FAè®¤è¯","date":"2023-11-01T09:18:54.000Z","updated":"2023-11-01T09:40:30.000Z","comments":true,"path":"2023/11/01/a.html","link":"","permalink":"http://www.shelven.com/2023/11/01/a.html","excerpt":"ä»Šå¤©æ”¶åˆ°ä¸€å°æ¥è‡ªgithubçš„é‚®ä»¶ï¼Œå¤§è‡´çš„æ„æ€æ˜¯éœ€è¦æˆ‘åœ¨ä¸€ä¸ªåŠæœˆå†…å®Œæˆ2FAè®¤è¯ï¼Œå¦åˆ™åç»­å°†æ— æ³•ç™»å½•githubã€‚","text":"ä»Šå¤©æ”¶åˆ°ä¸€å°æ¥è‡ªgithubçš„é‚®ä»¶ï¼Œå¤§è‡´çš„æ„æ€æ˜¯éœ€è¦æˆ‘åœ¨ä¸€ä¸ªåŠæœˆå†…å®Œæˆ2FAè®¤è¯ï¼Œå¦åˆ™åç»­å°†æ— æ³•ç™»å½•githubã€‚ 2FA2FAè®¤è¯æŒ‡çš„æ˜¯åŒå› å­è®¤è¯ï¼ˆTwo Factor Authenticationï¼‰ï¼Œè¿™é‡Œçš„å› å­æ˜¯èº«ä»½è®¤è¯å› å­ï¼Œæˆ‘ä»¬å¹³å¸¸ç™»å½•ç½‘ç«™æˆ–è€…åœ¨appä¸­è®¾ç½®çš„è´¦æˆ·å¯†ç æ˜¯å±äºç§˜å¯†ä¿¡æ¯å› å­ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ç‰©å“å› å­ï¼ˆæ¯”å¦‚æ¸¸æˆè¡Œä¸šçš„â€œå°†å†›ä»¤â€ï¼Œé“¶è¡Œå¡ç½‘é“¶ç›¾ï¼ŒéªŒè¯ç ï¼‰ï¼Œç”Ÿç‰©ç‰¹å¾å› å­ï¼ˆæ¯”å¦‚æŒ‡çº¹ï¼Œé¢éƒ¨ç‰¹å¾ï¼‰ï¼Œä½ç½®å› å­ï¼ˆæ¯”å¦‚ç‰¹å®šè®¾å¤‡ï¼Œç‰¹å®šä½ç½®ï¼Œç‰¹å®šipï¼‰ç­‰ï¼Œæœ‰ä¸¤ä¸ªå› å­éªŒè¯ç”¨æˆ·ä¿¡æ¯çš„éƒ½æ˜¯2FAè®¤è¯ã€‚ é‚®ä»¶ä¸­githubç»™å‡ºäº†ä»¥ä¸‹å‡ ç§å½¢å¼çš„2FAè®¤è¯ï¼š Security keyï¼šç¡¬ä»¶ä¿¡æ¯ç”Ÿæˆå®‰å…¨å¯†é’¥ï¼Œå¯ä»¥ç”¨usbç§»åŠ¨ç¡¬ç›˜ã€iPhoneã€iPadã€Androidè®¾å¤‡ï¼ˆåä¸‰è€…è¦æ‰«æQRç ï¼‰ GitHub Mobileï¼šgithubçš„æ‰‹æœºapp Authenticator application (TOTP)ï¼šéªŒè¯å™¨åº”ç”¨ï¼Œä½¿ç”¨çš„ç®—æ³•æ˜¯ä¸€ç§åŸºäºæ—¶é—´çš„ä¸€æ¬¡æ€§å¯†ç ç®—æ³•ï¼ˆTOTPï¼‰ Text messages (SMS)ï¼šçŸ­ä¿¡éªŒè¯ï¼Œå›½å†…çš„æ‰‹æœºä¸å¯ä»¥ pyotpåº“æˆ‘ç¬¬ä¸€æ¬¡è¿›è¡Œ2FAè®¤è¯çš„æ—¶å€™ï¼Œå®˜æ–¹2FAé¡µé¢åªæä¾›äº†éªŒè¯å™¨åº”ç”¨çš„é€‰é¡¹ï¼š å®˜æ–¹æ¨èçš„åº”ç”¨æ˜¯1Passwordï¼ŒAuthyï¼ŒMicrosoft Authenticatorã€‚ç”¨è¿‡1Passwordçš„å°ä¼™ä¼´åº”è¯¥çŸ¥é“ï¼Œè¿™ä¸ªåº”ç”¨ç®¡ç†å’Œç”Ÿæˆå„ç§ç½‘ç«™å¯†ç ç¡®å®å¥½ç”¨ï¼Œå”¯ä¸€çš„ç¼ºç‚¹æ˜¯æ”¶è´¹ï¼ˆå­¦ç”Ÿå¯ä»¥ç”³è¯·6ä¸ªæœˆå…è´¹ï¼‰ã€‚å…¶ä»–çš„åº”ç”¨ä¸äº†è§£ï¼Œç±»ä¼¼çš„éªŒè¯å™¨åº”ç”¨è¿˜æœ‰ä¸ªå¼€æºçš„Authenticator Proï¼Œå—¯â€¦â€¦.ä¸è¿‡è¿™äº›ç”¨çš„2FAè®¤è¯éƒ½æ˜¯åŸºäºTOTPç®—æ³•ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ç”¨pythonçš„pyotpåº“å®ç°ä¸€æ ·çš„åŠŸèƒ½ã€‚ pyotpåº“ä¸æ˜¯pythonè‡ªå¸¦çš„ï¼Œéœ€è¦åœ¨å‘½ä»¤è¡Œç»ˆç«¯å®‰è£…: 1pip install pyotp æˆ‘ä»¬å¯ä»¥ç›´æ¥æ‰«ç æˆ–è€…ç‚¹å‡»çº¢æ¡†ä¸­çš„setup_keyè·å¾—githubç»™æˆ‘ä»¬åˆ›å»ºçš„å¯†é’¥ï¼ˆæœ¬åœ°ä¿å­˜ä¸€ä»½ï¼‰ï¼Œç„¶åè¿è¡Œä»¥ä¸‹pythonä»£ç ï¼š 123456import pyotpsecret_key = &quot;ä½ çš„å¯†é’¥å­—ç¬¦ä¸²&quot;totp = pyotp.TOTP(secret_key)val = totp.now()print(val) æŠŠè¾“å‡ºçš„6ä¸ªæ•°å­—éªŒè¯ç è¾“å…¥æ¡†å†…ï¼š ç¬¬äºŒæ­¥å°±ä¼šå¾—åˆ°ä¸€ä¸ªå¤‡ç”¨çš„æ¢å¤å¯†é’¥ï¼Œä¹Ÿä¸‹è½½åˆ°æœ¬åœ°ä¿å­˜èµ·æ¥ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€ã€‚ æ¥ç€ç‚¹å‡»ä¸‹ä¸€æ­¥å°±å®Œæˆäº†githubçš„2FAéªŒè¯ï¼Œå¦‚æœæ“ä½œæ—¶é—´å¤ªé•¿è®¤è¯å¤±è´¥ï¼Œå°±è¿”å›ç¬¬ä¸€æ­¥é‡æ–°æ¥ä¸€éã€‚ æˆ‘ä»¬ç”¨çš„TOTPç®—æ³•æ˜¯åŸºäºæ—¶é—´åŒæ­¥çš„ï¼Œé»˜è®¤æƒ…å†µä¸‹éªŒè¯ç æœ‰æ•ˆæœŸåªæœ‰30ç§’ï¼ˆé»˜è®¤ä¸€ä¸ªæ­¥é•¿çš„æ—¶é—´ï¼Œå¦‚æœæ²¡æœ‰æ—¶å»¶çª—å£ä¸Šä¸€æ¬¡ç”Ÿæˆçš„å¯èƒ½å°±ä¼šå¤±æ•ˆï¼‰ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å…±äº«äº†ä¸€ä¸ªåˆå§‹çš„å¯†é’¥ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€æ­¥å¾—åˆ°çš„setup_keyï¼‰ï¼Œä¸¤è¾¹è®¡ç®—ç»“æœç›¸åŒæ—¶æ‰ä¼šè®¤è¯æˆåŠŸã€‚ä¸çŸ¥é“ä»¥ågithubç”¨åˆ°2FAè®¤è¯ä¼šä¸ä¼šæ›´æ–°åˆå§‹å¯†é’¥ï¼Œæš‚æ—¶ä¿ç•™ç€ä»¥é˜²ä¸‡ä¸€ã€‚","categories":[{"name":"github","slug":"github","permalink":"http://www.shelven.com/categories/github/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"Pythonè‡ªå­¦ç¬”è®°ï¼ˆ9ï¼‰â€”â€”Numpyåº“","slug":"Pythonè‡ªå­¦ç¬”è®°ï¼ˆ9ï¼‰â€”â€”Numpyåº“","date":"2023-10-26T08:50:02.000Z","updated":"2023-10-26T08:51:58.000Z","comments":true,"path":"2023/10/26/a.html","link":"","permalink":"http://www.shelven.com/2023/10/26/a.html","excerpt":"Numpy(Numerical Python)æ˜¯pythonçš„ä¸€ä¸ªè¯­è¨€æ‹“å±•ç¨‹åºåº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„å¤šç»´æ•°ç»„å¯¹è±¡ï¼ˆndarrayï¼‰ï¼Œä»¥åŠç”¨äºæ“ä½œæ•°ç»„çš„å‡½æ•°å’Œå·¥å…·ã€‚NumPyæ˜¯è®¸å¤šå…¶ä»–ç§‘å­¦è®¡ç®—åº“å’Œæ•°æ®åˆ†æåº“çš„åŸºç¡€ï¼Œå¦‚SciPy(Scientfic Python)ã€Pandaså’ŒMatplotlib(ç»˜å›¾åº“)ã€‚","text":"Numpy(Numerical Python)æ˜¯pythonçš„ä¸€ä¸ªè¯­è¨€æ‹“å±•ç¨‹åºåº“ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå¼ºå¤§çš„å¤šç»´æ•°ç»„å¯¹è±¡ï¼ˆndarrayï¼‰ï¼Œä»¥åŠç”¨äºæ“ä½œæ•°ç»„çš„å‡½æ•°å’Œå·¥å…·ã€‚NumPyæ˜¯è®¸å¤šå…¶ä»–ç§‘å­¦è®¡ç®—åº“å’Œæ•°æ®åˆ†æåº“çš„åŸºç¡€ï¼Œå¦‚SciPy(Scientfic Python)ã€Pandaså’ŒMatplotlib(ç»˜å›¾åº“)ã€‚ SciPyï¼šå¼€æºçš„pythonç®—æ³•åº“å’Œæ•°å­¦å·¥å…·åŒ…ï¼ŒåŒ…å«çš„æ¨¡å—æœ‰æœ€ä¼˜åŒ–ã€çº¿æ€§ä»£æ•°ã€ç§¯åˆ†ã€æ’å€¼ã€å¿«é€Ÿå‚…é‡Œå¶å˜æ¢ã€ä¿¡å·å¤„ç†å’Œå›¾åƒå¤„ç†ç­‰ Pandasï¼šå¦ä¸€ä¸ªæ•°æ®å¤„ç†å’Œåˆ†æå·¥å…·ï¼Œæ ¸å¿ƒæ•°æ®ç»“æ„æ˜¯ä¸¤ç§ç±»å‹çš„å¯¹è±¡ï¼šSeries å’Œ DataFrame Matplotlibï¼šNumpyçš„å¯è§†åŒ–æ“ä½œç•Œé¢ï¼Œåˆ©ç”¨é€šç”¨çš„å›¾å½¢ç”¨æˆ·ç•Œé¢å·¥å…·åŒ…ï¼ˆå¦‚Tkinterï¼‰å‘åº”ç”¨ç¨‹åºåµŒå…¥å¼ç»˜å›¾æä¾›API Numpyå®˜æ–¹æ‰‹å†Œï¼š NumPy user guide â€” NumPy v1.26 Manual 1. æ•°æ®ç±»å‹Numpyæ”¯æŒçš„æ•°æ®ç±»å‹å¯ä»¥å’ŒCè¯­è¨€çš„æ•°æ®ç±»å‹å¯¹åº”ä¸Šï¼Œå’Œpythonå†…ç½®çš„å…­å¤§æ•°æ®ç±»å‹ç›¸æ¯”ï¼ŒNumpyæä¾›çš„æ•°æ®ç±»å‹ç›¸åº”çš„è¦ç»†åˆ†å¾ˆå¤šï¼Œä»¥ä¸‹æ˜¯å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼š åç§° æ¦‚è¿° bool_ å¸ƒå°”å‹æ•°æ®ç±»å‹ï¼ˆTrueæˆ–Falseï¼‰ int_ é»˜è®¤çš„æ•´æ•°ç±»å‹ï¼ˆCè¯­è¨€ä¸­çš„longï¼Œint32æˆ–int64ï¼‰ intc cçš„intç±»å‹ï¼Œint32æˆ–int64 intp ç´¢å¼•çš„æ•´æ•°ç±»å‹ int8 æ•´æ•° -128 to 127 int16 æ•´æ•° -32768 to 32767 int32 æ•´æ•° -2147483648 to 2147483647 int64 æ•´æ•° -9223372036854775808 to 9223372026854775807 uint8 æ— ç¬¦å·æ•´æ•° 0 to 255 uint16 æ— ç¬¦å·æ•´æ•° 0 to 65535 uint32 æ— ç¬¦å·æ•´æ•° 0 to 4294967295 uint64 æ— ç¬¦å·æ•´æ•° 0 to 18446744073709551615 float_ float64ç±»å‹ complex_ complex128ç±»å‹ï¼Œ128ä½å¤æ•° bytes_ å­—èŠ‚åºåˆ—æ•°æ®ç±»å‹ï¼Œå¯ä»¥åŒ…å«ä»»æ„å­—èŠ‚å€¼ï¼Œé€šå¸¸ç”¨äºå¤„ç†åŸå§‹çš„äºŒè¿›åˆ¶æ•°æ® str_ å­—ç¬¦ä¸²æ•°æ®ç±»å‹ï¼Œå­˜å‚¨ Unicode å­—ç¬¦ä¸²æ•°æ® åœ¨numpyä¸­ï¼Œæ•°æ®ç±»å‹æ˜¯é€šè¿‡ dtype å¯¹è±¡æ¥è¡¨ç¤ºçš„ã€‚dtype å¯¹è±¡æè¿°äº†æ•°æ®åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ï¼ŒåŒ…æ‹¬æ•°æ®çš„ç±»å‹ï¼ˆæ•´æ•°ã€æµ®ç‚¹æ•°ç­‰ï¼‰å’Œå­—èŠ‚å¤§å°ç­‰ä¿¡æ¯ã€‚æ¯ä¸ªæ•°æ®ç±»å‹éƒ½å¯¹åº”ä¸€ä¸ªå”¯ä¸€çš„å­—ç¬¦ç ï¼ˆCharacter Codeï¼‰ï¼Œç”¨äºæ ‡è¯†è¯¥æ•°æ®ç±»å‹ã€‚ dtype å¯¹è±¡æœ¬èº«æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒæœ‰å¤šä¸ªå±æ€§å’Œæ–¹æ³•æ¥æè¿°å’Œæ“ä½œæ•°æ®ç±»å‹ã€‚ä¾‹å¦‚ï¼Œint32 æ•°æ®ç±»å‹çš„ dtype å¯¹è±¡å¯ä»¥é€šè¿‡ np.int32 æˆ– np.dtype(&#39;int32&#39;) æ¥åˆ›å»ºã€‚å®ƒçš„å­—ç¬¦ç æ˜¯ &#39;i&#39;ï¼Œç”¨äºè¡¨ç¤ºæ•´æ•°ç±»å‹ã€‚ 2. åˆ›å»ºæ•°ç»„Numpyæœ€å¤§çš„ç‰¹å¾ï¼ˆæˆ–è€…è¯´æ˜¯æ ¸å¿ƒï¼‰æ˜¯å…¶æä¾›çš„Nç»´æ•°ç»„å¯¹è±¡ndarrayï¼ˆN-dimensional arrayï¼Œå¤šç»´æ•°ç»„ï¼‰ï¼Œå…¶æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š å¤šç»´æ•°ç»„ï¼šndarrayæ˜¯ä¸€ä¸ªå¤šç»´æ•°ç»„å¯¹è±¡ æ•°æ®ç±»å‹ï¼šndarrayä¸­çš„å…ƒç´ å…·æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ï¼Œé€šå¸¸æ˜¯æ•°å€¼ç±»å‹ï¼Œå¦‚æ•´æ•°ï¼ˆintï¼‰ã€æµ®ç‚¹æ•°ï¼ˆfloatï¼‰æˆ–å¤æ•°ï¼ˆcomplexï¼‰ å½¢çŠ¶ï¼šndarrayå¯¹è±¡çš„å½¢çŠ¶ç”¨äºæè¿°æ•°ç»„çš„ç»´åº¦ã€‚ä¾‹å¦‚ï¼Œä¸€ç»´æ•°ç»„çš„å½¢çŠ¶æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ•°ç»„çš„é•¿åº¦ï¼›äºŒç»´æ•°ç»„çš„å½¢çŠ¶æ˜¯ä¸€ä¸ªå…ƒç»„ï¼ˆrows, columnsï¼‰ï¼Œè¡¨ç¤ºæ•°ç»„çš„è¡Œæ•°å’Œåˆ—æ•° å¤§å°ï¼šndarrayå¯¹è±¡çš„å¤§å°ç­‰äºæ•°ç»„å½¢çŠ¶ä¸­å„ä¸ªç»´åº¦çš„ä¹˜ç§¯ï¼Œå¯ä»¥é€šè¿‡ndarrayå¯¹è±¡çš„sizeå±æ€§è·å– å†…å­˜å¸ƒå±€ï¼šndarrayå¯¹è±¡åœ¨å†…å­˜ä¸­ä»¥è¿ç»­çš„æ–¹å¼å­˜å‚¨æ•°æ®ã€‚è¿™ç§è¿ç»­å­˜å‚¨çš„æ–¹å¼ä½¿å¾—å¯¹æ•°ç»„çš„è®¿é—®å’Œæ“ä½œæ›´åŠ é«˜æ•ˆ ç´¢å¼•å’Œåˆ‡ç‰‡ï¼šå¯ä»¥ä½¿ç”¨ç´¢å¼•å’Œåˆ‡ç‰‡æ“ä½œè®¿é—®ndarrayå¯¹è±¡ä¸­çš„å…ƒç´ ã€‚ä¸€ç»´æ•°ç»„çš„ç´¢å¼•ç±»ä¼¼äºPythonçš„åˆ—è¡¨ç´¢å¼•ï¼ˆ0ä¸‹æ ‡å¼€å§‹ï¼‰ï¼Œè€Œå¤šç»´æ•°ç»„å¯ä»¥ç”¨æ•´æ•°æ•°ç»„ç´¢å¼•ç­‰æ¥è®¿é—®ç‰¹å®šçš„å…ƒç´ æˆ–åˆ‡ç‰‡ å¹¿æ’­ï¼ˆBroadcastingï¼‰ï¼šndarray æ”¯æŒå¹¿æ’­æ“ä½œï¼Œå¯ä»¥åœ¨ä¸åŒå½¢çŠ¶çš„æ•°ç»„ä¹‹é—´è¿›è¡Œè¿ç®—ï¼ŒNumPy ä¼šè‡ªåŠ¨è¿›è¡Œå½¢çŠ¶çš„è°ƒæ•´ï¼Œä½¿å¾—è¿ç®—èƒ½å¤Ÿè¿›è¡Œ ndarrayå°±ç±»ä¼¼äºpythonä¸­çš„listï¼Œåªä¸è¿‡ndarrayåªèƒ½å­˜å‚¨åŒä¸€ä¸ªç±»å‹çš„æ•°æ®ã€‚ æˆ‘ä»¬å¯ä»¥ç›´æ¥ç”¨ndarrayæ„é€ å™¨æ¥åˆ›å»ºæ•°ç»„ï¼š 123456789101112131415161718import numpy as npa = np.array([1, 2, 3])print(a)print(a.dtype)&#x27;&#x27;&#x27;[1 2 3]int32&#x27;&#x27;&#x27;# æ•°ç»„çš„ç±»å‹å¯ä»¥åœ¨åˆ›å»ºæ—¶æ˜¾å¼æŒ‡å®š(ä¸æŒ‡å®šé»˜è®¤æ˜¯float64)b = np.array([[1, 2, 3], [4, 5, 6]], dtype=complex)print(b)&#x27;&#x27;&#x27;[[1.+0.j 2.+0.j 3.+0.j] [4.+0.j 5.+0.j 6.+0.j]]&#x27;&#x27;&#x27; ä¹Ÿå¯ä»¥ç”¨å…¶ä»–æ–¹å¼åˆ›å»ºæ•°ç»„ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940# .zeroåˆ›å»ºæŒ‡å®šå¤§å°æ•°ç»„ï¼Œå…ƒç´ ä»¥0å¡«å……np.zeros((2, 2, 3))&#x27;&#x27;&#x27;array([[[0., 0., 0.], [0., 0., 0.]], [[0., 0., 0.], [0., 0., 0.]]])&#x27;&#x27;&#x27;# .onesåˆ›å»ºæŒ‡å®šå¤§å°æ•°ç»„ï¼Œå…ƒç´ ä»¥1å¡«å……np.ones((2, 3, 4), dtype=np.int16)&#x27;&#x27;&#x27;array([[[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]], [[1, 1, 1, 1], [1, 1, 1, 1], [1, 1, 1, 1]]], dtype=int16)&#x27;&#x27;&#x27;# .emptyåˆ›å»ºä¸€ä¸ªæŒ‡å®šå½¢çŠ¶ï¼ˆshapeï¼‰ã€æ•°æ®ç±»å‹ï¼ˆdtypeï¼‰ä¸”æœªåˆå§‹åŒ–çš„æ•°ç»„np.empty((2, 3))&#x27;&#x27;&#x27;array([[6.23042070e-307, 4.67296746e-307, 1.69121096e-306], [1.89145708e-307, 6.23045466e-307, 2.22526399e-307]])&#x27;&#x27;&#x27;# .arrangeç±»ä¼¼pythonçš„rangeå‡½æ•°ï¼Œéœ€è¦èµ·å§‹å€¼ï¼Œç»ˆæ­¢å€¼å’Œæ­¥é•¿ï¼ˆæ­¥é•¿å¯ä»¥æ˜¯æµ®ç‚¹æ•°ï¼‰np.arange(10, 30, 5)&#x27;&#x27;&#x27;array([10, 15, 20, 25])&#x27;&#x27;&#x27;# .linspaceåˆ›å»ºç­‰å·®æ•°åˆ—æ„æˆçš„æ•°ç»„np.linspace(0, 2, 9) &#x27;&#x27;&#x27;array([0. , 0.25, 0.5 , 0.75, 1. , 1.25, 1.5 , 1.75, 2. ])&#x27;&#x27;&#x27; 3. æ•°ç»„å±æ€§Numpyçš„æ•°ç»„æœ‰ä»¥ä¸‹å‡ ä¸ªå¸¸ç”¨çš„å±æ€§ï¼š å±æ€§ è¯´æ˜ ndarray.ndim æ•°ç»„çš„ç»´åº¦æ•°é‡ï¼ˆä¹Ÿç§°ä¸ºç§©, rankï¼‰ï¼Œæ¯”å¦‚ä¸€ç»´å°±æ˜¯1ï¼ŒäºŒç»´å°±æ˜¯2 ndarray.shape æ•°ç»„çš„ç»´åº¦ã€‚è¿™æ˜¯ä¸€ä¸ªæ•´æ•°å…ƒç»„ï¼ŒæŒ‡ç¤ºæ•°ç»„æ¯ä¸ªç»´åº¦çš„å¤§å°ï¼Œæ¯”å¦‚äºŒç»´æ•°ç»„nè¡Œmåˆ— ndarray.size æ•°ç»„å…ƒç´ çš„æ€»æ•°ï¼Œæ¯”å¦‚ä¸Šé¢äºŒç»´æ•°ç»„å°±æ˜¯n*m ndarray.dtype æ•°ç»„å¯¹è±¡çš„å…ƒç´ ç±»å‹ ndarray.itemsize æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ å¤§å°ï¼ˆå­—èŠ‚ä¸ºå•ä½ï¼‰ï¼Œå¦‚float64ç±»å‹çš„å…ƒç´ æ•°ç»„çš„ itemsize ä¸º 8 (&#x3D;64&#x2F;8) ndarray.data åŒ…å«æ•°ç»„å…ƒç´ ç¼“å†²åŒº 123456789101112a = np.array([[1, 2], [2, 3], [3, 4]])print(a.shape)print(a.ndim)print(a.size)print(a.dtype)&#x27;&#x27;&#x27;(3, 2)26int32&#x27;&#x27;&#x27; 4. ç´¢å¼•ã€åˆ‡ç‰‡å’Œè¿­ä»£å¯¹äºä¸€ç»´æ•°æ®ï¼Œpythonç”¨çš„ç´¢å¼•å’Œåˆ‡ç‰‡æ–¹æ³•ï¼ŒNumpyä¸­å‡å¯ä»¥ä½¿ç”¨ï¼š 1234567891011121314a = np.arange(10)print(a)print(a[1:5:2])&#x27;&#x27;&#x27;[0 1 2 3 4 5 6 7 8 9][1 3]&#x27;&#x27;&#x27;# å¸ƒå°”ç´¢å¼•ï¼Œå¯ä»¥åœ¨ç´¢å¼•ä¸­æ”¾å…¥åˆ¤æ–­å¼ï¼Œåªè¿”å›tureå¯¹åº”çš„å…ƒç´ print(a[a&gt;3])&#x27;&#x27;&#x27;[4 5 6 7 8 9]&#x27;&#x27;&#x27; å¯¹äºå¤šç»´æ•°ç»„ï¼ŒNumpyä¸­è¿˜æœ‰ä¸€ç§ç´¢å¼•æ–¹å¼æ–¹å¼ç§°ä¸º**â€æ•´æ•°æ•°ç»„ç´¢å¼•â€ï¼ˆinteger array indexingï¼‰æˆ–â€œèŠ±å¼ç´¢å¼•â€**ï¼ˆfancy indexingï¼‰ï¼Œä½¿ç”¨æ•´æ•°æ•°ç»„ä½œä¸ºç´¢å¼•æ¥é€‰æ‹©æ•°ç»„ä¸­çš„å…ƒç´ ï¼š 1234567891011a = np.array([[1, 2, 3], [5, 8, 9], [10, 12, 15]])print(a)b = a[[0,1,2],[0,1,0]]print(b)&#x27;&#x27;&#x27;[[ 1 2 3] [ 5 8 9] [10 12 15]][ 1 8 10]&#x27;&#x27;&#x27; ä¸¤ä¸ªæ•´æ•°æ•°ç»„ [0, 1, 2] å’Œ [0, 1, 0] ä½œä¸ºç´¢å¼•ï¼Œåˆ†åˆ«è¡¨ç¤ºè¦é€‰æ‹©çš„è¡Œå’Œåˆ—çš„ç´¢å¼•ã€‚è¿™ç§ç´¢å¼•æ–¹å¼ä¼šè¿”å›ä¸€ä¸ªç”±å¯¹åº”ä½ç½®ä¸Šçš„å…ƒç´ ç»„æˆçš„æ–°æ•°ç»„ã€‚ å…·ä½“æ¥è¯´ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€‰æ‹©äº†æ•°ç»„ a çš„ä»¥ä¸‹å…ƒç´ ï¼š è¡Œç´¢å¼•ä¸º 0ï¼Œåˆ—ç´¢å¼•ä¸º 0 çš„å…ƒç´ ï¼ša[0, 0]ï¼Œå€¼ä¸º 1 è¡Œç´¢å¼•ä¸º 1ï¼Œåˆ—ç´¢å¼•ä¸º 1 çš„å…ƒç´ ï¼ša[1, 1]ï¼Œå€¼ä¸º 8 è¡Œç´¢å¼•ä¸º 2ï¼Œåˆ—ç´¢å¼•ä¸º 0 çš„å…ƒç´ ï¼ša[2, 0]ï¼Œå€¼ä¸º 10 è¿™äº›é€‰ä¸­çš„å…ƒç´ è¢«ç»„åˆæˆä¸€ä¸ªæ–°çš„ä¸€ç»´æ•°ç»„ bï¼Œå³ [1, 8, 10]ã€‚ è¿˜å¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”çš„ç´¢å¼•å…ƒç»„æ¥è®¿é—®ç‰¹å®šå…ƒç´ ï¼Œæ¯ä¸ªç´¢å¼•å…ƒç»„å¯¹åº”ä¸€ä¸ªç»´åº¦çš„åˆ‡ç‰‡èŒƒå›´ï¼š 1234567891011a = np.array([[1, 2, 3], [5, 8, 9], [10, 12, 15]])print(a)b = a[:,1]print(b)&#x27;&#x27;&#x27;[[ 1 2 3] [ 5 8 9] [10 12 15]][ 2 8 12]&#x27;&#x27;&#x27; a[:, 1] è¡¨ç¤ºå¯¹äºŒç»´æ•°ç»„ a çš„æ‰€æœ‰è¡Œè¿›è¡Œåˆ‡ç‰‡ï¼Œå¹¶é€‰æ‹©ç´¢å¼•å€¼ä¸º1çš„åˆ—çš„å…ƒç´ ã€‚ åœ¨Numpyä¸­è¿›è¡Œæ•°ç»„çš„è¿­ä»£åªä¼šå‘ç”Ÿåœ¨æ•°ç»„çš„ç¬¬ä¸€ä¸ªç»´åº¦ä¸Šï¼Œæˆ‘ä»¬ç”¨ä»¥ä¸‹æ–¹å¼ç”Ÿæˆä¸€ä¸ªæ•°ç»„ï¼š 123456789101112131415161718192021222324252627282930# np.fromfunction(function, shape, **kwargs)ï¼Œæ ¹æ®æŒ‡å®šçš„å½¢çŠ¶ï¼Œåœ¨æ¯ä¸ªä½ç½® (i, j) ä¸Šè°ƒç”¨å‡½æ•° f(i, j)ï¼Œå¹¶å°†è¿”å›çš„å€¼ä½œä¸ºæ•°ç»„çš„å…ƒç´ å¡«å……# function æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–å¯è°ƒç”¨å¯¹è±¡ï¼Œç”¨äºè®¡ç®—æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å€¼# shape æ˜¯ä¸€ä¸ªè¡¨ç¤ºæ•°ç»„ç»´åº¦çš„å…ƒç»„æˆ–æ•´æ•°ï¼ŒæŒ‡å®šäº†è¦åˆ›å»ºçš„æ•°ç»„çš„å½¢çŠ¶# **kwargs æ˜¯å¯é€‰çš„å…³é”®å­—å‚æ•°ï¼Œç”¨äºä¼ é€’ç»™å‡½æ•°çš„é¢å¤–å‚æ•°ã€‚def f(x, y): return 10 * x + yb = np.fromfunction(f, (5, 4), dtype=int)print(b)&#x27;&#x27;&#x27;[[ 0 1 2 3] [10 11 12 13] [20 21 22 23] [30 31 32 33] [40 41 42 43]]&#x27;&#x27;&#x27;# ç”¨forå¾ªç¯éå†æ•°ç»„bfor row in b: print(row)&#x27;&#x27;&#x27;[0 1 2 3][10 11 12 13][20 21 22 23][30 31 32 33][40 41 42 43]&#x27;&#x27;&#x27;# å¯¹æ¯ä¸€ä¸ªæ•°ç»„å…ƒç´ è¿›è¡Œæ“ä½œï¼Œå¯ä»¥ä½¿ç”¨flastå±æ€§ï¼ˆç»“æœç•¥ï¼‰for element in b.flat: print(element) 5. å¹¿æ’­æœºåˆ¶å¹¿æ’­ï¼ˆbroadcastingï¼‰æœºåˆ¶æè¿°çš„æ˜¯Numpyåœ¨ç®—æœ¯æ“ä½œè¿‡ç¨‹ä¸­ï¼Œå¦‚ä½•å¤„ç†ä¸åŒå½¢çŠ¶ï¼ˆshapeï¼‰çš„æ•°ç»„ã€‚ç®€å•æ¥è¯´ï¼Œå½“ä¸¤ä¸ªæ•°ç»„çš„ç»´åº¦å’Œé•¿åº¦ç›¸åŒæ—¶ï¼ˆå½¢çŠ¶ç›¸åŒï¼‰ï¼Œä¸¤ä¸ªæ•°ç»„çš„è¿ç®—å°†ä¼šå‘ç”Ÿåœ¨ä¸¤ä¸ªæ•°ç»„å¯¹åº”çš„ä½ç½®ï¼›å½“ä¸¤ä¸ªæ•°ç»„å¤§å°ä¸ä¸€è‡´ï¼Œè¾ƒå°çš„æ•°ç»„ä¼šåœ¨è¾ƒå¤§çš„æ•°ç»„ä¸­è¢«â€œå¹¿æ’­â€ï¼š 123456789101112# è¾ƒå°æ•°ç»„è¢«æ‰©å±•æˆç›¸åŒçš„å½¢çŠ¶a = np.array([[0,0,0],[10,10,10],[20,20,20],[30,30,30]])b = np.array([1,2,3])print(a + b)&#x27;&#x27;&#x27;[[ 1 2 3] [11 12 13] [21 22 23] [31 32 33]]&#x27;&#x27;&#x27; å¹¿æ’­æœºåˆ¶éµå¾ªä»¥ä¸‹è§„åˆ™ï¼š å¦‚æœä¸¤ä¸ªæ•°ç»„çš„ç»´åº¦æ•°ä¸åŒï¼Œé‚£ä¹ˆç»´åº¦è¾ƒä½çš„æ•°ç»„ä¼šåœ¨å‰é¢è¡¥1ï¼Œç›´åˆ°ç»´åº¦æ•°åŒ¹é…ã€‚ å¦‚æœä¸¤ä¸ªæ•°ç»„çš„ç»´åº¦åœ¨ä»»ä½•ä¸€ä¸ªç»´åº¦ä¸Šéƒ½ä¸åŒ¹é…ï¼Œä¸”åœ¨è¯¥ç»´åº¦ä¸Šä¸€ä¸ªæ•°ç»„çš„å½¢çŠ¶ä¸º1ï¼Œé‚£ä¹ˆå¯ä»¥å°†å…¶æ‰©å±•ä¸ºä¸å¦ä¸€ä¸ªæ•°ç»„ç›¸åŒçš„å½¢çŠ¶ã€‚ å¦‚æœä¸¤ä¸ªæ•°ç»„çš„ç»´åº¦åœ¨ä»»ä½•ä¸€ä¸ªç»´åº¦ä¸Šéƒ½ä¸åŒ¹é…ï¼Œä¸”åœ¨è¯¥ç»´åº¦ä¸Šä¸¤ä¸ªæ•°ç»„çš„å½¢çŠ¶éƒ½ä¸ä¸º1ï¼Œé‚£ä¹ˆä¼šå¼•å‘ä¸€ä¸ªé”™è¯¯ï¼Œè¡¨ç¤ºæ— æ³•è¿›è¡Œå¹¿æ’­ã€‚ æ•°ç»„ a çš„å½¢çŠ¶æ˜¯ (4, 3)ï¼Œæ•°ç»„ b çš„å½¢çŠ¶æ˜¯ (3)ï¼Œå®ƒä»¬çš„ç»´åº¦ä¸åŒ¹é…ã€‚ä½†æ˜¯æ ¹æ®å¹¿æ’­æœºåˆ¶çš„è§„åˆ™ï¼Œå¯ä»¥å°†æ•°ç»„ b æ‰©å±•ä¸º (1, 3) çš„å½¢çŠ¶ï¼Œä½¿å¾—å®ƒä¸æ•°ç»„ a çš„å½¢çŠ¶åŒ¹é…ã€‚åœ¨è¿›è¡Œå…ƒç´ çº§çš„è¿ç®—æ—¶ï¼Œå¹¿æ’­æœºåˆ¶ä¼šè‡ªåŠ¨å°†æ•°ç»„ b åœ¨ç¬¬ä¸€ä¸ªç»´åº¦ä¸Šè¿›è¡Œå¤åˆ¶ï¼Œä½¿å¾—å®ƒçš„å½¢çŠ¶ä¸æ•°ç»„ a ç›¸åŒï¼Œç„¶åè¿›è¡Œå¯¹åº”ä½ç½®çš„è¿ç®—ã€‚ å¦‚æœ b çš„å½¢çŠ¶æ˜¯ (2ï¼Œ 3) æˆ–è€…æ˜¯ (4) éƒ½æ— æ³•è¿›è¡Œæ‰©å¼ ã€‚ 6. æ•°ç»„åŸºç¡€æ“ä½œä¿®æ”¹æ•°ç»„å½¢çŠ¶1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253# resizeã€reshapeä¿®æ”¹æ•°ç»„å½¢çŠ¶ï¼Œä¸¤è€…åŒºåˆ«å¦‚ä¸‹# resizeä¿®æ”¹åŸæ•°ç»„# reshapeè¿”å›ä¿®æ”¹åçš„æ•°ç»„ï¼ˆä¸å½±å“åŸæ•°ç»„ï¼‰a = np.arange(12)a.reshape(3,4)print(a)a.resize(3,4)print(a)&#x27;&#x27;&#x27;[ 0 1 2 3 4 5 6 7 8 9 10 11][[ 0 1 2 3] [ 4 5 6 7] [ 8 9 10 11]]&#x27;&#x27;&#x27;# å¦‚æœæœ‰ä¸€ä¸ªç»´åº¦ä¸º-1ï¼Œå…¶ä»–ç»´åº¦ä¼šè‡ªåŠ¨è®¡ç®—(ä¸èƒ½æ•´é™¤ä¼šæŠ¥é”™)a = np.arange(12)print(a.reshape(3,-1))&#x27;&#x27;&#x27;[[ 0 1 2 3] [ 4 5 6 7] [ 8 9 10 11]]&#x27;&#x27;&#x27;# flattenã€ravelå°†å¤šç»´æ•°ç»„è½¬åŒ–ä¸ºä¸€ç»´æ•°ç»„ï¼ˆæ‰“å¹³ï¼‰ä¸¤è€…åŒºåˆ«å¦‚ä¸‹ï¼š# flattenè¿”å›åŸå§‹æ•°ç»„çš„æ‹·è´ï¼Œä¿®æ”¹ä¸ä¼šå½±å“åŸæ•°ç»„# ravelè¿”å›çš„æ˜¯åŸæ•°ç»„çš„è§†å›¾ï¼Œä¿®æ”¹ä¼šå½±å“åŸæ•°ç»„a = np.array([[0,1,2,3],[4,5,6,7],[8,9,10,11]])b = a.flatten()b[0] = 10print(a)c = a.ravel()c[0] = 10print(a)&#x27;&#x27;&#x27;[[ 0 1 2 3] [ 4 5 6 7] [ 8 9 10 11]][[10 1 2 3] [ 4 5 6 7] [ 8 9 10 11]]&#x27;&#x27;&#x27;# å±•å¼€æ–¹å¼æœ‰ä¸¤ç§ï¼Œâ€œFâ€ä¸ºæŒ‰åˆ—æ–¹å¼å±•å¼€ï¼Œâ€œCâ€ä¸ºæŒ‰è¡Œæ–¹å¼å±•å¼€a = np.array([[0,1,2,3],[4,5,6,7],[8,9,10,11]])b = a.flatten(order=&#x27;F&#x27;)c = a.flatten(order=&#x27;C&#x27;)print(b)print(c)&#x27;&#x27;&#x27;[ 0 4 8 1 5 9 2 6 10 3 7 11][ 0 1 2 3 4 5 6 7 8 9 10 11]&#x27;&#x27;&#x27; æ³¨æ„ä¸‹è¿™é‡Œçš„å‰¯æœ¬å’Œè§†å›¾çš„æ¦‚å¿µï¼š flattenè¿”å›æ•°ç»„çš„å‰¯æœ¬ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ•°ç»„çš„å®Œæ•´æ‹·è´ï¼ˆæ·±æ‹·è´ï¼‰ï¼Œå®ƒå’ŒåŸå§‹æ•°æ®å­˜åœ¨ä¸åŒçš„ç‰©ç†å†…å­˜ï¼Œå‰¯æœ¬çš„ä¿®æ”¹ä¸ä¼šå½±å“åŸæ•°æ®ã€‚ ravelè¿”å›æ•°ç»„çš„è§†å›¾ï¼Œä¹Ÿå°±æ˜¯æ•°æ®çš„åˆ«ç§°æˆ–è€…è¯´æ˜¯å¼•ç”¨ï¼ˆæµ…æ‹·è´ï¼‰ï¼Œå®ƒå’ŒåŸå§‹æ•°æ®ç‰©ç†å†…å­˜åœ¨åŒä¸€ä¸ªä½ç½®ï¼Œä¿®æ”¹è§†å›¾ä¼šå½±å“åŸæ•°æ®ã€‚åˆ‡ç‰‡ä¿®æ”¹æ•°æ®ä¼šå½±å“åŸå§‹æ•°ç»„ã€‚ ç¿»è½¬æ•°ç»„123456789101112131415161718192021222324252627282930# transposeã€Tå°†æ•°ç»„ç»´åº¦è¿›è¡Œç¿»è½¬# np.transpose(arr,axes) å¤šç»´æƒ…å†µä¸‹å¯ä»¥æŒ‡å®šç»´åº¦ï¼Œæ¯”å¦‚np.transpose(a, (2, 0, 1))a = np.array([[0,1,2,3],[4,5,6,7],[8,9,10,11]])np.transpose(a) a.T # ä¸¤ç§æƒ…å†µä¸‹è¾“å‡ºæ˜¯å®Œå…¨ç›¸åŒçš„&#x27;&#x27;&#x27;array([[ 0, 4, 8], [ 1, 5, 9], [ 2, 6, 10], [ 3, 7, 11]])&#x27;&#x27;&#x27;# swapaxesèµ·åˆ°ç±»ä¼¼åŠŸèƒ½ï¼ŒæŒ‡å®šç»´åº¦äº¤æ¢(å’Œpythonçš„transposeå‡½æ•°ä¸€æ ·çš„)# np.swapaxes(arr,axis1,axis2)a = np.arange(27).reshape(3,3,3)np.transpose(a, (0, 2, 1))np.swapaxes(a, 1, 2) # ä¸¤ç§æƒ…å†µä¸‹è¾“å‡ºæ˜¯å®Œå…¨ç›¸åŒçš„&#x27;&#x27;&#x27;array([[[ 0, 3, 6], [ 1, 4, 7], [ 2, 5, 8]], [[ 9, 12, 15], [10, 13, 16], [11, 14, 17]], [[18, 21, 24], [19, 22, 25], [20, 23, 26]]])&#x27;&#x27;&#x27; ä¿®æ”¹ç»´åº¦1234567891011121314151617181920212223# np.expand_dims(arr,axis)åœ¨æŒ‡å®šä½ç½®æ’å…¥æ–°çš„ç»´åº¦a = np.arange(4).reshape(2, 2)b = np.expand_dims(a, axis=0) # ç¬¬0ç»´åº¦æ’å…¥æ–°çš„ç»´åº¦print(b.shape)&#x27;&#x27;&#x27;(1, 2, 2)&#x27;&#x27;&#x27;# np.newaxisä¹Ÿå¯ä»¥æ–°å¢åŠ ä¸€ä¸ªç»´åº¦ï¼Œåªæ˜¯å’Œä¸Šé¢çš„è¡¨ç°æ–¹å¼ä¸åŒa = np.arange(4).reshape(2, 2)b = a[np.newaxis,:,:]print(b.shape)&#x27;&#x27;&#x27;(1, 2, 2)&#x27;&#x27;&#x27;# np.squeezeåœ¨æ•°ç»„ä¸­åˆ é™¤ä¸€ç»´çš„ç»´åº¦a = np.arange(4).reshape(1, 2, 2, 1)b = np.squeeze(a)print(b.shape)&#x27;&#x27;&#x27;(2, 2)&#x27;&#x27;&#x27; æ•°ç»„æ‹¼æ¥123456789101112131415161718192021222324252627282930313233343536373839404142# np.concatenate((a1,a2),axis)å¤šä¸ªæ•°ç»„åœ¨æŒ‡å®šçš„ç»´åº¦ä¸Šè¿›è¡Œæ‹¼æ¥ï¼Œé»˜è®¤æ˜¯0ç»´# åœ¨å“ªä¸ªç»´åº¦æ‹¼æ¥ï¼Œå“ªä¸ªç»´åº¦å¯ä»¥ä¸åŒï¼Œä½†æ˜¯å…¶ä»–ç»´åº¦å¿…éœ€ç›¸åŒã€‚è¾“å‡ºç»“æœçš„ç»´åº¦å’ŒåŸå§‹æ•°ç»„çš„ç»´åº¦ç›¸åŒa = np.array([[1,2,3],[4,5,6]])b = np.array([[7,8,9],[10,11,12]])np.concatenate((a,b),axis=0) # ä¸¤ä¸ª(2,3)æ•°ç»„åœ¨0ç»´ä¸Šåˆå¹¶ä¸º(4,3)æ•°ç»„&#x27;&#x27;&#x27;array([[ 1, 2, 3], [ 4, 5, 6], [ 7, 8, 9], [10, 11, 12]])&#x27;&#x27;&#x27;np.concatenate((a,b),axis=1) # ä¸¤ä¸ª(2,3)æ•°ç»„åœ¨1ç»´ä¸Šåˆå¹¶ä¸º(2,6)æ•°ç»„&#x27;&#x27;&#x27;array([[ 1, 2, 3, 7, 8, 9], [ 4, 5, 6, 10, 11, 12]])&#x27;&#x27;&#x27;# np.stack((a1,a2),axis)ä¹Ÿæ˜¯å¤šä¸ªæ•°ç»„åœ¨æŒ‡å®šç»´åº¦ä¸Šæ‹¼æ¥ï¼Œå‡†ç¡®è¯´æ˜¯å †å ï¼Œé»˜è®¤ä¹Ÿæ˜¯0ç»´# è¦æ±‚å †å çš„ä¸¤ä¸ªæ•°ç»„æœ‰å®Œå…¨ä¸€æ ·çš„å½¢çŠ¶ï¼Œã€‚è¾“å‡ºç»“æœçš„ç»´åº¦æ¯”åŸå§‹æ•°ç»„é«˜ä¸€ç»´ï¼ˆæŒ‡å®šçš„è½´ä¸Šåˆ›å»ºæ–°çš„ç»´åº¦ï¼‰np.stack((a,b),axis=0) # ä¸¤ä¸ª(2,3)æ•°ç»„åœ¨0ç»´ä¸Šå †å ä¸º(2,2,3)æ•°ç»„&#x27;&#x27;&#x27;array([[[ 1, 2, 3], [ 4, 5, 6]], [[ 7, 8, 9], [10, 11, 12]]])&#x27;&#x27;&#x27;# stackçš„å˜ä½“# np.hstackæ°´å¹³å †å ï¼ˆç¬¬äºŒä¸ªè½´ï¼‰ï¼Œnp.vstackå‚ç›´å †å ï¼ˆç¬¬ä¸€ä¸ªè½´ï¼‰np.hstack((a,b)) # ç­‰åŒäºnp.concatenate((a,b),axis=1)&#x27;&#x27;&#x27;array([[ 1, 2, 3, 7, 8, 9], [ 4, 5, 6, 10, 11, 12]])&#x27;&#x27;&#x27;np.vstack((a,b)) # ç­‰åŒäºnp.concatenate((a,b),axis=0)&#x27;&#x27;&#x27;array([[ 1, 2, 3], [ 4, 5, 6], [ 7, 8, 9], [10, 11, 12]])&#x27;&#x27;&#x27; æ•°ç»„æ‹†åˆ†12345678910111213141516171819202122232425262728# ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºå†åˆ›å»ºä¸€ä¸ªéšæœºæ•°ç”Ÿæˆå™¨å¯¹è±¡ï¼Œç§å­å€¼(1)è¿›è¡Œåˆå§‹åŒ–rg = np.random.default_rng(1)arr = rg.integers(0, 10, size=(3, 5)) # 0-10ä¹‹é—´å–éšæœºæ•´æ•°ï¼Œæ„é€ (3,5)å½¢çŠ¶çš„æ•°ç»„print(arr)&#x27;&#x27;&#x27;[[4 5 7 9 0] [1 8 9 2 3] [8 4 2 8 2]]&#x27;&#x27;&#x27;# np.split(ary,indices_or_sections,axis)ï¼Œaxisç¡®å®šæ²¿å“ªä¸ªè½´ï¼Œé»˜è®¤0ï¼Œæ¨ªå‘æ‹†åˆ†np.split(arr, 3) # å°†åŸæ•°ç»„å¹³å‡æ‹†åˆ†ä¸º3ä¸ªæ•°ç»„&#x27;&#x27;&#x27;[array([[4, 5, 7, 9, 0]], dtype=int64), array([[1, 8, 9, 2, 3]], dtype=int64), array([[8, 4, 2, 8, 2]], dtype=int64)]&#x27;&#x27;&#x27;np.split(arr, [1,3], axis=1) # çºµå‘æ‹†åˆ†ï¼Œä¸­é—´æ•°ç»„å·¦é—­å³å¼€ï¼ŒæŒ‡ç¤ºçš„æ•°ç»„ä½ç½®&#x27;&#x27;&#x27;[array([[4], [1], [8]], dtype=int64), array([[5, 7], [8, 9], [4, 2]], dtype=int64), array([[9, 0], [2, 3], [8, 2]], dtype=int64)]&#x27;&#x27;&#x27; æ•°ç»„å¢åˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344# np.append(arr,values,axis=None)å¢åŠ æ•°ç»„å…ƒç´ # éœ€è¦æ³¨æ„é»˜è®¤è½´ä¸ºNoneï¼Œç»“æœä¼šå°†æ•°ç»„è½¬æ¢ä¸ºä¸€ç»´æ•°ç»„å¹¶å¢åŠ å…ƒç´ arr = rg.integers(0, 10, size=(2, 5))print(arr)&#x27;&#x27;&#x27;[[4 5 7 9 0] [1 8 9 2 3]]&#x27;&#x27;&#x27;np.append(arr,[0,1,2,3,4]) # ä¸åŠ axiså‚æ•°çš„æƒ…å†µ&#x27;&#x27;&#x27;array([4, 5, 7, 9, 0, 1, 8, 9, 2, 3, 0, 1, 2, 3, 4], dtype=int64)&#x27;&#x27;&#x27;np.append(arr,[[0,1,2,3,4]],axis=0) # æ·»åŠ å…ƒç´ æ—¶æ³¨æ„ç»´åº¦è¦ç›¸åŒ&#x27;&#x27;&#x27;array([[4, 5, 7, 9, 0], [1, 8, 9, 2, 3], [0, 1, 2, 3, 4]], dtype=int64)&#x27;&#x27;&#x27;np.append(arr,[[0,1],[2,3]],axis=1)&#x27;&#x27;&#x27;array([[4, 5, 7, 9, 0, 0, 1], [1, 8, 9, 2, 3, 2, 3]], dtype=int64)&#x27;&#x27;&#x27;# np.insert(arr,obj,values,axis=None)æ’å…¥æ•°ç»„å…ƒç´ # objæ˜¯è¦æ’å…¥çš„ä½ç½®ç´¢å¼•ï¼Œaxisæ˜¯æ’å…¥çš„è½´ï¼Œå’Œä¸Šé¢ä¸€æ ·ï¼Œaxisä¸åŠ å‚æ•°ä¼šä½¿æ•°ç»„å±•å¼€np.insert(arr, 2, 100, axis=1) # è½´1ï¼ˆä¹Ÿå°±æ˜¯åˆ—ï¼‰çš„ç´¢å¼•2ä¹‹å‰æ’å…¥æ•°å€¼100&#x27;&#x27;&#x27;array([[ 4, 5, 100, 7, 9, 0], [ 1, 8, 100, 9, 2, 3]], dtype=int64)&#x27;&#x27;&#x27;# np.delete(arr,obj,axis=None)åˆ é™¤æ•°ç»„å…ƒç´ # objå¯ä»¥æ˜¯æ•´æ•°æˆ–è€…åˆ‡ç‰‡å¯¹è±¡ï¼Œè¡¨ç¤ºè¦åˆ é™¤çš„å­æ•°ç»„ï¼Œaxisä½¿å¤„ç†çš„è½´ï¼Œä¹ŸåŒæ ·è¦æŒ‡å®šnp.delete(arr,2,axis=1) # è½´1ç´¢å¼•2çš„å€¼è¢«åˆ é™¤ï¼Œä¹Ÿå°±æ˜¯åŸæ•°ç»„ä¸­çš„å…ƒç´ 7å’Œ9&#x27;&#x27;&#x27;array([[4, 5, 9, 0], [1, 8, 2, 3]], dtype=int64)&#x27;&#x27;&#x27;np.delete(arr,np.s_[::2],axis=1) # np.s_ç”¨äºåˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡å¯¹è±¡ï¼Œ[::2]ä»èµ·å§‹åˆ°ç»ˆæ­¢æ­¥é•¿ä¸º2çš„å½¢å¼åˆ‡ç‰‡ï¼Œè¿™é‡Œåˆ‡äº†0ï¼Œ2ï¼Œ4åˆ—&#x27;&#x27;&#x27;array([[5, 9], [8, 2]], dtype=int64)&#x27;&#x27;&#x27; 7. å¸¸ç”¨å‡½æ•° å‡½æ•° æè¿° æ•°å­¦å‡½æ•° np.around() å‡½æ•°è¿”å›æŒ‡å®šæ•°å­—çš„å››èˆäº”å…¥å€¼ np.floor() è¿”å›å°äºæˆ–è€…ç­‰äºæŒ‡å®šè¡¨è¾¾å¼çš„æœ€å¤§æ•´æ•°ï¼Œä¹Ÿå°±æ˜¯å‘ä¸‹å–æ•´ np.ceil() è¿”å›å¤§äºæˆ–è€…ç­‰äºæŒ‡å®šè¡¨è¾¾å¼çš„æœ€å°æ•´æ•°ï¼Œä¹Ÿå°±æ˜¯å‘ä¸Šå–æ•´ np.abs() è®¡ç®—æ•°ç»„å…ƒç´ çš„ç»å¯¹å€¼ np.sqrt() è®¡ç®—æ•°ç»„å…ƒç´ çš„å¹³æ–¹æ ¹ np.sum() è®¡ç®—æ•°ç»„å…ƒç´ çš„å’Œ np.mean() è®¡ç®—æ•°ç»„å…ƒç´ çš„å¹³å‡å€¼ np.max() &#x2F; np.min() æ‰¾å‡ºæ•°ç»„çš„æœ€å¤§&#x2F;æœ€å°å€¼ å­—ç¬¦ä¸²å‡½æ•° np.char.add() ä¸¤ä¸ªæ•°ç»„é€ä¸ªå­—ç¬¦ä¸²æ‹¼æ¥ np.char.center() å±…ä¸­å­—ç¬¦ä¸² np.char.capitalize() å°†å­—ç¬¦ä¸²ç¬¬ä¸€ä¸ªå­—æ¯è½¬ä¸ºå¤§å†™ np.char.title() å­—ç¬¦ä¸²æ¯ä¸ªå•è¯çš„ç¬¬ä¸€ä¸ªå­—æ¯è½¬å¤§å†™ np.char.lower() &#x2F; np.char.upper() æ•°ç»„å…ƒç´ è½¬å°å†™&#x2F;å¤§å†™ np.char.strip() ç§»é™¤å¼€å¤´å’Œç»“å°¾çš„ç‰¹æ®Šå­—ç¬¦ np.char.join() æŒ‡å®šåˆ†éš”ç¬¦è¿æ¥æ•°ç»„å…ƒç´  np.char.replace() æ›¿æ¢å­—ç¬¦ä¸² np.char.split() æŒ‡å®šåˆ†éš”ç¬¦å¯¹å­—ç¬¦ä¸²åˆ†å‰²ï¼Œè¿”å›æ•°ç»„åˆ—è¡¨ 8. Matplotlibåœ¨Numpyçš„å®˜æ–¹æ–‡æ¡£çš„Numpyå®é™…åº”ç”¨æ¡ˆä¾‹ä¸­ï¼Œå‡ ä¹æ‰€æœ‰çš„å¯è§†åŒ–æ•°æ®æ¡ˆä¾‹éƒ½æ˜¯ç”¨Matplotlibåº“åšçš„ã€‚Matplotlibæ˜¯pythonçš„ç»˜å›¾åº“ã€‚ Matplotlibå°±å’ŒRç±»ä¼¼ï¼Œèƒ½åšçš„å›¾éå¸¸å¤šï¼Œè¦ç”¨çš„æ—¶å€™è¿˜æ˜¯ç›´æ¥æŸ¥å®˜æ–¹æ–‡æ¡£æ¯”è¾ƒæ–¹ä¾¿ï¼š Using Matplotlib â€” Matplotlib 3.8.0 documentation å¯¹äºä¸€å‰¯Matplotlibç»˜åˆ¶çš„å›¾ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“ä»¥ä¸‹çš„ä¸€äº›å›¾è¡¨å±æ€§ï¼š ç”¨Matplotlibåº“ç®€å•ç»˜åˆ¶ä¸€ä¸ªå›¾ï¼ˆæ¨èç”¨Jupyter Notebookï¼‰ï¼š 12345678910import numpy as npfrom matplotlib import pyplot as pltx = np.arange(0,10)y = x**2plt.title(&quot;Demo&quot;)plt.xlabel(&quot;X axis&quot;)plt.ylabel(&quot;Y axis&quot;)plt.plot(x,y)plt.show() NumPy Applications â€” NumPy Tutorials ä»ä¸Šé¢çš„Numpyåº”ç”¨æ¡ˆä¾‹ä¸­çœ‹ä¸€ä¸ªç»˜åˆ¶åˆ†å½¢å›¾åƒçš„ä¾‹å­ï¼š 123456789101112131415161718192021222324252627282930313233343536import numpy as npimport matplotlib.pyplot as pltfrom mpl_toolkits.axes_grid1 import make_axes_locatable# è®¡ç®—ç»™å®šç½‘æ ¼ä¸Šçš„julia setdef general_julia(mesh, c=-1, f=np.square, num_iter=100, radius=2): z = mesh.copy() diverge_len = np.zeros(z.shape) # ç”¨äºè®°å½•è¿­ä»£æ¬¡æ•° for i in range(num_iter): conv_mask = np.abs(z) &lt; radius # åªæœ‰ç½‘æ ¼ä¸Šçš„å…ƒç´ ç»å¯¹å€¼å°äºradiusæ‰è¿›è¡Œè®¡ç®— z[conv_mask] = f(z[conv_mask]) + c diverge_len[conv_mask] += 1 return diverge_len# åœ¨julia setä¸­è¿›è¡Œçš„æ“ä½œdef accident(z): return z - (2 * np.power(np.tan(z), 2) / (np.sin(z) * np.cos(z)))# ç»˜åˆ¶åˆ†å½¢å›¾åƒdef plot_fractal(fractal, title=&#x27;Fractal&#x27;, figsize=(10, 10), cmap=&#x27;rainbow&#x27;, extent=[-2, 2, -2, 2]): plt.figure(figsize=figsize) plt.rcParams[&#x27;font.sans-serif&#x27;] = [&#x27;SimHei&#x27;] # æ˜¾ç¤ºä¸­æ–‡å­—ä½“ plt.rcParams[&#x27;axes.unicode_minus&#x27;] = False # æ­£å¸¸æ˜¾ç¤ºç¬¦å· ax = plt.axes() ax.set_title(f&#x27;$&#123;title&#125;$&#x27;) ax.set_xlabel(&#x27;å®è½´&#x27;) ax.set_ylabel(&#x27;è™šè½´&#x27;) im = ax.imshow(fractal, extent=extent, cmap=cmap) # åœ¨åæ ‡è½´ä¸Šç»˜åˆ¶å›¾åƒ divider = make_axes_locatable(ax) # åˆ›å»ºä¸€ä¸ªå¯åˆ†ç¦»çš„åæ ‡è½´å¯¹è±¡ cax = divider.append_axes(&quot;right&quot;, size=&quot;5%&quot;, pad=0.1) # å³ä¾§æ·»åŠ æ–°åæ ‡è½´å¯¹è±¡ plt.colorbar(im, cax=cax, label=&#x27;è¿­ä»£æ¬¡æ•°&#x27;) # æ·»åŠ é¢œè‰²æ¡å¹¶è®¾ç½®æ ‡ç­¾output = general_julia(mesh, f=accident, num_iter=15, c=0, radius=np.pi)kwargs = &#123;&#x27;title&#x27;: &#x27;Accidental \\ fractal&#x27;, &#x27;cmap&#x27;: &#x27;Blues&#x27;&#125;plot_fractal(output, **kwargs)","categories":[{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"},{"name":"Numpy","slug":"Numpy","permalink":"http://www.shelven.com/tags/Numpy/"}]},{"title":"è®°ä¸€æ¬¡PostgreSQLæ¼æ´å¼•èµ·çš„kdevtmpfsiæŒ–çŸ¿ç—…æ¯’æ”»å‡»","slug":"è®°ä¸€æ¬¡PostgreSQLæ¼æ´å¼•èµ·çš„kdevtmpfsiæŒ–çŸ¿ç—…æ¯’æ”»å‡»dockeré•œåƒ","date":"2023-10-23T16:07:37.000Z","updated":"2023-10-23T16:11:19.000Z","comments":true,"path":"2023/10/24/a.html","link":"","permalink":"http://www.shelven.com/2023/10/24/a.html","excerpt":"äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œä¸ºäº†å­˜æ”¾qqæœºå™¨äººçš„ç”¨æˆ·æ•°æ®ï¼Œæ˜¨å¤©æˆ‘ä¸‹è½½äº†PostgreSQLçš„dockeré•œåƒï¼Œå½“æ—¶dockerè¿è¡Œä¸€åˆ‡æ­£å¸¸ã€‚ç„¶åä»Šå¤©ä¸‹åˆ3ç‚¹è¿‡ï¼ŒæœåŠ¡å™¨å•†é‚£è¾¹å‘äº†ä¸ªé‚®ä»¶æé†’æœåŠ¡å™¨å­˜åœ¨æ¶æ„æ–‡ä»¶ï¼Œä¸€è¿å‘äº†ä¸‰æ¡ï¼š","text":"äº‹æƒ…æ˜¯è¿™æ ·çš„ï¼Œä¸ºäº†å­˜æ”¾qqæœºå™¨äººçš„ç”¨æˆ·æ•°æ®ï¼Œæ˜¨å¤©æˆ‘ä¸‹è½½äº†PostgreSQLçš„dockeré•œåƒï¼Œå½“æ—¶dockerè¿è¡Œä¸€åˆ‡æ­£å¸¸ã€‚ç„¶åä»Šå¤©ä¸‹åˆ3ç‚¹è¿‡ï¼ŒæœåŠ¡å™¨å•†é‚£è¾¹å‘äº†ä¸ªé‚®ä»¶æé†’æœåŠ¡å™¨å­˜åœ¨æ¶æ„æ–‡ä»¶ï¼Œä¸€è¿å‘äº†ä¸‰æ¡ï¼š å¥½å®¶ä¼™ï¼Œèµ¶ç´§sshç™»å½•æœåŠ¡å™¨ï¼Œä¸€çœ¼å°±çœ‹åˆ°cpuè¢«å¹²çˆ†äº†ï¼ˆç›´æ¥100%å ç”¨ï¼Œè¿˜èƒ½sshä¸Šä¹ŸæŒºç¥å¥‡çš„ï¼‰ã€‚ 1. åˆ†ææ’æŸ¥é¦–å…ˆç”¨topçœ‹çœ‹ä»€ä¹ˆç¨‹åºå ç”¨äº†cpuèµ„æºï¼š ä¸€ä¸ªåä¸ºkdevtmpfsiçš„è¿›ç¨‹å ç”¨äº†å‡ ä¹æ‰€æœ‰cpuç®—åŠ›èµ„æºï¼Œæƒ³éƒ½ä¸ç”¨æƒ³ï¼Œè¿™è‚¯å®šæ˜¯ä¸€ä¸ªæŒ–çŸ¿ç—…æ¯’äº†ï¼Œèµ¶ç´§ç™¾åº¦æŸ¥äº†ä¸‹ç¡®å®å¦‚æ­¤ï¼š centosç—…æ¯’æœ‰å“ªäº› â€¢ Worktileç¤¾åŒº è¿˜å¥½è¿™ä¸ªç—…æ¯’å¹¶ä¸ä¼šç ´åè®¡ç®—æœºå†…çš„æ–‡ä»¶ï¼Œåªæ˜¯å ç”¨ä½ çš„CPUã€‚è¿™ä¸ªç—…æ¯’è¿˜æœ‰ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹åå­—æ˜¯kinsing ã€‚ æœåŠ¡å™¨å•†æé†’æˆ‘æ¶æ„æ–‡ä»¶æ¥è‡ªäº/tmp/kdevtmpfsiã€/var/tmp/kdevtmpfsiå’Œ/tmp/kinsingï¼Œç„¶è€Œæˆ‘åœ¨ä¸»æœºç›¸åº”è·¯å¾„ä¸‹å¹¶æ²¡æœ‰æ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼Œè¦ä¹ˆå°±ä¸¤ç§æƒ…å†µï¼Œç—…æ¯’åœ¨æ‰§è¡Œæ–‡ä»¶ååˆ é™¤äº†åŸæ–‡ä»¶ï¼Œæˆ–è€…è¿™ä¸ªç—…æ¯’åœ¨dockeræ–‡ä»¶ä¸­ã€‚ ç›´æ¥åœ¨è¿›ç¨‹ä¸­æŸ¥è¿™ä¸¤ä¸ªç¨‹åºå¯¹åº”çš„PIDï¼š 12ps -aux | grep kinsingps -aux | grep kdevtmpfsi ç„¶åç›´æ¥killæ‰ï¼ˆå…ˆkillå®ˆæŠ¤è¿›ç¨‹kinsingï¼Œå†killæŒ–çŸ¿ç—…æ¯’kdevtmpfsiï¼‰ï¼š 12kill -9 7842kill -9 12201 ç›´æ¥killæ˜¯å› ä¸ºç°åœ¨éœ€è¦å…ˆæŠŠCPUèµ„æºæš‚æ—¶é‡Šæ”¾å‡ºæ¥ï¼Œé˜²æ­¢ä½ åœ¨ç™»å½•ç•Œé¢å¡æ­»ã€‚è¿™ç§ç—…æ¯’ä¸€èˆ¬ä¼šéš”ä¸€æ®µæ—¶é—´é‡æ–°è¿è¡Œï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æ‰¾åˆ°é—®é¢˜çš„æ ¹æºåœ¨å“ªã€‚ ä»æ ¹ç›®å½•å¼€å§‹æ‰¾è¿™ä¸¤ä¸ªæ–‡ä»¶çš„ä½ç½®ï¼Œå¹¶åˆ é™¤ï¼š 1234567find / -name kdevtmpfsi/var/lib/docker/overlay2/cb454dcc5c6592a9389757846a15e41d8bf6d68a7480f59aab579bd307baaeca/diff/var/tmp/kdevtmpfsi/var/lib/docker/overlay2/cb454dcc5c6592a9389757846a15e41d8bf6d68a7480f59aab579bd307baaeca/merged/var/tmp/kdevtmpfsifind / -name kinsing/var/lib/docker/overlay2/cb454dcc5c6592a9389757846a15e41d8bf6d68a7480f59aab579bd307baaeca/diff/tmp/kinsing/var/lib/docker/overlay2/cb454dcc5c6592a9389757846a15e41d8bf6d68a7480f59aab579bd307baaeca/merged/tmp/kinsing æˆ‘è¿™é‡Œä»ç„¶ä¸æ¸…æ¥šä¸ºä»€ä¹ˆæœåˆ°ä¸¤ä¸ªæ–‡ä»¶å´åªèƒ½åˆ ä¸€ä¸ªï¼Œå¯èƒ½åœ¨åˆ é™¤çš„æ—¶å€™å·²ç»å¼•èµ·ç—…æ¯’è„šæœ¬åˆ é™¤å¦ä¸€ä¸ªæ–‡ä»¶äº†ï¼Ÿæ€»ä¹‹èƒ½æ‰¾åˆ°æ–‡ä»¶å°±åˆ ï¼Œä¸€ä¸ªä¸è¦æ”¾è¿‡ã€‚ æ¥ä¸‹æ¥æ£€æŸ¥æ˜¯å¦æœ‰å¼‚å¸¸å¯åŠ¨çš„å®šæ—¶ä»»åŠ¡ï¼ˆå› ä¸ºè¿™ä¸ªç—…æ¯’ä¼šå®šæ—¶é‡å¯ï¼Œæ‰€ä»¥è¦è€ƒè™‘è¿™ç§å¯èƒ½ï¼‰ï¼š 12345crontab -l*/5 * * * * flock -xn /tmp/stargate.lock -c &#x27;/usr/local/qcloud/stargate/admin/start.sh &gt; /dev/null 2&gt;&amp;1 &amp;&#x27;## åæ¥å‘ç°è¿™ä¸ªæ˜¯è…¾è®¯äº‘çš„äº‘ç›‘æ§æ§åˆ¶å°è®¾ç½®çš„å®šæ—¶ä»»åŠ¡ï¼Œåˆ äº†å°±åˆ äº† è¿™é‡Œèƒ½çœ‹åˆ°æœ‰ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ï¼Œæˆ‘å°è±¡é‡Œæ²¡æœ‰åˆ¶å®šè¿‡å®šæ—¶ä»»åŠ¡ï¼Œæ‰€ä»¥ç›´æ¥å°†è´¦æˆ·çš„å®šæ—¶ä»»åŠ¡å–æ¶ˆï¼ˆè°¨æ…ï¼ä¸å¯æ¢å¤ï¼Œçœ‹åˆ°æ¥è‡ªåˆ«çš„ipçš„å¯ç–‘å®šæ—¶ä»»åŠ¡ï¼Œå»ºè®®ç”¨crontab -eè¿›å…¥é…ç½®ç•Œé¢ï¼Œåˆ é™¤å¼‚å¸¸å®šæ—¶ä»»åŠ¡ï¼Œwqä¿å­˜é€€å‡ºï¼‰ï¼š 1crontab -r # ä¸å»ºè®®è¿™æ ·åšï¼è¿™é‡Œåªæ˜¯è®°å½•æˆ‘çš„æ“ä½œ è¿˜æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥æŸ¥æ‰€æœ‰è´¦æˆ·çš„å®šæ—¶ä»»åŠ¡ï¼š 1cat /etc/passwd | cut -f 1 -d : |xargs -I &#123;&#125; crontab -l -u &#123;&#125; è¿™é‡Œç›¸å½“äºå°†æ‰€æœ‰ç”¨æˆ·åæå–å‡ºæ¥ï¼Œæ‰§è¡Œcrontab -lï¼ŒåŒæ ·æ˜¯å‘ç°å¼‚å¸¸å®šæ—¶ä»»åŠ¡çš„è¯åˆ é™¤ã€‚ 2. ç—…æ¯’æº¯æºåœ¨ä¸€è¾¹åˆ é™¤ç—…æ¯’çš„åŒæ—¶ï¼Œæˆ‘è¿™é‡Œä¸€è¾¹åœ¨æº¯æºç—…æ¯’çš„æ¥æº&#x3D; &#x3D; é¦–å…ˆçœ‹çœ‹æ˜¯å¦æœ‰äººç”¨sshé»‘å…¥rootè´¦æˆ·ï¼š 1less /var/log/secure|grep &#x27;Accepted&#x27; ç„¶è€Œipç™»å½•åœ°å€å…¨æ˜¯æˆ‘å¸¸ç”¨çš„ipåœ°å€ï¼Œè¯´æ˜ä¸æ˜¯é€šè¿‡sshç™»å½•rootè´¦å·æ³¨å…¥çš„ç—…æ¯’ã€‚ å†çœ‹çœ‹TCPè¿æ¥å’Œç›‘å¬ç«¯å£æ˜¯å¦è¿è¡Œå¯ç–‘ç¨‹åºï¼š 1netstat -anltp å¹¶æ²¡æœ‰ä»»ä½•å¯ç–‘ç¨‹åºçš„è¿è¡Œã€‚ è¿™ä¸ªæ—¶å€™æˆ‘å‘ç°è¿™äº›ç—…æ¯’æ–‡ä»¶æ¯«æ— ä¾‹å¤–æ¥è‡ªäºdockerçš„overlay2æ–‡ä»¶ç³»ç»Ÿï¼Œæƒ³ç€æœ€è¿‘ç”¨è¿‡çš„åªæœ‰PostgreSQLå®¹å™¨ï¼Œå†…é¬¼å…«æˆæ˜¯å®ƒäº†ã€‚ æŸ¥çœ‹æˆ‘çš„æœ¬åœ°dockeré•œåƒåº“ï¼š 123456docker imagesREPOSITORY TAG IMAGE ID CREATED SIZEpostgres latest f7d9a0d4223b 5 weeks ago 417MBxzhouqd/qsign 8.9.63 153680998c24 3 months ago 558MBhello-world latest 9c7a54a9a43c 5 months ago 13.3kB å‰é¢æŸ¥åˆ°çš„kinsingå’Œkdevtmpfsiæ–‡ä»¶æ¥è‡ªäºä»¥ä¸‹æ–‡ä»¶å¤¹ï¼š /var/lib/docker/overlay2/cb454dcc5c6592a9389757846a15e41d8bf6d68a7480f59aab579bd307baaeca é—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆæŸ¥çœ‹åé¢è¿™ä¸€é•¿ä¸²å“ˆå¸Œå€¼æ–‡ä»¶å¯¹åº”å“ªä¸ªé•œåƒï¼Ÿ æŸ¥çœ‹ç°åœ¨æ­£åœ¨è¿è¡Œçš„dockeré•œåƒï¼š 1docker ps -a æŸ¥çœ‹å¯ç–‘çš„postgresqlé•œåƒå…ƒæ•°æ®ï¼š 1docker inspect 27d1f4378405 è¿”å›çš„æ˜¯ä¸€ä¸ªjsonæ ¼å¼çš„å…ƒæ•°æ®ï¼Œä¹Ÿå¯ä»¥å‚æ•°-fè·å¾—æ›´å…·ä½“çš„keyï¼š 1docker inspect -f &#x27;&#123;&#123;.GraphDriver.Data&#125;&#125;&#x27; 27d1f4378405 å¥½å®¶ä¼™ï¼Œåœ¨å¾—åˆ°çš„postgresqlé•œåƒå…ƒæ•°æ®ä¸­å¯ä»¥æ‰¾åˆ°ä¸Šé¢é‚£ä¸ªä¸€é•¿ä¸²å“ˆå¸Œå€¼æ–‡ä»¶å¤¹ï¼ŒçœŸç›¸å¤§ç™½äº†ï¼šç—…æ¯’å°±æ˜¯ä»postgresqlå®¹å™¨æ³¨å…¥çš„ã€‚ æ‰¾åˆ°ç—…æ¯’èµ·æºåï¼Œé‚£å°±æ˜¯åœæ­¢åˆ é™¤ä¸€æ¡é¾™ï¼Œæ‹œæ‹œäº†æ‚¨å†…~ 123docker stop pgsql # åœæ­¢å®ä¾‹docker rm pgsql # åˆ é™¤å®ä¾‹docker rmi postgres # åˆ é™¤æœ¬åœ°ä»“åº“ å…¶å®åœ¨ä¸Šé¢åˆ é™¤ç—…æ¯’æºæ–‡ä»¶å’Œè¿›ç¨‹åï¼Œç—…æ¯’å°±å·²ç»ä¸å†é‡æ–°è¿è¡Œäº†ã€‚æ­¤æ—¶æˆ‘çš„æ•°æ®åº“å·²ç»å› ä¸ºä¸æ˜åŸå› è¢«ç ´åï¼Œä¸”æŸ¥åˆ°äº†ç—…æ¯’æ¥æºçš„dockeré•œåƒï¼Œå°±é¡ºä¾¿åˆ äº†&#x3D; &#x3D; 3. å¤ç›˜æ”»å‡»åŸå› ä¸€å¼€å§‹æˆ‘ä»¥ä¸ºè¿™ä¸ªç—…æ¯’æ˜¯é€šè¿‡ç«¯å£æ‰«æå·¥å…·ï¼Œæ‰¾åˆ°ç«¯å£æ¼æ´åæ³¨å…¥ç—…æ¯’çš„ï¼Œç„¶è€Œå¹¶ä¸æ˜¯ã€‚ åœ¨æ‰¾åˆ°kinsingå’Œkdevtmpfsiä¸¤ä¸ªæ–‡ä»¶çš„æ—¶å€™ï¼Œæˆ‘è¿˜åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°curlæ–‡ä»¶ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç¡®å®šè¿™ä¸ªæŒ–çŸ¿ç—…æ¯’æ˜¯é€šè¿‡curlå‘½ä»¤ä¸æ–­ä¸‹è½½ç—…æ¯’å¹¶æ‰§è¡Œçš„ã€‚å®¹å™¨ä¸€å¼€å§‹æ˜¯ä¸å­˜åœ¨é—®é¢˜çš„ï¼Œç—…æ¯’ä¸ºä½•åœ¨ä¸¤å¤©åçªç„¶çˆ†å‘ï¼Ÿ ä»ä¸€å¼€å§‹æœåŠ¡å™¨å•†æé†’æœ‰æ¶æ„æ–‡ä»¶å¼€å§‹ï¼Œé‚£ä¸ªæ—¶å€™å¹¶æ²¡æœ‰åœ¨å¯¹åº”çš„ä½ç½®å‘ç°æœ‰æ¶æ„æ–‡ä»¶ï¼Œè€Œdockerä¸­å¯ä»¥æ‰¾åˆ°ï¼Œä¹Ÿå¯ä»¥è¯´æ˜æ˜¯dockerè¢«å…¥ä¾µå¯¼è‡´çš„æ³¨å…¥ç—…æ¯’ç¨‹åºã€‚å¯æƒœdockerè¢«æˆ‘åˆ é™¤äº†ï¼Œæ— æ³•è¿›ä¸€æ­¥çœ‹åˆ°ç—…æ¯’åœ¨æˆ‘çš„postgresqlå®¹å™¨ä¸­å…·ä½“åšäº†å“ªäº›æ–‡ä»¶çš„æ”¹åŠ¨ã€‚ å¤ç›˜å‰ä¸¤å¤©çš„æ“ä½œï¼Œæˆ‘åœ¨è¿è¡Œpostgresqlçš„dockeré•œåƒåï¼Œä¸ºäº†æ–¹ä¾¿è¿œç¨‹è¿æ¥æ•°æ®åº“ä»¥åŠå¯è§†åŒ–æ“ä½œï¼Œæˆ‘å¼€æ”¾äº†postgresqlçš„é»˜è®¤ç«¯å£ï¼Œå¹¶æ”¹ä¸ºäº†æ‰€æœ‰ipå‡å¯æ¥å…¥ï¼ˆ0.0.0.0&#x2F;0ï¼‰ã€‚postgresqlçš„é»˜è®¤ç”¨æˆ·æ˜¯postgresï¼Œå½“ç„¶ï¼Œæˆ‘ä¸ºäº†å®‰å…¨èµ·è§æ›´æ”¹äº†å¯†ç ï¼ˆçº¯å­—æ¯å’Œä¸‹åˆ’çº¿ï¼‰ï¼Œä¸é™åˆ¶ipæ®µçš„æ¥å…¥ï¼Œå¯èƒ½ç»™äº†é»‘å®¢å¹¿æ’’ç½‘çš„æœºä¼šï¼Œæš´åŠ›æ”»ç ´æˆ‘çš„å¯†ç å¹¶ä¸‹è½½äº†ç—…æ¯’ï¼ˆpostgresè´¦æˆ·ä¸‹ï¼‰ã€‚ç”±äºæˆ‘çš„postgresqlæ˜¯åœ¨å®¹å™¨ä¸­è¿è¡Œçš„ï¼Œæ‰€ä»¥ç—…æ¯’èƒ½åœ¨dockerçš„overlay2æ–‡ä»¶ç³»ç»Ÿä¸­æ‰¾åˆ°ï¼Œå®ƒä¸èƒ½æ”¹å˜æˆ‘å®¿ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿï¼Œä½œä¸ºä¸€ä¸ªæŒ–çŸ¿ç—…æ¯’ï¼Œåªè¦èƒ½ç”¨ä¸Šæˆ‘å®¿ä¸»æœºçš„ç®—åŠ›å³å¯ã€‚ ä»¥ä¸‹è¿™ç¯‡æ–‡ç« æ”¯æŒæˆ‘çš„å‡æƒ³ï¼Œå…·ä½“è¯´äº†é»‘å®¢å¦‚ä½•åˆ©ç”¨PostgreSQLçš„è¿œç¨‹ä»£ç æ‰§è¡Œæ¼æ´ï¼ˆRCEï¼‰æ”»å‡»æ•°æ®åº“æœåŠ¡å™¨è¿›è¡ŒåŠ å¯†è´§å¸æŒ–çŸ¿ï¼Œä¸€æ—¦æ”»ç ´æ•°æ®åº“è´¦æˆ·ï¼Œå°±å¯ä»¥ç”¨PostgreSQLçš„â€œå¤åˆ¶ç¨‹åºâ€åŠŸèƒ½ä¸‹è½½å¹¶å¯åŠ¨æŒ–çŸ¿è„šæœ¬ï¼š PGMinerï¼šåˆ©ç”¨PostgreSQLæ¼æ´çš„æ–°çš„åŠ å¯†è´§å¸æŒ–çŸ¿åƒµå°¸ç½‘ç»œ (qq.com) è¿˜æ˜¯è¦å¤šæ³¨æ„è‡ªå·±çš„æ•°æ®åº“å®‰å…¨ï¼Œè®¾ç½®å¤æ‚ä¸€äº›çš„å¯†ç ï¼Œå¹¶ä¸”é™åˆ¶ipæ®µæ¥å…¥æ‰æ˜¯é¿å…é»‘å®¢æ”»å‡»çš„æœ€å¥½æ–¹æ³•ã€‚è¿˜æœ‰ç»è¿‡è¿™æ¬¡æ”»å‡»åï¼Œæˆ‘ä¹Ÿé¡ºä¾¿æ”¹äº†æœåŠ¡å™¨çš„ç™»å½•å¯†ç ï¼Œå…³é—­äº†ä¸€äº›ç”¨ä¸åˆ°çš„ç«¯å£ï¼Œå°å¿ƒé©¶å¾—ä¸‡å¹´èˆ¹~ è¿™æ¬¡å…¥ä¾µçš„ç—…æ¯’æ–‡ä»¶æˆ‘ä¹Ÿä¸‹è½½åˆ°æœ¬åœ°äº†ï¼Œæœ¬æ¥æƒ³äº†è§£ä¸€ä¸‹æ˜¯æ€ä¹ˆå®ç°çš„ï¼Œå¯æƒœæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæ²¡åŠæ³•å°±å»googleäº†ä¸€ä¸‹ï¼Œæœç„¶æœ‰åšç½‘å®‰çš„å¤§ä½¬è¯¦ç»†è§£é‡Šäº†kinsingä½œä¸ºå®ˆæŠ¤è¿›ç¨‹æ˜¯å¦‚ä½•è¿ä½œçš„ï¼Œä»¥åŠæŒ–çŸ¿ç—…æ¯’kdevtmpfsiçš„è¯¦ç»†è¿ä½œæ–¹å¼ï¼š Learn the Attack Patterns of Kinsing with Sysdig å› ä¸ºæˆ‘æ˜¯dockerè¢«å…¥ä¾µï¼Œç›´æ¥åˆ äº†å‡ºé—®é¢˜çš„é•œåƒä¸€äº†ç™¾äº†ï¼Œå¦‚æœä½ æ˜¯linuxæœåŠ¡å™¨è¢«å…¥ä¾µï¼Œè¿™é‡Œæœ‰å‡ ä¸ªç»†èŠ‚å€¼å¾—æ³¨æ„ï¼š kinsingä¼šæ·»åŠ å®šæ—¶ä»»åŠ¡ï¼Œä¸€å®šè¦åˆ é™¤ï¼ˆæˆ‘åº”è¯¥æ˜¯dockerä¸­è¢«æ·»åŠ äº†ï¼Œæ‰€ä»¥å®¿ä¸»æœºä¸­æ‰¾ä¸åˆ°ï¼‰ï¼›è¿™ä¸ªå®ˆæŠ¤è¿›ç¨‹ä¼šæ£€æŸ¥kdevtmpfsiè¿›ç¨‹çš„çŠ¶æ€ï¼Œè‹¥è¢«åˆ é™¤ä¼šé‡å¯ï¼Œæ‰€ä»¥è¦å…ˆåˆ é™¤è¿™ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼›å¹¶ä¸”è¿™ä¸ªå®ˆæŠ¤è¿›ç¨‹ä¼šè¯»å–ç³»ç»Ÿä¸­çš„SSHå¯†é’¥ï¼Œé€šè¿‡å¯†é’¥æ¨ªå‘è½¬ç§»åˆ°ä½ å…¶ä»–æœºå­ä¸Šï¼š æ‰€ä»¥æœ€å¥½å†çœ‹çœ‹è‡ªå·±çš„å¯†é’¥ä¸­æ˜¯å¦æœ‰å¯ç–‘çš„æ•°æ®ï¼Œé˜²æ­¢é»‘å®¢ç•™ä¸‹åé—¨ã€‚ è‡³äºè¿™ä¸ªkdevtmpfsiæŒ–çŸ¿ç—…æ¯’å¦‚ä½•åˆ†é…ä½ çš„ç³»ç»Ÿèµ„æºï¼Œä½•å¦‚ä¸çŸ¿æ± é€šä¿¡ï¼Œéƒ½å¯ä»¥åœ¨ä¸Šé¢çš„æ–‡ç« ä¸­çœ‹åˆ°ã€‚æ—¢ç„¶æ˜¯ä¸ªlinuxäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåæ±‡ç¼–æ‹¿åˆ°æºç ä¹Ÿä¸æ˜¯ä¸è¡Œï¼Œç°åœ¨çœ‹çœ‹ç—…æ¯’åŸç†å°±å¥½ï¼Œå…¶ä»–çš„å°±ä¸æ•´äº†ã€‚","categories":[{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"http://www.shelven.com/tags/PostgreSQL/"},{"name":"kdevtmpfsi","slug":"kdevtmpfsi","permalink":"http://www.shelven.com/tags/kdevtmpfsi/"},{"name":"kinsing","slug":"kinsing","permalink":"http://www.shelven.com/tags/kinsing/"}]},{"title":"åŸºäºè¿‘ç¼˜ç‰©ç§å‚è€ƒåŸºå› ç»„çš„æŸ“è‰²ä½“æ°´å¹³ç»„è£…å’Œæ³¨é‡Š","slug":"åŸºäºè¿‘ç¼˜ç‰©ç§å‚è€ƒåŸºå› ç»„çš„æŸ“è‰²ä½“æ°´å¹³ç»„è£…å’Œæ³¨é‡Š","date":"2023-10-19T07:08:13.000Z","updated":"2023-10-19T07:20:54.000Z","comments":true,"path":"2023/10/19/a.html","link":"","permalink":"http://www.shelven.com/2023/10/19/a.html","excerpt":"æœ‰çš„æ—¶å€™å­˜åœ¨è¿™ç§æƒ…å†µï¼šæˆ‘æ‰‹ä¸Šæœ‰ä¸¤ä¸ªè¿‘ç¼˜æ¤ç‰©çš„åŸºå› ç»„æµ‹åºæ•°æ®ï¼Œè¿™ä¸¤ä¸ªç‰©ç§å¯èƒ½æ²¡æœ‰äººåšè¿‡ï¼Œæˆ–è€…åˆ«äººåšè¿‡ä½†æ˜¯æ²¡æœ‰æä¾›å‚è€ƒåŸºå› ç»„ã€‚è€Œè¯¾é¢˜ç»„å› ä¸ºç»è´¹ä¸è¶³ï¼Œåªæµ‹äº†ä¸€ä¸ªç‰©ç§çš„Hi-Cï¼ˆå—¯ï¼Œè¯´çš„å°±æ˜¯æˆ‘ï¼‰ï¼Œé‚£å¦‚ä½•ä»¥ç»„è£…çš„åŸºå› ç»„ä¸ºå‚è€ƒï¼ŒæŠŠå¦ä¸€ä¸ªè¿‘ç¼˜ç‰©ç§åŸºå› ç»„ä¹Ÿç»„è£…åˆ°æŸ“è‰²ä½“çº§åˆ«å‘¢ï¼Ÿ è®°å½•ä¸€ä¸‹åŸºäºè¿‘ç¼˜ç‰©ç§å‚è€ƒåŸºå› ç»„çš„æŸ“è‰²ä½“æ°´å¹³ç»„è£…å’Œæ³¨é‡Šï¼Œç”¨åˆ°çš„è½¯ä»¶æ˜¯RagTagä»¥åŠé…å¥—çš„Liftoffã€‚","text":"æœ‰çš„æ—¶å€™å­˜åœ¨è¿™ç§æƒ…å†µï¼šæˆ‘æ‰‹ä¸Šæœ‰ä¸¤ä¸ªè¿‘ç¼˜æ¤ç‰©çš„åŸºå› ç»„æµ‹åºæ•°æ®ï¼Œè¿™ä¸¤ä¸ªç‰©ç§å¯èƒ½æ²¡æœ‰äººåšè¿‡ï¼Œæˆ–è€…åˆ«äººåšè¿‡ä½†æ˜¯æ²¡æœ‰æä¾›å‚è€ƒåŸºå› ç»„ã€‚è€Œè¯¾é¢˜ç»„å› ä¸ºç»è´¹ä¸è¶³ï¼Œåªæµ‹äº†ä¸€ä¸ªç‰©ç§çš„Hi-Cï¼ˆå—¯ï¼Œè¯´çš„å°±æ˜¯æˆ‘ï¼‰ï¼Œé‚£å¦‚ä½•ä»¥ç»„è£…çš„åŸºå› ç»„ä¸ºå‚è€ƒï¼ŒæŠŠå¦ä¸€ä¸ªè¿‘ç¼˜ç‰©ç§åŸºå› ç»„ä¹Ÿç»„è£…åˆ°æŸ“è‰²ä½“çº§åˆ«å‘¢ï¼Ÿ è®°å½•ä¸€ä¸‹åŸºäºè¿‘ç¼˜ç‰©ç§å‚è€ƒåŸºå› ç»„çš„æŸ“è‰²ä½“æ°´å¹³ç»„è£…å’Œæ³¨é‡Šï¼Œç”¨åˆ°çš„è½¯ä»¶æ˜¯RagTagä»¥åŠé…å¥—çš„Liftoffã€‚ 1. RagTagRagTagæ˜¯ä¸€ä¸ªçº¯pythonç¼–å†™çš„è½¯ä»¶å·¥å…·é›†ï¼ˆä½†å¹¶ä¸æ˜¯æ‰€æœ‰åŠŸèƒ½éƒ½æ˜¯pythonå®ç°çš„ï¼Œæ¯”å¦‚minimap2/Nucmer/unimapæ˜¯é€šè¿‡subprocessæ¨¡å—è°ƒç”¨å‘½ä»¤è¡Œä½¿ç”¨ï¼Œäº§ç”Ÿå­è¿›ç¨‹å®ç°çš„ï¼‰ï¼Œç”¨äºå°†ç»„è£…çš„contigçº§åˆ«çš„åŸºå› ç»„æé«˜åˆ°æŸ“è‰²ä½“çº§åˆ«ã€‚å…·ä½“æ¥è¯´å¯ä»¥åšåˆ°ä»¥ä¸‹ä¸‰ä¸ªåŠŸèƒ½ï¼š åŸºäºåŒæºçš„ç»„è£…é”™è¯¯çº æ­£ åŸºäºåŒæºçš„scaffoldç»„è£…ä»¥åŠä¿®è¡¥ï¼ˆä¹Ÿå°±æ˜¯å¡«è¡¥gapï¼‰ scaffoldåˆå¹¶ï¼ˆä¸åŒæ–¹å¼å¾—åˆ°çš„scaffoldåˆå¹¶ï¼‰ åŒæ—¶å®˜æ–¹æä¾›äº†å¤„ç†å¸¸è§åŸºå› ç»„ç»„è£…æ–‡ä»¶æ ¼å¼çš„å‘½ä»¤è¡Œå®ç”¨ç¨‹åºï¼Œä¹Ÿæ˜¯çº¯pythonç¼–å†™çš„ï¼Œéƒ½åœ¨file utilitiesæ–‡ä»¶å¤¹ä¸­ï¼Œä¸»è¦æ˜¯å®ç°ä»¥ä¸‹å‡ ç§åŠŸèƒ½ï¼š agp2faï¼š å°†AGPæ–‡ä»¶è½¬æ¢æˆfastaæ–‡ä»¶ã€‚AGPæ–‡ä»¶æ˜¯æè¿°contigå¦‚ä½•æ„å»ºæˆscaffoldçš„ï¼Œå¯ä»¥çœ‹NCBIå¯¹è¯¥æ–‡ä»¶ç±»å‹çš„æè¿°ï¼šAGP Specification v2.1 (nih.gov) agpcheckï¼š éªŒè¯AGPæ ¼å¼æ˜¯å¦æ­£ç¡® asmstatsï¼š ç»Ÿè®¡assemblyåºåˆ—çš„ä¿¡æ¯ splitasmï¼š æŒ‰ç…§gapåˆ†éš”assemblyåºåˆ—ï¼Œä¸ºåç»­å¤„ç†æä¾›AGPæ–‡ä»¶ delta2pafï¼š è½¬åŒ–deltaæ–‡ä»¶åˆ°PAFæ–‡ä»¶ã€‚deltaæ–‡ä»¶æ˜¯NUCmeråŸºå› ç»„æ¯”å¯¹è½¯ä»¶ï¼ˆNUCleotide MUMmerï¼‰äº§ç”Ÿçš„ç»“æœæ–‡ä»¶ï¼Œä½œç”¨æ˜¯è®°å½•æ¯ä¸ªè”é…çš„åæ ‡ï¼Œæ¯ä¸ªè”é…ä¸­çš„æ’å…¥å’Œç¼ºå¤±çš„è·ç¦»ã€‚PAFæ–‡ä»¶ä¹Ÿæ˜¯ç±»ä¼¼æè¿°ä¸¤ç»„åºåˆ—ä¹‹é—´è¿‘ä¼¼çš„è”é…ä½ç½®çš„æ–‡ä»¶ï¼Œæ˜¯minimap2çš„è¾“å‡ºæ–‡ä»¶ã€‚ç‚¹å‡»è“è‰²å­—ä½“å¯ä»¥çœ‹ä¸¤ç§æ ¼å¼çš„å…·ä½“æ ·å¼ã€‚ paf2deltaï¼š å’Œä¸Šé¢ç›¸å updategffï¼š æ ¹æ®RagTagçš„AGPæ–‡ä»¶æ›´æ–°gffæ–‡ä»¶ï¼ˆä¸æ˜¯å¾—åˆ°æœ€ç»ˆåŸºå› ç»„çš„gffæ–‡ä»¶ï¼Œè¦æƒ³å¾—åˆ°åŸºå› ç»„çš„gffæ–‡ä»¶ï¼Œä½œè€…æ¨èç”¨é…å¥—çš„è½¯ä»¶Liftoffï¼‰ RagTagè¿è¡Œæµç¨‹ä¸»è¦åˆ†4æ­¥ï¼š å®˜æ–¹ä»“åº“ï¼šRagTag&#x2F;ragtag_correct.py at master Â· malonge&#x2F;RagTag (github.com) 1.1 correctRagTagçš„æ ¡æ­£æ¨¡å—ï¼Œä½¿ç”¨å‚è€ƒåŸºå› ç»„æ¥è¯†åˆ«å’Œæ ¡æ­£åŸºå› ç»„ä¸­æ½œåœ¨çš„é”™è¯¯ç»„è£…ã€‚è¿™ä¸€æ­¥ç›´ä¼šå°†å¯èƒ½å­˜åœ¨é”™è¯¯ç»„è£…çš„åºåˆ—æ‰“æ–­ï¼Œä¸ä¼šå¢åŠ æˆ–è€…å‡å°‘åŸåºåˆ—å¤§å°ã€‚ 1234567usage: ragtag.py correct &lt;reference.fa&gt; &lt;query.fa&gt;Homology-based misassembly correction: Correct sequences in &#x27;query.fa&#x27; by comparing them to sequences in &#x27;reference.fa&#x27;&gt;positional arguments: &lt;reference.fa&gt; reference fasta file (uncompressed or bgzipped) &lt;query.fa&gt; query fasta file (uncompressed or bgzipped) è¯¦ç»†å‚æ•°-hå¯ä»¥æŸ¥çœ‹ï¼Œéœ€è¦æ³¨æ„reference.faæ˜¯å‚è€ƒåŸºå› ç»„ï¼ˆåŒä¸€ä¸ªç‰©ç§æˆ–è€…è¿‘ç¼˜ç‰©ç§ï¼‰ï¼Œquery.faæ˜¯æˆ‘ä»¬éœ€è¦ç»„è£…çš„contigsï¼ˆcontigsæ˜¯é€šè¿‡äºŒä»£+ä¸‰ä»£æµ‹åºä¸‹æœºæ•°æ®ç»„è£…çš„ï¼‰ã€‚ 12345#!/bin/bash#SBATCH -n 5#SBATCH -t 7200ragtag.py correct ../../Genome/Ap.fa Av.fasta -t 5 å¾—åˆ°çš„ç»“æœæ–‡ä»¶ï¼š â”œâ”€â”€ ragtag_outputâ”‚ â”œâ”€â”€ ragtag.correct.agpâ”‚ â”œâ”€â”€ ragtag.correct.asm.pafâ”‚ â”œâ”€â”€ ragtag.correct.asm.paf.logâ”‚ â”œâ”€â”€ ragtag.correct.errâ”‚ â”œâ”€â”€ ragtag.correct.fasta å¯ä»¥çœ‹åˆ°contigsä»åŸæ¥çš„38æ¡è¢«åˆ‡æ–­æˆäº†519æ¡ï¼š 1.2 scaffoldRagTagçš„è„šæ‰‹æ¶ï¼ˆscaffoldï¼‰ç»„è£…æ¨¡å—ï¼Œå°†ç»„è£…çš„è‰ç¨¿ï¼ˆdraft assemblyï¼‰åºåˆ—æ’åºå’Œé‡å®šå‘ä¸ºæ›´é•¿çš„åºåˆ—ã€‚ä½¿ç”¨ä¸Šä¸€æ­¥çº é”™åçš„contigsæ¯”å¯¹å‚è€ƒåŸºå› ç»„åºåˆ—ï¼Œcontigsä¹‹é—´çš„gapä½¿ç”¨Nï¼ˆé»˜è®¤100ä¸ªï¼‰å¡«å……ï¼ŒåŒæ ·è¿™ä¸€æ­¥ä¸ä¼šæ”¹å˜åŸæ¥çš„åºåˆ—ã€‚ 1234567usage: ragtag.py scaffold &lt;reference.fa&gt; &lt;query.fa&gt;Homology-based assembly scaffolding: Order and orient sequences in &#x27;query.fa&#x27; by comparing them to sequences in &#x27;reference.fa&#x27;positional arguments: &lt;reference.fa&gt; reference fasta file (uncompressed or bgzipped) &lt;query.fa&gt; query fasta file (uncompressed or bgzipped) è¯¦ç»†å‚æ•°-hå¯ä»¥æŸ¥çœ‹ï¼Œreference.faæ˜¯å‚è€ƒåŸºå› ç»„ï¼Œquery.faæ˜¯ä¸Šä¸€æ­¥çº é”™åçš„åºåˆ—ã€‚ 12345#!/bin/bash#SBATCH -n 5#SBATCH -t 7200ragtag.py scaffold ../../Genome/Ap.fa ragtag_output/ragtag.correct.fasta -t 5 -C -u -Cè¿™ä¸ªå‚æ•°å¯ä»¥æŠŠæ²¡æœ‰æ¯”å¯¹ä¸Šçš„åºåˆ—éƒ½æ”¾åœ¨chr0è¿™æ¡å‡æƒ³çš„æŸ“è‰²ä½“ä¸Šã€‚ å¾—åˆ°çš„ç»“æœæ–‡ä»¶ï¼š â”œâ”€â”€ ragtag_outputâ”‚ â”œâ”€â”€ ragtag.scaffold.agpâ”‚ â”œâ”€â”€ ragtag.scaffold.asm.pafâ”‚ â”œâ”€â”€ ragtag.scaffold.asm.paf.logâ”‚ â”œâ”€â”€ ragtag.scaffold.confidence.txtâ”‚ â”œâ”€â”€ ragtag.scaffold.errâ”‚ â”œâ”€â”€ ragtag.scaffold.fastaâ”‚ â””â”€â”€ ragtag.scaffold.stats ç»Ÿè®¡ä¸‹å„scaffoldåºåˆ—çš„é•¿åº¦ï¼š 123456789101112131415$ seqkit fx2tab --length --name --header-line ragtag_output/ragtag.scaffold.fasta#name lengthLG01_RagTag 20785546LG02_RagTag 20079267LG03_RagTag 17989129LG04_RagTag 19176014LG05_RagTag 22754901LG06_RagTag 24973536LG07_RagTag 20015323LG08_RagTag 20197945LG09_RagTag 17850387LG10_RagTag 23023498LG11_RagTag 18329485Chr0_RagTag 5764532 å› ä¸ºæˆ‘çš„å‚è€ƒåŸºå› ç»„æ˜¯11æ¡æŸ“è‰²ä½“ï¼Œè¿™é‡Œå¤§éƒ¨åˆ†contigéƒ½èƒ½æ¯”å¯¹ä¸Šï¼Œé•¿åº¦ä¹Ÿæ­£å¸¸ï¼Œå‰©ä¸‹çš„contigéƒ½åœ¨Chr0_RagTagè¿™æ¡åºåˆ—ã€‚ ragtag.scaffold.statsè¿™ä¸ªæ–‡ä»¶å¯ä»¥æŸ¥çœ‹æ¯”å¯¹ä¸Šscaffoldä¸Šçš„contigä¿¡æ¯ï¼š 1234$ cat ragtag.scaffold.stats | column -t -s $&#x27;\\t&#x27;placed_sequences placed_bp unplaced_sequences unplaced_bp gap_bp gap_sequences90 225167131 429 5721732 50700 507 ç¬¬ä¸€æ­¥æ‹†åˆ†çš„519æ¡contigsæœ‰90æ¡å¯ä»¥æ¯”å¯¹ä¸Šï¼Œ429æ¡æœªæ¯”å¯¹ä¸Šå‚è€ƒåŸºå› ç»„ï¼Œä½†æ˜¯è¿™429æ¡åºåˆ—æ€»é•¿åº¦å´åªæœ‰5721732 bpã€‚æ ¹æ®ä¸Šé¢çš„ä¿¡æ¯ä¹Ÿå¯ä»¥çŸ¥é“ï¼Œäº§ç”Ÿçš„507ä¸ªgapä¸­æœ‰428ä¸ªåœ¨Chr0_RagTagè¿™æ¡åºåˆ—ä¸­ï¼ˆunplaced_sequenceséƒ½åœ¨è¿™ï¼‰ï¼ŒçœŸæ­£åœ¨æŸ“è‰²ä½“ä¸Šçš„gapæ•°é‡æ˜¯79ï¼Œå¯ä»¥å†™ä¸ªè„šæœ¬ç»Ÿè®¡ä¸€ä¸‹å„æ¡æŸ“è‰²ä½“ä¸Šgapæ•°é‡ï¼š 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647# count_gap.py ä½œç”¨æ˜¯ç»Ÿè®¡è¿™ä¸€æ­¥äº§ç”Ÿçš„å„scaffoldä¸Šçš„gapæ•°é‡sequence = &#123;&#125; # ç”¨äºå­˜å‚¨åºåˆ—ä¿¡æ¯çš„å­—å…¸gap = &#123;&#125; # ç”¨äºå­˜å‚¨åºåˆ—gapä¿¡æ¯çš„å­—å…¸def store_sequence(file_name): with open(file_name, &#x27;r&#x27;) as file: header = &#x27;&#x27; seq = &#x27;&#x27; for line in file: line = line.strip() if line.startswith(&#x27;&gt;&#x27;): if header: sequence[header] = seq header = line[1:] seq = &#x27;&#x27; else: seq += line sequence[header] = seq # åŠ å…¥æœ€åä¸€æ¡åºåˆ—def count_gap(): for header in sequence: seq = sequence[header] count = seq.count(&#x27;N&#x27;)/100 gap[header] = countstore_sequence(&#x27;ragtag.scaffold.fasta&#x27;)count_gap()for header in gap: header = header counts = gap[header] print(f&#x27;scaffoldï¼š&#123;header&#125;\\tgapæ•°é‡:&#123;counts&#125;&#x27;) &#x27;&#x27;&#x27;scaffoldï¼šLG01_RagTag gapæ•°é‡:21.0scaffoldï¼šLG02_RagTag gapæ•°é‡:5.0scaffoldï¼šLG03_RagTag gapæ•°é‡:5.0scaffoldï¼šLG04_RagTag gapæ•°é‡:6.0scaffoldï¼šLG05_RagTag gapæ•°é‡:7.0scaffoldï¼šLG06_RagTag gapæ•°é‡:0.0scaffoldï¼šLG07_RagTag gapæ•°é‡:7.0scaffoldï¼šLG08_RagTag gapæ•°é‡:2.0scaffoldï¼šLG09_RagTag gapæ•°é‡:4.0scaffoldï¼šLG10_RagTag gapæ•°é‡:12.0scaffoldï¼šLG11_RagTag gapæ•°é‡:10.0scaffoldï¼šChr0_RagTag gapæ•°é‡:428.0&#x27;&#x27;&#x27; å¯ä»¥å¯¹ä¸Šgapæ•°é‡ï¼Œæ²¡æœ‰é—®é¢˜ã€‚ 1.3 patchRagTagçš„å¡«è¡¥æ¨¡å—ï¼Œå…³äºè¿™ä¸ªæ¨¡å—ï¼Œå›½å†…çš„å„æ–¹å¸–å­éƒ½è¯´æ˜¯å¡«è¡¥ä¸Šä¸€æ­¥éª¤äº§ç”Ÿçš„æœ‰gapçš„scaffoldåºåˆ—ã€‚å¯¹ï¼Œä½†æ˜¯ä¸å®Œå…¨å¯¹ã€‚patchå’Œscaffoldæ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„æ¨¡å—ï¼Œä¸”ä¸¤è€…éƒ½å¯ä»¥ç‹¬ç«‹å®Œæˆscaffoldingçš„è¿‡ç¨‹ã€‚ scaffoldæ¨¡å—ä¸­ï¼Œæˆ‘ä»¬ä»¥å‚è€ƒåŸºå› ç»„åºåˆ—ä¸ºåŸºå‡†ï¼Œå°†contigå®šå‘å’Œæ’åºæˆä¸ºscaffoldï¼Œæ•´ä¸ªè¿‡ç¨‹æ²¡æœ‰å‘ç”Ÿcontigåºåˆ—çš„å¢åŠ æˆ–è€…å‡å°‘ã€‚ patchæ¨¡å—å’Œgapå¡«è¡¥è½¯ä»¶ç±»ä¼¼ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯ç”¨ä¸‰ä»£é•¿è¯»é•¿åºåˆ—ï¼ˆONT Ultra-long readsè¿™ç§ï¼‰å¡«è¡¥gapï¼Œä½†æ˜¯è¿™é‡Œç”¨çš„æ˜¯assemblyåºåˆ—ï¼Œä¸”å¡«è¡¥å‰ååºåˆ—ä¼šå‘ç”Ÿå˜åŒ–ã€‚patchæ¨¡å—æœ‰ä¸¤ç§è¿è¡Œæ¨¡å¼ï¼š --fill-only åªå¡«è¡¥å·²å­˜åœ¨çš„gapï¼Œå°±å’Œä¼ ç»Ÿçš„gapå¡«è¡¥å·¥å…·ç±»ä¼¼ --join-only ä¸å¡«è¡¥å·²å­˜åœ¨çš„gapï¼Œ ä¼šå¯¹contigé‡æ–°è¿›è¡Œå®šå‘å’Œæ’åºï¼Œè¿™ä¼šäº§ç”Ÿæ–°çš„gapï¼Œä¸”å¡«è¡¥çš„æ˜¯æ–°äº§ç”Ÿçš„gap fillæ¨¡å¼çš„åŸç†å¦‚ä¸‹ï¼š é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸¤ç§è¿è¡Œæ¨¡å¼éƒ½ä¼šè¿›è¡Œï¼Œå¯ä»¥çœ‹åˆ°å¡«è¡¥çš„åŸºç¡€æ˜¯éœ€è¦å¦ä¸€æ¡åŒä¸€ä¸ªç‰©ç§çš„assemblyåºåˆ—ã€‚ å¦‚æœä½ å‰ä¸€æ­¥è·‘äº†scaffoldæ¨¡å—ï¼Œä»…ä»…åªéœ€è¦å¡«è¡¥è¯¥è¿‡ç¨‹äº§ç”Ÿçš„gapï¼Œé‚£éº½åªè¦ä»¥--fill-onlyçš„æ¨¡å¼è¿è¡Œpatchæ¨¡å—å³å¯ã€‚ å› ä¸ºæˆ‘æ²¡æœ‰å…¶ä»–assemblyåºåˆ—ï¼Œæ‰€ä»¥è·‘scaffoldæ¨¡å—å°±å¤Ÿäº†ï¼Œä¸ºäº†æµ‹è¯•ä¸€ä¸‹è¿™ä¸ªæ¨¡å—ï¼Œæˆ‘åˆç”¨åŸå§‹assemblyåºåˆ—è·‘äº†ä¸€éï¼š 1234567usage: ragtag.py patch &lt;target.fa&gt; &lt;query.fa&gt;Homology-based assembly patching: Make continuous joins and fill gaps in &#x27;target.fa&#x27; using sequences from &#x27;query.fa&#x27;positional arguments: &lt;target.fa&gt; target fasta file (uncompressed or bgzipped) &lt;query.fa&gt; query fasta file (uncompressed or bgzipped) è¯¦ç»†å‚æ•°-hå¯ä»¥æŸ¥çœ‹ï¼Œè¿™é‡Œtarget.faæ˜¯ä¸Šä¸€æ­¥äº§ç”Ÿçš„scaffoldåºåˆ—ï¼Œquery.faæ˜¯æˆ‘ä¸€å¼€å§‹è·‘correctæ¨¡å—çš„åŸå§‹assemblyåºåˆ—ã€‚ 12345#!/bin/bash#SBATCH -n 5#SBATCH -t 7200ragtag.py patch ragtag_output/ragtag.scaffold.fasta Av.fasta -t 5 -u -i 0.05 å¾—åˆ°çš„ç»“æœæ–‡ä»¶ï¼š â”œâ”€â”€ ragtag_outputâ”‚ â”œâ”€â”€ ragtag.patch.agpâ”‚ â”œâ”€â”€ ragtag.patch.asm.deltaâ”‚ â”œâ”€â”€ ragtag.patch.asm.delta.logâ”‚ â”œâ”€â”€ ragtag.patch.asm.pafâ”‚ â”œâ”€â”€ ragtag.patch.comps.fastaâ”‚ â”œâ”€â”€ ragtag.patch.comps.fasta.faiâ”‚ â”œâ”€â”€ ragtag.patch.ctg.agpâ”‚ â”œâ”€â”€ ragtag.patch.ctg.fastaâ”‚ â”œâ”€â”€ ragtag.patch.ctg.fasta.faiâ”‚ â”œâ”€â”€ ragtag.patch.errâ”‚ â”œâ”€â”€ ragtag.patch.fastaâ”‚ â”œâ”€â”€ ragtag.patch.rename.agpâ”‚ â”œâ”€â”€ ragtag.patch.rename.fastaâ”‚ â”œâ”€â”€ ragtag.patch.rename.fasta.fai è¿™é‡Œç»“æœæ–‡ä»¶è¾ƒå¤šï¼Œæœ‰å¿…è¦è¯´ä¸€ä¸‹å‡ ä¸ªæ–‡ä»¶çš„ä½œç”¨ï¼ˆæ¥è‡ªå®˜ç½‘ï¼‰ï¼š file name Description ragtag.patch.agp The final AGP file defining how ragtag.patch.fasta is built ragtag.patch.asm.* Assembly alignment files ragtag.patch.comps.fasta The split target assembly and the renamed query assembly combined into one FASTA file. This file contains all components in ragtag.patch.agp ragtag.patch.ctg.agp An AGP file defining how the target assembly was split at gaps ragtag.patch.ctg.fasta The target assembly split at gaps ragtag.patch.err Standard error logging for all external RagTag commands ragtag.patch.fasta The final FASTA file containing the patched assembly ragtag.patch.rename.agp An AGP file defining the new names for query sequences ragtag.patch.rename.fasta A FASTA file with the original query sequence, but with new names æˆ‘ä»¬å…³æ³¨çš„æ˜¯æœ€åçš„ç»“æœæ–‡ä»¶ragtag.patch.fastaã€‚è¿™ä¸€æ­¥è¿è¡Œçš„æ—¶é—´å¾ˆé•¿ï¼Œå¤šé•¿å‘¢ï¼Ÿå’Œå‰é¢ä¸¤ä¸ªæ­¥éª¤æ”¾ä¸€èµ·æ„Ÿå—ä¸€ä¸‹ï¼š 123456789$ sacct --format=JobName,Start,End,Elapsed,NCPUS JobName Start End Elapsed NCPUS ---------- ------------------- ------------------- ---------- ---------- correct 2023-10-18T14:41:49 2023-10-18T14:44:50 00:03:01 5 scaffold 2023-10-18T15:02:21 2023-10-18T15:03:13 00:00:52 5 patch 2023-10-18T15:31:30 2023-10-18T17:25:49 01:54:19 5 # å·²éšå»å¤šä½™ä¿¡æ¯ å‰ä¸¤æ­¥åˆ†åˆ†é’Ÿå®Œæˆï¼Œpatchè¿™ä¸€æ­¥éœ€è¦èŠ±2å°æ—¶ã€‚ è¿˜æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œå¦‚æœç”¨æ¥å¡«è¡¥gapçš„åºåˆ—æ˜¯T2Tæˆ–è€…è¿‘ä¼¼T2Tçš„åºåˆ—ï¼Œéœ€è¦è€ƒè™‘åˆ°å®ƒä»¬åŒ…å«å¤§é‡çš„é«˜åº¦é‡å¤çš„åºåˆ—ï¼ŒRagTagçš„pactchæ¨¡å—æ˜¯é€šè¿‡query contigå’Œè‡³å°‘ä¸¤ä¸ªtarget contigä¹‹é—´çš„å”¯ä¸€æ¯”å¯¹ï¼ˆunique alignmentsï¼‰ï¼Œæ¥ç¡®å®šæ½œåœ¨çš„å¡«è¡¥åŒºåŸŸã€‚å¤§é‡çš„é‡å¤åŒºåŸŸä¼šå¯¼è‡´å”¯ä¸€æ¯”å¯¹å‡ºç°å¤§é‡çš„gapï¼Œä»è€Œè¯¯åˆ¤è¿™ä¸ªåŒºåŸŸä¸æ˜¯æ½œåœ¨çš„å¡«è¡¥åŒºåŸŸã€‚ ä½œè€…æå‡ºçš„å»ºè®®æ˜¯åŠ å…¥å‚æ•°-iå¹¶è°ƒæ•´è¿™ä¸ªå€¼ï¼Œæ¥æ§åˆ¶æœ€å¤§å¯¹é½ä¸­æ–­é•¿åº¦ï¼ˆmaximum alignment break lengthï¼‰ï¼Œå¯ä»¥æ›´å¤§é™åº¦å®¹å¿å”¯ä¸€æ¯”å¯¹ä¸­å‡ºç°çš„é•¿gapåŒºåŸŸã€‚æˆ–è€…ç›´æ¥å°†queryåºåˆ—é‡å¤åŒºåŸŸæ‰“æ–­ï¼ˆä¹Ÿå°±æ¶ˆé™¤äº†é‡å¤åºåˆ—å¯¼è‡´çš„éå”¯ä¸€æ¯”å¯¹ï¼‰ã€‚ çœ‹äº†ä¸‹ç»“æœæ–‡ä»¶ï¼Œå‡ ä¹å’Œscaffoldæ¨¡å—ä¸€æ ·ï¼Œå°±å¡«è¡¥äº†å‡ ä¸ªgapï¼ˆå› ä¸ºæˆ‘æ²¡æœ‰å…¶ä»–assemblyåºåˆ—ï¼‰ï¼Œè€Œä¸”å¯¹Chr0_RagTagè¿™æ¡å¤šä½™contigåˆåœ¨ä¸€èµ·çš„åºåˆ—ï¼Œå¡«è¡¥gapå®Œå…¨æ²¡æ„ä¹‰ï¼Œäºæˆ‘è€Œè¨€è¿™æ­¥ç»“æœæ„ä¹‰ä¸å¤§ä¸”æ›´ä¸å¯ä¿¡ï¼Œåªæ˜¯ä¸ºäº†æµ‹è¯•è¿™ä¸ªæ¨¡å—ã€‚ä¸»è¦è¿˜æ˜¯ç”¨ä¸Šä¸€æ­¥çš„ragtag.scaffold.fastaæ–‡ä»¶ã€‚ 1.4 mergeRagTagçš„åˆå¹¶scaffoldingç»“æœçš„æ¨¡å—ï¼Œèµ·åˆ°æ”¹è¿›scaffoldingç»“æœçš„ä½œç”¨ã€‚ å› ä¸ºscaffoldingè¿‡ç¨‹å¯ä»¥ä½¿ç”¨å¤šç§æ–¹å¼ï¼Œæ¯”å¦‚ä½¿ç”¨Hi-CæŠ€æœ¯ã€Bionanoçš„å…‰å­¦å›¾è°±æŠ€æœ¯ã€é—ä¼ å›¾è°±ç­‰ç­‰ï¼Œè€Œmergeæ¨¡å—çš„ä½œç”¨æ˜¯å°†å„ç§æŠ€æœ¯çš„scaffoldingç»“æœï¼ˆAGPæ ¼å¼ï¼‰åˆå¹¶åˆ°ä¸€èµ·ï¼Œæé«˜åŸºå› ç»„ç»„è£…è‰å›¾çš„ç²¾åº¦ã€‚ è¿™ä¸€æ­¥æˆ‘æ²¡æœ‰Hi-Cæ•°æ®åšæµ‹è¯•äº†ï¼Œå°±æ”¾ä¸€ä¸‹å®˜æ–¹çš„ä½¿ç”¨æ–¹æ³•ï¼Œç”¨åˆ°å†åšè¯¦è§£ï¼š 1234567891011usage: ragtag.py merge &lt;asm.fa&gt; &lt;scf1.agp&gt; &lt;scf2.agp&gt; [...]Scaffold merging: derive a consensus scaffolding solution by reconciling distinct scaffoldings of &#x27;asm.fa&#x27;positional arguments: &lt;asm.fasta&gt; assembly fasta file (uncompressed or bgzipped) &lt;scf1.agp&gt; &lt;scf2.agp&gt; [...] scaffolding AGP filesoptional arguments: -h, --help show this help message and exit 2. LiftoffLiftoffè½¯ä»¶çš„ä½œç”¨æ˜¯å°†åŒä¸€æˆ–è€…è¿‘ç¼˜ç‰©ç§çš„åŸºå› ç»„æ³¨é‡Šæ˜ å°„åˆ°ç»„è£…çš„åŸºå› ç»„ä¸­ã€‚è¾“å…¥æ–‡ä»¶å¾ˆç®€å•ï¼Œä¸€ä¸ªç»„è£…çš„åŸºå› ç»„ï¼Œä¸€ä¸ªå‚è€ƒåŸºå› ç»„ä»¥åŠæ³¨é‡Šæ–‡ä»¶å³å¯ã€‚ è¿™æ¬¾è½¯ä»¶æ˜¯ä½¿ç”¨Minimap2å°†åŸºå› åºåˆ—ä»ä¸€ä¸ªåŸºå› ç»„æ¯”å¯¹åˆ°å¦ä¸€ä¸ªåŸºå› ç»„ï¼ˆä¸æ˜¯åŸºå› ç»„ä¹‹é—´çš„æ¯”å¯¹ï¼‰ï¼Œæ¯ä¸ªåŸºå› éƒ½ä¼šå¯»æ‰¾å¤–æ˜¾å­çš„æ¯”å¯¹ï¼Œä»¥æœ€å¤§é™åº¦æé«˜åºåˆ—çš„åŒä¸€æ€§ï¼ŒåŒæ—¶ä¿ç•™è½¬å½•æœ¬å’ŒåŸºå› ç»“æ„ã€‚å¦‚æœä¸¤ä¸ªåŸºå› éƒ½æ¯”å¯¹åˆ°overlappingä½ç½®ï¼Œè¿˜ä¼šåˆ¤æ–­å“ªä¸ªåŸºå› æœ€æœ‰å¯èƒ½æ˜¯é”™è¯¯æ¯”å¯¹ï¼Œå¹¶è¿›è¡Œé‡æ–°æ¯”å¯¹ï¼ˆæŒºå¥½å¥‡æ€ä¹ˆå®ç°çš„ï¼Ÿï¼‰ã€‚ å®˜æ–¹ä»“åº“ï¼šagshumate&#x2F;Liftoff: An accurate GFF3&#x2F;GTF lift over pipeline (github.com) 12345678910111213141516171819usage: liftoff [-h] (-g GFF | -db DB) [-o FILE] [-u FILE] [-exclude_partial] [-dir DIR] [-mm2_options =STR] [-a A] [-s S] [-d D] [-flank F] [-V] [-p P] [-m PATH] [-f TYPES] [-infer_genes] [-infer_transcripts] [-chroms TXT] [-unplaced TXT] [-copies] [-sc SC] [-overlap O] [-mismatch M] [-gap_open GO] [-gap_extend GE] target referenceLift features from one genome assembly to anotherRequired input (sequences): target target fasta genome to lift genes to reference reference fasta genome to lift genes fromRequired input (annotation): -g GFF annotation file to lift over in GFF or GTF format -db DB name of feature database; if not specified, the -g argument must be provided and a database will be built automatically è¯¦ç»†å‚æ•°-hå¯ä»¥æŸ¥çœ‹ï¼Œè·‘ä¸€ä¸ªæµç¨‹è¯•è¯•ï¼š 123456789#!/bin/bash#SBATCH -n 20#SBATCH -t 7200gff_path=/public/home/wlxie/biosoft/braker3/Ap_mydb/Ap_rmTE_1.gff3target=/public/home/wlxie/biosoft/ragtag/ragtag_output/ragtag.scaffold.fastareference=/public/home/wlxie/Genome/Ap.faliftoff -g $&#123;gff_path&#125; -o Av.gff3 -p 20 $&#123;target&#125; $&#123;reference&#125; ä¸¤åˆ†é’Ÿå°±å¯ä»¥è·‘å®Œï¼Œç»“æœæ–‡ä»¶å¦‚ä¸‹ï¼šâ”œâ”€â”€ Av.gff3â”œâ”€â”€ intermediate_filesâ”‚ â”œâ”€â”€ reference_all_genes.faâ”‚ â””â”€â”€ reference_all_to_target_all.samâ””â”€â”€ unmapped_features.txt gff3æ–‡ä»¶æ˜¯æˆ‘ä»¬è¦çš„ç»“æœï¼Œintermediate_filesæ–‡ä»¶å¤¹ä¸­æ”¾çš„æ˜¯ä¸­é—´æ–‡ä»¶ï¼Œæ²¡å•¥ç”¨ï¼›unmapped_features.txtè®°å½•çš„æ˜¯æ²¡æ¯”å¯¹ä¸Šçš„åŸºå› ã€‚ æå–ä¸€ä¸‹CDSåºåˆ—å’Œè›‹ç™½åºåˆ—ï¼š 123$ gffread Av.gff3 -g ragtag.scaffold.fasta -x Av.codingseq$ gffread Av.gff3 -g ragtag.scaffold.fasta -y Av.aa","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"RagTag","slug":"RagTag","permalink":"http://www.shelven.com/tags/RagTag/"},{"name":"Liftoff","slug":"Liftoff","permalink":"http://www.shelven.com/tags/Liftoff/"}]},{"title":"å…³äºbraker3 UTRåŒºåŸŸæ³¨é‡Šçš„è¸©å‘è®°å½•ä»¥åŠè¡¥å……","slug":"å…³äºbraker3-UTRåŒºåŸŸæ³¨é‡Šçš„è¸©å‘è®°å½•ä»¥åŠè¡¥å……","date":"2023-10-13T13:43:20.000Z","updated":"2023-10-14T09:09:37.000Z","comments":true,"path":"2023/10/13/a.html","link":"","permalink":"http://www.shelven.com/2023/10/13/a.html","excerpt":"åœ¨åŸºå› ç»„æ³¨é‡Šï¼ˆ4ï¼‰â€”â€”åŸºå› é¢„æµ‹è¿™ç¯‡åšå®¢ä¸­è®°å½•äº†æ€ä¹ˆç”¨braker3è¿›è¡Œè›‹ç™½ç¼–ç åŸºå› çš„é¢„æµ‹ï¼Œå½“æ—¶ä¸ºäº†æ–¹ä¾¿å®‰è£…å’Œä½¿ç”¨ï¼Œç›´æ¥ä¸‹è½½äº†å®˜æ–¹çš„singularityå®¹å™¨ã€‚ç”¨è¿‡braker3çš„æœ‹å‹ä¼šå‘ç°ï¼Œå®˜æ–¹ç»™çš„BRAKERæ ‡å‡†è¿è¡Œæµç¨‹ä¸­æ˜¯ä¸åŒ…æ‹¬UTRåŒºåŸŸé¢„æµ‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€åå¾—åˆ°çš„gtf&#x2F;gffæ–‡ä»¶ä¸­æ²¡æœ‰3â€™æˆ–è€…5â€™UTRåŒºåŸŸçš„ä¿¡æ¯ã€‚ å‰æ’æç¤ºï¼Œä»¥ä¸‹æ“ä½œæ˜¯ä¸ªäººå°è¯•ï¼Œä¸ä¿è¯ä¸€å®šæ­£ç¡®ã€‚","text":"åœ¨åŸºå› ç»„æ³¨é‡Šï¼ˆ4ï¼‰â€”â€”åŸºå› é¢„æµ‹è¿™ç¯‡åšå®¢ä¸­è®°å½•äº†æ€ä¹ˆç”¨braker3è¿›è¡Œè›‹ç™½ç¼–ç åŸºå› çš„é¢„æµ‹ï¼Œå½“æ—¶ä¸ºäº†æ–¹ä¾¿å®‰è£…å’Œä½¿ç”¨ï¼Œç›´æ¥ä¸‹è½½äº†å®˜æ–¹çš„singularityå®¹å™¨ã€‚ç”¨è¿‡braker3çš„æœ‹å‹ä¼šå‘ç°ï¼Œå®˜æ–¹ç»™çš„BRAKERæ ‡å‡†è¿è¡Œæµç¨‹ä¸­æ˜¯ä¸åŒ…æ‹¬UTRåŒºåŸŸé¢„æµ‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæœ€åå¾—åˆ°çš„gtf&#x2F;gffæ–‡ä»¶ä¸­æ²¡æœ‰3â€™æˆ–è€…5â€™UTRåŒºåŸŸçš„ä¿¡æ¯ã€‚ å‰æ’æç¤ºï¼Œä»¥ä¸‹æ“ä½œæ˜¯ä¸ªäººå°è¯•ï¼Œä¸ä¿è¯ä¸€å®šæ­£ç¡®ã€‚ éœ€æ±‚æè¿°å½“ä½ è¦å…‹éš†æŸä¸ªåŸºå› ï¼Œå¦‚æœè®¾è®¡çš„å¼•ç‰©ä¸åŒ…å«UTRåŒºåŸŸï¼Œä¼šå¯¼è‡´pcrå‡ºæ¥çš„åŸºå› ä¸å®Œæ•´ï¼Œä¸ºäº†é•¿è¿œè€ƒè™‘è¿˜æ˜¯è¦æŠŠUTRä¿¡æ¯åŠ åˆ°æ³¨é‡Šç»“æœä¸­ã€‚æ€ä¹ˆæ‰èƒ½åœ¨brakerç»“æœä¸­æ·»åŠ UTRåŒºåŸŸçš„æ³¨é‡Šå‘¢ï¼Ÿ å®˜æ–¹æ³¨é‡Šç­–ç•¥Braker3å®˜æ–¹æä¾›äº†ä¸¤ç§æ³¨é‡Šç­–ç•¥ï¼Œå…¶å®å°±æ˜¯ä¸¤ä¸ªå‚æ•°--UTR=onå’Œ--addUTR=onã€‚è¿™ä¸¤ä¸ªå‚æ•°ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œ--UTR=onä¼šæ ¹æ®RNA-seqçš„æ•°æ®è®­ç»ƒAUGUSTUSçš„UTRæ¨¡å‹ï¼Œå¹¶æœ€ç»ˆç”ŸæˆåŒ…å«utræ³¨é‡Šä¿¡æ¯çš„gtfæ–‡ä»¶ã€‚çœ‹ä¼¼ä¸€æ­¥åˆ°ä½ï¼Œå®é™…ä¸Šæœ‰è¯¸å¤šé—®é¢˜ï¼Œçœ‹å®˜æ–¹çš„issuesä¸­å¾ˆå¤šäººæåˆ°utræ³¨é‡Šä¿¡æ¯å’ŒåŸºå› ä¸åŒ¹é…ï¼Œæœ‰äº›utråŒºåŸŸä¸CDSåŒºåŸŸç›¸éš”ç”šè¿œï¼Œè¿™æ˜æ˜¾ä¸ç¬¦åˆå¸¸ç†ã€‚å¼€å‘è€…çš„å›å¤æ˜¯ä½¿ç”¨--UTR=onå‚æ•°ä¼šå¯¹UTRè¿›è¡Œè®­ç»ƒå’Œé¢„æµ‹ï¼Œå¯èƒ½ä¼šä½¿UTRæ³¨é‡Šç»“æœå˜ç³Ÿç³•ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨ï¼š --addUTR=onå‚æ•°æ˜¯åœ¨AUGUSTUSé¢„æµ‹åŸºå› çš„ç»“æœä¸Šï¼Œç›´æ¥æå–RNAseqæ¯”å¯¹äº§ç”Ÿçš„bamæ–‡ä»¶ä¸­çš„coverageä¿¡æ¯ï¼Œä¸è¿›è¡ŒUTRçš„è®­ç»ƒå’Œé¢„æµ‹ï¼Œç›´æ¥å°†UTRåŠ åˆ°AUGUSTUSçš„ç»“æœæ–‡ä»¶ä¸­ï¼ˆå®ç°æ–¹å¼æ˜¯é€šè¿‡å¼€å‘è€…ç¼–å†™çš„è½¯ä»¶GUSHRï¼‰ã€‚éœ€è¦æ³¨æ„è¿™ä¸ªå‚æ•°å¹¶ä¸æ˜¯åœ¨ç¬¬ä¸€éè·‘BRAKER3çš„æ—¶å€™åŠ çš„ï¼Œæˆ‘ä»¬éœ€è¦æ­£å¸¸æµç¨‹ï¼ˆä¸åŠ â€“UTR&#x3D;onè¿™ä¸ªå‚æ•°ï¼‰è·‘ä¸€éï¼Œå¾—åˆ°ç»“æœæ–‡ä»¶åï¼Œå†ç”¨braker.plè·‘ä¸€éä¸‹é¢å¾—å‘½ä»¤ï¼š 1234braker.pl --genome=../genome.fa --addUTR=on \\ --bam=../RNAseq.bam --workingdir=$wd \\ --AUGUSTUS_hints_preds=augustus.hints.gtf --threads=8 \\ --skipAllTraining --species=somespecies åˆšéœ€æ˜¯--genomeã€--bamã€--AUGUSTUS_hints_predså’Œ--skipAllTrainingè¿™å››ä¸ªå‚æ•°ï¼Œaugustus.hints.gtfè¿™ä¸ªæ–‡ä»¶å¯ä»¥ä»brakerç»“æœæ–‡ä»¶çš„AUGUSTUSæ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°ã€‚ ä½¿ç”¨singularityç¢°åˆ°çš„é—®é¢˜å¦‚æœä½ å’Œæˆ‘ä¸€æ ·ç”¨çš„singularityå®¹å™¨ï¼Œä½ ä¼šå¾ˆå°´å°¬çš„å‘ç°åŠ ä¸Šä¸Šé¢ä»»æ„ä¸€ä¸ªå‚æ•°éƒ½è¿è¡Œä¸äº†ï¼Œä¼šæŠ¥é”™JAVA_PATHæ— æ³•æ‰¾åˆ°æˆ–è€…å…¶ä»–javaç›¸å…³çš„é—®é¢˜ï¼Œæˆ‘å…ˆåé‡åˆ°äº†ä¸‹é¢çš„åœºæ™¯ï¼š JAVA error when adding UTR options Â· Issue #638 Â· Gaius-Augustus&#x2F;BRAKER (github.com) set_JAVA_PATH bugâ€¦? Â· Issue #584 Â· Gaius-Augustus&#x2F;BRAKER (github.com) å³ä½¿æˆ‘çŸ¥é“æŠ¥é”™çš„åœ°æ–¹æƒ³ä¿®æ”¹braker.plæ–‡ä»¶ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™ä¸ªsingularityåªæä¾›åªè¯»çš„ä»“åº“å•Šï¼ˆsingularityçš„ç¼ºç‚¹åˆä½“ç°äº†å¯æ¶â€¦â€¦ï¼‰ï¼Œæˆ‘è¯•äº†3.0.3ç‰ˆæœ¬å’Œ2.0.2ç‰ˆæœ¬éƒ½å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œæ‰€ä»¥å¦‚æœç”¨äº†singularityé•œåƒä»“åº“ï¼Œå°±ä¸è¦æƒ³ç€ç›´æ¥åŠ å‚æ•°é¢„æµ‹UTRåŒºåŸŸäº†â€¦â€¦ é’ˆå¯¹å°†UTRä¿¡æ¯åŠ å…¥åˆ°braker.gtfæ–‡ä»¶çš„éœ€æ±‚ï¼Œå¼€å‘è€…ä¸¤å‘¨å‰åˆæ›´æ–°äº†ä¸€ä¸ªå°†stringtieç»„è£…è½¬å½•æœ¬çš„ä¸­é—´æ–‡ä»¶ä¿¡æ¯åŠ å…¥åˆ°braker.gtfæ–‡ä»¶çš„è„šæœ¬ï¼š åœ°å€å¦‚ä¸‹ï¼š https://github.com/Gaius-Augustus/BRAKER/blob/utr_from_stringtie/scripts/stringtie2utr.py å¾ˆå¯æƒœçš„æ˜¯â€¦â€¦transcripts_merged.gffæ˜¯ä¸ªä¸­é—´æ–‡ä»¶ï¼Œæ­£å¸¸æƒ…å†µä¸‹è·‘å®Œbrakerå°±è¢«è‡ªåŠ¨åˆ é™¤äº†â€¦â€¦ï¼ˆä½ å¯ä»¥åœ¨brakerçš„logæ–‡ä»¶ä¸­çœ‹åˆ°å®ƒæ˜¯å•¥æ—¶å€™è¢«åˆ çš„ï¼‰ä¹Ÿä¸è¦è¯•å›¾è‡ªå·±å†è·‘ä¸€éstringtieï¼Œäº²è‡ªè¯•äº†ä¸‹å°±ç®—æœ€ç»ˆå¾—åˆ°stringtieçš„gffæ–‡ä»¶ï¼Œè·‘ä¸Šé¢çš„æµç¨‹ä¹Ÿæ˜¯è·‘ä¸é€šçš„ï¼Œå¾—ç”¨brakeræµç¨‹çš„stringtieä¸­é—´æ–‡ä»¶ï¼ˆæ ¼å¼ä¸å…¼å®¹ï¼‰ã€‚ æ¯”è¾ƒåå·çš„è§£å†³æ–¹æ¡ˆå½“ç„¶ä¹Ÿä¸æ˜¯å®Œå…¨æ²¡åŠæ³•ï¼Œç”¨å¼€å‘è€…å†™çš„è½¯ä»¶GUSHRï¼Œåªéœ€è¦ç”¨hisatå°†RNA-seqæ•°æ®æ¯”å¯¹å‚è€ƒåŸºå› ç»„ï¼Œæ¯”å¯¹æ–‡ä»¶è½¬æˆbamæ–‡ä»¶åä½œä¸ºè¾“å…¥æ–‡ä»¶ç›´æ¥ç”¨ï¼Œèµ·åˆ°å’Œbrakerè¿è¡ŒåŠ å…¥å‚æ•°--addUTR=onä¸€æ ·çš„æ•ˆæœã€‚ 12345678910111213141516#!/bin/bash#SBATCH -n 20genome_path=/public/home/wlxie/Genome/Ap.fastafq_path=/public/home/wlxie/Sequencing_data/BYT2022020901/Apocynum_pictum/# hisat2 æ„å»ºç´¢å¼•ï¼Œæ¯”å¯¹å‚è€ƒåŸºå› ç»„hisat2-build $&#123;genome_path&#125; genomehisat2 -p 20 -x genome -S out.sam -1 $&#123;fq_path&#125;4-216031965_raw_1.fq -2 $&#123;fq_path&#125;4-216031965_raw_2.fq# samtoolsè½¬samä¸ºbamå¹¶æ’åºsamtools sort -@ 20 -o RNAseq.bam out.sam# åˆ é™¤ä¸­é—´æ–‡ä»¶rm -rf genome.*rm -rf out.sam ä¸Šé¢çš„è„šæœ¬å¤„ç†è½¬å½•ç»„ä¸‹æœºæ•°æ®ï¼Œæœ€ç»ˆå¾—åˆ°RNAseq.bamæ–‡ä»¶ã€‚ æ¥ç€å…‹éš†GUSHRçš„githubé•œåƒä»“åº“ï¼š 1git clone https://ghproxy.com/https://github.com/Gaius-Augustus/GUSHR.git ä¸‹è½½gtf2gff.plï¼šAugustus&#x2F;scripts&#x2F;gtf2gff.pl at cc41cd053721756dd6c0aba2f5c306054edd9151 Â· Gaius-Augustus&#x2F;Augustus (github.com) å› ä¸ºä¸æƒ³æ”¹ç¯å¢ƒå˜é‡ï¼Œç›´æ¥æ”¹äº†ä¸‹gushr.pyçš„æºç ï¼ŒæŠŠgtf2gff.plæ–‡ä»¶ç»å¯¹ä½ç½®å†™åœ¨gtf2gffå˜é‡é‡Œã€‚ 1234567891011121314151617181920212223242526272829303132333435363738# 197è¡Œ&#x27;&#x27;&#x27; Find AUGUSTUS script gtf2gff.pl &#x27;&#x27;&#x27;gtf2gff = &quot;/public/home/wlxie/biosoft/braker3/GUSHR/gtf2gff.pl&quot;&#x27;&#x27;&#x27;if args.verbosity &gt; 0: print(&quot;Searching for gtf2gff.pl:&quot;)if args.AUGUSTUS_SCRIPTS_PATH: gtf2gff = args.AUGUSTUS_SCRIPTS_PATH + &quot;/gtf2gff.pl&quot; if not(os.access(gtf2gff, os.X_OK)): frameinfo = getframeinfo(currentframe()) print(&#x27;Error in file &#x27; + frameinfo.filename + &#x27; at line &#x27; + str(frameinfo.lineno) + &#x27;: &#x27; + gtf2gff + &quot; is not executable!&quot;) exit(1) else: if args.verbosity &gt; 0: print(&quot;Will use &quot; + gtf2gff)else: if shutil.which(&quot;gtf2gff.pl&quot;) is not None: gtf2gff = shutil.which(&quot;gtf2gff.pl&quot;) if args.verbosity &gt; 0: print(&quot;Will use &quot; + gtf2gff) else: frameinfo = getframeinfo(currentframe()) print(&#x27;Error in file &#x27; + frameinfo.filename + &#x27; at line &#x27; + str(frameinfo.lineno) + &#x27;: &#x27; + &quot;Unable to locate gtf2gff.pl!&quot;) print(&quot;gtf2gff.pl is part of AUGUSTUS scripts.&quot;) print(&quot;You can obtain it &quot; + &quot;from github with:&quot;) print(&quot;git clone https://github.com/Gaius-Augustus/Augustus.git&quot;) print(&quot;Compilation and full installation of AUGUSTUS is not &quot; + &quot;required for excuting this script. You only need to add &quot; + &quot;the missing script to your $PATH.&quot;) exit(1)&#x27;&#x27;&#x27;&#x27;&#x27;&#x27; Find bash sort &#x27;&#x27;&#x27; å¯ä»¥å…ˆè·‘ä¸€ä¸ªtestæµ‹è¯•ä¸€ä¸‹ï¼ˆéœ€è¦å¦å¤–ä¸‹è½½bamæ–‡ä»¶ï¼‰ï¼Œæ²¡æœ‰é—®é¢˜å°±å¯ä»¥å¸¦å…¥è‡ªå·±ç›¸å…³çš„æ–‡ä»¶è·‘è¿™ä¸ªè„šæœ¬äº†ã€‚ 1./gushr.py -t ~/biosoft/braker3/Ap_mydb/Augustus/augustus.hints.gtf -b Ap/RNAseq.bam -g ~/Genome/Ap.fasta -o utrs å¯ä»¥çœ‹åˆ°æœ€åçš„utrs.gtfæ–‡ä»¶ä¸­æ³¨é‡Šä¸Šäº†UTRåŒºåŸŸï¼ˆå¹¶ä¸æ˜¯æ¯ä¸ªåŸºå› éƒ½èƒ½æ³¨é‡Šåˆ°ï¼‰ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæ˜¯ç»™AUGUSTUSç»“æœaugustus.hints.gtfåŠ ä¸ŠUTRæ³¨é‡Šä¿¡æ¯ï¼Œè€Œä¸æ˜¯braker.gtfï¼ˆç”¨è¿™ä¸ªæ–‡ä»¶è·‘ä¸Šé¢çš„ç¨‹åºä¹Ÿæ˜¯ä¼šæŠ¥é”™çš„ï¼‰ã€‚å¼€å‘è€…å¯¹ä¸¤ä¸ªgtfæœ‰å¦‚ä¸‹çš„è§£é‡Šï¼š you have two options: augustus.hints.*: This is the final output of AUGUSTUS with protein hints. braker.{gtf,gtf3}: This is a union of augustus.hints.* and most reliable genes from GeneMark-EP+ prediction, which is a part of the BRAKER2 pipeline with proteins. Thus, this set is generally more sensitive (more genes correctly predicted) and can be less specific (more false-positive predictions can be present). The remaining files are intermediate results that are useful for development and debugging purposes. The results of augustus.hints.* and braker.{gtf,gtf3} will be quite similar, if you prefer sensitivity, use braker.{gtf,gtf3}. Use augustus.hints.* otherwise. ä¹Ÿå°±æ˜¯ä¸¤ä¸ªæ–‡ä»¶å·®åˆ«ä¸å¤§ï¼Œbraker.gtfçµæ•åº¦é«˜ï¼Œä½†æ˜¯å‡é˜³æ€§å¤šã€‚ ä¹Ÿæœ‰äººæè¿‡å°†brakeré¢„æµ‹ç»“æœç›´æ¥åŠ å…¥UTRæ³¨é‡Šï¼ˆéAUGUSTUSè®­ç»ƒUTRæ¨¡å‹ï¼Œå› ä¸ºç»“æœä¸ç¨³å®šï¼‰ï¼Œå¼€å‘è€…æåˆ°è¿™å¹¶ä¸æ˜¯ä¸€ä»¶å®¹æ˜“çš„äº‹ï¼Œå› ä¸ºbraker.gtfæ ¼å¼ä¸UTRé¢„æµ‹ä¸å…¼å®¹â€¦â€¦åŸè¯å¦‚ä¸‹ï¼š there is currently no easy way to do this because the format of braker.gtf is not compatible with UTR procedure. How many extra genes do you have in braker.gtf compared to augustus.hints.gtf? In case itâ€™s not many genes, it should be OK to just use augustus.hints_utr.gtf and add the extra genes from braker.gtf to the result (the extra genes will have GeneMark.hmm in the second column). Updating previous braker.gtf with addUTR output for non-fungal eukaryotic genome Â· Issue #373 Â· Gaius-Augustus&#x2F;BRAKER (github.com) ç„¶è€Œè¿™ä¸¤ä¸ªæ–‡ä»¶çš„åŸºå› å’Œè½¬å½•æœ¬ç¼–å·å¹¶ä¸æ˜¯ä¸€ä¸€å¯¹åº”çš„â€¦â€¦ç›´æ¥å°†braker.gtfç¬¬äºŒåˆ—GeneMark.hmmåŠ åˆ°åˆšåˆšUTRæ³¨é‡Šçš„augustus.hints.gtfä¸­ä¼šå¯¼è‡´åŸºå› å’Œè½¬å½•æœ¬idæ··æ‚ï¼Œå¹¶ä¸”æœ‰äº›AUGUSTUSé¢„æµ‹çš„åŸºå› ä½ç½®ä¼šå’ŒGeneMarkæ ‡çš„åŸºå› ä½ç½®é‡å¤ã€‚ æƒè¡¡äº†ä¸€ä¸‹ï¼Œè¿˜æ˜¯ç›´æ¥ç”¨augustus.hints.gtfä½œä¸ºç»“æœæ–‡ä»¶æ¯”è¾ƒåˆé€‚ï¼Œç»è¿‡ä¸Šé¢çš„UTRæ³¨é‡Šåï¼Œè¿™ä¸ªgtfæ–‡ä»¶æ•´ä½“ä¼šå°ä¸€åœˆï¼Œå› ä¸ºåˆ é™¤äº†intronå’Œexonä¿¡æ¯ï¼Œåªä¿ç•™äº†CDSã€start_codonã€stop_codonã€transcriptã€geneä»¥åŠ5â€˜å’Œ3â€™-UTRã€‚ åˆ«å¿˜äº†è¿™ä¸ªgtfæ˜¯éæ ‡å‡†çš„gtfæ–‡ä»¶ï¼Œè¿˜éœ€è¦ç»è¿‡ä¸¤æ­¥å¤„ç†â€¦..ï¼ˆçœŸçš„å¤´ç–¼ï¼‰ 12# è½¬æ¢è¯¥gtfæ–‡ä»¶ä¸ºgff3æ–‡ä»¶cat utrs.gtf | perl -ne &#x27;if(m/\\tAUGUSTUS\\t/ or m/\\tAnnotationFinalizer\\t/ or m/\\tGUSHR\\t/) &#123;print $_;&#125;&#x27; | perl gtf2gff.pl --gff3 --out=result.gff3 perlæ–‡ä»¶æ¥è‡ªäºbraker singularityå®¹å™¨çš„/usr/share/augustus/scripts/gtf2gff.plã€‚æˆ–è€…å¯ä»¥åˆ°AUGUSTUSå®˜æ–¹ä»“åº“å–ï¼š Augustus&#x2F;scripts&#x2F;gtf2gff.pl at cc41cd053721756dd6c0aba2f5c306054edd9151 Â· Gaius-Augustus&#x2F;Augustus (github.com) è¿™ä¸ªæ˜¯å¼€å‘è€…å†™çš„gtfè½¬gff3è„šæœ¬ï¼Œç„¶è€Œè½¬äº†ä»¥åè¿˜å­˜åœ¨ç©ºæ ¼é—®é¢˜ï¼Œæ— æ³•è¢«å¸¸è§„çš„gffè½¯ä»¶è§£æï¼Œå¦‚ä¸‹ï¼š éœ€è¦è‡ªå·±å†å¤„ç†ä¸€ä¸‹ï¼š 1234567891011# å°†å«æœ‰AnnotationFinalizerå’ŒGUSHRå­—æ®µçš„è¡Œæå–ï¼Œå»é™¤ç©ºæ ¼with open(&#x27;result.gff3&#x27;, &#x27;r&#x27;) as file, open(&#x27;final.gff3&#x27;, &#x27;a&#x27;) as final: for line in file: if &quot;AnnotationFinalizer&quot; in line or &quot;GUSHR&quot; in line: line_list = line.split(&#x27;\\t&#x27;) for i in range(len(line_list)-1): line_list[i] = line_list[i].strip() line = &quot;\\t&quot;.join(line_list) final.write(line) else: final.write(line) æœ€åçš„é—®é¢˜æœ€åè¿™ä¸ªfinal.gff3æ–‡ä»¶è¡¨é¢é£å¹³æµªé™ï¼Œå®é™…è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜éœ€è¦æ‰‹åŠ¨æ’æŸ¥ï¼š æˆ‘è·‘äº†ä¸€éæœ‰ä¸‰åå¤šä¸ªåŸºå› å­˜åœ¨startä½ç½®å¤§äºendä½ç½®çš„æƒ…å†µï¼Œè¿™å¯ä»¥æ‰‹åŠ¨ä¿®æ”¹ã€‚ä½†æ˜¯é¢„æµ‹çš„5â€™å’Œ3â€™UTRåŒºåŸŸä¸æ­¢ä¸€ä¸ªï¼Œæœ‰çš„ä¹Ÿä¼šç›¸éš”ç”šè¿œï¼ŒåŸºæœ¬ä¸Šæ¥è¯´ï¼Œåªæœ‰æœ€åä¸€ä¸ª5â€™UTRåŒºåŸŸå’Œç¬¬ä¸€ä¸ª3â€™UTRåŒºåŸŸæ¯”è¾ƒé è°±ï¼Œæ‰€ä»¥ä»ç„¶è¦å†™è„šæœ¬ç­›é€‰UTRï¼Œå¹¶ä¿®æ”¹geneå’ŒmRNAæ‰€åœ¨çš„ä½ç½®ã€‚ è¿™ç§é—®é¢˜å°±è¦æ‰’gushr.pyçš„æºç çœ‹ä½œè€…å¯¹UTRåŒºåŸŸç­›é€‰çš„å¤„ç†æ–¹å¼äº†â€¦â€¦emmmmmè¿˜æ˜¯ç›´æ¥è¯´ç»“è®ºå§ï¼Œbrakerçš„ç»“æœå¯¹UTRåŒºåŸŸçš„æ³¨é‡Šç¡®å®ä¸é‚£ä¹ˆå‹å¥½ï¼Œç°é˜¶æ®µæˆ‘åªèƒ½ç»™å‡ºä¸Šé¢çš„æ€è·¯ï¼Œæœ€åè¿˜æ˜¯è¦å†™è„šæœ¬è‡ªå·±å¤„ç†gffæ–‡ä»¶ç­›é€‰UTRåŒºåŸŸï¼Œä»¥åæœ‰ç©ºå†å»å®ç°äº†ã€‚ ç°åœ¨æ¯”è¾ƒç€æ€¥æƒ³è¦æŸåŸºå› çš„CDSä¸Šä¸‹æ¸¸åŒºåŸŸæ€ä¹ˆåŠå‘¢ï¼Ÿä»æ³¨é‡Šæ–‡ä»¶ä¸­æŸ¥æ‰¾åˆ°ç›®çš„åŸºå› ï¼Œæ‹¿gffæ–‡ä»¶å’ŒåŸºå› ç»„æ–‡ä»¶ï¼Œç›´æ¥æå–brakeré¢„æµ‹çš„åŸºå› ä¸Šä¸‹æ¸¸ä¸€æ®µåŒºåŸŸï¼Œè‡ªå·±å–èˆä¸€ä¸‹ã€‚ æœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹å¼æ³¨é‡ŠUTRåŒºåŸŸå‘¢ï¼Ÿæˆ‘çš„ç†è§£æ˜¯æœ€å¥½æµ‹ä¸€ä¸ªå…¨é•¿è½¬å½•ç»„ï¼Œä»¥ç»„è£…çš„åŸºå› ç»„åšå‚è€ƒåŸºå› ç»„ï¼Œæ‹¼æ¥éå†—ä½™çš„å…¨é•¿è½¬å½•æœ¬ï¼Œå¯ä»¥æ¯”è¾ƒæ˜ç¡®çš„åŒºåˆ†å„åŸºå› çš„UTRåŒºåŸŸã€‚æœ€åè®°å¾—å¯¼å…¥UCSCåŸºå› ç»„æµè§ˆå™¨çœ‹ä¸€çœ‹ç»“æœã€‚ æ€»ä¹‹è¿™ä¹ˆé•¿ä¸€ä¸²çš„è¸©å‘å’Œå¤„ç†è®°å½•ï¼Œä¼°è®¡åˆ«äººä¹Ÿéƒ½ç”¨ä¸äº†ï¼Œå°±å½“æ˜¯è‡ªå·±æ“ä½œçš„å¤‡ä»½å§hhhhhhhhh","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Barker3","slug":"Barker3","permalink":"http://www.shelven.com/tags/Barker3/"}]},{"title":"Hard-maskingå’ŒSoft-maskingç»“æœç›¸äº’è½¬åŒ–","slug":"Hard-maskingå’ŒSoft-maskingç»“æœç›¸äº’è½¬åŒ–","date":"2023-10-10T12:48:19.000Z","updated":"2023-10-10T12:52:17.000Z","comments":true,"path":"2023/10/10/a.html","link":"","permalink":"http://www.shelven.com/2023/10/10/a.html","excerpt":"åœ¨ä¸²è”é‡å¤åºåˆ—æ³¨é‡Šè¿™ç¯‡ç¬”è®°é‡Œè®°å½•äº†å¦‚ä½•ç”¨TRFè½¯ä»¶è¿›è¡ŒTRé¢„æµ‹ï¼Œè¿™æ¬¾è½¯ä»¶å¯ä»¥ä½¿ç”¨-må‚æ•°å¾—åˆ°å±è”½åçš„åºåˆ—ï¼Œå½“æ—¶æ²¡å†™å¦‚ä½•æŠŠHard maskingç»“æœè½¬æ¢æˆSoft maskingï¼Œè¿™é‡Œå°±è¡¥ä¸ªæ¡£ã€‚è¿™ä¸¤ç§å±è”½æ–¹å¼çš„ç»“æœæ–‡ä»¶æ˜¯å¯ä»¥ç›¸äº’è½¬æ¢çš„ã€‚","text":"åœ¨ä¸²è”é‡å¤åºåˆ—æ³¨é‡Šè¿™ç¯‡ç¬”è®°é‡Œè®°å½•äº†å¦‚ä½•ç”¨TRFè½¯ä»¶è¿›è¡ŒTRé¢„æµ‹ï¼Œè¿™æ¬¾è½¯ä»¶å¯ä»¥ä½¿ç”¨-må‚æ•°å¾—åˆ°å±è”½åçš„åºåˆ—ï¼Œå½“æ—¶æ²¡å†™å¦‚ä½•æŠŠHard maskingç»“æœè½¬æ¢æˆSoft maskingï¼Œè¿™é‡Œå°±è¡¥ä¸ªæ¡£ã€‚è¿™ä¸¤ç§å±è”½æ–¹å¼çš„ç»“æœæ–‡ä»¶æ˜¯å¯ä»¥ç›¸äº’è½¬æ¢çš„ã€‚ 1. Hardmaskingè½¬Softmaskingå› ä¸ºæ¯ä¸ªäººçš„åŸºå› ç»„æ–‡ä»¶å¯èƒ½å„ä¸ç›¸åŒï¼Œæœ‰çš„åºåˆ—å¤§å°å†™æ··æ‚ï¼Œæœ‰çš„60ä¸ªæ ¸è‹·é…¸æˆ–è€…80ä¸ªæ ¸è‹·é…¸æ¢ä¸€è¡Œï¼Œä¸ºäº†æ–¹ä¾¿èµ·è§ï¼Œé¦–å…ˆå°†åŸºå› ç»„æ–‡ä»¶ä»¥åŠhard maskingä¹‹åçš„åºåˆ—æ–‡ä»¶è½¬æ¢æˆä»¥ä¸‹fastaæ ¼å¼ï¼š 1234567891011121314151617181920212223# transform.py # æ¯æ¡åºåˆ—ä¸¤è¡Œæ•°æ®å½¢å¼å­˜å‚¨ï¼Œæ‰€æœ‰åºåˆ—ç”¨å¤§å†™å­—æ¯def transform(input_file, output_file): sequence = [] with open(input_file, &#x27;r&#x27;) as input_f: for line in input_f: if line.startswith(&#x27;&gt;&#x27;): if sequence: sequence = &quot;&quot;.join(sequence).replace(&#x27;\\n&#x27;, &#x27;&#x27;).upper() # åˆå¹¶åˆ†è¡Œçš„åºåˆ—ä»¥åŠè½¬æ¢æˆå¤§å†™å­—æ¯ with open(output_file, &#x27;a&#x27;) as new: new.write(sequence + &#x27;\\n&#x27; + line) sequence = [] else: with open(output_file, &#x27;a&#x27;) as new: # ç¬¬ä¸€æ¡åºåˆ—çš„å¤„ç†æ–¹å¼ new.write(line) else: sequence.append(line) sequence = &quot;&quot;.join(sequence).replace(&#x27;\\n&#x27;, &#x27;&#x27;) # å¤„ç†æœ€åä¸€æ¡åºåˆ—å¤„ç†æ–¹å¼ with open(output_file, &#x27;a&#x27;) as new: new.write(sequence)transform(&#x27;genome.fa&#x27;, &#x27;standard_genome.fa&#x27;) NCIå®˜ç½‘æœ‰fastaæ ‡å‡†æ ¼å¼è¦æ±‚ï¼Œè¿™ä¸ªè¦æ±‚è¿˜æ˜¯ç›¸å½“å®½æ³›çš„ï¼Œä½†æ˜¯ä¸æ–¹ä¾¿æˆ‘ä»¬åšè½¬æ¢ï¼Œæ‰€ä»¥è¿˜æ˜¯æœ‰å¿…è¦ç»Ÿä¸€ä¸€ä¸‹ã€‚ FASTA Format for Nucleotide Sequences (nih.gov) 123456789101112131415161718192021222324252627282930313233343536373839404142434445# hard2soft.py# hardmaskingæ–‡ä»¶ä¸ºinput_fileï¼Œæƒ³è¦å¾—åˆ°çš„softmaskingæ–‡ä»¶ä¸ºoutput_fileï¼ŒåŸºå› ç»„æ–‡ä»¶ä¸ºreference_filedef hard2soft(input_file, output_file, reference_file): reference_sequences = &#123;&#125; # åºåˆ—åç§°å’Œå¯¹åº”çš„åºåˆ—å‚¨å­˜åœ¨å­—å…¸ä¸­ with open(reference_file, &#x27;r&#x27;) as ref: sequence_name = &#x27;&#x27; sequence = &#x27;&#x27; for line in ref: line = line.strip() if line.startswith(&#x27;&gt;&#x27;): if sequence_name: reference_sequences[sequence_name] = sequence sequence_name = line[1:] sequence = &#x27;&#x27; else: sequence += line if sequence_name: # å¤„ç†æœ€åä¸€æ¡åºåˆ— reference_sequences[sequence_name] = sequence with open(input_file, &#x27;r&#x27;) as input_f, open(output_file, &#x27;w&#x27;) as output_f: sequence_name = &#x27;&#x27; for line in input_f: line = line.strip() if line.startswith(&#x27;&gt;&#x27;): sequence_name = line[1:] output_f.write(line + &#x27;\\n&#x27;) else: sequence = line if sequence_name in reference_sequences: reference_sequence = reference_sequences[sequence_name] replaced_sequence = &#x27;&#x27; for i in range(len(sequence)): if sequence[i] == &#x27;N&#x27;: if reference_sequence[i] == &#x27;N&#x27;: # å¦‚æœåŸºå› ç»„ä¸­åŸæœ¬å°±æœ‰N(å¡«è¡¥gapäº§ç”Ÿçš„)ï¼Œåˆ™æ— éœ€è½¬æ¢ replaced_sequence += &#x27;N&#x27; else: replaced_sequence += reference_sequence[i].lower() else: replaced_sequence += sequence[i] output_f.write(replaced_sequence + &#x27;\\n&#x27;) else: output_f.write(sequence + &#x27;\\n&#x27;)hard2soft(&#x27;hardmask.fa&#x27;, &#x27;softmask.fa&#x27;, &#x27;standard_genome.fa&#x27;) éœ€è¦æ³¨æ„ï¼Œå¦‚æœåŸºå› ç»„ä¸­åŸæœ¬å°±æœ‰å¡«è¡¥gapäº§ç”Ÿçš„Nï¼Œå°±ä¸éœ€è¦è½¬æ¢ï¼Œç›´æ¥ç”¨Nè¡¨ç¤ºã€‚ 2. Softmaskingè½¬HardmaskingSoftmaskingè½¬Hardmaskingçš„æƒ…å†µå°±è¦ç®€å•å¤šäº†ï¼Œç›´æ¥æœåºåˆ—ä¸­çš„å°å†™å­—æ¯å†ç”¨Næ›¿ä»£å³å¯ï¼š 1234567891011121314151617181920# soft2hard.py# softmaskingæ–‡ä»¶ä¸ºinput_file,hardmaskingæ–‡ä»¶ä¸ºoutput_filedef soft2hard(input_file, output_file): with open(input_file, &#x27;r&#x27;) as input_f, open(output_file, &#x27;w&#x27;) as output_f: for line in input_f: line = line.strip() if line.startswith(&#x27;&gt;&#x27;): output_f.write(line + &#x27;\\n&#x27;) else: sequence = line replaced_sequence = &#x27;&#x27; for i in range(len(sequence)): if sequence[i].islower(): replaced_sequence += &#x27;N&#x27; else: replaced_sequence += sequence[i] output_f.write(replaced_sequence + &#x27;\\n&#x27;)soft2hard(&#x27;softmask.txt&#x27;, &#x27;hardmask.txt&#x27;) ä¸ç®¡ç”¨å“ªç§æ–¹å¼å±è”½é‡å¤åºåˆ—ï¼Œéƒ½æ˜¯ä¸ºäº†ä¸‹æ¸¸åˆ†ææœåŠ¡çš„ï¼Œæ²¡å¿…è¦æ­»ç£•ç”¨ä»€ä¹ˆè½¯ä»¶æ‰æ˜¯æœ€ä¼˜è§£â€¦â€¦èƒ½åšå‡ºç¬¦åˆè‡ªå·±é¢„æœŸçš„ç»“æœå°±è¡ŒO(âˆ©_âˆ©)O é¡ºä¾¿ä¸€æï¼ŒUCSC Genome Browser Groupæä¾›çš„ç”Ÿç‰©åˆ†æå¥—ä»¶å’Œå·¥å…·çš„æºç ï¼Œå…¶ä¸­ä¹Ÿæœ‰ç”¨TRFè·å¾—softmaskingç»“æœä»¥åŠåç»­åˆ†æç­‰ä¸€ç³»åˆ—çš„æµç¨‹ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹githubä»“åº“ä¸Šçš„perlæºç ï¼š kent&#x2F;src&#x2F;hg&#x2F;utils&#x2F;automation&#x2F;doSimpleRepeat.pl at 307976d1f4c1ecbc73a55dea1f6348c19c1336b8 Â· ucscGenomeBrowser&#x2F;kent (github.com)","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"æ ¼å¼è½¬æ¢","slug":"æ ¼å¼è½¬æ¢","permalink":"http://www.shelven.com/tags/%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/"}]},{"title":"HTMLã€CSSå’ŒJavaScriptå…¥é—¨ï¼ˆ3ï¼‰â€”â€”JavaScriptåŸºç¡€","slug":"HTMLã€CSSå’ŒJavaScriptå…¥é—¨ï¼ˆ3ï¼‰â€”â€”JavaScriptåŸºç¡€","date":"2023-10-08T07:31:18.000Z","updated":"2023-10-08T07:40:51.000Z","comments":true,"path":"2023/10/08/a.html","link":"","permalink":"http://www.shelven.com/2023/10/08/a.html","excerpt":"è¿™ä¸€ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‹ES6ç‰ˆæœ¬çš„Javascriptçš„å…¥é—¨å­¦ä¹ ç¬”è®°ï¼Œåªè®°å½•äº†è‡ªå·±äº†è§£çš„åŸºç¡€çŸ¥è¯†ï¼Œå®é™…ç”¨è¿™é—¨è¯­è¨€çš„æ—¶å€™è¿˜æ˜¯è¦å¤šæŸ¥é˜…æ–‡æ¡£ã€‚","text":"è¿™ä¸€ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‹ES6ç‰ˆæœ¬çš„Javascriptçš„å…¥é—¨å­¦ä¹ ç¬”è®°ï¼Œåªè®°å½•äº†è‡ªå·±äº†è§£çš„åŸºç¡€çŸ¥è¯†ï¼Œå®é™…ç”¨è¿™é—¨è¯­è¨€çš„æ—¶å€™è¿˜æ˜¯è¦å¤šæŸ¥é˜…æ–‡æ¡£ã€‚ é¡ºä¾¿æ¨èå‡ ä¸ªgithubä¸Šæ”¶è—é‡æ¯”è¾ƒé«˜çš„JavaScriptå­¦ä¹ ä»“åº“ï¼š getify&#x2F;You-Dont-Know-JS: A book series on JavaScript. @YDKJS on twitter. (github.com) trekhleb&#x2F;javascript-algorithms: ğŸ“ Algorithms and data structures implemented in JavaScript with explanations and links to further readings (github.com) airbnb&#x2F;javascript: JavaScript Style Guide (github.com) 1. JavaScriptåŸºç¡€HTMLä¸­çš„JavaScriptè„šæœ¬ä»£ç å¿…é¡»ä½äº &lt;script&gt; å’Œ&lt;/script&gt;æ ‡ç­¾ä¹‹é—´ï¼Œå¯ä»¥åœ¨&lt;head&gt;ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨&lt;body&gt;ä¸­ã€‚ æ”¾åœ¨&lt;head&gt;ä¸­çš„è„šæœ¬ä¸€èˆ¬æ˜¯å®šä¹‰ä¸€ä¸ªJavaScriptå‡½æ•°ï¼Œåç»­åœ¨&lt;body&gt;ä¸­å¼•ç”¨ï¼›æˆ–è€…ä¹Ÿå¯ä»¥åƒå‰é¢çš„CSSä¸€æ ·ä»å¤–éƒ¨å¼•å…¥ï¼Œéœ€è¦åœ¨&lt;script&gt;æ ‡ç­¾çš„srcå±æ€§ä¸­è®¾ç½®JSæ–‡ä»¶çš„å§ä½ç½®ã€‚ 12345678910111213141516171819202122&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;!-- ä¸€ç§å¼•å…¥JSçš„æ–¹å¼ --&gt; &lt;script&gt; function myFoo() &#123; document.getElementById(&quot;test&quot;).innerHTML=&quot;ä¿®æ”¹HTMLå½“å‰æ ‡ç­¾çš„å†…å®¹&quot;; &#125; &lt;/script&gt;&lt;/head&gt;&lt;body&gt; &lt;p id=&quot;test&quot;&gt;è¿™æ˜¯ä¸€ä¸ªidä¸ºtestçš„æ®µè½&lt;/p&gt; &lt;!-- åˆ›å»ºæŒ‰é’®å¹¶ç»‘å®šå•å‡»äº‹ä»¶ï¼Œè°ƒç”¨å‡½æ•° --&gt; &lt;button type=&quot;button&quot; onclick=&quot;myFoo()&quot;&gt;ä¿®æ”¹&lt;/button&gt; &lt;!-- å¤–éƒ¨å¼•å…¥JSçš„æ–¹å¼ --&gt; &lt;script src=&quot;js/index.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; ä»¥ä¸Šæ˜¯ä¸ªç®€å•çš„ä¾‹å­ï¼Œç‚¹å‡»æŒ‰é’®åå¯ä»¥æ”¹å˜idå±æ€§ä¸ºâ€testâ€çš„æ ‡ç­¾çš„å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°JavaScriptæ˜¯å¦‚ä½•æ§åˆ¶ç½‘é¡µè¡Œä¸ºçš„ã€‚ JavaScriptå¯ä»¥ç”¨console.log()çš„æ–¹å¼å°†è¾“å‡ºæ•°æ®å†™å…¥æ§åˆ¶å°ï¼›æˆ–è€…ç”¨window.alert()çš„æ–¹å¼å°†è¾“å‡ºç»“æœå¼¹çª—æ˜¾ç¤ºï¼Œæ–¹ä¾¿èµ·è§åé¢çš„ä¾‹å­éƒ½ç”¨console.log()å°†ç»“æœå†™å…¥æ§åˆ¶å°ï¼ˆæµè§ˆå™¨ä¸­æŒ‰F12ï¼Œç‚¹å‡»æ§åˆ¶å°ï¼‰ã€‚ æˆ‘æ˜¯pythonå…¥é—¨çš„ï¼Œæ–°å­¦çš„ç¼–ç¨‹è¯­è¨€ä¹Ÿéƒ½ä¼šå’Œpythonè¿›è¡Œå¯¹æ¯”ï¼ŒJavaScriptå¯¹ç¼©è¿›çš„è¦æ±‚ä¸åƒpythoné‚£ä¹ˆä¸¥æ ¼ï¼Œå› ä¸ºpythonä»¥ç¼©è¿›ï¼ˆ4ä¸ªç©ºæ ¼ï¼‰åŒºåˆ†ä»£ç å—ï¼Œè€ŒJSä»¥å·¦å³èŠ±æ‹¬å·åŒºåˆ†ä»£ç å—ï¼Œæ¢è¡Œçš„ç¼©è¿›å»ºè®®ä¸ºä¸¤ä¸ªç©ºæ ¼ã€‚ åœ¨ES6ç‰ˆæœ¬ä¹‹åï¼Œå®˜æ–¹å»ºè®®ä½¿ç”¨constï¼ˆå£°æ˜å¸¸é‡ï¼‰å’Œletï¼ˆå£°æ˜å˜é‡ï¼‰ä»£æ›¿varè¿›è¡Œå˜é‡å£°æ˜å’Œèµ‹å€¼ï¼Œvarä½œç”¨åŸŸæ˜¯å‡½æ•°ï¼ˆæŒ‡å‡½æ•°å†…ï¼‰ï¼Œè€Œconstå’Œletæ˜¯å—çº§ä½œç”¨åŸŸï¼ˆå·¦å³ä¸¤ä¸ªèŠ±æ‹¬å·ä¹‹å†…ï¼‰ï¼Œä»¥ä¸‹æ˜¯ä½œç”¨åŸŸçš„åŒºåˆ«ï¼š 1234567891011121314151617181920212223242526272829function example() &#123;// ä½¿ç”¨ let å£°æ˜å—çº§ä½œç”¨åŸŸå˜é‡ let x = 10; if (true) &#123; // åœ¨å—çº§ä½œç”¨åŸŸå†…éƒ¨å£°æ˜æ–°çš„å˜é‡ï¼Œä¸ä¼šå½±å“å¤–éƒ¨çš„ x let x = 20; console.log(x); // è¾“å‡º 20 &#125; console.log(x); // è¾“å‡º 10ï¼Œå¤–éƒ¨çš„ x ä¸å—å†…éƒ¨å½±å“ // ä½¿ç”¨ const å£°æ˜å¸¸é‡ const y = 30; // y = 40; // é”™è¯¯ï¼Œå¸¸é‡ä¸èƒ½é‡æ–°èµ‹å€¼ // ä½¿ç”¨ var å£°æ˜å˜é‡ var z = 50; if (true) &#123; // åœ¨åŒä¸€ä½œç”¨åŸŸå†…é‡å¤å£°æ˜å˜é‡ï¼Œä¸ä¼šå¼•å‘é”™è¯¯ var z = 60; console.log(z); // è¾“å‡º 60 &#125; console.log(z); // è¾“å‡º 60ï¼Œå¤–éƒ¨çš„ z å—å†…éƒ¨å½±å“&#125;example(); å†è¯´æ˜ä¸‹è¿™é‡Œçš„varä½œç”¨åŸŸæ˜¯å‡½æ•°å†…ï¼Œæ‰€ä»¥å’Œpythonä¸€æ ·ï¼Œä¸€ä¸ªå‡½æ•°å†…å®šä¹‰çš„å˜é‡åä¸ä¼šå½±å“åˆ°å…¶ä»–å‡½æ•°ï¼ˆé™¤éä½ åœ¨å‡½æ•°å¤–å®šä¹‰ï¼Œé‚£ä½œç”¨åŸŸå°±æ˜¯å…¨å±€ï¼‰ã€‚ ä¸ä»…ä»…æ˜¯ä½œç”¨åŸŸçš„åŒºåˆ«ï¼Œåœ¨JavaScriptä¸­æœ‰ä¸ªå¾ˆæœ‰æ„æ€çš„æ¦‚å¿µ**Hoisting(å£°æ˜æå‡)**ã€‚æˆ‘ä»¬çŸ¥é“pythonæ˜¯ä¸€ç§é¡ºåºæ‰§è¡Œçš„è¯­è¨€ï¼Œä»ä¸Šåˆ°ä¸‹ä¸€è¡Œä¸€è¡Œæ‰§è¡Œä»£ç ï¼ŒJavaScriptæŸç§ç¨‹åº¦ä¸Šä¹Ÿæ˜¯é¡ºåºæ‰§è¡Œï¼Œä½†æ˜¯å¯ä»¥è¢«æ‰“ç ´ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œvarä»¥åŠå‡½æ•°çš„å£°æ˜ä¼šè¢«æå‰åˆ°æœ€è¿‘çš„ä½œç”¨åŸŸçš„æœ€å‰é¢ï¼ˆconstå’Œletä¸ä¼šï¼‰ï¼Œä½†æ˜¯èµ‹å€¼è¯­å¥æ²¡æœ‰è¢«æå‰ï¼Œè¿™å°±æ„å‘³ç€æˆ‘ä»¬å¯ä»¥åœ¨å£°æ˜å˜é‡&#x2F;å‡½æ•°ä¹‹å‰ä½¿ç”¨å˜é‡&#x2F;å‡½æ•°ï¼Œä½†æ˜¯å˜é‡çš„å€¼å°±ä¼šæˆä¸ºundefinedï¼š 1234567891011121314console.log(x); // è¾“å‡ºï¼šundefinedï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªå˜é‡æ­¤æ—¶è¿˜æœªèµ‹å€¼ï¼Œæ³¨æ„è¿™ä¸æ˜¯æŠ¥é”™var x = 5;foo(); // è¾“å‡ºï¼š5function foo() &#123; console.log(x);&#125;// ç”¨ constï¼Œletå°±ä¸ä¸€æ ·äº†ã€‚example()function example() &#123; console.log(y); // è¾“å‡ºï¼šReferenceErrorï¼Œè¿™æ‰æ˜¯æŠ¥é”™ï¼Œå¼•ç”¨åœ¨åˆå§‹åŒ–ï¼ˆèµ‹å€¼ï¼‰å‰ const y = 5;&#125; åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œå˜é‡ x å’Œå‡½æ•° foo çš„å£°æ˜è¢«æå‡åˆ°ä½œç”¨åŸŸçš„é¡¶éƒ¨ã€‚å› æ­¤ï¼Œå³ä½¿åœ¨å®ƒä»¬çš„å£°æ˜ä¹‹å‰ä½¿ç”¨ï¼Œä»£ç ä¹Ÿä¸ä¼šå¼•å‘é”™è¯¯ã€‚ä½†æ˜¯ï¼Œå˜é‡ x çš„å€¼åœ¨å£°æ˜ä¹‹å‰æ˜¯ undefinedï¼Œè€Œåæ‰è¢«èµ‹å€¼ä¸º5ã€‚è¿˜æœ‰ä¸€ç‚¹ï¼Œå‡½æ•°å£°æ˜æå‡çš„ä¼˜å…ˆçº§é«˜äºå˜é‡å£°æ˜æå‡ï¼Œè¿™æ„å‘³ç€å‡½æ•°å£°æ˜ä¼šè¦†ç›–åŒåçš„å˜é‡å£°æ˜ã€‚ ä¸ºäº†ä¸å¼•èµ·æ··æ·†ï¼Œåœ¨ä½¿ç”¨å˜é‡å’Œå‡½æ•°å‰éƒ½è¦å…ˆè¿›è¡Œå£°æ˜ï¼Œå¯¹äºå˜é‡çš„å£°æ˜å°±ç”¨ä¸ä¼šè¢«æå‡çš„constå’Œletã€‚ 2. æ•°æ®ç±»å‹ä¸Šé¢åˆ—äº†äº›javascriptå’Œpythonå¸¦ç»™æˆ‘çš„ç›´è§‚åŒºåˆ«ï¼Œè¦å…¥é—¨ä¸€é—¨è¯­è¨€è¿˜æ˜¯è¦ä»æœ€åŸºç¡€çš„æ•°æ®ç±»å‹å¼€å§‹ã€‚ 123456789101112131415161718// String, Number, Boolean, null, undefined, Symbolconst username = &quot;Phantom&quot;;const age = 26;const iscol = true;const x = null; // å€¼è¢«å®šä¹‰ï¼Œä½†æ˜¯ç©ºï¼Œtypeofæ˜¾ç¤ºç±»å‹ä¸ºobjectï¼ˆå†å²é—ç•™é—®é¢˜ï¼‰const y = undefined; // ä¸å­˜åœ¨å®šä¹‰const n = Symbol(); // è¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œæœ€å¤§çš„ç”¨æ³•æ˜¯ç”¨æ¥å®šä¹‰å¯¹è±¡çš„å”¯ä¸€å±æ€§åconsole.log(typeof x); // typeofæŸ¥çœ‹ç±»å‹ï¼ˆæœ‰é£é™©ï¼Œæ¯”å¦‚ä¸Šé¢çš„nullï¼Œä»¥åŠå£°æ˜æå‡çš„é—®é¢˜ï¼‰// nullç±»å‹æ•°æ®ä¸æ˜¯Objectconst z = null;console.log(z instanceof Object); // æ³¨æ„å¤§å†™çš„Oï¼Œè¾“å‡ºï¼šfalseconsole.log(z === null); // è¾“å‡ºï¼štrue// Symbolç¡®å®šå¯¹è±¡å±æ€§åçš„å”¯ä¸€æ€§ï¼Œé¿å…ä¸å…¶ä»–å±æ€§å†²çªconst symbol1 = Symbol(&#x27;description&#x27;);const symbol2 = Symbol(&#x27;description&#x27;);console.log(symbol1 === symbol2); // è¾“å‡ºï¼šfalse 3. å¯¹è±¡å’Œè§£æ„èµ‹å€¼è¦æ˜ç¡®ä¸€ç‚¹ï¼ŒJavaScriptå’Œpythonä¸€æ ·éƒ½æ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ã€‚JavaScriptçš„å¯¹è±¡ç”±èŠ±æ‹¬å·åˆ†éš”ï¼Œåœ¨æ‹¬å·å†…éƒ¨ï¼Œå¯¹è±¡å±æ€§ä»¥åç§°å’Œå€¼å¯¹çš„æ–¹å¼æ¥å®šä¹‰ï¼Œå±æ€§ä¹‹é—´é€—å·åˆ†éš”ã€‚ 1234567891011121314151617// åˆ›å»ºä¸€ä¸ªå¯¹è±¡const person = &#123; name: &#x27;Phantom&#x27;, age: 26, hobbies: [&quot;music&quot;, &quot;sing&quot;, &quot;dance&quot;, &quot;basketball&quot;], address: &#123; street: &quot;tarim street&quot;, city: &quot;tarim&quot;, &#125;, sayHello() &#123; console.log(`Hello, my name is $&#123;this.name&#125;.`); &#125;&#125;;// è°ƒç”¨å¯¹è±¡çš„æ–¹æ³•å’Œå±æ€§person.sayHello(); // è¾“å‡ºï¼šHello, my name is Phantom.console.log(person.name, person.age); // è¾“å‡ºï¼šPhantom 26 JavaScriptä¸­å¯¹èµ‹å€¼è¿ç®—æœ‰ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„æ‹“å±•ï¼Œå«åšè§£æ„èµ‹å€¼ï¼Œå¯ä»¥å¯¹æ•°ç»„æˆ–è€…å¯¹è±¡è¿›è¡Œæ¨¡å¼åŒ¹é…ï¼Œå˜é‡ä¸€ä¸ªèåœä¸€ä¸ªå‘å¯¹åº”è¿›è¡Œèµ‹å€¼ï¼š 123456789101112131415161718192021// æ•°ç»„è§£æ„èµ‹å€¼let [a, b, c] = [1, 2, 3]console.log(a, b, c) // è¾“å‡º 1 2 3// å¯¹è±¡è§£æ„èµ‹å€¼const person = &#123; firstname: &quot;Alex&quot;, lastname: &quot;Xie&quot;, age: 18, hobbies: [&quot;music&quot;, &quot;sing&quot;, &quot;dance&quot;, &quot;basketball&quot;], address: &#123; street: &quot;tarim street&quot;, city: &quot;tarim&quot;, &#125;,&#125;;const &#123; firstname, lastname, address: &#123; city &#125;,&#125; = person; // ç›¸å½“äºç”¨åŒåå˜é‡å°†å€¼ä»personå˜é‡ä¸­æŠ½å–å‡ºæ¥console.log(city); // è¾“å‡ºtarim åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡è§£æ„èµ‹å€¼ä» person å¯¹è±¡ä¸­æå–äº† firstnameã€lastname å’Œ address å±æ€§ï¼Œå¹¶å°† address å±æ€§è§£æ„ä¸º city å˜é‡ã€‚ç”±äº person å¯¹è±¡çš„ address å±æ€§æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè€Œæˆ‘ä»¬åªå…³å¿ƒå…¶ä¸­çš„ city å±æ€§ï¼Œæ‰€ä»¥é€šè¿‡è§£æ„èµ‹å€¼çš„æ–¹å¼å°† city å±æ€§æå–å‡ºæ¥ã€‚ æ•´ä¸ªè¿‡ç¨‹ç›¸å½“äºç”¨ä¸€ä¸ªåŒåå˜é‡å°†å€¼ä»personå¯¹è±¡ä¸­æå–å‡ºæ¥ã€‚ 4. å¸¸ç”¨çš„å†…ç½®æ–¹æ³•æ–¹æ³•éƒ¨åˆ†å°±æ¯”è¾ƒå¤šäº†ï¼Œè¿™é‡Œå°±åˆ—ä¸¾å¸¸è§çš„ï¼ŒçœŸæ­£éœ€è¦çš„æ—¶å€™å¾—æŸ¥æ‰‹å†Œã€‚ 123456789101112131415161718192021// å­—ç¬¦ä¸²å†…ç½®æ–¹æ³•const username = &quot;Phantom&quot;;console.log(username.length); //.length é•¿åº¦ï¼Œæ²¡æ‹¬å·æ˜¯å±æ€§ è¾“å‡ºï¼š7console.log(username.toUpperCase()); // æœ‰æ‹¬å·çš„æ˜¯æ–¹æ³• è¾“å‡ºï¼šPHANTOMconsole.log(username.substring(0, 3).toUpperCase()); // è¾“å‡ºï¼šPHAconsole.log(username.includes(&quot;P&quot;)) // åˆ¤æ–­æ˜¯å¦å«æœ‰å‚æ•°å­—ç¬¦ä¸² è¾“å‡ºï¼štrueconsole.log(username.startsWith(&quot;n&quot;)); // åˆ¤æ–­æ˜¯å¦å‚æ•°å­—ç¬¦ä¸²å¼€å¤´ï¼Œæ³¨æ„å‡½æ•°åæ˜¯é©¼å³°å†™æ³• è¾“å‡ºï¼šfalseconst test_txt = &quot;p h a n t o m&quot;;console.log(test_txt.split(&quot; &quot;)); // åˆ‡åˆ†æ•°ç»„ï¼Œå…¶å®å’Œpythonçš„.split()æ–¹æ³•æ˜¯ä¸€æ ·çš„ è¾“å‡ºï¼š[&#x27;p&#x27;, &#x27;h&#x27;, &#x27;a&#x27;, &#x27;n&#x27;, &#x27;t&#x27;, &#x27;o&#x27;, &#x27;m&#x27;]// æ•°ç»„å†…ç½®æ–¹æ³•const numbers = new Array(1, 2, 3, 4, 5); // æ„é€ å‡½æ•°åˆ›å»ºæ•°ç»„const fruits = [&quot;apple&quot;, &quot;banana&quot;]; //ç›´æ¥ç”¨ä¸­æ‹¬å·ç”³æ˜æ•°ç»„console.log(numbers); // è¾“å‡ºï¼š[1, 2, 3, 4, 5]console.log(fruits[1]); // ä¸­æ‹¬å·ç´¢å¼•ï¼Œå’Œpythonä¸€æ¨¡ä¸€æ · è¾“å‡ºï¼šbananafruits.push(&quot;watermalon&quot;); // .push() æ•°ç»„ä¸­æ·»åŠ å…ƒç´ ï¼Œç­‰åŒäºpythonåˆ—è¡¨çš„.append()console.log(fruits); // è¾“å‡ºï¼š[&#x27;apple&#x27;, &#x27;banana&#x27;, &#x27;watermalon&#x27;]fruits.pop(); // åˆ é™¤æœ«å°¾å…ƒç´ console.log(Array.isArray(fruits)); // åˆ¤æ–­æ˜¯å¦ä¸ºæ•°ç»„ è¾“å‡ºï¼štrueconsole.log(fruits.indexOf(&quot;apple&quot;)); // è®¡ç®—ç´¢å¼• è¾“å‡ºï¼š0 5. æ¡ä»¶è¯­å¥1234567891011121314151617181920212223242526272829// ifæ¡ä»¶è¯­å¥const n = 20;const m = 10;// ===æ‰ä¼šè¿æ•°æ®ç±»å‹ä¸€èµ·åˆ¤æ–­ï¼Œ==ä¸ä¼šåˆ¤æ–­æ•°æ®ç±»å‹if (n === 10) &#123; console.log(&quot;n is 10&quot;);&#125; else if (n &gt; 10 || m &gt; 10) &#123; // æ¡ä»¶åˆ¤æ–­ä¸­â€æˆ–â€œç”¨||åŒç«–çº¿è¡¨ç¤ºï¼Œâ€ä¸”â€œç”¨&amp;&amp;è¡¨ç¤º console.log(&quot;n is greater than 10 or m is greater than 10&quot;);&#125; else &#123; console.log(&quot;n is less than 10 and m is less than 10&quot;);&#125; // è¾“å‡ºï¼šn is greater than 10 or m is greater than 10// ä¸‰ç›®è¿ç®—ç¬¦(ç®€åŒ–if elseä»£ç ç”¨)const z = 11;const color = z &gt; 10 ? &quot;red&quot; : &quot;blue&quot;; // ï¼Ÿè¡¨ç¤ºåˆ¤æ–­ä¸ºçœŸï¼Œå†’å·åæ˜¯åˆ¤æ–­ä¸ºå‡console.log(color); // è¾“å‡ºï¼šred// å¦ä¸€ç§æ¡ä»¶è¯­å¥switchswitch (color) &#123; case &quot;red&quot;: // éœ€è¦æ³¨æ„caseåˆ¤æ–­çš„æ¡ä»¶æ˜¯=== console.log(&quot;color is red&quot;); break; // case breakç›¸å½“äºshellé‡Œçš„if fi case &quot;blue&quot;: console.log(&quot;color is blue&quot;); break; default: // è¡¨ç¤ºæ²¡æœ‰åŒ¹é…åˆ°ä»»æ„ä¸€ä¸ªæ¡ä»¶ï¼Œæ‰§è¡Œä¸‹é¢å¾—ä»£ç å— console.log(&quot;color is not red or blue&quot;);&#125; // è¾“å‡ºï¼šcolor is red 6. å¾ªç¯è¯­å¥12345678910111213141516171819202122// for å¾ªç¯for (let i = 0; i &lt; 10; i++) &#123; console.log(`for loop number: $&#123;i&#125;`); // åƒshellé‡Œçš„forå¾ªç¯ï¼Œæ³¨æ„ç¬¦å·``&#125; // è¾“å‡ºï¼šfor loop number: 0 ä¸€ç›´åˆ°9ï¼Œ10è¡Œ// while å¾ªç¯,ä¸forä¸åŒï¼Œæ¡ä»¶åˆ¤æ–­åœ¨whileé‡Œé¢,å¦åˆ™æ­»å¾ªç¯let l = 0;while (l &lt; 10) &#123; console.log(`while loop number: $&#123;l&#125;`); l++;&#125; // è¾“å‡ºï¼šwhile loop number: 0 ä¸€ç›´åˆ°9ï¼Œ10è¡Œconst array = [1, 2, 3]for (let i = 0; i &lt; array.length; i++) &#123; // ç»“åˆæ•°ç»„çš„forå¾ªç¯ console.log(array[i]);&#125; // è¾“å‡º 1 åˆ° 3 å…±ä¸‰è¡Œfor (let i of array) &#123; // ç±»ä¼¼äºpythonçš„for i in [list] console.log(i);&#125; // è¾“å‡º 1 åˆ° 3 å…±ä¸‰è¡Œ åŒæ ·æœ‰continue å’Œ break æ˜¯ç”¨äºæ§åˆ¶å¾ªç¯æµç¨‹ï¼š 1234567891011121314151617// continue è·³è¿‡å½“å‰å¾ªç¯å‰©ä½™ä»£ç ï¼Œè¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯for (let i = 0; i &lt; 5; i++) &#123; if (i === 2) &#123; continue; &#125; console.log(i);&#125; // è¾“å‡ºï¼š0 1 3 4ï¼ˆ4è¡Œï¼‰// breakç”¨äºå®Œå…¨ç»ˆæ­¢å¾ªç¯ï¼Œè·³å‡ºå¾ªç¯ä½“let i = 0;while (true) &#123; if (i === 3) &#123; break; &#125; console.log(i); i++;&#125; // è¾“å‡ºï¼š0 1 2ï¼ˆ3è¡Œï¼‰ 7. ç±»å’Œæ„é€ å‡½æ•°JavaScriptä¹Ÿä½¿ç”¨ class å…³é”®å­—æ¥å£°æ˜ç±»ï¼Œç±»åé€šå¸¸ä½¿ç”¨å¤§å†™å­—æ¯å¼€å¤´ã€‚ç±»çš„æ–¹æ³•å®šä¹‰å’Œpythonç±»çš„æ–¹æ³•å®šä¹‰æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä½¿ç”¨æ™®é€šå‡½æ•°çš„è¯­æ³•ã€‚ 12345class MyClass &#123; myMethod() &#123; // æ–¹æ³•çš„å®šä¹‰ &#125;&#125; å’Œpythonçš„æ„é€ å‡½æ•°ä½¿ç”¨æ–¹æ³•å__init__()å®šä¹‰ç±»ä¼¼ï¼ŒJavaScriptçš„æ„é€ å‡½æ•°æ˜¯ç±»çš„ä¸€ä¸ªæ™®é€šæ–¹æ³•ï¼Œä½¿ç”¨ constructor å…³é”®å­—å®šä¹‰ã€‚Pythonçš„æ„é€ å‡½æ•°å¯ä»¥æ¥å—ä»»æ„æ•°é‡çš„å‚æ•°ï¼ŒåŒ…æ‹¬ selfï¼ˆæŒ‡å‘ç±»çš„å®ä¾‹ï¼‰ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ã€‚åœ¨æ„é€ å‡½æ•°å†…éƒ¨ï¼Œå¯ä»¥ä½¿ç”¨è¿™äº›å‚æ•°æ¥åˆå§‹åŒ–å®ä¾‹çš„å±æ€§ã€‚è€ŒJavaScriptçš„æ„é€ å‡½æ•°ä½¿ç”¨æ™®é€šçš„å‡½æ•°å‚æ•°æ¥æ¥æ”¶ä¼ é€’çš„å€¼ï¼Œæ²¡æœ‰ç‰¹æ®Šçš„selfå‚æ•°ã€‚ æ¼”ç¤ºä¸€ä¸‹ä¸¤è€…æ„é€ å‡½æ•°çš„å·®å¼‚ï¼š 123456789# pythonçš„æ„é€ å‡½æ•°class MyClass: def __init__(self, arg1, arg2): self.arg1 = arg1 self.arg2 = arg2my_instance = MyClass(&quot;Hello&quot;, &quot;World&quot;)print(my_instance.arg1) # è¾“å‡ºï¼šHelloprint(my_instance.arg2) # è¾“å‡ºï¼šWorld 1234567891011// javascriptçš„æ„é€ å‡½æ•°class MyClass &#123; constructor(arg1, arg2) &#123; this.arg1 = arg1; this.arg2 = arg2; &#125;&#125;const myInstance = new MyClass(&quot;Hello&quot;, &quot;World&quot;);console.log(myInstance.arg1); // è¾“å‡ºï¼šHelloconsole.log(myInstance.arg2); // è¾“å‡ºï¼šWorld newå…³é”®å­—ç”¨äºåˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹å¯¹è±¡ï¼Œæ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ï¼Œé€šè¿‡newå…³é”®å­—ï¼Œè°ƒç”¨äº†MyClassç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¸”ä¼ é€’äº†å‚æ•°&quot;Hello&quot; , &quot;World&quot;ï¼Œå°†æ„é€ å‡½æ•°çš„thisç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ï¼Œæœ€åï¼Œnewå…³é”®å­—è¿”å›äº†æ–°åˆ›å»ºçš„MyClasså®ä¾‹å¯¹è±¡myInstanceã€‚ constructor å…³é”®å­—ä¹Ÿä¸æ˜¯ä¸€å®šè¦æ˜¾ç¤ºå£°æ˜çš„ï¼Œéœ€è¦ç†è§£æ„é€ å‡½æ•°æ˜¯ç”¨æ¥åˆ›å»ºå’Œåˆå§‹åŒ–å¯¹è±¡çš„ç‰¹æ®Šå‡½æ•°ï¼Œåœ¨ JavaScript ä¸­ï¼Œå¦‚æœä¸€ä¸ªå‡½æ•°è¢«ç”¨äºåˆ›å»ºå¯¹è±¡ï¼Œå®ƒå°±è¢«è®¤ä¸ºæ˜¯æ„é€ å‡½æ•°ã€‚ pythonçš„æ„é€ å‡½æ•°ä¸å…è®¸æ˜¾ç¤ºè¿”å›å€¼ï¼Œåªè´Ÿè´£åˆå§‹åŒ–å®ä¾‹çŠ¶æ€ã€‚è€Œ JavaScript çš„æ„é€ å‡½æ•°å¯ä»¥æ˜¾å¼è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœè¿”å›çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™è¯¥å¯¹è±¡å°†ä½œä¸ºå®ä¾‹åˆ›å»ºçš„ç»“æœï¼Œå¦åˆ™å°†è¿”å›æ–°åˆ›å»ºçš„å®ä¾‹ï¼ˆä¸Šé¢çš„ä¾‹å­å°±æ˜¯ï¼‰ã€‚ 1234567891011// æ„é€ å‡½æ•°è¿”å›å¯¹è±¡çš„æƒ…å†µclass MyClass &#123; constructor() &#123; this.property = &quot;Value&quot;; return &#123; customProperty: &quot;Custom Value&quot; &#125;; &#125;&#125;const myInstance = new MyClass();console.log(myInstance.property); // è¾“å‡ºï¼šundefinedconsole.log(myInstance.customProperty); // è¾“å‡ºï¼š&quot;Custom Value&quot; ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ„é€ å‡½æ•°ä½¿ç”¨äº†returnè¯­å¥è¿”å›äº†ä¸€ä¸ªå¯¹è±¡&#123; customProperty: &quot;Custom Value&quot; &#125;ã€‚å½“æˆ‘ä»¬ä½¿ç”¨newå…³é”®å­—åˆ›å»ºMyClassçš„å®ä¾‹æ—¶ï¼Œè¿”å›çš„ç»“æœä¸æ˜¯æ–°åˆ›å»ºçš„å®ä¾‹å¯¹è±¡ï¼Œè€Œæ˜¯æ˜¾å¼è¿”å›çš„å¯¹è±¡ï¼Œå› æ­¤è¿™ä¸ªå¯¹è±¡å¹¶æ²¡æœ‰ property å±æ€§ï¼Œè€Œæ˜¯å…·æœ‰ customProperty å±æ€§ã€‚ 8. å°è£…ã€ç»§æ‰¿å’Œå¤šæ€æ—¢ç„¶JavaScriptæ˜¯é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå°±ä¸€å®šæœ‰é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼šå°è£…ã€ç»§æ‰¿å’Œå¤šæ€ã€‚ 8.1 å°è£…ï¼ˆEncapsulationï¼‰ å¯¹è±¡å’Œå‡½æ•°ï¼šå¾ˆæ˜æ˜¾JavaScriptä¸­çš„å¯¹è±¡å’Œå‡½æ•°å¯ä»¥ç”¨æ¥å°è£…æ•°æ®å’Œè¡Œä¸ºã€‚å¯¹è±¡å¯ä»¥åŒ…å«å±æ€§å’Œæ–¹æ³•ï¼Œå‡½æ•°å¯ä»¥å°è£…ä¸€æ®µå¯æ‰§è¡Œçš„ä»£ç ï¼Œå¹¶ä¸”å¯ä»¥æ¥æ”¶å‚æ•°å’Œè¿”å›å€¼ã€‚ è®¿é—®æ§åˆ¶ï¼šé€šè¿‡ä½¿ç”¨é—­åŒ…æˆ–è€…WeakMapï¼Œå¯ä»¥æ¨¡æ‹Ÿç§æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œä»è€Œå®ç°å¯¹æ•°æ®çš„éšè—å’Œå°è£…ã€‚ æˆ‘ä»¬ä¸èƒ½åƒpythonä¸­ä¸€æ ·ç”¨_æˆ–è€…__åœ¨å±æ€§æˆ–è€…æ–¹æ³•ä¸Šå®ç°ç§æœ‰åŒ–ï¼ŒJavaScriptæä¾›äº†ä¸€äº›ç‰¹æ®Šçš„æœºåˆ¶ï¼š 123456789101112131415161718// ä½¿ç”¨é—­åŒ…ï¼Œç®€å•æ¥è¯´ï¼Œé—­åŒ…æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°èƒ½å¤Ÿè®¿é—®å¹¶æ“ä½œå…¶ä½œç”¨åŸŸå¤–éƒ¨çš„å˜é‡function MyFunction() &#123; let privateProperty = &quot;Private Value&quot;; this.getPrivateProperty = function() &#123; return privateProperty; &#125;; this.setPrivateProperty = function(value) &#123; privateProperty = value; &#125;;&#125;const myInstance = new MyFunction(); // åˆ›å»ºå®ä¾‹å¯¹è±¡ï¼Œæ‰§è¡Œæ„é€ å‡½æ•°ä»£ç ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å¯¹è±¡console.log(myInstance.privateProperty); // æ„é€ å‡½æ•°å†…éƒ¨çš„å±€éƒ¨å˜é‡ï¼Œå¤–éƒ¨ä¸å¯è®¿é—®ï¼Œè¾“å‡ºï¼šundefinedconsole.log(myInstance.getPrivateProperty()); // è¾“å‡ºï¼š&quot;Private Value&quot;myInstance.setPrivateProperty(&quot;New Value&quot;);console.log(myInstance.getPrivateProperty()); // è¾“å‡ºï¼š&quot;New Value&quot; åœ¨ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é—­åŒ…åˆ›å»ºäº†ä¸€ä¸ªç§æœ‰å˜é‡privatePropertyã€‚é€šè¿‡åœ¨æ„é€ å‡½æ•°å†…éƒ¨å®šä¹‰å…¬æœ‰æ–¹æ³•getPrivatePropertyå’ŒsetPrivatePropertyï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®å’Œä¿®æ”¹ç§æœ‰å±æ€§(å†…éƒ¨çš„ä¸¤ä¸ªæ–¹æ³•è®¿é—®ä¿®æ”¹äº†å¤–éƒ¨å‡½æ•°çš„å˜é‡)ã€‚ 12345678910111213141516171819202122// ä½¿ç”¨WeakMapconst privateProperties = new WeakMap();class MyClass &#123; constructor() &#123; privateProperties.set(this, &#123; privateProperty: &quot;Private Value&quot; &#125;); &#125; // WeakMapç”¨æ³•set(key,value) getPrivateProperty() &#123; return privateProperties.get(this).privateProperty; &#125; setPrivateProperty(value) &#123; privateProperties.get(this).privateProperty = value; &#125;&#125;const myInstance = new MyClass();console.log(myInstance.privateProperty); // è¾“å‡ºï¼šundefinedconsole.log(myInstance.getPrivateProperty()); // è¾“å‡ºï¼š&quot;Private Value&quot;myInstance.setPrivateProperty(&quot;New Value&quot;);console.log(myInstance.getPrivateProperty()); // è¾“å‡ºï¼š&quot;New Value&quot; Mapå’ŒWeakMapéƒ½æ˜¯ES6ä¸­æ–°çš„æ•°æ®ç»“æ„é›†ï¼Œä¸€ä¸ªå¯¹è±¡ç”±å¤šä¸ªkey-valueé”®å€¼å¯¹æ„æˆï¼Œåœ¨Mapä¸­ï¼Œä»»ä½•ç±»å‹éƒ½å¯ä»¥åšå¯¹è±¡çš„keyï¼›è€Œåœ¨WeakMapä¸­ï¼Œkeyå¿…éœ€æ˜¯å¯¹è±¡ï¼Œæ‰€æœ‰çš„keyéƒ½æ˜¯å¼±å¼•ç”¨ï¼Œä¸ç”¨è€ƒè™‘åƒåœ¾å›æ”¶ã€‚ åœ¨æ„é€ å‡½æ•°ä¸­ï¼Œä½¿ç”¨privatePropertieså®šä¹‰äº†ä¸€ä¸ªWeakMapå®ä¾‹ã€‚é€šè¿‡ privateProperties.set(this, &#123; privateProperty: &quot;Private Value&quot; &#125;) å°†å½“å‰å®ä¾‹å¯¹è±¡ä½œä¸ºé”®ï¼Œå°†ä¸€ä¸ªåŒ…å«ç§æœ‰å±æ€§ privateProperty çš„å¯¹è±¡ä½œä¸ºå€¼å­˜å‚¨åœ¨ WeakMap ä¸­ã€‚ ç„¶åï¼Œé€šè¿‡åœ¨ç±»çš„åŸå‹ä¸Šå®šä¹‰ getPrivateProperty å’Œ setPrivateProperty æ–¹æ³•ï¼Œè®¿é—®å’Œä¿®æ”¹å­˜å‚¨åœ¨ WeakMap ä¸­çš„ç§æœ‰å±æ€§ã€‚ 8.2 ç»§æ‰¿ï¼ˆInheritanceï¼‰ä½¿ç”¨ extends å…³é”®å­—æ¥åˆ›å»ºå­ç±»ï¼Œå¹¶ä½¿ç”¨ super å…³é”®å­—æ¥è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°å’Œæ–¹æ³•ã€‚ 123456789101112131415161718192021222324252627282930class Animal &#123; constructor(name) &#123; this.name = name; &#125; speak() &#123; console.log(`$&#123;this.name&#125; makes a sound.`); &#125;&#125;class Dog extends Animal &#123; constructor(name, breed) &#123; super(name); // è°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•° this.breed = breed; &#125; speak() &#123; console.log(`$&#123;this.name&#125; barks.`); &#125; fetch() &#123; console.log(`$&#123;this.name&#125; fetches the ball.`); &#125;&#125;const myDog = new Dog(&quot;Buddy&quot;, &quot;Golden Retriever&quot;);myDog.speak(); // è¾“å‡ºï¼š&quot;Buddy barks.&quot;myDog.fetch(); // è¾“å‡ºï¼š&quot;Buddy fetches the ball.&quot;console.log(myDog.name); // è¾“å‡ºï¼š&quot;Buddy&quot;console.log(myDog.breed); // è¾“å‡ºï¼š&quot;Golden Retriever&quot; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªçˆ¶ç±»Animalå’Œä¸€ä¸ªå­ç±»Dogã€‚å­ç±»Dogä½¿ç”¨extendså…³é”®å­—ç»§æ‰¿äº†çˆ¶ç±»Animalï¼ˆpythonå°±ä¸éœ€è¦ï¼‰ã€‚å­ç±»Dogåœ¨æ„é€ å‡½æ•°ä¸­ä½¿ç”¨super(name)è°ƒç”¨äº†çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œå¹¶ä¼ é€’äº†nameå‚æ•°ã€‚ å­ç±»å¯ä»¥è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼Œä¸Šé¢çš„ä¾‹å­å°±è¦†ç›–äº†çˆ¶ç±»çš„speak()æ–¹æ³•ã€‚åœ¨å­ç±»ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨thiså…³é”®å­—å¼•ç”¨å½“å‰å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ï¼ŒåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿çš„å±æ€§å’Œæ–¹æ³•ã€‚ 8.3 å¤šæ€ï¼ˆPolymorphismï¼‰JavaScript æ˜¯ä¸€ç§åŠ¨æ€ç±»å‹è¯­è¨€ï¼Œå˜é‡çš„ç±»å‹å¯ä»¥åœ¨è¿è¡Œæ—¶æ”¹å˜ã€‚è¿™ç§åŠ¨æ€æ€§ä½¿å¾— JavaScript å…·æœ‰ä¸€å®šçš„å¤šæ€æ€§ã€‚ä¾‹å¦‚ï¼Œå¤šä¸ªå¯¹è±¡å¯ä»¥å¯¹åŒä¸€ä¸ªæ–¹æ³•åšå‡ºä¸åŒçš„å“åº”ï¼Œæ ¹æ®å¯¹è±¡çš„å®é™…ç±»å‹æ¥ç¡®å®šè¦è°ƒç”¨çš„æ–¹æ³•ï¼ˆç›¸åŒæ¥å£ï¼Œä¸åŒå®ç°ï¼‰ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ª Animal ç±»ï¼Œå®ƒæœ‰ä¸€ä¸ª makeSound æ–¹æ³•ç”¨äºå‘å‡ºåŠ¨ç‰©çš„å£°éŸ³ã€‚ç„¶åæˆ‘ä»¬æ´¾ç”Ÿå‡ºä¸¤ä¸ªå­ç±» Dog å’Œ Catï¼Œå®ƒä»¬åˆ†åˆ«é‡å†™äº† makeSound æ–¹æ³•æ¥å‘å‡ºä¸åŒçš„å£°éŸ³ã€‚ 1234567891011121314151617class Animal &#123; makeSound() &#123; console.log(&quot;The animal makes a sound&quot;); &#125;&#125;class Dog extends Animal &#123; makeSound() &#123; console.log(&quot;The dog barks&quot;); &#125;&#125;class Cat extends Animal &#123; makeSound() &#123; console.log(&quot;The cat meows&quot;); &#125;&#125; ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸åŒçš„å¯¹è±¡å¹¶è°ƒç”¨å®ƒä»¬çš„ makeSound æ–¹æ³•ï¼Œå®ƒä»¬ä¼šæ ¹æ®è‡ªå·±çš„å®ç°å‘å‡ºä¸åŒçš„å£°éŸ³ã€‚ 1234567const animal = new Animal();const dog = new Dog();const cat = new Cat();animal.makeSound(); // è¾“å‡ºï¼š&quot;The animal makes a sound&quot;dog.makeSound(); // è¾“å‡ºï¼š&quot;The dog barks&quot;cat.makeSound(); // è¾“å‡ºï¼š&quot;The cat meows&quot; æœ¬è´¨ä¸Šå°±æ˜¯å­ç±»å¯¹çˆ¶ç±»çš„ç»§æ‰¿æ–¹æ³•çš„é‡å†™ï¼Œå®ç°è°ƒç”¨ä¸€ä¸ªæ¥å£å…·æœ‰ä¸åŒçš„å®ç°ã€‚ å¯¹äºç¬¬8éƒ¨åˆ†å¯èƒ½æœ‰äº›éš¾ä»¥ç†è§£ï¼Œå¯ä»¥ç»“åˆå‰é¢pythonçš„é¢å‘å¯¹è±¡ç¼–ç¨‹ç¬”è®°ï¼š pythonè‡ªå­¦ç¬”è®°ï¼ˆ3ï¼‰â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸Šï¼‰ - æˆ‘çš„å°ç ´ç«™ (shelven.com) pythonè‡ªå­¦ç¬”è®°ï¼ˆ4ï¼‰â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸‹ï¼‰ - æˆ‘çš„å°ç ´ç«™ (shelven.com) JavaScriptè¿˜æœ‰å¾ˆå¤šé«˜çº§ç”¨æ³•ï¼Œè¿™é‡Œåªè®°å½•äº†å…¥é—¨çš„ä¸€äº›åŸºç¡€ï¼Œä»¥åè¦ç”¨åˆ°å†æ·±å…¥äº†è§£ã€‚","categories":[{"name":"ä¸ªäººä¸»é¡µ","slug":"ä¸ªäººä¸»é¡µ","permalink":"http://www.shelven.com/categories/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"JavaScript","slug":"JavaScript","permalink":"http://www.shelven.com/tags/JavaScript/"}]},{"title":"HTMLã€CSSå’ŒJavaScriptå…¥é—¨ï¼ˆ2ï¼‰â€”â€”CSSåŸºç¡€","slug":"HTMLã€CSSå’ŒJavaScriptå…¥é—¨ï¼ˆ2ï¼‰â€”â€”CSSåŸºç¡€","date":"2023-09-30T10:15:00.000Z","updated":"2023-09-30T10:24:05.000Z","comments":true,"path":"2023/09/30/a.html","link":"","permalink":"http://www.shelven.com/2023/09/30/a.html","excerpt":"å‰ä¸€ç¯‡ç¬”è®°ä»‹ç»äº†HTMLçš„åŸºç¡€ï¼Œè¿™ä¸€ç¯‡ä¸»è¦è®°å½•ä¸‹CSSçš„åŸºç¡€çŸ¥è¯†ã€‚","text":"å‰ä¸€ç¯‡ç¬”è®°ä»‹ç»äº†HTMLçš„åŸºç¡€ï¼Œè¿™ä¸€ç¯‡ä¸»è¦è®°å½•ä¸‹CSSçš„åŸºç¡€çŸ¥è¯†ã€‚ 1. CSSçš„å¼•å…¥æ–¹å¼1.1 å†…è”æ ·å¼ç›´æ¥ç”¨styleå†™è¿›HTMLå…ƒç´ ï¼Œä»…å¯¹å½“å‰çš„HTMLå…ƒç´ æœ‰æ•ˆï¼š 1234&lt;body&gt; &lt;h1&gt;æœªå¼•å…¥CSSçš„h1æ ‡ç­¾&lt;/h1&gt; &lt;h1 style=&quot;color:brown&quot;&gt;å†…è”æ ·å¼å¼•å…¥CSSçš„h1æ ‡ç­¾&lt;/h1&gt;&lt;/body&gt; å¯ä»¥çœ‹åˆ°åœ¨ç”¨å†…è”æ ·å¼å¼•å…¥çš„cssåªåœ¨å½“å‰htmlå…ƒç´ ç”Ÿæ•ˆï¼Œå¹¶ä¸ä¼šå½±å“å…¶ä»–çš„å…ƒç´ ã€‚ 1.2 å†…éƒ¨æ ·å¼è¡¨åœ¨&lt;head&gt;åŒºåŸŸä¸­ç”¨&lt;style&gt;æ ‡ç­¾å†™å…¥cssè§„åˆ™ï¼Œå¯¹æ‰€æœ‰æ ‡ç­¾éƒ½ç”Ÿæ•ˆï¼š 123456789101112&lt;head&gt; &lt;style&gt; h1 &#123; color: darkslateblue; &#125; &lt;/style&gt; &lt;/head&gt;&lt;body&gt; &lt;h1&gt;è¿™æ˜¯ç¬¬ä¸€ä¸ªh1æ ‡ç­¾&lt;/h1&gt; &lt;h1&gt;è¿™æ˜¯ç¬¬äºŒä¸ªh1æ ‡ç­¾&lt;/h1&gt;&lt;/body&gt; 1.3 å¤–éƒ¨æ ·å¼è¡¨é¡¾åæ€ä¹‰æ—¶ä»å¤–éƒ¨cssæ–‡ä»¶å¼•å…¥ï¼Œéœ€è¦åœ¨&lt;head&gt;åŒºåŸŸä¸­å¼•å…¥link:cssã€‚é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªstyle.cssæ–‡ä»¶ï¼Œå¹¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š 123h1 &#123; color: darkkhaki;&#125; å›åˆ°htmlæ–‡ä»¶ï¼Œåœ¨&lt;head&gt;åŒºåŸŸå†…è¾“å…¥linkï¼Œåœ¨æç¤ºçš„ç¬¬ä¸‰è¡Œå‡ºç°link:cssï¼Œé€‰ä¸­å›è½¦å°±è‡ªåŠ¨å¼•å…¥äº†æˆ‘ä»¬åˆ›å»ºçš„cssæ–‡ä»¶ï¼š 12345678&lt;head&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;è¿™æ˜¯ç¬¬ä¸€ä¸ªh1æ ‡ç­¾&lt;/h1&gt; &lt;h1&gt;è¿™æ˜¯ç¬¬äºŒä¸ªh1æ ‡ç­¾&lt;/h1&gt;&lt;/body&gt; è¿˜æœ‰ç§å¤–éƒ¨æ ·å¼è¡¨å¼•ç”¨æ–¹å¼ï¼Œæ˜¯åœ¨&lt;head&gt;æ ‡ç­¾çš„&lt;style&gt;åŒºåŸŸå†…ç”¨@importçš„æ–¹å¼å¼•å…¥ï¼š 1234567891011&lt;head&gt; &lt;style&gt; &lt;!-- æ³¨æ„æœ‰åˆ†å·ï¼Œcssæä¾›çš„æ–¹å¼ --&gt; @import url(&quot;style.css&quot;); &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;è¿™æ˜¯ç¬¬ä¸€ä¸ªh1æ ‡ç­¾&lt;/h1&gt; &lt;h1&gt;è¿™æ˜¯ç¬¬äºŒä¸ªh1æ ‡ç­¾&lt;/h1&gt;&lt;/body&gt; æœ€ç»ˆçš„æ•ˆæœå’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ï¼Œå°±ä¸æ”¾å›¾ç‰‡äº†ã€‚éœ€è¦æ³¨æ„ï¼Œä½¿ç”¨@importæ–¹å¼å¼•å…¥æœ‰ä¸€äº›é™åˆ¶ï¼Œå®ƒä¼šåœ¨HTMLè§£æå®Œæ¯•ä»¥åå†åŠ è½½CSSæ–‡ä»¶ï¼Œå°±å¯èƒ½å¯¼è‡´é¡µé¢æ¸²æŸ“çš„å»¶è¿Ÿï¼Œå¹¶ä¸”å¼•å…¥çš„CSSæ–‡ä»¶ä¸èƒ½å¹¶è¡ŒåŠ è½½ï¼Œå¯èƒ½ä¼šå½±å“ç½‘é¡µçš„æ€§èƒ½ã€‚ æ‰€ä»¥ä¸€èˆ¬éƒ½æ˜¯ç”¨&lt;link&gt;æ ‡ç­¾çš„æ–¹å¼å¼•å…¥CSSæ–‡ä»¶ï¼Œæé«˜æ€§èƒ½çš„åŒæ—¶ä¹Ÿæœ‰æ›´å¥½çš„å…¼å®¹æ€§ã€‚ 2. CSSå¼•å…¥çš„ä¼˜å…ˆçº§ä¸Šé¢è¯´äº†ä¸‰ç§å¼•å…¥CSSçš„æ–¹å¼ï¼Œå¦‚æœä¸€ä¸ªæ ‡ç­¾è¢«ä¸åŒæ–¹æ³•&#x2F;é¡ºåºå¼•å…¥çš„CSSæ–‡ä»¶ä¿®é¥°ï¼Œæœ€ç»ˆä¼šè¡¨ç°å‡ºå“ªç§æ ·å¼å‘¢ï¼Ÿè¿™å°±è¦è¯´åˆ°æ ·å¼çš„ä¼˜å…ˆçº§ã€‚ æµè§ˆå™¨ä¼šä¸ºHTMLå…ƒç´ æä¾›é»˜è®¤çš„æ ·å¼ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–çš„æ ·å¼è¦†ç›–ï¼Œé»˜è®¤æ ·å¼å°†ä¼šåº”ç”¨äºè¿™äº›å…ƒç´ ï¼ˆå¯ä»¥åœ¨ç½‘é¡µæŒ‰F12ï¼Œå…ƒç´ ï¼Œbodyä¸­çœ‹åˆ°ç”¨æˆ·ä»£ç†æ ·å¼è¡¨ï¼Œä¹Ÿå°±æ˜¯æµè§ˆå™¨è‡ªèº«å®šä¹‰çš„æ ·å¼ï¼‰ã€‚ æ ·å¼çš„ä¼˜å…ˆçº§æœ‰å¦‚ä¸‹åŸºæœ¬è§„åˆ™ï¼š !importantä¼˜å…ˆçº§æœ€é«˜ï¼Œä¼šè¦†ç›–CSSä¸­ä»»ä½•å…¶ä»–å£°æ˜ï¼Œä¸æ¨èä½¿ç”¨ï¼Œå› ä¸ºå®ƒæ”¹å˜äº†ä½ æ ·å¼è¡¨çš„çº§è”è§„åˆ™ï¼Œéš¾ä»¥è°ƒè¯•ã€‚ å†…è”æ ·å¼ä¼˜å…ˆçº§é«˜äºå†…éƒ¨æ ·å¼è¡¨å’Œå¤–éƒ¨æ ·å¼è¡¨ä¸­çš„æ ·å¼å®šä¹‰ã€‚ ç›¸åŒçš„è§„åˆ™æŒ‰ç…§åŠ è½½é¡ºåºï¼Œå†™åœ¨åé¢çš„å£°æ˜ä¼šè¦†ç›–å‰é¢çš„ã€‚ ç»§æ‰¿çš„æ ·å¼ä¼˜å…ˆçº§ä½äºç›´æ¥æŒ‡å®šçš„æ ·å¼ã€‚ ä»€ä¹ˆæ˜¯ç»§æ‰¿çš„æ ·å¼ï¼Ÿç»§æ‰¿æ ·å¼æ˜¯æŒ‡æŸä¸ªå…ƒç´ ä¼šç»§æ‰¿å…¶çˆ¶å…ƒç´ çš„æŸäº›æ ·å¼å±æ€§ï¼Œå³å­å…ƒç´ ä¼šç»§æ‰¿çˆ¶å…ƒç´ çš„æ ·å¼ã€‚ 123456789101112131415161718&lt;head&gt; &lt;style&gt; body &#123; font-family: Arial; color: burlywood; &#125; h1 &#123; font-size: 24px; color: blue; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;h1&gt;è¿™æ˜¯æ ‡é¢˜&lt;/h1&gt; &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚&lt;/p&gt;&lt;/body&gt; ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰äº†&lt;body&gt;æ ‡ç­¾çš„font-familyå’Œcolorå±æ€§ï¼Œå­å…ƒç´ &lt;h1&gt;å’Œ&lt;p&gt;éƒ½ç»§æ‰¿äº†çˆ¶å…ƒç´ çš„è¿™ä¸¤ä¸ªå±æ€§ï¼Œä½†åŒæ—¶æˆ‘ä»¬åˆæŒ‡å®šäº†&lt;h1&gt;æ ‡ç­¾çš„font-sizeå’Œcolorå±æ€§ã€‚æ‰€ä»¥ç›´æ¥æŒ‡å®šçš„&lt;h1&gt;é™¤äº†ç»§æ‰¿äº†çˆ¶æ ‡ç­¾çš„å±æ€§å¤–ï¼Œcolorå±æ€§çš„ä¼˜å…ˆçº§é«˜äºç»§æ‰¿çš„ï¼Œä¸ºè“è‰²ã€‚ ç»§æ‰¿æ ·å¼å¹¶ä¸æ˜¯æ‰€æœ‰æ ·å¼å±æ€§éƒ½ä¼šç»§æ‰¿çš„ï¼Œåªæœ‰ä¸€éƒ¨åˆ†æ ·å¼å±æ€§å…·æœ‰ç»§æ‰¿æ€§ã€‚å¸¸è§çš„ç»§æ‰¿æ ·å¼å±æ€§åŒ…æ‹¬ font-familyã€colorã€font-sizeã€font-weightã€text-align ç­‰ã€‚ä½†æ˜¯åƒ widthã€heightã€marginã€paddingã€background-color ç­‰å±æ€§å°±ä¸å…·æœ‰ç»§æ‰¿æ€§ã€‚ 3. ç±»å’Œé€‰æ‹©å™¨ä¸ºäº†ä¿æŒä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯è¯»æ€§ï¼Œå°½é‡é¿å…ç”¨!importantå£°æ˜æ ·å¼ï¼Œä¹Ÿå°½é‡é¿å…æ»¥ç”¨å†…è”æ ·å¼ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯å°†æ ·å¼å®šä¹‰åœ¨å¤–éƒ¨æ ·å¼è¡¨ä¸­ï¼Œä½¿ç”¨ç±»å’Œé€‰æ‹©å™¨æ¥ç®¡ç†æ ·å¼ã€‚è¿™æ ·å¯ä»¥æ›´å¥½åœ°ç»„ç»‡å’Œç»´æŠ¤æ ·å¼ï¼Œå¹¶æé«˜ä»£ç çš„é‡ç”¨æ€§ã€‚ ä¸ºäº†æ–¹ä¾¿æ¼”ç¤ºï¼Œä»¥ä¸‹éƒ½ç”¨å†…éƒ¨æ ·å¼è¡¨çš„æ–¹å¼å¼•å…¥CSSæ ·å¼ã€‚ 3.1 ç±»ï¼ˆclassï¼‰ç±»æ˜¯ä¸€ç§CSSçš„æ ‡è®°ï¼Œç”¨äºæ ‡è¯†ä¸€ç»„å…·æœ‰ç›¸åŒæ ·å¼çš„å…ƒç´ ã€‚é€šè¿‡ä¸ºHTMLå…ƒç´ æ·»åŠ classå±æ€§ï¼Œå¹¶åœ¨CSSä¸­å®šä¹‰å¯¹åº”çš„æ ·å¼è§„åˆ™ï¼Œå¯ä»¥å°†æ ·å¼åº”ç”¨äºå¤šä¸ªå…ƒç´ ã€‚ç±»åä»¥.å¼€å¤´ã€‚ 12345678910111213&lt;head&gt; &lt;style&gt; .highlight &#123; background-color: yellow; font-weight: bold; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;p class=&quot;highlight&quot;&gt;è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰highlightç±»çš„æ®µè½ã€‚&lt;/p&gt; &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„æ®µè½ã€‚&lt;/p&gt;&lt;/body&gt; 3.2 é€‰æ‹©å™¨ï¼ˆSelectorï¼‰é€‰æ‹©å™¨ç”¨äºé€‰æ‹©HTMLä¸­è¦åº”ç”¨æ ·å¼çš„å…ƒç´ ã€‚å¯ä»¥æ ¹æ®å…ƒç´ çš„æ ‡ç­¾åã€ç±»ã€IDã€å±æ€§ç­‰è¿›è¡Œé€‰æ‹©ã€‚ å…ƒç´ é€‰æ‹©å™¨ï¼ˆElement Selectorï¼‰ï¼šæ ¹æ®å…ƒç´ çš„æ ‡ç­¾åé€‰æ‹©å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œpé€‰æ‹©å™¨é€‰æ‹©æ‰€æœ‰çš„&lt;p&gt;æ®µè½å…ƒç´ ã€‚ ç±»é€‰æ‹©å™¨ï¼ˆClass Selectorï¼‰ï¼šæ ¹æ®ç±»åé€‰æ‹©å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ.highlighté€‰æ‹©å™¨é€‰æ‹©æ‰€æœ‰å…·æœ‰highlightç±»çš„å…ƒç´ ã€‚ IDé€‰æ‹©å™¨ï¼ˆID Selectorï¼‰ï¼šæ ¹æ®å…ƒç´ çš„å”¯ä¸€IDé€‰æ‹©å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ#headeré€‰æ‹©å™¨é€‰æ‹©å…·æœ‰header IDçš„å…ƒç´ ã€‚ å±æ€§é€‰æ‹©å™¨ï¼ˆAttribute Selectorï¼‰ï¼šæ ¹æ®å…ƒç´ çš„å±æ€§é€‰æ‹©å…ƒç´ ã€‚ä¾‹å¦‚ï¼Œ[type=&quot;text&quot;]é€‰æ‹©å™¨é€‰æ‹©æ‰€æœ‰typeå±æ€§ä¸ºâ€textâ€çš„å…ƒç´ ã€‚ é€šç”¨é€‰æ‹©å™¨ï¼ˆUniversal Selectorï¼‰ï¼šæ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«é€‰ä¸­ã€‚ ä¸åŒé€‰æ‹©å™¨ä¹‹é—´ä¹Ÿæ˜¯æœ‰ä¼˜å…ˆçº§çš„ï¼ŒIDé€‰æ‹©å™¨ &gt; ç±»é€‰æ‹©å™¨ &gt; å…ƒç´ é€‰æ‹©å™¨ã€‚ 123456789101112131415161718192021222324252627282930313233343536&lt;head&gt; &lt;style&gt; /* å…ƒç´ é€‰æ‹©å™¨ */ p &#123; color: blue; &#125; /* ç±»é€‰æ‹©å™¨ */ .highlight &#123; background-color: yellow; font-weight: bold; &#125; /* IDé€‰æ‹©å™¨ */ #header &#123; font-size: 20px; &#125; /* å±æ€§é€‰æ‹©å™¨ */ input[type=&quot;text&quot;] &#123; border: 1px solid gray; &#125; /* é€šç”¨é€‰æ‹©å™¨ */ * &#123; font-family: &#x27;Times New Roman&#x27;, Times, serif; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„æ®µè½ã€‚&lt;/p&gt; &lt;p class=&quot;highlight&quot;&gt;è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰highlightç±»çš„æ®µè½ã€‚&lt;/p&gt; &lt;p id=&quot;header&quot;&gt;è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰header IDçš„æ®µè½ã€‚&lt;/p&gt; &lt;input type=&quot;text&quot; placeholder=&quot;æ–‡æœ¬è¾“å…¥æ¡†&quot;&gt;&lt;/body&gt; è¿˜æœ‰äº›æ¯”è¾ƒç‰¹æ®Šçš„é€‰æ‹©å™¨ï¼Œç®€å•ä»‹ç»ä¸¤ä¸ªï¼š 12345678910111213141516171819202122&lt;head&gt; &lt;style&gt; /* ä¸¤ä¸ªå…ƒç´ ä¹‹é—´æ˜¯ç©ºæ ¼ï¼Œè¡¨ç¤ºå‰é¢çš„çˆ¶ç±»ï¼Œåé¢çš„æ˜¯æ‰€æœ‰è¯¥æ ‡ç­¾çš„å­ç±» */ div p &#123; color: brown; &#125; /* ä¸¤ä¸ªå…ƒç´ ä¹‹é—´æ˜¯é€—å·ï¼Œè¡¨ç¤ºåŒæ—¶é€‰ä¸­ */ h1,h2 &#123; color: aqua; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt;è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„æ®µè½&lt;/p&gt; &lt;div&gt; &lt;p&gt;è¿™æ˜¯åœ¨divçˆ¶å…ƒç´ ä¸‹çš„æ®µè½&lt;/p&gt; &lt;/div&gt; &lt;h1&gt;è¿™æ˜¯h1æ ‡ç­¾&lt;/h1&gt; &lt;h2&gt;è¿™æ˜¯h2æ ‡ç­¾&lt;/h2&gt;&lt;/body&gt; ç©ºæ ¼æ˜¯å–æ‰€æœ‰çš„åä»£å…ƒç´ ï¼Œå¦‚æœåªæƒ³è¦ä¸€çº§çš„å­å…ƒç´ ï¼Œå¯ä»¥ç”¨ç¬¦å·&gt;ã€‚ 4. ä¼ªç±»å’Œä¼ªå…ƒç´ 4.1 ä¼ªç±»ï¼ˆPseudo-classï¼‰ä¼ªç±»ç”¨äºé€‰æ‹©å¤„äºç‰¹å®šçŠ¶æ€çš„å…ƒç´ ï¼Œä¾‹å¦‚é¼ æ ‡æ‚¬åœã€è¢«ç‚¹å‡»ã€æ˜¯ç¬¬ä¸€ä¸ªå­å…ƒç´ ç­‰ã€‚ä¼ªç±»ä»¥å†’å·:å¼€å¤´ï¼Œç´§è·Ÿåœ¨é€‰æ‹©å™¨åé¢ã€‚ 1234567891011121314151617181920212223242526272829&lt;head&gt; &lt;style&gt; /* é€‰æ‹©æ‰€æœ‰çš„é“¾æ¥å…ƒç´  */ a &#123; color: blue; &#125; /* é€‰æ‹©é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šçš„å…ƒç´  */ a:hover &#123; color: red; &#125; /* é€‰æ‹©divçš„ç¬¬ä¸€ä¸ªpå­å…ƒç´  */ div &gt; p:first-child &#123; font-weight: bold; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt; &lt;a href=&quot;https://www.shelven.com&quot;&gt;è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„é“¾æ¥&lt;/a&gt; &lt;/p&gt; &lt;div&gt; &lt;p&gt;è¿™æ˜¯åœ¨divçˆ¶å…ƒç´ ä¸‹çš„ç¬¬ä¸€ä¸ªæ®µè½&lt;/p&gt; &lt;p&gt;è¿™æ˜¯åœ¨divçˆ¶å…ƒç´ ä¸‹çš„ç¬¬äºŒä¸ªæ®µè½&lt;/p&gt; &lt;/div&gt;&lt;/body&gt; åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ:hoveræ˜¯ä¸€ä¸ªä¼ªç±»é€‰æ‹©å™¨ï¼Œç”¨äºé€‰æ‹©é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šçš„å…ƒç´ ï¼Œå¹¶åº”ç”¨çº¢è‰²å­—ä½“é¢œè‰²ã€‚:first-childä¹Ÿæ˜¯ä¸€ä¸ªä¼ªç±»é€‰æ‹©å™¨ï¼Œç”¨äºé€‰æ‹©ç¬¬ä¸€ä¸ªå­å…ƒç´ ï¼Œå¹¶åº”ç”¨ç²—ä½“å­—ä½“æ ·å¼ï¼ˆä¸æŒ‡å®šçš„è¯å°±æ˜¯ä»»æ„ä¸€ä¸ªå…ƒç´ çš„å­å…ƒç´ ï¼‰ã€‚ ä¸Šè¾¹æ˜¯æ­£å¸¸æ˜¾ç¤ºçš„é¡µé¢ï¼Œä¸‹è¾¹æ˜¯é¼ æ ‡æ‚¬åœåœ¨é“¾æ¥ä¸Šçš„æ•ˆæœï¼š 4.2 ä¼ªå…ƒç´ ï¼ˆPseudo-elementï¼‰ä¼ªå…ƒç´ ç”¨äºåœ¨å…ƒç´ çš„ç‰¹å®šä½ç½®æ’å…¥å†…å®¹æˆ–æ ·å¼ï¼Œä¾‹å¦‚åœ¨å…ƒç´ çš„å‰åæ’å…¥é¢å¤–çš„å†…å®¹ã€é€‰æ‹©å…ƒç´ çš„ç¬¬ä¸€ä¸ªå­—æ¯ç­‰ã€‚ä¼ªå…ƒç´ ä»¥åŒå†’å·::å¼€å¤´ï¼Œç´§è·Ÿåœ¨é€‰æ‹©å™¨åé¢ã€‚ 123456789101112131415161718192021222324252627&lt;head&gt; &lt;style&gt; /* åœ¨æ®µè½å‰æ’å…¥å†…å®¹ */ p::before &#123; content: &quot;å‰ç½®å†…å®¹&quot;; font-weight: bold; &#125; /* é€‰æ‹©ç¬¬ä¸€ä¸ªå­—æ¯ */ p::first-letter &#123; font-size: 2em; color: red; &#125; /* åœ¨æ®µè½åæ’å…¥å†…å®¹ */ p::after &#123; content: &quot;åç½®å†…å®¹&quot;; font-weight: bold; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;p&gt; è¿™æ˜¯ä¸€æ®µæ™®é€šçš„æ®µè½å†…å®¹ &lt;/p&gt;&lt;/body&gt; åœ¨ä¸Šé¢ä¾‹å­é‡Œï¼Œ::beforeæ˜¯ä¸€ä¸ªä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼Œç”¨äºåœ¨æ¯ä¸ªæ®µè½å‰æ’å…¥é¢å¤–çš„å†…å®¹ï¼Œå¹¶åº”ç”¨ç²—ä½“å­—ä½“æ ·å¼ã€‚::first-letterä¹Ÿæ˜¯ä¸€ä¸ªä¼ªå…ƒç´ é€‰æ‹©å™¨ï¼Œç”¨äºé€‰æ‹©æ¯ä¸ªæ®µè½çš„ç¬¬ä¸€ä¸ªå­—æ¯ï¼Œå¹¶åº”ç”¨2å€å­—ä½“å¤§å°å’Œçº¢è‰²å­—ä½“é¢œè‰²ã€‚ 5. ç›’å­æ¨¡å‹CSSä¸­çš„ç›’å­æ¨¡å‹ï¼ˆBox Modelï¼‰æ˜¯ç”¨äºæè¿°å…ƒç´ åœ¨é¡µé¢ä¸­å ç”¨ç©ºé—´çš„ä¸€ç§æ¨¡å‹ã€‚å®ƒå°†æ¯ä¸ªå…ƒç´ çœ‹ä½œæ˜¯ä¸€ä¸ªçŸ©å½¢çš„ç›’å­ï¼Œç”±å››ä¸ªéƒ¨åˆ†ç»„æˆï¼šå†…å®¹åŒºåŸŸï¼ˆContentï¼‰ã€å†…è¾¹è·ï¼ˆPaddingï¼‰ã€è¾¹æ¡†ï¼ˆBorderï¼‰å’Œå¤–è¾¹è·ï¼ˆMarginï¼‰ã€‚ 1.å†…å®¹åŒºåŸŸï¼ˆContentï¼‰ï¼šå†…å®¹åŒºåŸŸæŒ‡çš„æ˜¯å…ƒç´ å†…éƒ¨å®é™…æ˜¾ç¤ºå†…å®¹çš„åŒºåŸŸï¼ŒåŒ…æ‹¬æ–‡æœ¬ã€å›¾ç‰‡æˆ–å…¶ä»–å­å…ƒç´ ã€‚å®ƒçš„å¤§å°ç”±å…ƒç´ çš„å®½åº¦ï¼ˆwidthï¼‰å’Œé«˜åº¦ï¼ˆheightï¼‰å±æ€§å†³å®šã€‚ 2.å†…è¾¹è·ï¼ˆPaddingï¼‰ï¼šå†…è¾¹è·æ˜¯å…ƒç´ å†…å®¹åŒºåŸŸä¸è¾¹æ¡†ä¹‹é—´çš„ç©ºç™½åŒºåŸŸï¼Œç”¨äºæ§åˆ¶å†…å®¹ä¸è¾¹æ¡†ä¹‹é—´çš„è·ç¦»ã€‚å¯ä»¥ä½¿ç”¨paddingå±æ€§è®¾ç½®å†…è¾¹è·çš„å¤§å°ã€‚ 3.è¾¹æ¡†ï¼ˆBorderï¼‰ï¼šè¾¹æ¡†æ˜¯å›´ç»•å…ƒç´ å†…å®¹å’Œå†…è¾¹è·çš„çº¿æ¡æˆ–æ ·å¼ï¼Œç”¨äºåˆ†éš”å…ƒç´ ä¸å…¶ä»–å…ƒç´ çš„åŒºåŸŸã€‚å¯ä»¥ä½¿ç”¨borderå±æ€§è®¾ç½®è¾¹æ¡†çš„æ ·å¼ã€å®½åº¦å’Œé¢œè‰²ã€‚ 4.å¤–è¾¹è·ï¼ˆMarginï¼‰ï¼šå¤–è¾¹è·æ˜¯å…ƒç´ ä¸ç›¸é‚»å…ƒç´ ä¹‹é—´çš„ç©ºç™½åŒºåŸŸï¼Œç”¨äºæ§åˆ¶å…ƒç´ ä¸å…¶ä»–å…ƒç´ ä¹‹é—´çš„è·ç¦»ã€‚å¯ä»¥ä½¿ç”¨marginå±æ€§è®¾ç½®å¤–è¾¹è·çš„å¤§å°ã€‚ 123456789101112131415161718&lt;head&gt; &lt;style&gt; .box &#123; width: 100px; height: 100px; background-color: blue; border: 3px solid black; padding: 10px 9px 8px 7px; margin: 5px 5px 5px 5px; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;div class=&quot;box&quot;&gt; è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„boxæ¨¡å‹ &lt;/div&gt;&lt;/body&gt; å½“æˆ‘ä»¬æ‰“å¼€ç½‘é¡µï¼ŒæŒ‰ä¸‹F12ï¼Œé€‰æ‹©å…ƒç´ ï¼Œdiv.boxï¼Œå°±å¯ä»¥çœ‹åˆ°æµè§ˆå™¨ä¸­å±•ç¤ºçš„ç›’å­æ¨¡å‹ï¼š æ€»çš„æ¥è¯´ï¼Œç›’å­æ¨¡å‹æ˜¯å¸®åŠ©æˆ‘ä»¬ç†è§£å…ƒç´ åœ¨é¡µé¢ä¸­çš„å¸ƒå±€å’Œå ç”¨ç©ºé—´çš„ï¼Œé€šè¿‡è°ƒæ•´å†…å®¹åŒºåŸŸã€å†…è¾¹è·ã€è¾¹æ¡†å’Œå¤–è¾¹è·çš„å¤§å°å’Œæ ·å¼ï¼Œå¯ä»¥å®ç°å„ç§é¡µé¢å¸ƒå±€æ•ˆæœã€‚ ä»¥ä¸Šéƒ½æ˜¯äº›åŸºæœ¬çš„CSSå¸¸è¯†ï¼Œå®ä¾‹éƒ¨åˆ†å¯ä»¥å‚è€ƒèœé¸Ÿæ•™ç¨‹ï¼Œé‡Œé¢ç»™çš„ä¾‹å­æŒºå¤šçš„ï¼Œè‡ªå·±è¯•ä¸€ä¸‹æ‰èƒ½æ›´å¥½ç†è§£ï¼šCSS å®ä¾‹ | èœé¸Ÿæ•™ç¨‹ (runoob.com) å…³äºCSSçš„ä¹¦å†™æ ¼å¼ï¼Œgithubä¸Šä¹Ÿæœ‰ä¸€ä¸ªä¸­æ–‡ç‰ˆæŒ‡å—ï¼šZhangjd&#x2F;css-style-guide: A mostly reasonable approach to CSS and Sass. (github.com) å…³äºç¼©è¿›çš„é—®é¢˜ï¼Œæˆ‘ç”¨çš„vscodeå›è½¦å°±æ˜¯hard tabsè€Œä¸æ˜¯soft tabsï¼ˆä¸¤ä¸ªç©ºæ ¼ï¼‰ï¼Œä¸è¿‡ä¼¼ä¹ä¹Ÿæ²¡å½±å“ï¼Œå°±å…ˆè¿™æ ·å§â€¦..","categories":[{"name":"ä¸ªäººä¸»é¡µ","slug":"ä¸ªäººä¸»é¡µ","permalink":"http://www.shelven.com/categories/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"CSS","slug":"CSS","permalink":"http://www.shelven.com/tags/CSS/"}]},{"title":"HTMLã€CSSå’ŒJavaScriptå…¥é—¨ï¼ˆ1ï¼‰â€”â€”HTMLåŸºç¡€","slug":"HTMLã€CSSå’ŒJavaScriptå…¥é—¨ï¼ˆ1ï¼‰â€”â€”HTMLåŸºç¡€","date":"2023-09-28T15:35:43.000Z","updated":"2023-10-06T07:16:09.000Z","comments":true,"path":"2023/09/28/a.html","link":"","permalink":"http://www.shelven.com/2023/09/28/a.html","excerpt":"ä¸çŸ¥ä¸è§‰ç”¨Hexoå»ºç«™ä¹Ÿå¿«ä¸€å¹´åŠäº†ï¼Œä»¥å‰ä¸‹è½½å®‰è£…Node.jsã€æ­å»ºHexoåšå®¢å’Œä½¿ç”¨volantisä¸»é¢˜ï¼Œä»¥åŠåˆ°æœ€åéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œè¿™ä¸€ç³»åˆ—æµç¨‹éƒ½æ˜¯è·Ÿç€æ•™ç¨‹å’Œvolantisçš„ä¸­æ–‡ç¤¾åŒºæ“ä½œï¼Œå› ä¸ºè‡ªå·±æ˜¯çº¯å°ç™½ï¼Œå±äºä¸¤çœ¼ä¸€æŠ¹é»‘å¹²å°±å®Œäº‹äº†çš„é‚£ç§ã€‚é‡åˆ°bugä¹Ÿæ˜¯å„ç§ç™¾åº¦è°·æ­Œï¼Œåˆ«äººå’‹æ”¹æ–‡ä»¶è‡ªå·±è·Ÿç€æ”¹ï¼Œä¹Ÿå®Œå…¨ä¸æ‡‚å…¶ä¸­åŸç†ã€‚","text":"ä¸çŸ¥ä¸è§‰ç”¨Hexoå»ºç«™ä¹Ÿå¿«ä¸€å¹´åŠäº†ï¼Œä»¥å‰ä¸‹è½½å®‰è£…Node.jsã€æ­å»ºHexoåšå®¢å’Œä½¿ç”¨volantisä¸»é¢˜ï¼Œä»¥åŠåˆ°æœ€åéƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šï¼Œè¿™ä¸€ç³»åˆ—æµç¨‹éƒ½æ˜¯è·Ÿç€æ•™ç¨‹å’Œvolantisçš„ä¸­æ–‡ç¤¾åŒºæ“ä½œï¼Œå› ä¸ºè‡ªå·±æ˜¯çº¯å°ç™½ï¼Œå±äºä¸¤çœ¼ä¸€æŠ¹é»‘å¹²å°±å®Œäº‹äº†çš„é‚£ç§ã€‚é‡åˆ°bugä¹Ÿæ˜¯å„ç§ç™¾åº¦è°·æ­Œï¼Œåˆ«äººå’‹æ”¹æ–‡ä»¶è‡ªå·±è·Ÿç€æ”¹ï¼Œä¹Ÿå®Œå…¨ä¸æ‡‚å…¶ä¸­åŸç†ã€‚ åæ¥å› ä¸ºè¯¾é¢˜éœ€è¦æ¥è§¦åˆ°ç¼–ç¨‹ï¼Œæ‰æ…¢æ…¢æœ‰äº†ç¾åŒ–ç½‘ç«™çš„æƒ³æ³•ï¼ˆè™½ç„¶ç°åœ¨ä¹Ÿä¸å¥½çœ‹ï¼Œä¸»è¦æ˜¯å› ä¸ºæ²¡æ—¶é—´æ•´hhhhï¼‰ã€‚ä½œä¸ºä¸€ä¸ªå°ç™½ï¼Œçœ‹åˆ°ç½‘ä¸ŠåŠ¨è¾„åå‡ ä¸ªå°æ—¶çš„ç¼–ç¨‹æ•™ç¨‹çœŸçš„å¤´ç–¼ï¼Œè‡ªå·±åªæ˜¯éœ€è¦äº†è§£åŸºæœ¬æ¦‚å¿µï¼Œä¼šç”¨å°±è¡Œï¼Œä¸éœ€è¦å­¦å¤ªæ·±ï¼Œæ‰€ä»¥æœ‰äº†è¿™ç¯‡çº¯å…¥é—¨ç¬”è®°ã€‚ 1. å‰è¨€è¦å­¦ä¹ å‰ç«¯webå¼€å‘ï¼Œé¦–å…ˆéœ€è¦äº†è§£å’Œå­¦ä¹ ä¸‹é¢è¿™äº›æŠ€æœ¯ï¼š HTMLï¼ˆHyperText Markup Languageï¼‰ï¼šHTMLæ˜¯ç”¨äºå®šä¹‰ç½‘é¡µç»“æ„å’Œå†…å®¹çš„æ ‡è®°è¯­è¨€ã€‚å®ƒç”¨äºåˆ›å»ºç½‘é¡µçš„å„ç§å…ƒç´ ï¼Œå¦‚æ ‡é¢˜ã€æ®µè½ã€é“¾æ¥ã€å›¾åƒç­‰ã€‚ CSSï¼ˆCascading Style Sheetsï¼‰ï¼šCSSç”¨äºæ§åˆ¶ç½‘é¡µçš„æ ·å¼å’Œå¸ƒå±€ã€‚é€šè¿‡CSSï¼Œç”¨æ¥è®¾ç½®è®¾ç½®ç½‘é¡µçš„å­—ä½“ã€é¢œè‰²ã€å¤§å°ã€å¸ƒå±€ç­‰å„ç§å¤–è§‚å±æ€§ã€‚ JavaScriptï¼šJavaScriptæ˜¯ä¸€ç§ç”¨äºç½‘é¡µäº¤äº’å’ŒåŠ¨æ€æ•ˆæœçš„è„šæœ¬è¯­è¨€ã€‚å®ƒå¯ä»¥é€šè¿‡æ“ä½œç½‘é¡µå…ƒç´ ã€å¤„ç†ç”¨æˆ·è¾“å…¥å’Œå“åº”äº‹ä»¶ç­‰æ¥å®ç°äº¤äº’æ€§å’ŒåŠ¨æ€æ€§ã€‚ ç®€å•æ¥è¯´ï¼ŒæŠŠwebå‰ç«¯å¼€å‘æ¯”å–»æˆæˆ‘çš„ä¸–ç•Œè¿™æ¬¾æ¸¸æˆçš„è¯ï¼ŒHTMLå°±æ˜¯æ¸¸æˆå®é™…ä¸­çš„åœ°å½¢ã€å„ç§æ–¹å—ç­‰å®ä½“ï¼ŒCSSå°±åƒæ¸¸æˆä¸­çš„çº¹ç†åŒ…å’Œæè´¨ï¼Œè€ŒJavaScriptå°±æ˜¯æ¸¸æˆä¸­çš„é€»è¾‘å’Œè¡Œä¸ºï¼Œæ§åˆ¶æ–¹å—å’Œå®ä½“çš„ç§»åŠ¨ã€äº¤äº’ç¢°æ’ç­‰è¡Œä¸ºã€‚ ä»¥ä¸Šæ˜¯åŸºç¡€ä¸­çš„åŸºç¡€ï¼ŒçœŸæ­£è¦å­¦webå¼€å‘ï¼Œè¿˜è¦å­¦ä¹ å‰ç«¯æ¡†æ¶å’Œåº“å¦‚Reactã€Vue.jsï¼Œä¼šç”¨å‰ç«¯æ„å»ºå·¥å…·åƒæ˜¯Webpackã€Viteæ¥æ„å»ºæ‰“åŒ…å‰ç«¯é¡¹ç›®ï¼Œéœ€è¦å­¦ä¹ ç½‘ç»œå’ŒHTTPåè®®ä»¥ä¾¿æ›´å¥½å’Œåç«¯äº¤äº’ï¼Œè¿˜è¦è€ƒè™‘ç§»åŠ¨ç«¯ä¼˜åŒ–ã€è·¨æµè§ˆå™¨å…¼å®¹æ€§ç­‰ç­‰â€¦â€¦ä¸‡ä¸ˆé«˜æ¥¼å¹³åœ°èµ·ï¼Œæ²¡æœ‰åŸºç¡€å…¶ä»–çš„éƒ½æ˜¯ç©ºä¸­æ¥¼é˜ã€‚ æˆ‘è¿™é‡Œç”¨vscodeåšä¸ºé›†æˆå¼€å‘ç¯å¢ƒï¼Œå®‰è£…äº†ä»¥ä¸‹æ’ä»¶ï¼š Live Serverï¼šå¯ä»¥åœ¨æµè§ˆå™¨ä¸­å®æ—¶é¢„è§ˆç½‘é¡µï¼Œå®‰è£…ååªéœ€è¦åœ¨å¯¹åº”çš„htmlæ–‡ä»¶å³é”®ï¼Œé€‰æ‹©Open With Live Serverå³å¯åœ¨æœ¬åœ°æµè§ˆå™¨å¿«é€Ÿæ‰“å¼€ï¼Œç¼–è¾‘æ–‡ä»¶åä¼šè‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ã€‚ HTML CSS Supportï¼šæ ¹æ®è¾“å…¥å†…å®¹å’Œä¸Šä¸‹æ–‡ï¼Œå½“ä½ è¾“å…¥HTMLæ ‡ç­¾æˆ–è€…CSSå±æ€§çš„æ—¶å€™ï¼Œè‡ªåŠ¨æ˜¾ç¤ºå¯èƒ½çš„é€‰é¡¹ï¼ˆçœå»htmlæ–‡ä»¶å’Œcssæ–‡ä»¶ä¹‹é—´åå¤åˆ‡æ¢ï¼‰ã€‚ Auto Rename Tagï¼šè‡ªåŠ¨é‡å‘½åæ ‡ç­¾ï¼Œä¿®æ”¹ä¸€ä¾§æ ‡ç­¾ååŒæ­¥ä¿®æ”¹å¦ä¸€ä¾§æ ‡ç­¾ã€‚ JavaScriptï¼ˆES6ï¼‰ code snippetsï¼šæ”¯æŒJavaScriptå’ŒTypeScriptå¿«é€Ÿç”Ÿæˆä»£ç å’Œè¯­æ³•æç¤ºã€‚ 2. HTML52.1 HTMLåŸºç¡€HTML5æ˜¯HTMLå‡ºçš„ç¬¬äº”ä¸ªç‰ˆæœ¬ï¼ŒHTML5æ–¹ä¾¿ä¹¦å†™ã€ç²¾ç®€ï¼Œä¹Ÿä¾¿äºé˜…è¯»å’Œç†è§£ï¼Œä»¥ä¸‹å‡ä»¥HTML5ä¸ºä¾‹ã€‚ åœ¨vscodeä¸­æ–°å»ºä¸€ä¸ªindex.htmlæ–‡ä»¶ï¼Œè¾“å…¥è‹±æ–‡çš„!å¹¶æŒ‰ä¸‹tabé”®è¡¥å…¨ï¼Œå°±ä¼šå‡ºç°æœ€åŸºç¡€çš„HTML5ä»£ç ï¼š 123456789101112&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;/body&gt;&lt;/html&gt; &lt;!DOCTYPE html&gt;å£°æ˜ä¸ºHTML5æ–‡æ¡£ &lt;html&gt;å…ƒç´ æ˜¯HTMLé¡µé¢çš„æ ¹å…ƒç´ ï¼Œæ‰€æœ‰å…ƒç´ éƒ½åœ¨æ ¹å…ƒç´ å†… &lt;head&gt;å…ƒç´ åŒ…å«äº†æ–‡æ¡£çš„å…ƒæ•°æ®ï¼ˆmetaï¼‰ï¼Œé“¾æ¥å·¥ç¨‹å†…çš„cssæ–‡ä»¶ï¼Œä¸ºæœç´¢å¼•æ“æä¾›ç½‘ç«™æè¿°ã€å…³é”®è¯ç­‰æ•°æ®ã€‚è¿™éƒ¨åˆ†å†…å®¹æ˜¯ä¸å¯è§çš„ï¼Œæ¯”å¦‚ï¼š 123456&lt;meta charset=&quot;å­—ç¬¦é›†&quot;&gt; æŒ‡å®šå­—ç¬¦ç¼–ç é›†ï¼Œå¦‚UTF-8 &lt;meta name=&quot;description&quot; content=&quot;æè¿°å†…å®¹&quot;&gt; å®šä¹‰æ–‡æ¡£æè¿°ï¼Œé€šå¸¸ç”¨äºæœç´¢å¼•æ“çš„æ‘˜è¦æ˜¾ç¤º&lt;meta name=&quot;keywords&quot; content=&quot;å…³é”®è¯åˆ—è¡¨&quot;&gt; å®šä¹‰æ–‡æ¡£å…³é”®è¯ï¼ŒæŒ‡å®šæ–‡æ¡£å…³é”®è¯æˆ–è€…æ ‡ç­¾ï¼Œæœ‰åŠ©äºæœç´¢å¼•æ“çš„ç´¢å¼•å’Œåˆ†ç±»&lt;meta name=&quot;author&quot; content=&quot;ä½œè€…åç§°&quot;&gt; å®šä¹‰æ–‡æ¡£ä½œè€…&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; å®šä¹‰è§†å£(viewpoint)ä½ç½®ï¼Œç”¨äºæ§åˆ¶ç½‘é¡µåœ¨ç§»åŠ¨è®¾å¤‡çš„æ˜¾ç¤ºå’Œç¼©æ”¾è¡Œä¸º&lt;meta http-equiv=&quot;refresh&quot; content=&quot;ç§’æ•°; URL=é‡å®šå‘URL&quot;&gt; å®šä¹‰æ–‡æ¡£åˆ·æ–°æˆ–è€…é‡å®šå‘ 1&lt;title&gt;æè¿°æ–‡æ¡£æ ‡é¢˜ï¼ˆæ ‡é¢˜é¡µæ˜¾ç¤ºçš„å†…å®¹ï¼‰&lt;/title&gt; 1&lt;link rel=&quot;stylesheet&quot; href=&quot;æ ·å¼è¡¨è·¯å¾„&quot;&gt;å¼•å…¥å¤–éƒ¨æ ·å¼è¡¨ï¼Œè¿™ä¸ªåœ¨csså¼•å…¥é‡Œå†è¯´ &lt;body&gt;å…ƒç´ åŒ…æ‹¬äº†æ‰€æœ‰å¯è§çš„é¡µé¢å†…å®¹ ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼ŒHTMLä¸æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ï¼Œè€Œæ˜¯ä¸€ç§æ ‡è®°è¯­è¨€ï¼Œæ ‡è®°è¯­è¨€æœ‰è‡ªå·±çš„ä¸€å¥—æ ‡è®°æ ‡ç­¾(tag)ï¼Œæ ‡ç­¾ç”±ä¸€å¯¹å°–æ‹¬å·åŒ…å›´ï¼Œä¸”é€šå¸¸æ˜¯æˆå¯¹å‡ºç°çš„ï¼Œæ¯”å¦‚&lt;p&gt;è¿™é‡Œæ˜¯å†…å®¹&lt;/p&gt;ï¼Œå¼€å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾ä¹Ÿç§°ä¸ºå¼€æ”¾æ ‡ç­¾å’Œé—­åˆæ ‡ç­¾ã€‚ ä¹Ÿæœ‰ä¸€äº›æ ‡ç­¾æ˜¯è‡ªé—­å’Œçš„ï¼Œæ¯”å¦‚ä¸Šé¢çš„&lt;meta&gt;ã€&lt;title&gt;ã€&lt;link&gt;ï¼Œè¿˜æœ‰&lt;br&gt;ï¼ˆæ¢è¡Œï¼‰ã€&lt;hr&gt;ï¼ˆæ°´å¹³åˆ†éš”çº¿ï¼‰ã€&lt;input&gt;ï¼ˆè¾“å…¥æ§ä»¶ï¼‰ã€&lt;image&gt;ï¼ˆæ’å…¥å›¾ç‰‡ï¼‰ã€&lt;area&gt;ï¼ˆå®šä¹‰å¯ç‚¹å‡»çš„åŒºåŸŸï¼‰ï¼Œä»–ä»¬ä¸éœ€è¦é—­åˆå› ä¸ºä»–ä»¬æœ¬èº«å°±ä¸éœ€è¦å†…å®¹ã€‚ é¡ºä¾¿è¯´ä¸€å¥ï¼Œåœ¨vscodeä¸­ï¼Œctrl+/å¯ä»¥å¿«é€Ÿæ³¨é‡Šå½“å‰è¡Œå†…å®¹ï¼›å—æ³¨é‡Šå¯ä»¥é€‰ä¸­ä»£ç åalt+shift+Aï¼›alt+shift+â†“å¯ä»¥å¿«é€Ÿå¤åˆ¶å½“å‰è¡Œå†…å®¹åˆ°ä¸‹ä¸€è¡Œï¼ˆé€‰ä¸­å¤šè¡Œä»£ç åŒç†ï¼‰ï¼›åœ¨htmlæ–‡ä»¶ä¸­ï¼Œè¾“å…¥å°å†™å­—æ¯å†æŒ‰tabé”®ï¼Œä¼šè‡ªåŠ¨è¡¥é½å¼€å§‹å’Œç»“æŸæ ‡ç­¾ï¼Œç®—æ˜¯æé«˜ç¼–ç¨‹æ•ˆç‡çš„å°æŠ€å·§â€¦â€¦ ç°åœ¨å°±å¯ä»¥å³é”®index.htmlæ–‡ä»¶ï¼Œé€‰æ‹©Open With Live Serverï¼Œwin+â†’æŠŠç½‘é¡µæ”¾åœ¨å±å¹•å³è¾¹ï¼Œå°±å¯ä»¥åŒå±æŸ¥çœ‹ä»£ç å’Œç½‘é¡µäº†ã€‚ 2.2 å¸¸ç”¨æ ‡ç­¾å’Œå±æ€§æ ‡é¢˜æ ‡ç­¾ï¼Œé€šè¿‡&lt;h1&gt;åˆ°&lt;h6&gt;æ¥å®šä¹‰ï¼š 12345678&lt;body&gt; &lt;h1&gt;è¿™æ˜¯æ ‡é¢˜ 1&lt;/h1&gt; &lt;h2&gt;è¿™æ˜¯æ ‡é¢˜ 2&lt;/h2&gt; &lt;h3&gt;è¿™æ˜¯æ ‡é¢˜ 3&lt;/h3&gt; &lt;h4&gt;è¿™æ˜¯æ ‡é¢˜ 4&lt;/h4&gt; &lt;h5&gt;è¿™æ˜¯æ ‡é¢˜ 5&lt;/h5&gt; &lt;h6&gt;è¿™æ˜¯æ ‡é¢˜ 6&lt;/h6&gt;&lt;/body&gt; æ®µè½æ ‡ç­¾ï¼Œé€šè¿‡&lt;P&gt;æ ‡ç­¾å®šä¹‰ï¼š 123456&lt;body&gt; &lt;p&gt; Lorem ipsum dolor sit amet consectetur adipisicing elit. Repudiandae quia alias tempore natus perspiciatis commodi sapiente fugit ducimus id, in ut deleniti sint sequi explicabo, totam pariatur quidem. Non, quis? Lorem ä¼šè¾“å‡ºå ä½ç”¨çš„æ— æ„ä¹‰å†…å®¹ &lt;/p&gt;&lt;/body&gt; æ ‡ç­¾å¯ä»¥æ˜¯è¡Œå†…å…ƒç´ æˆ–è€…å—çº§å…ƒç´ ï¼Œè¡Œçº§å…ƒç´ ä¹‹é—´ä¸ä¼šæ–°èµ·ä¸€æ®µï¼Œå…¶æ‰€å ç©ºé—´ä¸å†…å®¹æœ¬èº«å¤§å°æœ‰å…³ï¼Œå—çº§å…ƒç´ ä¼šæ–°èµ·ä¸€æ®µã€‚ 123456789101112131415161718&lt;body&gt; &lt;!-- è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Šï¼Œä¸ä¼šæ˜¾ç¤º --&gt; &lt;p&gt; è¡Œçº§å…ƒç´ ä¸ä¼šæ–°èµ·ä¸€æ®µï¼Œæ¯”å¦‚ &lt;span&gt;spanï¼ˆåˆ›å»ºè¡Œå†…çš„å®¹å™¨ï¼‰&lt;/span&gt; &lt;img decoding=&quot;async&quot; src=&quot;https://www.shelven.com/tuchuang/avatar.jpg&quot; width=&quot;50&quot;&gt;img &lt;a href=&quot;https://www.shelven.com&quot; target=&quot;_blank&quot;&gt;a(é“¾æ¥æ ‡ç­¾)&lt;/a&gt; &lt;strong&gt;strongåŠ ç²—&lt;/strong&gt; &lt;em&gt;emæ–œä½“&lt;/em&gt; &lt;/p&gt; &lt;p&gt; å—çº§å…ƒç´ ä¼šæ–°èµ·ä¸€æ®µï¼Œå æ®å½“å‰ç»™å®šè¡Œçš„ç™¾åˆ†ç™¾å®½åº¦ï¼ŒåŒ…æ‹¬ &lt;div&gt;divæ ‡ç­¾&lt;/div&gt; &lt;h6&gt;hæ ‡ç­¾&lt;/h6&gt; &lt;p&gt;pæ ‡ç­¾&lt;/p&gt; &lt;form&gt;formæ ‡ç­¾&lt;/form&gt; &lt;/p&gt;&lt;/body&gt; &lt;span&gt;å’Œ&lt;div&gt;è¿™ä¸¤ä¸ªæ ‡ç­¾åœ¨HTMLé¡µé¢ç»“æ„å¸ƒå±€ä¸­æ¯”è¾ƒé‡è¦ï¼Œä¸¤è€…éƒ½æ²¡æœ‰ç‰¹å®šçš„å«ä¹‰ï¼Œ&lt;span&gt;é€šå¸¸ç”¨æ¥åŒ…è£¹æ–‡æœ¬å’Œå…¶ä»–è¡Œå†…å…ƒç´ ï¼Œ&lt;div&gt;é€šå¸¸ç”¨æ¥å®¹çº³å…¶ä»–å—çº§å…ƒç´ æˆ–è€…è¡Œå†…å…ƒç´ ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ ‡ç­¾å†…çš„æ¯”å¦‚decodingã€hrefè¿™æ ·çš„ä¿¡æ¯ç§°ä¸ºHTMLå…ƒç´ çš„å±æ€§ï¼Œå±æ€§æ˜¯ä»¥åç§°é”®å€¼å¯¹çš„å½¢å¼å‡ºç°çš„ï¼Œä¸”éƒ½æ˜¯æ”¾åœ¨å¼€å§‹æ ‡ç­¾ä¸­ï¼Œè€Œå±æ€§å€¼ä¸ç®¡æ˜¯æ•°å­—è¿˜æ˜¯å­—ç¬¦ä¸²ï¼Œéƒ½è¦åŒ…æ‹¬åœ¨å¼•å·å†…ï¼ˆé¦–é€‰åŒå¼•å·ï¼‰ã€‚ é€‚ç”¨äºå¤§å¤šæ•°HTMLæ ‡ç­¾çš„å±æ€§ï¼š class ä¸ºhtmlå…ƒç´ å®šä¹‰ç±»åï¼ˆè¿™ä¸ªç±»åç”±cssæ–‡ä»¶å¼•å…¥ï¼‰ï¼Œæ–¹ä¾¿å™¨é€‰æ‹©ï¼Œå¯ä»¥å†™å¤šä¸ª id ä¸ºhtmlå…ƒç´ å®šä¹‰å”¯ä¸€çš„idå€¼ï¼Œä¹Ÿæ˜¯æ–¹ä¾¿é€‰æ‹©å™¨é€‰æ‹© hidden éšè—htmlå…ƒç´  style è§„å®šå…ƒç´ çš„è¡Œå†…æ ·å¼ï¼ˆå†…è”æ ·å¼ï¼‰ï¼Œcsså¯¼å…¥ä¸­ä¼šè¯¦ç»†è¯´ title ä¸ºå…ƒç´ æä¾›é¢å¤–ä¿¡æ¯ï¼Œæ¯”å¦‚ç”¨åœ¨aæ ‡ç­¾ï¼Œé¼ æ ‡æ‚¬åœä¼šæ˜¾ç¤ºçš„ä¿¡æ¯ é¡ºä¾¿æä¸‹ï¼Œä¸Šé¢ä¾‹å­è¶…é“¾æ¥çš„ä¸¤ç§å¯¼å…¥æ–¹å¼ï¼Œhrefæ˜¯è¶…æ–‡æœ¬å¼•ç”¨ï¼Œå»ºç«‹æ–‡æ¡£ä¸èµ„æºä¹‹é—´çš„å…³ç³»ï¼Œå¸¸ç”¨åœ¨linkã€aæ ‡ç­¾ä¸­ï¼›srcæ˜¯å°†æŒ‡å‘çš„èµ„æºç›´æ¥ä¸‹è½½å¹¶ç”¨åˆ°å½“å‰é¡µé¢ï¼Œå¸¸ç”¨åœ¨scriptã€imgæ ‡ç­¾ä¸­ã€‚ è¦è®©è¡Œçº§å…ƒç´ æ¢è¡Œæˆ–è€…åŒä¸€ä¸ªæ®µè½å†…çš„å†…å®¹æ¢è¡Œï¼Œå¯ä»¥æ’å…¥å—çº§å…ƒç´ ï¼Œæˆ–è€…æ˜¯åŠ å…¥&lt;br&gt;ï¼ˆæ¢è¡Œï¼‰æˆ–è€…&lt;hr&gt;ï¼ˆæ’å…¥æ°´å¹³çº¿ï¼‰æ ‡ç­¾ï¼š 12345&lt;body&gt; &lt;p&gt; è¿™æ˜¯ä¸€ä¸ªæ®µè½&lt;br&gt;è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½&lt;hr&gt;æ¥ç€å†æ¥ä¸€æ®µ &lt;/p&gt;&lt;/body&gt; 2.3 åˆ—è¡¨æ ·å¼å’Œè¡¨æ ¼htmlçš„åˆ—è¡¨æ ·å¼ä¸»è¦æœ‰ä¸¤ç§ï¼šå‰é¢æœ‰ä¸ªç‚¹çš„æ— åºåˆ—è¡¨å’Œå¸¦æœ‰æ•°å­—æ’åºçš„æœ‰åºåˆ—è¡¨ï¼š 12345678910111213141516&lt;body&gt; &lt;!-- æ— åºåˆ—è¡¨ulæ ‡ç­¾ --&gt; &lt;ul&gt; &lt;li&gt;æ— åºåˆ—è¡¨é¡¹1&lt;/li&gt; &lt;li&gt;æ— åºåˆ—è¡¨é¡¹2&lt;/li&gt; &lt;li&gt;æ— åºåˆ—è¡¨é¡¹3&lt;/li&gt; &lt;li&gt;æ— åºåˆ—è¡¨é¡¹4&lt;/li&gt; &lt;/ul&gt; &lt;!-- æœ‰åºåˆ—è¡¨olæ ‡ç­¾ --&gt; &lt;ol&gt; &lt;li&gt;æœ‰åºåˆ—è¡¨é¡¹1&lt;/li&gt; &lt;li&gt;æœ‰åºåˆ—è¡¨é¡¹2&lt;/li&gt; &lt;li&gt;æœ‰åºåˆ—è¡¨é¡¹3&lt;/li&gt; &lt;li&gt;æœ‰åºåˆ—è¡¨é¡¹4&lt;/li&gt; &lt;/ol&gt;&lt;/body&gt; è¡¨æ ¼æ ‡ç­¾ä¸º&lt;table&gt;ï¼Œå¯¹åº”çš„åˆ†ä¸ºè¡¨å¤´&lt;thead&gt;å’Œè¡¨ä½“&lt;tbody&gt;ã€‚è¡¨å¤´å’Œè¡¨ä½“éƒ½æœ‰è¡Œä¸åˆ—çš„æ¦‚å¿µï¼Œè¡Œåœ¨ä¸¤è€…ä¸­éƒ½æ˜¯&lt;tr&gt;æ ‡ç­¾ï¼Œåˆ—åœ¨è¡¨å¤´ä¸­æ ‡ç­¾ä¸º&lt;th&gt;ï¼Œåœ¨è¡¨ä½“ä¸­æ ‡ç­¾ä¸º&lt;td&gt;: 1234567891011121314151617181920212223&lt;body&gt; &lt;table&gt; &lt;thead&gt; &lt;tr&gt; &lt;th&gt;å§“å&lt;/th&gt; &lt;th&gt;å¹´é¾„&lt;/th&gt; &lt;th&gt;qq&lt;/th&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td&gt;phantom&lt;/td&gt; &lt;td&gt;28&lt;/td&gt; &lt;td&gt;1021618642&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td&gt;aria&lt;/td&gt; &lt;td&gt;26&lt;/td&gt; &lt;td&gt;1269035311&lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt;&lt;/body&gt; å¯ä»¥çœ‹åˆ°æµè§ˆå™¨ä¼šæŠŠè¡¨å¤´æ˜¾ç¤ºä¸ºç²—ä½“å±…ä¸­çš„æ–‡æœ¬ï¼Œå…¶ä»–å’Œè¡¨ä½“æ²¡å•¥åŒºåˆ«ã€‚ 2.4 è¡¨å•è¡¨å•æ˜¯æ”¶é›†ç”¨æˆ·è¾“å…¥ä¿¡æ¯çš„å·¥å…·ï¼Œå¯ä»¥é€šè¿‡&lt;form&gt;æ ‡ç­¾åˆ›å»ºï¼Œéœ€è¦æ³¨æ„ï¼Œhtmlè¡¨å•åªèƒ½ç»™å¤–è§‚ä¸èƒ½ç»™åŠŸèƒ½ï¼ŒåŠŸèƒ½å®ç°éœ€è¦javascriptï¼Œæˆ–è€…å†™ä¸€ä¸ªphpæœåŠ¡å™¨ç«¯è„šæœ¬æ¥æ¥æ”¶å‚æ•°ã€‚ 123456789101112131415161718192021222324252627282930&lt;body&gt; &lt;form&gt; &lt;!-- labelå®šä¹‰inputå†…å®¹çš„æ ‡ç­¾ --&gt; &lt;label&gt;è´¦å·:&lt;/label&gt; &lt;!-- input ype=&quot;text&quot;è¾“å…¥æ¡†å¯ä»¥è¾“å…¥æ–‡æœ¬ --&gt; &lt;input type=&quot;text&quot;&gt; &lt;br&gt; &lt;label&gt;å¯†ç :&lt;/label&gt; &lt;!-- input type=&quot;password&quot;è¾“å…¥æ¡†ä¸ä¼šæ˜æ–‡æ˜¾ç¤º --&gt; &lt;input type=&quot;password&quot;&gt; &lt;br&gt; &lt;label&gt;æ–‡æœ¬åŸŸ&lt;/label&gt; &lt;br&gt; &lt;!-- textareaæ˜¯ç¡®å®šä¸€ä¸ªæ–‡æœ¬åŸŸ --&gt; &lt;textarea name=&quot;è¾“å…¥æ¡†&quot; cols=&quot;50&quot; rows=&quot;10&quot;&gt;&lt;/textarea&gt; &lt;br&gt; &lt;label&gt;æ€§åˆ«&lt;/label&gt; &lt;!-- selectæ˜¯ç»™å‡ºä¸€ä¸ªä¸‹æ‹‰æ¡† --&gt; &lt;select name=&quot;é€‰é¡¹&quot;&gt; &lt;option value=&quot;male&quot;&gt;ç”·&lt;/option&gt; &lt;option value=&quot;female&quot;&gt;å¥³&lt;/option&gt; &lt;option value=&quot;unknow&quot;&gt;æœªçŸ¥&lt;/option&gt; &lt;/select&gt; &lt;!-- input type=&quot;radio&quot;æä¾›ä¸€ä¸ªå•é€‰æ¡† --&gt; &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;female&quot;&gt;å¥³ &lt;!-- input type=&quot;checkbox&quot;æä¾›ä¸€ä¸ªå¤é€‰æ¡† --&gt; &lt;input type=&quot;checkbox&quot; name=&quot;sex&quot; value=&quot;male&quot;&gt;ç”· &lt;input type=&quot;checkbox&quot; name=&quot;sex&quot; value=&quot;female&quot;&gt;å¥³ &lt;/form&gt;&lt;/body&gt; 2.5 iframeä¹Ÿå°±æ˜¯HTMLçš„æ¡†æ¶ï¼Œä¸€ä¸ªç½‘é¡µä¸­å¯ä»¥åµŒå¥—åˆ«çš„ç½‘é¡µï¼Œä¸è¿‡å¤§éƒ¨åˆ†çš„æµè§ˆå™¨å¯¹åµŒå¥—å±‚æ•°æ˜¯æœ‰é™åˆ¶çš„ï¼Œä¸€èˆ¬éƒ½ç”¨ä¸åˆ°ï¼š 123&lt;body&gt; &lt;iframe src=&quot;https://www.shelven.com&quot; width=&quot;800&quot; height=&quot;600&quot;&gt;&lt;/iframe&gt;&lt;/body&gt; æ¯ä¸ªiframeéƒ½è¦åŠ è½½å’Œæ¸²æŸ“ç‹¬ç«‹çš„æ–‡æ¡£ï¼Œè¿‡å¤šçš„åµŒå¥—ä¼šå¢åŠ åŠ è½½æ—¶é—´å’Œèµ„æºæ¶ˆè€—ï¼Œé¡µé¢å¤ªå¤æ‚ç”¨æˆ·ä½“éªŒä¹Ÿä¼šä¸å¥½&#x3D; &#x3D; ç®€å•åœ°æŠŠiframeå’Œdivç»“åˆä¸€ä¸‹ï¼š 1234567891011121314151617181920212223242526272829&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; &lt;title&gt;Document&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;container&quot; style=&quot;width: 800px;height: 600px;text-align: center;&quot;&gt; &lt;div id=&quot;header&quot; style=&quot;background-color:#0099ff;height: 50px;&quot;&gt; &lt;h1 &gt;æˆ‘çš„å°ç ´ç«™&lt;/h1&gt; &lt;/div&gt; &lt;div id=&quot;menu&quot; style=&quot;background-color:#ff00b3;height:400px;width:100px;float:left;&quot;&gt; &lt;a href=&quot;https://www.shelven.com/&quot; target=&quot;_blank&quot;&gt;èœå•&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;https://www.shelven.com/categories/&quot; target=&quot;_blank&quot;&gt;åˆ†ç±»&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;https://www.shelven.com/tags/&quot; target=&quot;_blank&quot;&gt;æ ‡ç­¾&lt;/a&gt;&lt;br&gt; &lt;a href=&quot;https://www.shelven.com/archives/&quot; target=&quot;_blank&quot;&gt;å½’æ¡£&lt;/a&gt; &lt;/div&gt; &lt;div id=&quot;content&quot; style=&quot;background-color:#EEEEEE;height: 400px;width: 700px;float:left;&quot;&gt; &lt;iframe src=&quot;https://www.shelven.com&quot; frameborder=&quot;0&quot; width=&quot;700&quot; height=&quot;400&quot;&gt;&lt;/iframe&gt; &lt;/div&gt; &lt;div id=&quot;footer&quot; style=&quot;background-color:#00ff0d;height: 50px;clear:both;text-align:center;font-size: large;&quot;&gt; èŒICPå¤‡20220246å· æµ™ICPå¤‡2022010847å· &lt;/div&gt; &lt;/div&gt;&lt;/body&gt;&lt;/html&gt; å¤§æ¦‚å°±æ˜¯è¿™æ ·çš„å¸ƒå±€ï¼š æœ‰äº†ä»¥ä¸ŠHTMLçš„åŸºç¡€æ¦‚å¿µï¼Œåé¢CSSçš„å¼•å…¥å°±æ¯”è¾ƒå®¹æ˜“ç†è§£äº†ã€‚ 2023&#x2F;10&#x2F;5æ›´æ–°å‘ç°ä¸€ä¸ªå¾ˆå¥½ç”¨çš„vscodeæ’ä»¶ï¼š è¯¥æ’ä»¶å¯ä»¥ç”¨æ¥æ ¼å¼åŒ–csså’Œjsæ–‡ä»¶ï¼Œå¯èƒ½ä½ ä»åˆ«çš„é¡¹ç›®ä¸­æ‹·è´çš„js&#x2F;cssæ–‡ä»¶æ˜¯ä¸€è¡Œæ˜¾ç¤ºçš„ï¼Œæ‰“å¼€ä¸€å¤§å¨ä¸æ–¹ä¾¿é˜…è¯»ã€‚ä¸‹è½½è¿™ä¸ªæ’ä»¶ä»¥åï¼Œåœ¨å¯¹åº”çš„æ–‡ä»¶ä¸­æŒ‰shift + alt + Fï¼Œé€‰æ‹©æ ¼å¼åŒ–æ–¹æ³•ä¸ºPrettierï¼Œå¯ä»¥å¿«é€Ÿæ ¼å¼åŒ–æ–‡ä»¶ã€‚","categories":[{"name":"ä¸ªäººä¸»é¡µ","slug":"ä¸ªäººä¸»é¡µ","permalink":"http://www.shelven.com/categories/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"HTML","slug":"HTML","permalink":"http://www.shelven.com/tags/HTML/"}]},{"title":"RåŸºç¡€å…¥é—¨â€”â€”åŸºæœ¬è¯­æ³•å’Œä½œå›¾","slug":"RåŸºç¡€å…¥é—¨â€”â€”åŸºæœ¬è¯­æ³•å’Œä½œå›¾","date":"2023-09-26T11:34:48.000Z","updated":"2023-09-26T11:38:13.000Z","comments":true,"path":"2023/09/26/a.html","link":"","permalink":"http://www.shelven.com/2023/09/26/a.html","excerpt":"æ•´ç†ç¬”è®°çš„æ—¶å€™ç¿»åˆ°ä¸¤å¹´å‰åšçš„Rå…¥é—¨ç¬”è®°ï¼Œè¿˜è®°å¾—21å¹´å†¬å¤©é‚£ä¸ªæ—¶å€™æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦Rï¼Œåä¸­å†œä¸šå¤§å­¦çš„å­”ç§‹ç”Ÿæ•™æˆæ¥å¡”é‡Œæœ¨å¤§å­¦åšçš„Rè¯­è¨€è®²åº§ã€‚ä¸¤å¹´äº†æœ‰äº›ä¸œè¥¿è¿‡æ—¶äº†ï¼Œæ•´ç†ä¸‹åšä¸ªå¤‡ä»½å§~é¡ºä¾¿å›å¤´å¤ä¹ å¤ä¹ ï¼Œæ¸©æ•…è€ŒçŸ¥æ–° ^_^","text":"æ•´ç†ç¬”è®°çš„æ—¶å€™ç¿»åˆ°ä¸¤å¹´å‰åšçš„Rå…¥é—¨ç¬”è®°ï¼Œè¿˜è®°å¾—21å¹´å†¬å¤©é‚£ä¸ªæ—¶å€™æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦Rï¼Œåä¸­å†œä¸šå¤§å­¦çš„å­”ç§‹ç”Ÿæ•™æˆæ¥å¡”é‡Œæœ¨å¤§å­¦åšçš„Rè¯­è¨€è®²åº§ã€‚ä¸¤å¹´äº†æœ‰äº›ä¸œè¥¿è¿‡æ—¶äº†ï¼Œæ•´ç†ä¸‹åšä¸ªå¤‡ä»½å§~é¡ºä¾¿å›å¤´å¤ä¹ å¤ä¹ ï¼Œæ¸©æ•…è€ŒçŸ¥æ–° ^_^ 1. Ræ˜¯ä»€ä¹ˆRæ˜¯ä¸€ç§ç”¨äºç»Ÿè®¡è®¡ç®—å’Œæ•°æ®åˆ†æçš„ç¼–ç¨‹è¯­è¨€ã€‚å®ƒæä¾›äº†å¹¿æ³›çš„ç»Ÿè®¡å’Œå›¾å½¢åŠŸèƒ½ï¼Œä»¥åŠä¸°å¯Œçš„æ•°æ®å¤„ç†å’Œå»ºæ¨¡å·¥å…·ã€‚Rå…·æœ‰å¼ºå¤§çš„æ•°æ®å¤„ç†èƒ½åŠ›å’Œä¸°å¯Œçš„ç»Ÿè®¡å‡½æ•°åº“ï¼Œè¢«å¹¿æ³›åº”ç”¨äºå­¦æœ¯ç ”ç©¶ã€æ•°æ®ç§‘å­¦ã€é‡‘èåˆ†æã€ç”Ÿç‰©åŒ»å­¦ç­‰é¢†åŸŸã€‚ RStudioæ˜¯ä¸€ä¸ªé›†æˆå¼€å‘ç¯å¢ƒï¼ˆIntegrated Development Environmentï¼ŒIDEï¼‰ï¼Œç”¨äºç¼–å†™ã€è¿è¡Œå’Œè°ƒè¯•Rè¯­è¨€ä»£ç ã€‚å®ƒæä¾›äº†è®¸å¤šåŠŸèƒ½å’Œå·¥å…·ï¼Œæ—¨åœ¨æé«˜Rè¯­è¨€å¼€å‘çš„æ•ˆç‡å’Œä¾¿åˆ©æ€§ã€‚è¯´ç™½äº†ï¼Œæˆ‘ä»¬æ˜¯åœ¨Rstudioä¸­ç¼–å†™å’Œè¿è¡ŒRè¯­è¨€ä»£ç ã€‚ å½“ç„¶ï¼Œè¿™ä¸ªé›†æˆå¼€å‘ç¯å¢ƒä¸æ˜¯å”¯ä¸€çš„ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åœ¨æ¯”å¦‚vscodeä¸­è°ƒè¯•è¿è¡Œã€‚Rstudioåªæ˜¯æä¾›ä¸€ä¸ªä¸ºæ–°æ‰‹å…¥é—¨æä¾›ä¸€ä¸ªå‹å¥½çš„ç•Œé¢ï¼Œç†Ÿç»ƒåç”šè‡³å¯ä»¥ä¸ç”¨é›†æˆå¼€å‘ç¯å¢ƒï¼Œæ¯”å¦‚åœ¨linuxä¸­ä¹Ÿå¯ä»¥è¿è¡Œï¼Œè¿™å°±æ˜¯åè¯äº†ã€‚ 2. å‰æœŸå‡†å¤‡å’Œä¸€äº›åŸºç¡€è®¤è¯†å…ˆå®‰è£…Rï¼Œå†å®‰è£…Rstudioï¼Œé¡ºåºä¸èƒ½åï¼Œå¦åˆ™å¯èƒ½ä¼šæç¤ºæ‰¾ä¸åˆ°Råœ¨ä»€ä¹ˆåœ°æ–¹â€¦ Rå®˜ç½‘ï¼šR: The R Project for Statistical Computing (r-project.org) Rstudioå®˜ç½‘ï¼ˆç°åœ¨å·²ç»æ”¹åä¸ºPositï¼Œè¿˜çœŸä¸ä¹ æƒ¯ï¼‰ï¼šPosit | The Open-Source Data Science Company å…¨éƒ¨å®‰è£…å¥½ï¼Œè¿›å…¥Rstudioåï¼Œç‚¹å‡»èœå•æ Toolsï¼Œä¸‹æ‹‰æ¡†çš„Global Optionsï¼Œè¿™é‡Œå¯ä»¥ä¿®æ”¹å…¨å±€è®¾ç½®ã€‚ä¸»è¦ä¿®æ”¹çš„æ˜¯è‡ªå·±çš„å·¥ä½œç›®å½•ï¼ˆä¹Ÿå¯ä»¥åœ¨ä»£ç ä¸­ä¿®æ”¹ï¼‰ï¼Œæˆ‘é¡ºä¾¿æ”¹äº†å››ä¸ªçª—å£çš„å¸ƒå±€ï¼ˆåœ¨Pane Layoutä¸­ä¿®æ”¹ï¼‰ï¼š Sourceçª—å£ï¼šå†™Rä»£ç çš„çª—å£ï¼Œä¹Ÿå¯ä»¥åœ¨3çª—å£ï¼ˆconsoleï¼‰å†™ï¼Œä¸ªäººä¹ æƒ¯ Environmentã€Historyç­‰çª—å£ï¼šå¯ä»¥çœ‹åˆ°ä»£ç è¿è¡Œè¿‡ç¨‹ä¸­ç”Ÿæˆçš„å˜é‡ã€è‡ªå·±çš„å†å²å‘½ä»¤ç­‰ç­‰ Consoleçª—å£ï¼šRè¯­è¨€çš„äº¤äº’å¼æ§åˆ¶å°ï¼Œå¯ä»¥é€è¡Œè¾“å…¥å’Œæ‰§è¡ŒRä»£ç ï¼Œå¹¶ç«‹å³çœ‹åˆ°ç»“æœï¼Œctrl+Lå¯ä»¥æ¸…å± Filesã€Plotç­‰çª—å£ï¼Œå‰è€…å¯ä»¥çœ‹å½“å‰å·¥ä½œç¯å¢ƒçš„æ–‡ä»¶ï¼Œåè€…çœ‹åˆ°ç»˜åˆ¶çš„å›¾ 2å’Œ4çª—å£æœ‰å¤šä¸ªé€‰é¡¹ä¾›é€‰æ‹©ï¼Œæˆ‘ç”¨çš„æ¯”è¾ƒå¤šçš„æ˜¯è¿™äº›ï¼Œä»…ä¾›å‚è€ƒã€‚ å¯¹äº1å’Œ3ç ä»£ç çš„çª—å£éƒ¨åˆ†ï¼Œå¯¹äºæœ‰è¾ƒå¤§ä»£ç å—æˆ–è€…éœ€è¦ä¿å­˜å’Œé‡å¤çš„ä»£ç ï¼Œå»ºè®®ç”¨Sourceçª—å£ï¼Œè¿è¡Œæ¯ä¸€è¡Œéœ€è¦Ctrl+å›è½¦ï¼›è€Œå¯¹äºç®€å•çš„ä»£ç æµ‹è¯•ã€å¿«é€Ÿè®¡ç®—æˆ–è€…åšäº¤äº’å¼æ¢ç´¢çš„è¯ï¼Œå¯ä»¥é€‰æ‹©åœ¨Consoleçª—å£ï¼Œå›è½¦å°±å¯ä»¥è¿è¡Œã€‚ Rè¯­è¨€è¦è°ƒç”¨çš„è½¯ä»¶åŒ…åœ¨CRANä»“åº“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»¥ä¸‹RåŒ…å®˜ç½‘ä¸­æ‰¾åˆ°ä½ éœ€è¦çš„RåŒ…ï¼Œä»¥åŠå„RåŒ…çš„å‚æ•°ã€ç”¨æ³•ã€‚ CRAN - Contributed Packages (r-project.org) åœ¨Rstudioä¸­ï¼Œä½ å¯ä»¥é€šè¿‡èœå•æ Toolsï¼Œä¸‹æ‹‰æ¡†çš„ç¬¬ä¸€ä¸ªInstall Packagesçª—å£ï¼Œè¾“å…¥ä½ æƒ³è¦å®‰è£…çš„RåŒ…ï¼Œç‚¹å‡»installå®‰è£…ï¼š ä»¥ä¸Šæ˜¯è®¤è¯†Rå’ŒRstudioçš„æœ€åŸºç¡€çš„çŸ¥è¯†ï¼Œä¸‹é¢ä¸»è¦è®²è®²Rä»£ç çš„è¯­æ³•å’Œä½œå›¾çš„ä¸€äº›ç¤ºä¾‹ã€‚ 3. Rä»£ç åŸºç¡€è¯­æ³•å†æ¬¡ç”³æ˜è¿™æ˜¯å…¥é—¨å†™çš„ç¬”è®°ï¼Œä¸ä¼šä»‹ç»å¾ˆè¯¦ç»†ï¼Œå®Œæ•´çš„å¯ä»¥çœ‹å®˜æ–¹æ‰‹å†ŒAn Introduction to R (r-project.org) ä¸ºäº†æ–¹ä¾¿å±•ç¤ºè¿è¡Œç»“æœï¼Œä»¥ä¸‹è¿è¡Œç»“æœå‰å‡ä»¥ä¸¤ä¸ªäº•å·##å¼€å¤´ã€‚ 3.1 æ•°æ®ç±»å‹å¸¸ç”¨çš„æ•°æ®ç±»å‹æœ‰æ•°å€¼å‹(numeric)ï¼Œå­—ç¬¦å‹(character)ï¼Œé€»è¾‘å‹ï¼ˆlogicalï¼‰ã€‚ 1234567891011a = 123 # =èµ‹å€¼ï¼Œ&lt;-ä¹Ÿå¯ä»¥èµ‹å€¼ï¼ŒRå®˜æ–¹ç¤¾åŒºç”¨&lt;-è¾ƒå¤šï¼Œè‡ªå·±å–èˆã€‚#è¡¨ç¤ºæ³¨é‡Šï¼Œä¸ä¼šè¿è¡Œclass(a) # class()ç¡®å®šæ‹¬å·å†…æ•°æ®ç±»å‹## [1] &quot;numeric&quot;a = &quot;123&quot; # èµ‹å€¼ä¸ºå­—ç¬¦å‹åŠ åŒå¼•å·ï¼Œä¸ä»£ç ç›¸å…³çš„éƒ½æ˜¯è‹±æ–‡å­—ç¬¦class(a)## [1] &quot;character&quot;a = TRUE # é€»è¾‘å‹åŒ…æ‹¬TRUE/FALSE/T/Fclass(a)## [1] &quot;logical&quot; 3.2 æ•°æ®ç»“æ„åœ¨Rä¸­ï¼Œå‘é‡æ˜¯ä¸€ç§åŸºæœ¬çš„æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨ä¸€ç³»åˆ—ç›¸åŒç±»å‹çš„å…ƒç´ ã€‚ 123456789101112131415161718192021222324252627# å‘é‡vector c()è¿™ä¸ªå‡½æ•°ç”¨æ¥åˆ›å»ºå‘é‡# æ•°å€¼å‹å‘é‡a = c(1,7,10) # æ•°å€¼ä¹‹é—´é€—å·é—´éš”class(a)## [1] &quot;numeric&quot;seq(1,5) # seq()åºåˆ—å‡½æ•°## [1] 1 2 3 4 5seq(from = 1, to = 3, by = 0.5) # byè¡¨ç¤ºæ­¥é•¿## [1] 1.0 1.5 2.0 2.5 3.01:10 # x:xä¹Ÿå¯ä»¥è¡¨ç¤ºåºåˆ—## [1] 1 2 3 4 5 6 7 8 9 10# å­—ç¬¦å‹å‘é‡a = c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;)class(a)## [1] &quot;character&quot;letters # 26ä¸ªå°å†™è‹±æ–‡å­—æ¯é¡ºåºæ’åˆ—## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot; &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;LETTERS # 26ä¸ªå¤§å†™è‹±æ–‡å­—æ¯é¡ºåºæ’åˆ—## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot; &quot;R&quot; &quot;S&quot; &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;# é€»è¾‘å‹å‘é‡a = c(T,TRUE,F,FALSE)class(a)## [1] &quot;logical&quot; 3.3 å‘é‡æ•°æ®æ“ä½œ123456789101112131415161718192021222324252627282930313233343536373839404142# rep()é‡å¤rep(1:3, times = 4) # 1åˆ°3é‡å¤3æ¬¡## [1] 1 2 3 1 2 3 1 2 3 1 2 3rep(1:3, each = 4) # 1åˆ°3æ¯ä¸ªæ•°å­—é‡å¤ä¸‰æ¬¡## [1] 1 1 1 1 2 2 2 2 3 3 3 3# paste()ç»„åˆpaste(1:3, c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;)) # é»˜è®¤ç»„åˆä¸­é—´æœ‰ç©ºæ ¼## [1] &quot;1 A&quot; &quot;2 B&quot; &quot;3 C&quot;paste0(1:3, c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;)) # å»æ‰ç»„åˆä¸­é—´ç©ºæ ¼## [1] &quot;1A&quot; &quot;2B&quot; &quot;3C&quot;paste(1:3, c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;), # æ¢è¡Œæ³¨æ„é€—å·ä¸è¦æ¼ sep = &quot;/&quot;) # è‡ªå®šä¹‰è¿æ¥ç»„åˆçš„ç¬¦å·## [1] &quot;1/A&quot; &quot;2/B&quot; &quot;3/C&quot;##ç»ƒä¹ ï¼š3ä¸ªå¤„ç†ABCï¼Œ3ä¸ªé‡å¤paste0(rep(c(&quot;A&quot;,&quot;B&quot;,&quot;C&quot;), each = 3), rep(1:3, times = 3))## [1] &quot;A1&quot; &quot;A2&quot; &quot;A3&quot; &quot;B1&quot; &quot;B2&quot; &quot;B3&quot; &quot;C1&quot; &quot;C2&quot; &quot;C3&quot;# []ç´¢å¼•ï¼Œæ³¨æ„ç´¢å¼•ç¬¬ä¸€ä½æ˜¯1è€Œä¸æ˜¯0a = 2:10a[5] # aå‘é‡ä¸­ç¬¬5ä¸ªæ•°## [1] 6a[1:3] # aå‘é‡ç¬¬1-3ä¸ªæ•°## [1] 2 3 4a[c(1,4,5)] # aå‘é‡ç¬¬1ï¼Œ4ï¼Œ5ä¸ªæ•°## [1] 2 5 6# é€»è¾‘æ“ä½œç¬¦# &amp;ä¸ï¼›|æˆ–ï¼›!éa[a&gt;5] # aå‘é‡ä¸­æ¯”5å¤§çš„æ•°## [1] 6 7 8 9 10a[a&gt;5 &amp; a&lt;8] # aå‘é‡ä¸­å¤§äº5ä¸”å°äº8çš„æ•°## [1] 6 7a[a&gt;5 | a&lt;3] # aå‘é‡ä¸­å¤§äº5æˆ–å°äº3çš„æ•°## [1] 2 6 7 8 9 10a[a!=8] # aå‘é‡ä¸­ä¸åŒ…æ‹¬8çš„å€¼## [1] 2 3 4 5 6 7 9 10 3.4 å‘é‡è®¡ç®—12345678910# +, -, *, / åŠ å‡ä¹˜é™¤æ­£å¸¸è®¡ç®—2 * 1:3## [1] 2 4 61:3 * 1:3 # ä¸¤ä¸ªå‘é‡åˆ†åˆ«ç›¸ä¹˜## [1] 1 4 92:5 + 1:3 # æ³¨æ„ä¸¤ä¸ªå‘é‡é•¿åº¦ä¸åŒï¼Œè®¡ç®—æ–¹å¼ä¸åŒï¼Œæœ€åä¸€ä¸ªæ˜¯5+1å¾—åˆ°çš„## [1] 3 5 7 6## Warning message:## In 2:5 + 1:3 :## longer object length is not a multiple of shorter object length 3.5 å‘é‡ç±»å‹è½¬æ¢1234567891011121314151617181920212223242526272829303132# as.+æ•°æ®ç±»å‹()a = 1:3class(a)## [1] &quot;integer&quot;# as.character() è½¬æ¢å­—ç¬¦å‹æ•°æ®b = as.character(a)b## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;# as.numeric() è½¬æ¢æ•°å€¼å‹æ•°æ®c = as.numeric(b) c## [1] 1 2 3# as.logical() è½¬æ¢é€»è¾‘å‹æ•°æ®d = as.logical(c)d## [1] TRUE TRUE TRUE## ç»ƒä¹ ï¼šäº§ç”Ÿ5ä¸ªå¤§å†™å­—æ¯a = LETTERS[1:5]class(a)## [1] &quot;character&quot;a## [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot;## ç»ƒä¹ ï¼šäº§ç”Ÿ4å¯¹T,Fa = rep(c(T,F), times = 4)class(a)## [1] &quot;logical&quot;as.numeric(a) # TRUEæ•°å€¼ä¸º1ï¼ŒFALSEæ•°å€¼ä¸º0## [1] 1 0 1 0 1 0 1 0as.character(a)## [1] &quot;TRUE&quot; &quot;FALSE&quot; &quot;TRUE&quot; &quot;FALSE&quot; &quot;TRUE&quot; &quot;FALSE&quot; &quot;TRUE&quot; &quot;FALSE&quot; 3.6 å¸¸ç”¨è®¡ç®—å‡½æ•°123456789101112mean(1:10) # å¹³å‡æ•°## [1] 5.5sd(1:10) # æ ‡å‡†å·®## [1] 3.02765max(1:10) # æœ€å¤§å€¼## [1] 10range(1:10) # æœ€å°å€¼å’Œæœ€å¤§å€¼## [1] 1 10length(1:10) # é•¿åº¦## [1] 10length(letters)## [1] 26 3.7 çŸ©é˜µï¼ˆmatrixï¼‰çŸ©é˜µæ˜¯ä¸€ç§äºŒç»´æ•°æ®ç»“æ„ï¼Œç”±è¡Œå’Œåˆ—ç»„æˆï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æœ‰ç›¸åŒçš„æ•°æ®ç±»å‹ã€‚çŸ©é˜µå¯ä»¥çœ‹æˆæ˜¯å‘é‡çš„æ‹“å±•ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667# matrix(data = NA, nrow = 1, ncol = 1, byrow = FALSE, dimnames = NULL)# dataï¼šçŸ©é˜µçš„å…ƒç´ ï¼Œé»˜è®¤ä¸ºNAï¼Œå³æœªç»™å‡ºå…ƒç´ å€¼çš„è¯ï¼Œå„é¡¹ä¸ºNA# nrowï¼šçŸ©é˜µçš„è¡Œæ•°ï¼Œé»˜è®¤ä¸º1ï¼Œå¯ç®€å†™nr# ncolï¼šçŸ©é˜µçš„åˆ—æ•°ï¼Œé»˜è®¤ä¸º1ï¼Œå¯ç®€å†™nc# byrowï¼šå…ƒç´ æ˜¯å¦æŒ‰è¡Œå¡«å……ï¼Œé»˜è®¤æŒ‰åˆ—# dimnamesï¼šä»¥å­—ç¬¦å‹å‘é‡è¡¨ç¤ºçš„è¡ŒååŠåˆ—åa = 1:12matrix(a)## [,1]## [1,] 1## [2,] 2## [3,] 3## [4,] 4## [5,] 5## [6,] 6## [7,] 7## [8,] 8## [9,] 9##[10,] 10##[11,] 11##[12,] 12# æ•°å€¼å‹çŸ©é˜µa = matrix(a, nr = 3, # nrowå¯ä»¥ä¸å†™ byrow = T) # å…ˆè¡Œååˆ—å½¢å¼å¡«å……a## [,1] [,2] [,3] [,4]## [1,] 1 2 3 4## [2,] 5 6 7 8## [3,] 9 10 11 12# å­—ç¬¦å‹çŸ©é˜µmatrix(LETTERS[1:12], ncol = 3)## [,1] [,2] [,3]## [1,] &quot;A&quot; &quot;E&quot; &quot;I&quot; ## [2,] &quot;B&quot; &quot;F&quot; &quot;J&quot; ## [3,] &quot;C&quot; &quot;G&quot; &quot;K&quot; ## [4,] &quot;D&quot; &quot;H&quot; &quot;L&quot;# è¡Œ/åˆ—å ä½¿ç”¨è¡Œæ•°å’Œåˆ—æ•°ç›¸ç­‰çš„å‘é‡å‘½åcolnames(a) = c(&quot;ç¬¬ä¸€åˆ—&quot;,&quot;ç¬¬äºŒåˆ—&quot;,&quot;ç¬¬ä¸‰åˆ—&quot;,&quot;ç¬¬å››åˆ—&quot;)a## ç¬¬ä¸€åˆ— ç¬¬äºŒåˆ— ç¬¬ä¸‰åˆ— ç¬¬å››åˆ—## [1,] 1 2 3 4## [2,] 5 6 7 8## [3,] 9 10 11 12row.names(a) = LETTERS[1:3]a## ç¬¬ä¸€åˆ— ç¬¬äºŒåˆ— ç¬¬ä¸‰åˆ— ç¬¬å››åˆ—## A 1 2 3 4## B 5 6 7 8## C 9 10 11 12# æ•°æ®è¿‡æ»¤ï¼ˆæå–ï¼‰a[1,] # æå–çŸ©é˜µç¬¬ä¸€è¡Œ## ç¬¬ä¸€åˆ— ç¬¬äºŒåˆ— ç¬¬ä¸‰åˆ— ç¬¬å››åˆ— ## 1 2 3 4 a[1:2,] ## ç¬¬ä¸€åˆ— ç¬¬äºŒåˆ— ç¬¬ä¸‰åˆ— ç¬¬å››åˆ—## A 1 2 3 4## B 5 6 7 8a[-1,] # åˆ é™¤çŸ©é˜µç¬¬ä¸€è¡Œ## ç¬¬ä¸€åˆ— ç¬¬äºŒåˆ— ç¬¬ä¸‰åˆ— ç¬¬å››åˆ—## B 5 6 7 8## C 9 10 11 12 3.8 æ•°æ®æ¡†ï¼ˆData Frameï¼‰æ•°æ®æ¡†æ˜¯Rè¯­è¨€ä¸­å¦ä¸€ç§å¸¸è§çš„äºŒç»´æ•°æ®ç»“æ„ï¼Œå®ƒå¯ä»¥å­˜å‚¨ä¸åŒç±»å‹çš„æ•°æ®ï¼Œæ¯”å¦‚æ•°å€¼ã€å­—ç¬¦ã€å› å­ï¼ˆfactorï¼‰ç­‰ç­‰ï¼Œå¹¶ä¸”æ¯ä¸€åˆ—å¯ä»¥æœ‰ä¸åŒçš„é•¿åº¦ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485data.frame(1:12,5:8) # æ³¨æ„è¡Œæ•°ä¸åŒï¼Œå¡«å……æ–¹å¼ä¸åŒ## X1.12 X5.8## 1 1 5## 2 2 6## 3 3 7## 4 4 8## 5 5 5## 6 6 6## 7 7 7## 8 8 8## 9 9 5## 10 10 6## 11 11 7## 12 12 8a = 1:4b = 5:8c = letters[1:4]d = letters[5:8]e = data.frame(a,b,c,d)e## a b c d## 1 1 5 a e## 2 2 6 b f## 3 3 7 c g## 4 4 8 d hstr(e) # æ£€æŸ¥æ•°æ®æ¡†ä¸­æ•°æ®ç±»å‹## &#x27;data.frame&#x27;: 4 obs. of 4 variables:## $ a: int 1 2 3 4## $ b: int 5 6 7 8## $ c: chr &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;## $ d: chr &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot;# åŸºæœ¬æ•°æ®æ“ä½œ# è¡Œ/åˆ—æå–e[1,]## a b c d## 1 1 5 a ee[,1]## [1] 1 2 3 4e$a # $å¯¹åˆ—æå–,abcdä¸ºåˆ—æ•°## [1] 1 2 3 4# å¢åŠ åˆ—e$e = 9:12 # å¢åŠ ä¸å­˜åœ¨çš„eåˆ—ä¸ºå‘é‡9:12e## a b c d e## 1 1 5 a e 9## 2 2 6 b f 10## 3 3 7 c g 11## 4 4 8 d h 12# è¡Œ/åˆ—å‘½årow.names(e)[3] = &quot;P&quot;row.names(e)[4] = &quot;l&quot; # æ›´æ”¹è¡Œåcolnames(e)[1] = &quot;ç¬¬ä¸€åˆ—&quot; # æ›´æ”¹åˆ—åe## ç¬¬ä¸€åˆ— b c d e## 1 1 5 a e 9## 2 2 6 b f 10## P 3 7 c g 11## l 4 8 d h 12# åˆå¹¶çŸ©é˜µä¸¤ç§æ–¹å¼rbind,cbind(çŸ©é˜µï¼Œåç§° = èµ‹å€¼)f = cbind(e,f = 13:16) # åˆå¹¶ä»¥åç›¸å½“äºå¢åŠ äº†1åˆ—f## ç¬¬ä¸€åˆ— b c d e f## 1 1 5 a e 9 13## 2 2 6 b f 10 14## P 3 7 c g 11 15## l 4 8 d h 12 16colnames(f)[6] = &quot;Y&quot;fg = rbind(f, 6 ) # åˆå¹¶ä»¥åç›¸å½“äºå¢åŠ äº†1è¡Œg## ç¬¬ä¸€åˆ— b c d e Y## 1 1 5 a e 9 13## 2 2 6 b f 10 14## P 3 7 c g 11 15## l 4 8 d h 12 16## 5 6 6 6 6 6 6# è¡Œ/åˆ—å¹³å‡æ•°# rowMeans è¡Œå¹³å‡æ•° colMeans åˆ—å¹³å‡æ•° 123456789101112131415161718192021222324252627282930313233343536373839404142434445## ç»ƒä¹ ï¼šç”Ÿæˆä¸€ä¸ªçŸ©é˜µï¼ŒåŒ…å«21-40çš„å€¼ï¼Œç»™è¡Œå’Œåˆ—å–å## åŠ ä¸Šæœ€åä¸€åˆ—å¹³å‡æ•°ï¼›åŠ ä¸Šæœ€åä¸€åˆ—ï¼Œè®¡ç®—ç¬¬äºŒåˆ—å’Œç¬¬ä¸€åˆ—çš„å·®a = matrix(21:40, ncol = 5)colnames(a) = LETTERS[1:5]row.names(a) = letters[1:4]cbind(a,Mean = rowMeans(a))## A B C D E Mean## a 21 25 29 33 37 29## b 22 26 30 34 38 30## c 23 27 31 35 39 31## d 24 28 32 36 40 32b = a[,1]c = a[,2]d = c-bcbind(a, H = d)## A B C D E H## a 21 25 29 33 37 4## b 22 26 30 34 38 4## c 23 27 31 35 39 4## d 24 28 32 36 40 4## ç»ƒä¹ ï¼šå»ºä¸€ä¸ªæ•°æ®æ¡†ç»Ÿè®¡ä¸€å¤©æ¶ˆè´¹ï¼Œç¬¬ä¸€åˆ—å¼€æ”¯ï¼Œç¬¬äºŒåˆ—å•ä»·ï¼Œç¬¬ä¸‰åˆ—æ•°é‡b = c(648,328,128,60,30,6)c = c(1,3,4,1,4,6)a = c(c*b)d = data.frame(a,b,c)colnames(d)[1] = &quot;æ¶ˆè´¹é‡‘é¢&quot;colnames(d)[2] = &quot;å•ä»·&quot;colnames(d)[3] = &quot;æ•°é‡&quot;row.names(d)[1] = &quot;648æ°ªé‡‘æ¶ˆè´¹&quot;row.names(d)[2] = &quot;328æ°ªé‡‘æ¶ˆè´¹&quot;row.names(d)[3] = &quot;128æ°ªé‡‘æ¶ˆè´¹&quot;row.names(d)[4] = &quot;60æ°ªé‡‘æ¶ˆè´¹&quot;row.names(d)[5] = &quot;30æ°ªé‡‘æ¶ˆè´¹&quot;row.names(d)[6] = &quot;6æ°ªé‡‘æ¶ˆè´¹&quot;rbind(d,æ€»æ°ªé‡‘é‡ = sum(a))## æ¶ˆè´¹é‡‘é¢ å•ä»· æ•°é‡## 648æ°ªé‡‘æ¶ˆè´¹ 648 648 1## 328æ°ªé‡‘æ¶ˆè´¹ 984 328 3## 128æ°ªé‡‘æ¶ˆè´¹ 512 128 4## 60æ°ªé‡‘æ¶ˆè´¹ 60 60 1## 30æ°ªé‡‘æ¶ˆè´¹ 120 30 4## 6æ°ªé‡‘æ¶ˆè´¹ 36 6 6## æ€»æ°ªé‡‘é‡ 2360 2360 2360 4. Råšå›¾å’±ä»¬å­¦ç”Ÿç‰©æœ€å…³å¿ƒçš„å°±æ˜¯æ€ä¹ˆä½œå›¾äº†ï¼Œä¸Šé¢çš„ç¼–ç¨‹åŸºç¡€æ²¡æ‡‚ä¹Ÿæ²¡äº‹ï¼Œä¸‹é¢æ€ä¹ˆç”»å›¾å¯ä»¥å¥—æ¨¡æ¿ã€‚ Rå¯ä»¥å¯¼å…¥ä¸åŒçš„åŒ…ä½œå›¾ï¼Œè¿™é‡Œç”¨æœ€æœ€åŸºç¡€çš„ggplotä¸ºä¾‹ï¼Œä»¥ä¸‹æ˜¯å®‰è£…å’Œå¯¼å…¥æ–¹å¼ï¼Œåé¢æ‰€æœ‰ä¾‹å­å‡éœ€å¯¼å…¥ggplotï¼š 12345# å®‰è£…ggplot2åŒ…install.packages(&quot;ggplot2&quot;)# å¯¼å…¥ggplot2library(ggplot2) 4.1 çº¿æ€§å›å½’å›¾12345678910111213141516171819202122232425262728293031323334library(ggplot2)# ä»¥Rå†…ç½®çš„carsæ•°æ®ä¸ºä¾‹ggplot(data = cars, mapping = aes(x = speed, # aesæè¿°æ•°æ®ä¸­çš„å˜é‡æ˜ å°„åˆ°geomçš„å¯è§†å±æ€§ï¼ˆç¾å­¦ï¼Ÿï¼‰ y = dist)) + geom_point() + geom_line(col = &quot;red&quot;) + # geomè¡¨ç¤ºå›¾å±‚ geom_smooth(method = &quot;lm&quot;) + # lmè¡¨ç¤ºçº¿æ€§å›å½’æ–¹æ³• annotate(geom = &quot;text&quot;, # annotateæ³¨é‡Š x = 10, # æ³¨é‡Šåæ ‡ y = 100, label = &quot;y = -17.6x + 3.9 \\n p = 1.49e-12&quot;, # \\nä¸ºæ¢è¡Œç¬¦ size = 5) # æ³¨é‡Šå¤§å°lm.cars = lm(formula = dist ~ speed, data = cars)summary(lm.cars) # å›å½’æ–¹ç¨‹è¯¦ç»†å‚æ•°æ€»ç»“ï¼Œæ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼Œä»£ç ä¸­ä¸è¦åŠ ä¸‹é¢çš„ä¸œè¥¿#-------------------------------------------------------------------------------------#Call:#lm(formula = dist ~ speed, data = cars)#Residuals:# Min 1Q Median 3Q Max #-29.069 -9.525 -2.272 9.215 43.201 #Coefficients:# Estimate Std. Error t value Pr(&gt;|t|) #(Intercept) -17.5791 6.7584 -2.601 0.0123 * #speed 3.9324 0.4155 9.464 1.49e-12 ***#---#Signif. codes: 0 â€˜***â€™ 0.001 â€˜**â€™ 0.01 â€˜*â€™ 0.05 â€˜.â€™ 0.1 â€˜ â€™ 1#Residual standard error: 15.38 on 48 degrees of freedom#Multiple R-squared: 0.6511, Adjusted R-squared: 0.6438 #F-statistic: 89.57 on 1 and 48 DF, p-value: 1.49e-12 4.2 ç›´æ–¹å›¾12345678910111213141516171819202122library(ggplot2)# ä»¥Rå†…ç½®çš„irisæ•°æ®ä¸ºä¾‹ggplot(data = iris, mapping = aes(x = Sepal.Length)) + geom_histogram(col = &quot;red&quot;, # è¾¹ç¼˜é¢œè‰² fill = &quot;blue&quot;, # å¡«å……è‰² alpha = 0.5, # é€æ˜åº¦ bins = 30) + #åˆ†ç»„æ•° labs(x = &quot;Sepal Length(cm)&quot;, # labsæ¨ªçºµåæ ‡å y = &quot;Count&quot;) + theme_classic() # ä¸»é¢˜â€”â€”ç»å…¸èƒŒæ™¯ï¼ˆç™½è‰²çš„ï¼‰## ç»ƒä¹ ï¼šå¯¹irisæ•°æ®é›†ä¸­çš„Sepal.Widthå½¢çŠ¶åšç›´æ–¹å›¾ï¼ˆå›¾ç•¥ï¼‰ggplot(data = iris, mapping = aes(x = Sepal.Width)) + geom_histogram(col = &quot;red&quot;, fill = &quot;blue&quot;, alpha = 0.3, bins = 30) + labs(x = &quot;Sepal Width(cm)&quot;, y = &quot;Count&quot;) + theme_classic() 4.3 å¯†åº¦å›¾1234library(ggplot2)ggplot(iris, aes(x = Sepal.Width)) + geom_density() 1234567891011121314151617181920# å¯†åº¦å›¾ + ç›´æ–¹å›¾library(ggplot2)ggplot(data = iris, mapping = aes(x = Sepal.Width)) + geom_histogram(aes(y = ..density..), # ç›´æ–¹å›¾çºµåæ ‡æ”¹æˆå¯†åº¦ col = &quot;red&quot;, fill = &quot;blue&quot;, alpha = 0.3, bins = 30) + geom_density(col = &quot;red&quot;,) + theme_dark()## ç»ƒä¹ ï¼šåšPetal.Lengthç›´æ–¹å›¾å’Œå¯†åº¦å›¾ï¼ˆå›¾ç•¥ï¼‰ggplot(data = iris, mapping = aes(x = Petal.Length)) + geom_histogram(aes(y = ..density..), bins = 30, col = &quot;blue&quot;, fill = &quot;green&quot;)+ geom_density(col = &quot;red&quot;) 4.4 æŠ˜çº¿å›¾1234library(ggplot2)ggplot(iris, aes(x = Sepal.Width)) + geom_freqpoly() # æŠ˜çº¿å›¾ 4.5 æŸ±å½¢å›¾123456789101112131415161718192021222324252627282930313233library(ggplot2)ggplot(data = iris, mapping = aes(x = Species, fill = Species)) + # æ€»ä½“é¢œè‰²è®¾ç½® geom_bar(width = 0.5, # è®¾ç½®å®½åº¦ alpha = 0.3, # æ³¨æ„è®¾ç½®é¢œè‰²åæ€»ä½“é¢œè‰²è®¾ç½®å¤±æ•ˆ show.legend = F) # è®¾ç½®Fä¸ºå›¾ä¾‹ä¸æ˜¾ç¤º## ç»ƒä¹ ï¼šä»¥mtcarsæ•°æ®é›†ä¸ºä¾‹,å¯¹cylä½œå›¾ï¼ˆå›¾ç•¥ï¼‰mtcarsggplot(mtcars, aes(x = factor(cyl), # factorè¿ç»­å‹å˜é‡æ•°å€¼è½¬æ¢æˆå› å­ fill = factor(cyl))) + geom_bar(width = 0.5, col = &quot;red&quot;, alpha = 0.3) + labs(x = &quot;Number of cylinder&quot;, y = &quot;Count&quot;)# 2ä¸ªå˜é‡ä½œå›¾ï¼ˆå›¾ç•¥ï¼‰ggplot(iris, aes(x = Sepal.Length, col = Species)) + # ä»¥ç§ä½œä¸ºåˆ†ç±»ä¾æ® geom_density()## ç»ƒä¹ ï¼šå¯¹irisçš„Sepal.Length,æ ¹æ®ä¸åŒç§åšç›´æ–¹å›¾ï¼ˆå›¾ç•¥ï¼‰ggplot(iris, aes(x= Sepal.Length, fill = Species)) + geom_histogram(bins = 30, alpha = 0.4, col = &quot;black&quot;) + theme_classic() 12345678910111213141516171819202122232425262728293031323334353637383940# æŸ±å½¢å›¾å åŠ è¯¯å·®æ£’library(ggplot2)Mean = tapply(iris$Sepal.Length, # tapplyåˆ†ç»„ï¼Œæå– iris$Species, mean)Mean = as.data.frame(Mean) # è½¬æ¢arrayç±»å‹ä¸ºæ•°æ®æ¡†Mean## Mean## setosa 5.006## versicolor 5.936## virginica 6.588Mean$Species = row.names(Mean)Mean## Mean Species## setosa 5.006 setosa## versicolor 5.936 versicolor## virginica 6.588 virginicasd = tapply(iris$Sepal.Length, # tapplyåˆ†ç»„ï¼Œæå– iris$Species, sd)sd = as.data.frame(sd)sd## sd## setosa 0.3524897## versicolor 0.5161711## virginica 0.6358796Newiris = cbind(Mean, Sd = sd$sd)Newiris## Mean Species Sd## setosa 5.006 setosa 0.3524897## versicolor 5.936 versicolor 0.5161711## virginica 6.588 virginica 0.6358796ggplot(Newiris, aes(x = Species,y = Mean))+ geom_col(width = 0.5, aes(fill = Species))+ geom_errorbar(aes(ymin = Mean - Sd, ymax = Mean + Sd), width = 0.5, col = &quot;black&quot;) 4.6 ç®±å¼å›¾1234567891011121314library(ggplot2)# ä¸‰æ¡çº¿æ˜¯75%ï¼Œ50%ï¼Œ25%ã€‚é•¿åº¦æ˜¯ç®±é«˜1.5å€ï¼Œè¶…è¿‡ä¸ºç¦»ç¾¤å€¼ggplot(iris, aes(x = Species, y = Sepal.Length, fill = Species)) + geom_violin(show.legend = F, width = 0.8) + # å åŠ å°æç´å›¾ geom_boxplot(show.legend = F, width = 0.2, fill = &quot;white&quot;) + geom_jitter(width = 0.1, size = 0.5, show.legend = F) # æ˜¾ç¤ºæ¯ä¸ªç‚¹,sizeä¸ºç‚¹å¤§å° 4.7 ä¸€äº›ç®€å•çš„ç»ƒä¹ 1234567891011121314151617## ç»ƒä¹ ï¼šä»¥irisä¸ºä¾‹ï¼ŒåšSepal.Lengthå’ŒPetal.Lengthå›å½’åˆ†æï¼Œå¹¶å¯è§†åŒ–library(ggplot2)ggplot(iris, aes(x = Sepal.Length, y = Petal.Length)) + geom_point(size = 0.5) + geom_smooth(method = lm, col = &quot;black&quot;) + annotate(geom = &quot;text&quot;, x = 5.5, y = 7, size = 5, label = &quot;y = -7.10x + 1.86 \\n p &lt; 2e-16 \\n Adjusted r-squared = 0.75&quot; )lm.iris = lm(Petal.Length ~ Sepal.Length, iris)summary(lm.iris) 12345678910111213141516## ç»ƒä¹ ï¼šåšä¸ªç³–è‘«èŠ¦ï¼Ÿlibrary(ggplot2)x = rep(1:3,5)y = 1:5a = data.frame(x,y)ggplot(data = a, aes(x = x, y = y), col = &quot;red&quot;) + geom_vline(xintercept = 1:3, # ç”Ÿæˆä¸€æ¡ç›´çº¿ï¼Œäº¤äºx = 1,2,3 size = 3, col = &quot;yellow&quot;) + geom_point(size = 18, col = &quot;#FF5000&quot;) + ylim(0,6) + # è°ƒæ•´yè½´ä¸Šä¸‹é™ xlim(0,4) + theme_void() # ä¸»é¢˜è®¾ç½®ä¸ºç©º 123456789101112131415161718## ç»ƒä¹ :åšä¸ªå­—æ¯è¡¨ï¼Ÿlibrary(ggplot2)x = rep(1:6,5)y = rep(5:1,each = 6)m = lettersn = LETTERSl = paste0(n,m)lal = c(l,rep(NA,4)) # è®¾ç½®4ä¸ªNAå€¼è¡¥é½a = data.frame(x,y,al)aggplot(a, aes(x,y)) + geom_text(aes(label = al), # åŠ æ–‡æœ¬å›¾å±‚ï¼Œç‚¹çš„åæ ‡æ˜ å°„å­—æ¯ size = 5) + theme_void() + ylim(-1,6) + xlim(0,7) 123456789101112131415161718192021## ä¼˜åŒ–ä¸€ä¸‹ï¼Œåšä¸ªç‚«å½©å­—æ¯è¡¨ï¼Ÿå¤§å†™å­—æ¯åœ¨ä¸Šï¼Œå°å†™å­—æ¯åœ¨ä¸‹library(ggplot2)x = rep(1:6,5)y = rep(5:1,each = 6)al = c(LETTERS,rep(NA,4))al1 = c(letters,rep(NA,4))mydata = data.frame(x,y,al)mydataggplot(mydata, aes(x,y)) + geom_text(aes(label = al, col = al), size =5, show.legend = F) + geom_text(aes(y = y - 0.3, label = al1, col = al1), show.legend = F) + theme_void() + ylim(-1,6) + xlim(0,7) 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970## ç®—äº† è‡ªç”±å‘æŒ¥å§ï¼Œå›¾å°±ä¸æ”¾äº†# ç»ƒä¹  3ä¸ªå˜é‡ggplot(iris, aes(x = Sepal.Length, y = Petal.Length, col = Species)) + # å¢åŠ ç§å±å˜é‡ geom_point() + geom_smooth(method = lm)# ç»ƒä¹ ggplot(mtcars, aes(x = factor(cyl), fill = factor(carb))) + geom_bar()# ç»ƒä¹ ToothGrowth # å¦ä¸€ä¸ªå¥‡å¥‡æ€ªæ€ªçš„Rå†…ç½®æ•°æ®str(ToothGrowth) # str()æŸ¥çœ‹æ‹¬å·å†…æ•°æ®ç±»å‹ä¿¡æ¯ToothGrowth$dose = factor(ToothGrowth$dose)a = tapply(ToothGrowth$len, ToothGrowth$supp:ToothGrowth$dose, mean)a = data.frame(a)supp = rep(c(&quot;OJ&quot;,&quot;VC&quot;),each = 3)dose = rep(c(0.5,1,2),2)b = cbind(len = a$a,supp,dose)b = as.data.frame(b)ggplot(b, aes(x = supp, y = len, fill = dose)) + geom_col(position = position_dodge())# ç»ƒä¹ ggplot(ToothGrowth, aes(x = supp, y = len, fill = dose)) + geom_boxplot() + geom_jitter()# ç»ƒä¹ ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, size = Petal.Length, col = Petal.Length, alpha = Petal.Length)) + # æ ¹æ®éœ€è¦é€‰ç¬¬ä¸‰ä¸ªå˜é‡ geom_point()# ç»ƒä¹ x = rep(1:6,5)y = rep(5:1,each = 6)al = c(LETTERS,rep(NA,4))al1 = c(letters,rep(NA,4))mydata = data.frame(x,y,al)mydataggplot(mydata, aes(x,y)) + geom_text(aes(label = al, col = al), size =5, show.legend = F) + geom_text(aes(y = y - 0.3, label = al1, col = al1), show.legend = F) + theme_void() + ylim(-1,6) + xlim(0,7)","categories":[{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"Rè¯­è¨€","slug":"Rè¯­è¨€","permalink":"http://www.shelven.com/tags/R%E8%AF%AD%E8%A8%80/"}]},{"title":"åŸºå› ç»„æ³¨é‡Šï¼ˆ7ï¼‰â€”â€”åŠŸèƒ½åŸºå› æ³¨é‡Šè¯„ä¼°","slug":"åŸºå› ç»„æ³¨é‡Šï¼ˆ7ï¼‰â€”â€”åŠŸèƒ½åŸºå› æ³¨é‡Šè¯„ä¼°","date":"2023-09-25T13:46:23.000Z","updated":"2023-09-25T13:52:41.000Z","comments":true,"path":"2023/09/25/a.html","link":"","permalink":"http://www.shelven.com/2023/09/25/a.html","excerpt":"å‰é¢è¯´äº†å¦‚ä½•ç”¨eggNOG-mapperå¿«é€Ÿæ³¨é‡ŠåŠŸèƒ½åŸºå› ï¼Œæˆ‘ä»¬æœ€åå¾—åˆ°äº†å¾ˆå¤šç»“æœæ–‡ä»¶ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯ä¸¤ä¸ªannotationsæ–‡ä»¶ã€‚è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹æ€ä¹ˆæ•´ç†ç»“æœæ–‡ä»¶ï¼Œå¹¶ä¸”å¯¹æ³¨é‡Šçš„ç»“æœåšè´¨é‡è¯„ä¼°ã€‚","text":"å‰é¢è¯´äº†å¦‚ä½•ç”¨eggNOG-mapperå¿«é€Ÿæ³¨é‡ŠåŠŸèƒ½åŸºå› ï¼Œæˆ‘ä»¬æœ€åå¾—åˆ°äº†å¾ˆå¤šç»“æœæ–‡ä»¶ï¼Œå…¶ä¸­æœ€é‡è¦çš„æ˜¯ä¸¤ä¸ªannotationsæ–‡ä»¶ã€‚è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹æ€ä¹ˆæ•´ç†ç»“æœæ–‡ä»¶ï¼Œå¹¶ä¸”å¯¹æ³¨é‡Šçš„ç»“æœåšè´¨é‡è¯„ä¼°ã€‚ 1. åŸºå› åŠŸèƒ½æ³¨é‡Šè¯„ä¼°å…¶å®å°±æ˜¯æ•´ç†ç»“æœæ–‡ä»¶ä¸­æœ‰å¤šå°‘åŸºå› æ³¨é‡Šåˆ°äº†å“ªäº›æ•°æ®åº“ä¸­ï¼Œä»¥ä¸€ç§ç›´è§‚çš„æ–¹å¼å±•ç°ç»“æœã€‚ è¿™é‡Œåˆ†ä¸¤ç§æƒ…å†µï¼Œå¦‚æœè‡ªå·±å–œæ¬¢ä»¥ç¼–ç¨‹çš„æ–¹å¼å¤„ç†æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥å¤„ç†out.emapper.annotationsè¿™ä¸ªæ–‡ä»¶ã€‚å¦‚æœå‰ä¸€ç§æ–¹å¼ä¸æ˜¯å¾ˆå¾—å¿ƒåº”æ‰‹çš„è¯ï¼Œé‚£å°±ç›´æ¥å¤„ç†out.emapper.annotations.xlsxè¿™ä¸ªæ–‡ä»¶ï¼Œæ¯•ç«Ÿå¯ä»¥ç”¨excelç›´æ¥æ‰“å¼€ã€‚ åœ¨ä¸Šä¸€ç¯‡åšå®¢ä¸­è¯¦ç»†ä»‹ç»äº†ç»“æœæ–‡ä»¶ä¸­20åˆ—ä»£è¡¨ä»€ä¹ˆå«ä¹‰ï¼Œåˆ æ‰å‰ä¸¤è¡Œè¿è¡Œçš„å‚æ•°å’Œå‘½ä»¤ï¼Œå‰©ä¸‹çš„å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„excelè¡¨æ ¼ã€‚ å°†ç¬¬ä¸€è¡Œè¡¨å¤´çš„å†…å®¹é€‰ä¸­ï¼Œç­›é€‰ã€‚Aåˆ—ï¼ˆqueryï¼‰å°±æ˜¯eggNOGæ³¨é‡Šåˆ°çš„åŸºå› åï¼Œé€‰ä¸­å¹¶ä¸”ç²˜è´´åˆ°æ–°çš„è¡¨æ ¼ï¼›Jåˆ—ï¼ˆGOsï¼‰ç­›é€‰é™¤äº†â€œ-â€ä»¥å¤–çš„å†…å®¹ï¼Œå¤åˆ¶ç¬¬ä¸€åˆ—ä½œä¸ºæ³¨é‡Šåˆ°GOçš„åºåˆ—ï¼›Låˆ—ï¼ˆKEGG_koï¼‰ç­›é€‰é™¤äº†â€œ-â€ä»¥å¤–çš„å†…å®¹ï¼Œå¤åˆ¶ç¬¬ä¸€åˆ—ä½œä¸ºæ³¨é‡Šåˆ°KEGGçš„åºåˆ—ï¼›Uåˆ—ï¼ˆPFAMsï¼‰ç­›é€‰é™¤â€œ-â€ä»¥å¤–çš„å†…å®¹ï¼Œå¤åˆ¶ç¬¬ä¸€åˆ—ä½œä¸ºæ³¨é‡Šåˆ°PFAMçš„åºåˆ—ã€‚å¯ä»¥å¾—åˆ°å¦‚ä¸‹å½¢å¼çš„è¡¨æ ¼ï¼ˆå¦å­˜ä¸ºannotation.xlsxï¼‰ï¼š è¿™ç§ç±»å‹çš„è¾“å…¥æ•°æ®å¯ä»¥åœ¨æœ¬åœ°å¯¼å…¥RåŒ…åšéŸ¦æ©ï¼ˆVennï¼‰å›¾ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©ç”¨åœ¨çº¿å·¥å…·ç›´æ¥ç”ŸæˆéŸ¦æ©å›¾ï¼Œæ¯”å¦‚è¿™ä¸ªç½‘ç«™ï¼šVenny 2.1.0 (csic.es) æœ€å¤šæ”¯æŒå››ç»„æ ·æœ¬ï¼ŒæŠŠæ•°æ®è´´è¿›å·¦è¾¹4ä¸ªæ¡†å†…å³å¯ã€‚ä¸Šæ–¹çš„Styleå¯ä»¥é€‰æ‹©ä¸åŒçš„ç€è‰²æ–¹å¼ï¼Œç‚¹å‡»å›¾ä¸­çš„æ•°å­—å¯ä»¥åœ¨å·¦ä¸‹æ–¹Resultsæ¡†å†…çœ‹åˆ°å„ä¸ªæ•°æ®é›†çš„é‡å å…³ç³»ï¼Œå³é”®å›¾ç‰‡ä¹Ÿå¯ä»¥ç›´æ¥ä¿å­˜ã€‚è¿™ä¸ªåŠŸèƒ½ä¸éš¾å®ç°ï¼Œæœ‰ç©ºå¯ä»¥æ›´æ–°åˆ°æˆ‘çš„æœ¬åœ°å°å·¥å…·é›†åˆä¸­ã€‚ ç±»ä¼¼çš„åœ¨çº¿åšéŸ¦æ©å›¾çš„ç½‘ç«™è¿˜æœ‰å¾ˆå¤šï¼š jvenn (inrae.fr) BioVenn - a web application for the comparison and visualization of biological lists using area-proportional Venn diagrams Venn Diagram generator (pangloss.com) æˆ–è€…é€‰æ‹©è‡ªå·±æŠ˜è…¾Rï¼Œç”¨ç»å…¸çš„VennDiagramåŒ…åšéŸ¦æ©å›¾ï¼Œæˆ–è€…ç”¨UpSetRåŒ…åšUpsetå›¾ï¼š 1234567891011121314151617181920212223242526272829303132333435# RåŒ…readxlå¯¼å…¥xlsxæ–‡ä»¶ï¼ŒVennDiagramåšVeenå›¾library(VennDiagram)library(readxl)data = read_excel(&quot;annotation.xlsx&quot;, sheet = 1)data[is.na(data)] = &quot;&quot; # æ›¿æ¢è¯»å…¥çš„NAä¸ºç©ºplot = venn.diagram( x = list( eggNOG = data$eggNOG, GO = data$GO, KEGG = data$KEGG, PFAM = data$PFAM ), disable.logging = TRUE, filename = &#x27;Veen_annotation.png&#x27;, col = &quot;black&quot;, lwd = 3, lty = &quot;solid&quot;, fill = c(&quot;cornflowerblue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;darkorchid1&quot;), alpha = 0.50, label.col = c(&quot;orange&quot;, &quot;white&quot;, &quot;darkorchid4&quot;, &quot;white&quot;, &quot;white&quot;, &quot;white&quot;, &quot;white&quot;, &quot;white&quot;, &quot;darkblue&quot;, &quot;white&quot;, &quot;white&quot;, &quot;white&quot;, &quot;white&quot;, &quot;darkgreen&quot;, &quot;white&quot;), cex = 2.0, fontfamily = &quot;serif&quot;, fontface = &quot;bold&quot;, cat.col = c(&quot;darkblue&quot;, &quot;darkgreen&quot;, &quot;orange&quot;, &quot;darkorchid4&quot;), cat.cex = 1.5, #cat.pos = 0, #cat.dist = 0.07, rotation.degree = 0, cat.fontfamily = &quot;serif&quot;, cat.fontface = &quot;bold&quot;, margin = 0.1) VennDiagramåŒ…å‚æ•°å‚è€ƒVennDiagram: Generate High-Resolution Venn and Euler Plots (r-project.org) 12345678910111213141516171819202122# UpSetRåŒ…åšupsetå›¾library(UpSetR)library(readxl)data = read_excel(&quot;annotation.xlsx&quot;, sheet = 1)data[is.na(data)] = &quot;&quot; # æ›¿æ¢NAä¸ºç©ºdata = fromList(data) # è½¬æ¢æˆ0å’Œ1çš„çŸ©é˜µï¼ˆUpSetRåŒ…å¯¹å¯¼å…¥æ•°æ®æœ‰è¦æ±‚ï¼Œå»ºè®®çœ‹githubå®˜ç½‘ï¼‰upset( data, nsets = 4, matrix.color = &quot;gray23&quot;, main.bar.color = &quot;gray23&quot;, mainbar.y.label = &quot;äº¤é›†åŸºå› æ•°&quot;, mainbar.y.max = 7000, sets.bar.color = &quot;gray23&quot;, sets.x.label = &quot;æ³¨é‡Šçš„åŸºå› æ•°&quot;, point.size = 2.2, line.size = 0.7, mb.ratio = c(0.7, 0.3), show.numbers = &quot;yes&quot;, set_size.show = FALSE) UpSetRå‚æ•°å‚è€ƒUpSetR: A More Scalable Alternative to Venn and Euler Diagrams for Visualizing Intersecting Sets (r-project.org) æœ‰ç‚¹æ‰¯è¿œäº†ï¼Œä¸¤ä¸ªå›¾èƒ½è·å¾—çš„ä¿¡æ¯æ˜¯ä¸€æ ·çš„ï¼ˆupsetå›¾çœ‹ä¸æ‡‚çš„è¯å¯ä»¥å¯¹ç…§éŸ¦æ©å›¾ï¼Œçœ‹æŸ±çŠ¶å›¾æ•°å­—ä»¥åŠåº•ä¸‹çš„ç‚¹å’Œçº¿å°±æ˜ç™½äº†ï¼‰ï¼Œä½œå›¾ä¸æ˜¯ä¸ºäº†ç‚«æŠ€è€Œæ˜¯è®©äººä¸€ç›®äº†ç„¶ï¼Œä¸ªäººæ„Ÿè§‰upsetå›¾æ›´ç›´è§‚ä¸€ç‚¹ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ•´ç†ä¸€ä¸ªè¡¨æ ¼ï¼ˆå¾ˆå¤šæµ‹åºå…¬å¸çš„æŠ¥å‘Šéƒ½å–œæ¬¢è¿™ä¹ˆåšï¼Œæ„Ÿè§‰ä¹Ÿæ²¡å•¥æ„ä¹‰ï¼‰ã€‚ åŸºäºä¸åŒæ•°æ®åº“å¾—åˆ°çš„åŸºå› åŠŸèƒ½æ³¨é‡Šç»“æœè¿›è¡Œç»Ÿè®¡ï¼Œç»“æœæ˜¾ç¤ºèƒ½æ³¨é‡Šåˆ°åŠŸèƒ½æ•°æ®åº“çš„åŸºå› æ•°ç›®ä¸º20411ä¸ªï¼Œå é¢„æµ‹åŸºå› æ€»æ•°çš„92.04%ï¼Œå…·ä½“å¦‚ä¸‹ï¼š Type Number Percent(%) eggNOG 20411 92.04 GO 10766 48.55 KEGG 10245 46.20 Pfam 18167 81.92 Overall 22176 100.00 Type: å„æ•°æ®åº“ç±»å‹ Number: æ³¨é‡Šçš„åŸºå› æ•°ç›® Percent: ä¸ªæ•°æ®åº“æ³¨é‡Šåˆ°çš„åŸºå› æ‰€å çš„é¢„æµ‹åŸºå› çš„æ¯”ä¾‹ Overall: æ€»çš„é¢„æµ‹åŸºå› æ•° 2. BUSCOè¯„ä¼°å‰é¢çš„åšå®¢å†™è¿‡ä¸€ç¯‡å¦‚ä½•åšBUSCOè¯„ä¼°â€”â€”0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ7ï¼‰â€”â€”åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼°ï¼ˆBUSCOã€LAIæŒ‡æ•°ï¼‰ï¼Œå½“æ—¶æ˜¯è¯„ä¼°ç»„è£…çš„åŸºå› ç»„å®Œæ•´æ€§ã€‚è¿™é‡Œæ³¨é‡Šå®Œæˆåä¹Ÿéœ€è¦å¯¹é¢„æµ‹çš„åŸºå› é›†è¿›è¡Œè¯„ä¼°ï¼Œå’Œå‰é¢ä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨BUSCOçš„Protein modeã€‚ ä»¥å‰å·²ç»ä¸‹è½½è¿‡çœŸåŒå­å¶åº“çš„BUSCOä¿å®ˆåŸºå› åºåˆ—äº†ï¼Œè¿™é‡Œå°±ç›´æ¥ç”¨ï¼š 1234567#!/bin/bash #SBATCH -n 8database_path=/public/home/wlxie/biosoft/busco_soft/busco/test_data/eukaryota/busco_downloads/lineages/eudicots_odb10sequence_path=/public/home/wlxie/biosoft/braker3/Ap_mydb/Ap_rmTE.aabusco -i $&#123;sequence_path&#125; -l $&#123;database_path&#125; -o Ap -m proteins --cpu 8 --offline ç”¨buscoè‡ªå¸¦çš„ä½œå›¾è„šæœ¬å¤„ç†ä¸€ä¸‹ç»“æœæ–‡ä»¶short_summary.specific.eudicots_odb10.Ap.txtï¼š 123mkdir resultcp Ap/short_summary.specific.eudicots_odb10.Ap.txt resultpython /public/home/wlxie/biosoft/busco/scripts/generate_plot.py -wd result 20ç§’ä¸åˆ°å°±å¯ä»¥å‡ºå›¾ç‰‡ç»“æœï¼š ä¹Ÿå¯ä»¥æ ¹æ®ç»“æœæ–‡ä»¶æ•´ç†ä¸€ä¸ªè¡¨æ ¼ï¼š Gene ID Number Percent(%) Complete BUSCOs(C) 2232 95.96 Fragmented BUSCOs(D) 6 0.26 Missing BUSCOs(M) 88 3.78% eudicots 2326 100.00 eudicots_odb10çœŸåŒå­å¶åº“æœ‰2326ä¸ªBUSCO groupsï¼Œ2232ä¸ªï¼ˆ95.96%ï¼‰BUSCO groupsèƒ½å¤Ÿå®Œæ•´æ¯”å¯¹ä¸Šï¼ˆåŒ…æ‹¬1837ä¸ªå•æ‹·è´å’Œ395ä¸ªå¤šæ‹·è´ï¼‰ï¼Œè¯´æ˜è¿™ä¸ªåŸºå› ç»„æ³¨é‡Šçš„å®Œæ•´æ€§è¿˜æ˜¯ä¸é”™çš„ã€‚ 3. åŸºå› è½¬å½•ç»„è¡¨è¾¾ç”¨äºŒä»£è½¬å½•ç»„æ•°æ®æ¯”å¯¹å‰é¢ç»„è£…çš„å‚è€ƒåŸºå› ç»„ï¼Œç»Ÿè®¡æ ·æœ¬ä¸­è¡¨è¾¾é‡å¤§äº0çš„åŸºå› æ•°ã€‚è¡¨è¾¾é‡å¯ä»¥ç”¨FPKMæˆ–è€…TPMæ¥è¡¡é‡ï¼Œæœ€å¥½æ˜¯ç”¨TPMï¼Œç»™å®šä¸€ä¸ªæ ‡å‡†ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œç»Ÿè®¡TPM&gt;0.001çš„åŸºå› ï¼Œå°±æ˜¯è½¬å½•ç»„çš„ä¸€ç³»åˆ—æ ‡å‡†æ“ä½œã€‚ ç®€å•å†™ä¸ªä»è½¬å½•ç»„ä¸‹æœºæ•°æ®æ¯”å¯¹åˆ°å®šé‡çš„è„šæœ¬ï¼Œéœ€è¦æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹æäº¤ä½œä¸šï¼š 1234567891011121314151617181920#!/bin/bash#SBATCH -n 20genome_path=/public/home/wlxie/Genome/Ap.fastagff3_path=/public/home/wlxie/biosoft/braker3/Ap_rmTE.gff3fq_path=/public/home/wlxie/Sequencing_data/BYT2022020901/Apocynum_pictum/# hisat2 æ„å»ºç´¢å¼•ï¼Œæ¯”å¯¹å‚è€ƒåŸºå› ç»„hisat2-build $&#123;genome_path&#125; genomehisat2 -p 20 -x genome -S out.sam -1 $&#123;fq_path&#125;1.fq -2 $&#123;fq_path&#125;2.fq# samtoolsè½¬samä¸ºbamå¹¶æ’åºsamtools sort -@ 20 -o out.bam out.sam# stringtieç»Ÿè®¡å®šé‡stringtie -p 20 -e -G $&#123;gff3_path&#125; -o result.gtf out.bam# åˆ é™¤ä¸­é—´æ–‡ä»¶rm -rf genome.*rm -rf out.* æœ€ç»ˆå¾—åˆ°result.gtfï¼Œè¿™ä¸ªæ–‡ä»¶è¯¦ç»†è®°å½•äº†æ¯ä¸ªè½¬å½•æœ¬è¡¨è¾¾é‡ï¼š ä¸€è¡Œæ˜¾ç¤ºä¸ä¸‹â€¦â€¦åé¢è¿˜æœ‰ä¸ªTPMå€¼ï¼Œç®€å•å†™ä¸ªpythonå¤„ç†ä¸‹æ•°æ®ï¼Œç»Ÿè®¡TPMå€¼å¤§äº0.001çš„åŸºå› ä¸ªæ•°ï¼š 12345678910111213141516171819count = 0gen_count = 0with open(&#x27;result.gtf&#x27;, &#x27;r&#x27;) as gtf: lines = gtf.readlines() for line in lines: if &quot;TPM&quot; in line: gen_count += 1 TPM = line.split(&#x27;\\t&#x27;)[8].split(&#x27;;&#x27;)[4].split(&#x27; &#x27;)[2] TPM = float(TPM.strip(&#x27;&quot;&#x27;)) if TPM &gt; 0.001: count += 1print(f&#x27;åŸºå› æ€»æ•°ï¼š&#123;gen_count&#125; \\nè¡¨è¾¾é‡å¤§äº0çš„åŸºå› æ•°ï¼š&#123;count&#125;&#x27;)print(f&#x27;å æ¯”ï¼š&#123;count/gen_count*100:.2f&#125; %&#x27;)&#x27;&#x27;&#x27;åŸºå› æ€»æ•°ï¼š22176 è¡¨è¾¾é‡å¤§äº0çš„åŸºå› æ•°ï¼š19760å æ¯”ï¼š89.11 %&#x27;&#x27;&#x27; ä¹Ÿå°±æ˜¯è¯´æœ‰19760ä¸ªè¡¨è¾¾çš„åŸºå› æ˜¯å—è½¬å½•ç»„æ•°æ®æ”¯æŒçš„ï¼Œå æ€»åŸºå› æ•°çš„89.11%ã€‚ä¸¥æ ¼æ¥è¯´è¿™è¾¹ç”¨çš„æ•°æ®æ˜¯æ³¨é‡ŠåŠŸèƒ½åŸºå› ä¹‹å‰çš„ï¼Œç”¨åˆ°çš„gffæ–‡ä»¶æ˜¯ç§»é™¤TEåºåˆ—åä¿®æ”¹çš„gffæ–‡ä»¶ï¼Œç”¨æ¥è¯„ä»·åŠŸèƒ½æ³¨é‡Šçš„ç»“æœä¼¼ä¹æ²¡æœ‰è¯´æœåŠ›è¿˜ä¸å¤Ÿã€‚è¿™é‡Œæ²¡æœ‰å¯¹åŸºå› å»å†—ä½™ï¼Œè®¡ç®—çš„è¡¨è¾¾é‡å’Œè½¬å½•ç»„åˆ†æçš„è¡¨è¾¾é‡è¿˜æ˜¯æœ‰å·®å¼‚çš„ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"BUSCO","slug":"BUSCO","permalink":"http://www.shelven.com/tags/BUSCO/"},{"name":"éŸ¦æ©å›¾","slug":"éŸ¦æ©å›¾","permalink":"http://www.shelven.com/tags/%E9%9F%A6%E6%81%A9%E5%9B%BE/"},{"name":"UpSetå›¾","slug":"UpSetå›¾","permalink":"http://www.shelven.com/tags/UpSet%E5%9B%BE/"}]},{"title":"åŸºå› ç»„æ³¨é‡Šï¼ˆ6ï¼‰â€”â€”åœ¨çº¿ç‰ˆeggNOG-mapperæ³¨é‡ŠåŠŸèƒ½åŸºå› ","slug":"åŸºå› ç»„æ³¨é‡Šï¼ˆ6ï¼‰â€”â€”åœ¨çº¿ç‰ˆeggNOG-mapperæ³¨é‡ŠåŠŸèƒ½åŸºå› ","date":"2023-09-19T14:04:47.000Z","updated":"2023-09-20T07:55:59.000Z","comments":true,"path":"2023/09/19/a.html","link":"","permalink":"http://www.shelven.com/2023/09/19/a.html","excerpt":"ç»§ç»­æ›´æ–°ä¸€ä¸‹åŸºå› ç»„æ³¨é‡Šï¼Œåœ¨åŸºå› ç»„æ³¨é‡Šçš„ç¬¬5ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ‹¿åˆ°äº†Braker3é¢„æµ‹çš„åŠŸèƒ½åŸºå› ï¼Œå¹¶ä¸”åˆ é™¤äº†å…¶ä¸­å¯èƒ½è¢«TEæ’å…¥è€Œå¤±å»åŠŸèƒ½çš„åŸºå› ã€‚ä»…ä»…æ‹¿åˆ°è¿™äº›åŸºå› CDSåºåˆ—å’Œè›‹ç™½åºåˆ—è‚¯å®šæ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“è¿™äº›è›‹ç™½å…·ä½“è¡Œä½¿ä»€ä¹ˆç”Ÿç‰©å­¦åŠŸèƒ½ã€‚","text":"ç»§ç»­æ›´æ–°ä¸€ä¸‹åŸºå› ç»„æ³¨é‡Šï¼Œåœ¨åŸºå› ç»„æ³¨é‡Šçš„ç¬¬5ç¯‡åšå®¢ä¸­ï¼Œæˆ‘ä»¬å·²ç»æ‹¿åˆ°äº†Braker3é¢„æµ‹çš„åŠŸèƒ½åŸºå› ï¼Œå¹¶ä¸”åˆ é™¤äº†å…¶ä¸­å¯èƒ½è¢«TEæ’å…¥è€Œå¤±å»åŠŸèƒ½çš„åŸºå› ã€‚ä»…ä»…æ‹¿åˆ°è¿™äº›åŸºå› CDSåºåˆ—å’Œè›‹ç™½åºåˆ—è‚¯å®šæ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“è¿™äº›è›‹ç™½å…·ä½“è¡Œä½¿ä»€ä¹ˆç”Ÿç‰©å­¦åŠŸèƒ½ã€‚ 1. åŠŸèƒ½æ³¨é‡Šå¸¸ç”¨æ•°æ®åº“åŸºå› åŠŸèƒ½æ³¨é‡Šçš„åŸç†éƒ½æ˜¯ç›¸ä¼¼çš„ï¼Œæˆ‘ä»¬æ‹¿åˆ°äº†è›‹ç™½åºåˆ—ä¹‹åï¼Œä¸ç°æœ‰çš„è›‹ç™½æ•°æ®åº“è¿›è¡Œæ¯”å¯¹ï¼Œç»Ÿè®¡æ¯”å¯¹ç»“æœã€‚ç¨å¾®ä»‹ç»å‡ ä¸ªå¸¸ç”¨çš„æ¯”å¯¹æ•°æ®åº“ï¼Œå…¶ä»–æ²¡ä»‹ç»åˆ°çš„å¯ä»¥å‚è€ƒæœ¬ç«™ç½‘å€å¯¼èˆªâ€”ç”Ÿä¿¡ç½‘ç«™å¿«é€Ÿå¯¼èˆªï¼Œé‡Œé¢æœ‰æœ¬äººå¹´åˆæ€»ç»“çš„ä¸€äº›å¸¸ç”¨ç”Ÿä¿¡æ•°æ®åº“å’Œå·¥å…·ï¼ˆæœ‰å¥½çš„å·¥å…·ä¹Ÿå¯ä»¥è”ç³»æˆ‘è¡¥å……ï¼‰ã€‚ 1.1 NRæ•°æ®åº“NRæ•°æ®åº“å…¨ç§°Non-Redundant Protein Sequence Databaseï¼ˆéå†—ä½™è›‹ç™½æ•°æ®åº“ï¼‰ï¼Œç”±NCBIå»ºç«‹å’Œç»´æŠ¤ï¼Œå¯ä»¥åœ¨NCBIä¸»é¡µçš„Data&amp;Softwareå…¥å£æ‰¾åˆ°FTPï¼šBLAST Databasesã€‚ç”¨è¿‡æœ¬åœ°blastçš„äººéƒ½çŸ¥é“ï¼Œblastæ¯”å¯¹NR&#x2F;NTåº“çš„ç»“æœä¸­åŒ…å«äº†ç‰©ç§æ³¨é‡Šä¿¡æ¯å’Œç›¸åº”çš„æ°¨åŸºé…¸åºåˆ—ï¼Œå¯ä»¥ç”¨äºç‰©ç§åˆ†ç±»ã€æ•°æ®æ±¡æŸ“è¯„ä¼°ç­‰ç­‰ï¼ˆæ²¡ç”¨è¿‡çš„è¯å¯ä»¥å‚è€ƒæˆ‘çš„è¿™ç¯‡åšå®¢â€”â€”æ•°æ®æ±¡æŸ“è¯„ä¼°ï¼‰ã€‚ ä¸€èˆ¬çš„æ³¨é‡Šæ–¹æ³•å’Œæ•°æ®æ±¡æŸ“è¯„ä¼°ä¸€æ ·ï¼Œä½¿ç”¨blastpçš„æ¯”å¯¹æ–¹æ³•ï¼Œè®¾ç½®-evalue 1e-5, -max_target_seqs 1ï¼Œåªä¿ç•™åŒ¹é…å¾—åˆ†æœ€é«˜çš„è›‹ç™½åºåˆ—ã€‚ 1.2 KEGGæ•°æ®åº“KEGGæ•°æ®åº“å…¨ç§°Kyoto Encyclopedia of Genes and Genomesï¼Œæ˜¯æ—¥æœ¬äº¬éƒ½å¤§å­¦ç”Ÿç‰©ä¿¡æ¯å­¦ä¸­å¿ƒ1995å¹´å»ºç«‹çš„æ•°æ®åº“ï¼Œè¯¥æ•°æ®åº“æè¿°ç”Ÿç‰©ä½“ä¸­å¤æ‚çš„ç”Ÿç‰©å­¦é€šè·¯ï¼Œå…¶ä¸°å¯Œçš„é€šè·¯ä¿¡æ¯å¸®åŠ©æˆ‘ä»¬ç³»ç»Ÿäº†è§£è›‹ç™½çš„ç”Ÿç‰©å­¦åŠŸèƒ½ï¼Œå¦‚ä»£è°¢é€šè·¯ã€é—ä¼ ä¿¡æ¯ä¼ é€’ä»¥åŠç»†èƒè¿‡ç¨‹ç­‰ä¸€äº›å¤æ‚çš„ç”Ÿç‰©åŠŸèƒ½ã€‚ ä¸€èˆ¬çš„æ³¨é‡Šæ–¹æ³•åŒä¸Šï¼Œæ¯”å¯¹çš„æ•°æ®åº“ä¸ºKEGGæ•°æ®åº“ï¼Œå¹¶ç»Ÿè®¡è›‹ç™½åºåˆ—æ³¨é‡Šåˆ°çš„KEGGé€šè·¯ä¿¡æ¯ã€‚ 1.3 KOGæ•°æ®åº“KOGæ•°æ®åº“å…¨ç§°Eukaryotic Orthologous Groups of proteinï¼ˆçœŸæ ¸åŒæºç¾¤æ•°æ®åº“ï¼‰ï¼Œå’Œè¿™ä¸ªæ•°æ®åº“é½åçš„è¿˜æœ‰COGï¼ˆClusters of Orthologous Groups of proteinsï¼‰ï¼Œè¿™ä¸¤ä¸ªæ•°æ®åº“éƒ½æ˜¯NCBIä¸­åŸºäºç›´ç³»åŒæºå…³ç³»çš„æ•°æ®åº“ï¼ŒCOGé’ˆå¯¹åŸæ ¸ç”Ÿç‰©ï¼ŒKOGé’ˆå¯¹çœŸæ ¸ç”Ÿç‰©ã€‚å…¶æ¯”å¯¹åŸç†æ˜¯å°†è›‹ç™½åºåˆ—æ¯”å¯¹å¹¶æ³¨é‡Šåˆ°æŸä¸ªåŒæºè›‹ç™½ç°‡ä¸­ï¼Œè¿™ä¸ªåŒæºè›‹ç™½ç°‡æ˜¯NCBIé€šè¿‡ç”Ÿç‰©çš„å®Œæ•´åŸºå› ç»„çš„ç¼–ç è›‹ç™½ç³»ç»Ÿè¿›åŒ–å…³ç³»åˆ†ç±»æ„å»ºè€Œæˆçš„ï¼Œæ¯”å¯¹åˆ°çš„åŒæºè›‹ç™½ç°‡æ­ç¤ºè¯¥è›‹ç™½çš„åŠŸèƒ½ã€‚ ä¸€èˆ¬çš„æ³¨é‡Šæ–¹æ³•åŒä¸Šï¼Œæ¯”å¯¹çš„æ˜¯KOGæ•°æ®åº“ï¼Œå¹¶ç»Ÿè®¡è›‹ç™½åºåˆ—æ³¨é‡Šçš„KOGä¿¡æ¯ã€‚ 1.4 GOæ•°æ®åº“GOæ•°æ®åº“å…¨ç§°Gene Ontologyï¼Œæ•°æ®åº“ç”±åŸºå› æœ¬ä½“è”åˆä¼šå»ºç«‹ï¼Œæ˜¯å°†æ‰€æœ‰ä¸åŸºå› æœ‰å…³çš„ç ”ç©¶ç»“æœè¿›è¡Œåˆ†ç±»æ±‡æ€»çš„ç»¼åˆæ•°æ®åº“ã€‚å¯èƒ½å¬èµ·æ¥æ¯”è¾ƒæŠ½è±¡ï¼ŒåŸºå› æœ¬ä½“è®ºçš„æœ¬è´¨æ˜¯ç”¨ç‰¹å®šçš„ä¸€å¥—è¯æ±‡æè¿°ç”Ÿç‰©å­¦åŠŸèƒ½ï¼Œå¯¹ä¸åŒç‰©ç§çš„åŸºå› åŠŸèƒ½è¿›è¡Œæ³¨é‡Šçš„ç»Ÿä¸€åŒ–ï¼ˆå»æ‰ç‰©ç§ç‰¹å¼‚æ€§ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥å°†åŸºå› æŒ‰ç…§å…¶å‚ä¸çš„ç”Ÿç‰©è¿‡ç¨‹ï¼ˆBiologicalProcessï¼Œ BPï¼‰ ã€ ç»†èƒç»„åˆ†ï¼ˆCellular Componentï¼Œ CCï¼‰ ï¼Œ åˆ†å­åŠŸèƒ½ï¼ˆMolecular Functionï¼Œ MFï¼‰ ä¸‰ä¸ªæ–¹é¢è¿›è¡Œåˆ†ç±»æ³¨é‡Šã€‚å¾ˆå¤šè›‹ç™½æ•°æ®åº“éƒ½å¸¦æœ‰GOå·æ³¨é‡Šä¿¡æ¯ã€‚ GOæ³¨é‡Šç›®å‰æœ‰ä¸¤ç§ä¸»è¦çš„æ³¨é‡Šæ–¹æ³•ï¼š åºåˆ—ç›¸ä¼¼æ€§æ¯”å¯¹ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢blastæ–¹æ³•ï¼Œæ¯”å¯¹çš„æ•°æ®åº“å¯ä»¥æ˜¯Swissportï¼Œæå–GOåˆ—çš„æ³¨é‡Šä¿¡æ¯ã€‚ ç»“æ„åŸŸç›¸ä¼¼æ€§æ¯”å¯¹ï¼Œå¸¸ç”¨çš„è½¯ä»¶æœ‰InterproScan ï¼Œæ¯”å¯¹çš„æ•°æ®åº“å¯ä»¥æ˜¯Pfamæ•°æ®åº“ï¼ˆä¸€ä¸ªè›‹ç™½è´¨åŸŸå®¶æ—çš„æ•°æ®åº“ï¼‰ï¼Œä¹Ÿæ˜¯æå–GOæ³¨é‡Šä¿¡æ¯ã€‚ 1.5 Swissprotæ•°æ®åº“Swissprotï¼ˆä¸è¦æ‰“æˆSwissportï¼Œç‘å£«æœºåœºï¼‰éš¶å±äºUniprotæ•°æ®åº“ï¼Œ åŒ…å«ç»è¿‡æ³¨é‡Šå’ŒéªŒè¯çš„ä¸¥æ ¼éå†—ä½™çš„è›‹ç™½åºåˆ—æ•°æ®åº“ï¼Œ æä¾›äº†è›‹ç™½åºåˆ—è¯¦å°½çš„æ³¨é‡Šä¿¡æ¯ã€‚ä¹Ÿæ˜¯ä¸€ä¸ªéå¸¸å¸¸ç”¨çš„è›‹ç™½æ³¨é‡Šæ•°æ®åº“ï¼Œç°åœ¨UniprotKBï¼ˆUniversal Protein Knowledge Baseï¼‰ä¸»è¦ç”±ä¸¤ä¸ªå­åº“æ„æˆï¼Œä¸€ä¸ªæ˜¯TrEMBï¼ˆè¯¥éƒ¨åˆ†æ˜¯è®¡ç®—æœºè¿›è¡Œåˆ†ææ³¨é‡Šçš„ï¼Œæœªäººå·¥æ ¡éªŒçš„è›‹ç™½ï¼‰ï¼Œå¦ä¸€ä¸ªå°±æ˜¯Swissprotã€‚ ä¸€èˆ¬çš„æ³¨é‡Šæ–¹æ³•åŒä¸Šï¼Œæ¯”å¯¹Swissprotæ•°æ®åº“ï¼Œç»Ÿè®¡åŸºå› ç»„è›‹ç™½åºåˆ—æ³¨é‡Šåˆ°çš„Swissprotæ•°æ®åº“è›‹ç™½ä¿¡æ¯ã€‚ ä¸Šé¢ä»‹ç»çš„æ˜¯ä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬åšåŸºå› åŠŸèƒ½æ³¨é‡Šè¦ç”¨çš„æ•°æ®åº“ï¼Œå…¨éƒ½æ˜¯å¯ä»¥ç”¨blastæ¯”å¯¹ç›¸åº”çš„æ•°æ®åº“ï¼Œæœ€ååšä¸ªæ±‡æ€»æ¯”å¦‚éŸ¦æ©å›¾æŸ¥çœ‹å„ä¸ªæ•°æ®åº“æ³¨é‡Šçš„æƒ…å†µã€‚ ä¹‹æ‰€ä»¥è¯´ä¸€èˆ¬æƒ…å†µï¼Œæ˜¯å› ä¸ºéšç€ç®—æ³•å’ŒæŠ€æœ¯çš„å‘å±•ï¼Œä¸æ–­æœ‰æ–°çš„æ¯”å¯¹å·¥å…·ï¼ˆæ¯”å¦‚DIAMONDï¼Œé€Ÿåº¦æ˜¯blastçš„100åˆ°10000å€ï¼›è¿˜æœ‰åŸºäºéšé©¬å°”ç§‘å¤«æ¨¡å‹çš„HMMER 3ç­‰ï¼‰å’Œæ³¨é‡Šæµç¨‹çš„å‡ºç°ï¼Œè¿™äº›ç»å…¸çš„æ–¹æ³•å›ºç„¶å¯ç”¨ï¼Œç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼šæ¯”å¯¹é€Ÿåº¦æ…¢ï¼Œéœ€è¦ä¸‹è½½å¤§é‡çš„æ¯”å¯¹æ•°æ®åº“ï¼Œå ç”¨èµ„æºç­‰ç­‰ã€‚ 2. eggNOGeggNOGï¼ˆevolutionary gene genealogy Non-supervised Orthologous Groupsï¼‰æ•°æ®åº“æ˜¯ä»NCBIçš„COG&#x2F;KOGå»¶ä¼¸å‡ºæ¥çš„ï¼Œå‰é¢ä»‹ç»è¿‡è¿™ä¸¤ä¸ªæ•°æ®åº“æ˜¯ç›´ç³»åŒæºæ•°æ®åº“ï¼Œåœ¨2008å¹´æå‡ºçš„eggNOGçš„æ—¶å€™åªæœ‰è¿™ä¸¤ä¸ªç›´ç³»åŒæºæ•°æ®åº“ï¼Œè¿™ä¸¤ä¸ªæ•°æ®åº“åœ¨å½“æ—¶ä¸€æ–¹é¢æ˜¯æ•°æ®ä¸å¤šï¼ˆå½“æ—¶åªæœ‰ 312 ä¸ªç»†èŒã€26 ä¸ªå¤ç»†èŒå’Œ 35 ä¸ªçœŸæ ¸ç”Ÿç‰©åŸºå› ç»„ï¼‰ï¼Œå¦ä¸€æ–¹é¢æ˜¯æ›´æ–°ç¼“æ…¢ï¼Œä¸»è¦å¯¹å½“æ—¶æ¯”è¾ƒåŸºå› ç»„å­¦ç ”ç©¶å½±å“è¾ƒå¤§ã€‚ çœ‹åˆ°Non-supervisedæ— ç›‘ç£è¿™å‡ ä¸ªå­—ï¼Œç›¸ä¿¡æœ‰çš„å°ä¼™ä¼´å°±æ˜ç™½äº†ï¼Œä»–ä»¬ç”¨äº†Smithâ€“Watermanç®—æ³•ï¼ˆä¸blasté½åçš„å¯»æ‰¾åºåˆ—æœ€ä¼˜ç›¸ä¼¼æ¯”è¾ƒçš„ç®—æ³•ï¼Œæ¯”blastæ›´ç²¾å‡†ï¼‰æ„å»ºäº†ç›´ç³»åŒæºç¾¤ï¼ˆOrthologous Groupï¼‰ï¼Œå¹¶ä¸”é€šè¿‡åŸºå› çš„æè¿°æ–‡ä»¶ã€æ³¨é‡Šçš„åŠŸèƒ½ç±»åˆ«å’Œé¢„æµ‹çš„è›‹ç™½è´¨ç»“æ„åŸŸç­‰ï¼Œè‡ªåŠ¨æ³¨é‡Šè¿™äº›ç›´ç³»åŒæºç¾¤ã€‚è¿™ç§éç›‘ç£çš„æ–¹æ³•ï¼Œä¸å—ç‰©ç§é™åˆ¶ï¼Œä¸é™äºå·²æœ‰åŸºå› çš„åŠŸèƒ½å’Œå…³ç³»ï¼Œè¿™ç§çµæ´»æ€§ã€å¯æ‰©å±•æ€§å’Œè·¨ç‰©ç§æ¯”è¾ƒçš„ä¼˜åŠ¿ï¼Œå¯ä»¥å¸®åŠ©äººä»¬å‘ç°æ–°çš„åŠŸèƒ½å’Œå…³ç³»ï¼Œå¹¶æä¾›åŸºäºè¿›åŒ–å…³ç³»çš„åŠŸèƒ½æ³¨é‡Šã€‚ æ„Ÿå…´è¶£çš„å¯ä»¥çœ‹çœ‹ä¸‹é¢è¿™ç¯‡2008å¹´çš„åŸæ–‡ï¼š eggNOG: automated construction and annotation of orthologous groups of genes - PMC (nih.gov) ç»è¿‡åå‡ å¹´çš„è¿­ä»£ï¼ŒeggNOGç°åœ¨å·²ç»å‘å¸ƒäº†6.0ç‰ˆæœ¬ï¼ˆ2023å¹´1æœˆ6æ—¥ï¼‰ï¼Œæ€»çš„æ¥è¯´ï¼ŒeggNOG 6.0æä¾›äº†è¶…è¿‡1700ä¸‡ä¸ªç›´ç³»åŒæºç¾¤ (OG) ï¼Œæ¶µç›–10756ä¸ªç»†èŒã€457ä¸ªå¤ç»†èŒå’Œ1322ä¸ªçœŸæ ¸ç”Ÿç‰©ï¼Œè¿™äº›ç›´ç³»åŒæºç¾¤å¯æ³¨é‡Šçš„ä¿¡æ¯åŒ…æ‹¬ KEGGã€GOã€UniProtKBã€BiGGã€CAZyã€CARDã€PFAM å’Œ SMARTã€‚æ­¤å¤–ï¼ŒeggNOG 6.0ç½‘ç«™è¿˜æ¨å‡ºäº†æŒ–æ˜ç›´ç³»åŒæºåŸºå› å’ŒåŸºå› åŠŸèƒ½æ•°æ®åˆ†æçš„æ–°åŠŸèƒ½ï¼ŒåŒ…æ‹¬ä¸ºè·¨ç‰©ç§çš„å¤šä¸ªç›´ç³»åŒæºç¾¤ç”Ÿæˆç³»ç»Ÿå‘è‚²å›¾è°±ç­‰ã€‚ 3. eggNOG-mappereggNOG-mapperæ˜¯eggNOGæ¨å‡ºçš„ä¸€æ¬¾è¿›è¡Œæ‰¹é‡åŸºå› åŠŸèƒ½æ³¨é‡Šçš„å·¥å…·ï¼Œåœ¨2021å¹´çš„æ—¶å€™å·²ç»æ›´æ–°åˆ°äº†v2ç‰ˆæœ¬ï¼Œä¸»è¦æ›´æ–°äº†ä»raw contigså¼€å§‹çš„ä»å¤´åŸºå› é¢„æµ‹ã€å†…ç½®æˆå¯¹çš„åŒæºé¢„æµ‹ï¼ˆbuilt-in pairwise orthology predictionï¼‰ã€å¿«é€Ÿæ£€æµ‹è›‹ç™½ç»“æ„åŸŸå’Œè‡ªåŠ¨ç”Ÿæˆgffæ–‡ä»¶å››é¡¹åŠŸèƒ½ã€‚ 3.1 eggNOG-mapperåŸç†æ•´ä¸ªæµç¨‹å’ŒåŸç†å¯ä»¥ç”¨ä½œè€…åŸæ–‡çš„ä¸€å¼ å›¾æ¦‚æ‹¬ï¼š A: ç¼–ç åŸºå› é¢„æµ‹é˜¶æ®µï¼Œç”¨Prodigalä»ç»„è£…çš„contigsä¸­è¿›è¡Œè›‹ç™½é¢„æµ‹ï¼ˆæˆ–è€…blastxæ¨¡å¼é¢„æµ‹ï¼‰ã€‚ B: æœç´¢é˜¶æ®µï¼Œé€‰æ‹©HMMERæˆ–è€…DIAMONDæˆ–è€…MMESQS2å°†è¾“å…¥çš„è›‹ç™½åºåˆ—å’ŒEggNOGæ•°æ®åº“è¿›è¡Œæ¯”å¯¹ï¼Œç”Ÿæˆseed orthologsã€‚ C: ç›´ç³»åŒæºæ¨æ–­é˜¶æ®µï¼Œæ ¹æ®æ‰€éœ€è¦çš„åˆ†ç±»èŒƒå›´ï¼Œç”Ÿæˆç›´ç³»åŒæºæŠ¥å‘Šã€‚ D: æ³¨é‡Šé˜¶æ®µï¼Œæ ¹æ®è›‹ç™½æ³¨é‡Šä¿¡æ¯å’Œè›‹ç™½ç»“æ„åŸŸæ³¨é‡Šä¿¡æ¯ï¼Œç”Ÿæˆè¡¨æ ¼å’Œgffæ ¼å¼çš„æŠ¥å‘Šã€‚ 3.2 è¿è¡Œç½‘é¡µç‰ˆeggNOG-mappereggNOG-mapperè¿™ä¸ªå·¥å…·å¯ä»¥ä¸‹è½½åˆ°æœ¬åœ°è¿è¡Œï¼ˆä¸»è¦æ˜¯æ–¹ä¾¿å®åŸºå› ç»„è¿™ç§å¤§æ‰¹é‡çš„æ³¨é‡Šï¼‰ï¼Œä¹Ÿå¯ä»¥åœ¨çº¿è¿è¡Œï¼Œå®˜æ–¹æä¾›äº†åœ¨çº¿æœåŠ¡åœ°å€http://eggnog-mapper.embl.de å› ä¸ºæˆ‘è‡ªå·±ä¸æ˜¯åšå®åŸºå› ç»„çš„ï¼Œæ‰€ä»¥ä¹Ÿæ²¡å¿…è¦ä¸‹è½½å·¥å…·å’Œæ•°æ®åº“ï¼ˆéœ€è¦çš„æ—¶å€™å†æ›´ï¼‰ï¼Œç›´æ¥ä½¿ç”¨åœ¨çº¿æœåŠ¡å°±å¯ä»¥ã€‚ å¯ä»¥çœ‹åˆ°eggNOG-mapperåœ¨çº¿ç‰ˆæ”¯æŒ5ç§ç±»å‹æ•°æ®è¾“å…¥ï¼š Proteinsï¼šè›‹ç™½åºåˆ—ï¼Œä¸Šé™æ˜¯10ä¸‡æ¡åºåˆ— CDSï¼šCDSåºåˆ—ï¼Œä¸Šé™ä¹Ÿæ˜¯10ä¸‡æ¡ï¼Œä¼šåœ¨æœç´¢å‰å€ç¿»è¯‘æˆè›‹ç™½åºåˆ— Genomicï¼šåŸºå› ç»„åºåˆ—ï¼Œæ”¯æŒæœ€å¤š1000æ¡DNAåºåˆ—ï¼Œ1000ä¸‡ä¸ªæ ¸è‹·é…¸ã€‚ç›´æ¥ä¸Šä¼ åŸºå› ç»„åºåˆ—ä¼šå¤šä¸€æ­¥ç¼–ç è›‹ç™½é¢„æµ‹ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨Prodigalæˆ–è€…Blastx-likeè¿™ä¸¤è€…ä¹‹ä¸€ã€‚ Metagenomicï¼šContigçº§åˆ«çš„åŸºå› ç»„åºåˆ—ï¼Œæœ¬è´¨ä¸Šå’Œä¸Šé¢æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥é™åˆ¶æ¡ä»¶ä¹Ÿç›¸åŒã€‚åŒæ ·ä¼šè¿›è¡Œç¼–ç è›‹ç™½é¢„æµ‹ã€‚ Seedsï¼šeggNOG-mapperè·‘çš„seed orthologsï¼Œæ”¯æŒæœ€å¤šä¸Šä¼ 10ä¸‡æ¡ï¼Œè¿™ä¸ªä¸»è¦ç”¨äºé‡æ–°æ³¨é‡Šã€‚ æˆ‘ä»¬å‰é¢æ‹¿åˆ°äº†è›‹ç™½åºåˆ—ï¼Œæ‰€ä»¥ç›´æ¥ä¸Šä¼ è›‹ç™½åºåˆ—å³å¯ï¼Œæ³¨æ„ä¸€ä¸‹ä¸Šä¼ çš„è¦æ±‚æ˜¯.gzçš„å‹ç¼©æ–‡ä»¶ã€‚æ‰€ä»¥ç¨å¾®å¤„ç†ä¸‹ï¼š 12# ä¿ç•™åŸæ–‡ä»¶ï¼Œä»¥gzæ ¼å¼å‹ç¼©ä¸ºå¦ä¸€ä¸ªæ–‡ä»¶gzip -c Ap_rmTE.aa &gt; Ap_pep.gz ä¸Šä¼ gzæ–‡ä»¶ï¼Œç•™ä¸‹é‚®ç®±ï¼Œåº•ä¸‹è¿˜å¯ä»¥è®¾ç½®æ¯”å¯¹çš„å‚æ•°å’Œæ³¨é‡Šçš„å‚æ•°ï¼Œéƒ½ä»¥é»˜è®¤å‚æ•°è¿è¡Œå³å¯ã€‚ç¨å¾®è¯´ä¸‹æ³¨é‡Šçš„ä¸€äº›å‚æ•°ï¼š Taxonomic Scopeï¼šå¯ä»¥æ‰‹åŠ¨é€‰æ‹©çš„åˆ†ç±»èŒƒå›´ï¼Œå®˜æ–¹å»ºè®®æ˜¯é»˜è®¤çš„æ–¹å¼ï¼Œä½†ä¹Ÿå¯ä»¥æ‰‹åŠ¨é€‰æ‹©ï¼Œæ¯”å¦‚æˆ‘æ³¨é‡Šæ¤ç‰©ï¼Œå°±å¯ä»¥é€‰æ‹©Viridiplantaeç»¿è‰²æ¤ç‰©ã€‚è¿™é‡Œçš„å‚æ•°ä¼šå½±å“æµç¨‹é‡Œçš„ç›´ç³»åŒæºæ¨æ–­é˜¶æ®µçš„èŒƒå›´ï¼Œé»˜è®¤æƒ…å†µä¸‹æ¯ä¸ªåºåˆ—éƒ½ä¼šè‡ªåŠ¨è°ƒæ•´ã€‚ Orthology restrictionsï¼šç›´ç³»åŒæºé™åˆ¶ï¼Œå¯ä»¥é€‰æ‹©from any orthologæˆ–è€…from one to one orthologï¼Œä¹Ÿæ˜¯å½±å“ç›´ç³»åŒæºæ¨æ–­é˜¶æ®µçš„ç»“æœï¼Œåè€…åªä¼šåœ¨ç›´ç³»åŒæºä¸­åŒ¹é…ã€‚ Gene Ontology evidenceï¼šåŸºå› æœ¬ä½“è®ºè¯æ®ï¼Œè¿™é‡Œæ˜¯ä¸¤ç§ï¼š1. experimentalï¼Œä¹Ÿå°±æ˜¯æœ‰å®éªŒæ”¯æ’‘çš„ï¼ˆæ¯”å¦‚åšè¿‡äºšç»†èƒå®šä½å•Šï¼Œå…ç–«è§å…‰å•Šè¿™äº›ï¼‰ã€‚2. non-electronicï¼Œé€šä¿—è¯´å°±æ˜¯â€œéç”µå­â€è¯æ®ï¼Œç”µå­è¯æ®æ˜¯ä¸å®éªŒè¯æ®ç›¸è·æœ€è¿œçš„ï¼Œè¿™é‡Œçš„æŒ‡çš„æ˜¯é™¤å®éªŒå’Œç”µå­ä»¥å¤–çš„è¯æ®ã€‚ PFAM refinementï¼šè¿™é‡Œçš„é€‰é¡¹æ˜¯å¯¹è›‹ç™½ç»“æ„åŸŸæ³¨é‡Šçš„è°ƒæ•´ï¼Œå¯ä»¥ç›´æ¥å‡ºæŠ¥å‘Šï¼Œä¹Ÿå¯ä»¥å†å°†åºåˆ—è¿›è¡Œrealignç­‰ã€‚ SMART annotationï¼šé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯è¿™æ­¥å¯ä»¥ç”¨SMARTå†è¿›è¡Œè›‹ç™½è´¨ç»“æ„åŸŸé¢„æµ‹ï¼Œé»˜è®¤æ˜¯è·³è¿‡çš„ã€‚ å…³äºåŸºå› æœ¬ä½“è®ºçš„è¯æ®ï¼ŒGOå®˜ç½‘æœ‰è§£é‡Šï¼Œæˆ‘è¿™é‡Œè§£é‡Šå¯èƒ½ä¸æ˜¯å¾ˆæ¸…æ¥šï¼Œå¯ä»¥æŸ¥çœ‹å®˜ç½‘å¯¹åŸºå› æœ¬ä½“è®ºçš„è¯æ®è¯´æ˜ä»¥åŠåˆ†ç±»ï¼š Guide to GO evidence codes (geneontology.org) æ‰€æœ‰å‚æ•°ç¡®å®šä¹‹åï¼Œç‚¹å‡»submitï¼Œç½‘é¡µä¼šæé†’ä½ æŸ¥çœ‹é‚®ä»¶ã€‚è¿›å…¥é‚®ç®±ï¼Œç‚¹å‡»ç¬¬ä¸€ä¸ªç¬¬ä¸€ä¸ªé€‰é¡¹Click to manage your jobï¼Œå†ç‚¹å‡»Start jobå³å¯å¼€å§‹è¿è¡Œã€‚ 3.3 eggNOG-mapperç»“æœæ–‡ä»¶è§£è¯»åœ¨çº¿è¿è¡Œè¿˜æ˜¯éå¸¸å¿«çš„~æˆ‘è¿™20000ä¸ªå·¦å³çš„è›‹ç™½åºåˆ—ï¼Œåƒä¸ªé¥­çš„åŠŸå¤«å›æ¥å°±è·‘å®Œäº†ï¼Œä¸ç”¨ä¸‹æ•°æ®åº“ä¸ç”¨é…ç½®ç¯å¢ƒå°±å¯ä»¥åšåˆ†æï¼Œä¸€ä¸ªå­—ï¼Œé¦™ï¼ å½“æˆ‘ä»¬çœ‹åˆ°å³ä¸Šè§’çŠ¶æ€ä¸ºDoneåï¼Œå°±è¯æ˜å·²ç»è·‘å®Œäº†ã€‚æˆ‘ä»¬è¿”å›å‰ä¸€ä¸ªé¡µé¢ï¼Œç‚¹å‡»Access your job files hereï¼Œè¿™ä¸ªé“¾æ¥å°±æ˜¯æˆ‘ä»¬ç»“æœæ–‡ä»¶çš„å­˜å‚¨ä½ç½®ï¼Œæ³¨æ„å­˜å‚¨æ˜¯æš‚æ—¶çš„ï¼Œéœ€è¦æˆ‘ä»¬å°½å¿«ä¸‹è½½åˆ°æœ¬åœ°ä¿å­˜ã€‚ æ£€æŸ¥æ—¥å¿—æ— æŠ¥é”™å³å¯ã€‚æˆ‘ä»¬ä¸»è¦ç”¨çš„æ˜¯å…¶ä¸­çš„ä¸¤ä¸ªannotationsæ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯æ–¹ä¾¿ä½ è‡ªå·±æå–å†…å®¹åšå¯Œé›†åˆ†æï¼ˆå†…å®¹åˆ¶è¡¨ç¬¦åˆ†å‰²ï¼Œæ€ä¹ˆæå–å’ŒåšGOã€KEGGå¯Œé›†åˆ†æä¸‹æ¬¡å†è¯´å§ï¼Œå†™ä¸ªè„šæœ¬çš„äº‹ï¼‰ï¼Œç¬¬äºŒä¸ªå¸¦.xlsxåç¼€æ–¹ä¾¿ä½ ç”¨excelç¼–è¾‘å’Œæ‰“å¼€ã€‚ è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹ç»“æœæ–‡ä»¶çš„å„é¡¹å‚æ•°ä»£è¡¨ä»€ä¹ˆæ„æ€ï¼š queryï¼šè›‹ç™½åºåˆ—åç§° seed_orthologï¼šæœç´¢é˜¶æ®µæ¯”å¯¹ä¸Šçš„seed orthologç¼–å· evalueï¼ševalueå€¼ï¼Œè¶Šå°ç»“æœè¶Šå¯é  scoreï¼šæ¯”å¯¹çš„å¾—åˆ†ï¼Œè¶Šå¤§è¶Šå¯é  eggNOG_OGsï¼šä¸ºåºåˆ—ç¡®å®šçš„ä»¥é€—å·åˆ†éš”ã€æŒ‰ç…§è¿›åŒ–åˆ†æ”¯æ·±åº¦æ’åºçš„ç›´ç³»åŒæºç»„ï¼ˆorthologs groupsï¼ŒOGsï¼‰åˆ—è¡¨ã€‚æ¯ä¸ªç›´ç³»åŒæºç»„ä»¥OG@tax_id|tax_nameæ–¹å¼å±•ç°ã€‚ max_annot_lvlï¼šç”¨äºæ£€ç´¢æ³¨é‡Šçš„æœ€å®½çš„ç›´ç³»åŒæºç»„ï¼Œä»¥tax_id|tax_nameæ–¹å¼å±•ç°ã€‚ COG_categoryï¼šä»æœ€ä½³OGä¸­æ¨æµ‹çš„COGåŠŸèƒ½åˆ†ç±»ï¼ˆä¸€ä¸ªå­—æ¯ï¼‰ï¼Œå…·ä½“æœ‰å“ªäº›å¯ä»¥çœ‹è¿™é‡ŒNCBIçš„ä»‹ç»COG - NCBI (nih.gov)ã€‚ Descriptionï¼šæ³¨é‡Šçš„åŸºå› åŠŸèƒ½æè¿°ï¼ˆeggNOG-mapperæ³¨é‡Šçš„æè¿°çœŸçš„å¾ˆç®€çŸ­â€¦â€¦ï¼‰ Preferred_nameï¼šæ™®éä½¿ç”¨çš„åŸºå› åç¼©å†™ GOsï¼šæ³¨é‡Šçš„GOç¼–å·ï¼Œä¸€ä¸ªåŸºå› å¯èƒ½å¯¹æ˜ éå¸¸å¤šçš„GOå· ECï¼šKEGGçš„ECé€šè·¯ç¼–å·ï¼Œä»£è¡¨ç›¸å…³çš„é…¶ KEGG_koï¼šKEGGçš„KOç¼–å·ï¼Œè¡¨ç¤ºç›´ç³»åŒæºåŸºå› ï¼Œä»£è¡¨ä¸€ä¸ªå…·ä½“çš„åŠŸèƒ½ KEGG_Pathwayï¼šé€šå¸¸æœ‰koç¼–å·å’Œmapç¼–å·ï¼Œmapç¼–å·ä»£è¡¨reference pathwayï¼Œæ˜¯ä¸€ç§ä»£è°¢é€šè·¯ç±»å‹ï¼Œæ¯”è¾ƒå…·ä½“æœ‰ä¸€èˆ¬å‚è€ƒæ„ä¹‰ KEGG_Moduleï¼šKEGG Moduleæ•°æ®åº“ç¼–å·ï¼Œä»¥Må¼€å¤´ï¼Œå®é™…ä¸Šå°±æ˜¯å¤šä¸ªKOåˆ’åˆ†åœ¨ä¸€ä¸ªå…±åŒå‘æŒ¥åŠŸèƒ½çš„å•å…ƒé‡Œ KEGG_Reactionï¼šKEGG Reactionæ•°æ®åº“ç¼–å·ï¼Œä»¥Rå¼€å¤´ï¼ŒåŒ…å«ä»£è°¢é€šè·¯ä¸Šé…¶ä¿ƒååº”ç›¸å…³ä¿¡æ¯ KEGG_rclassï¼šKEGG RCLASSæ•°æ®åº“ç¼–å·ï¼Œä»¥RCç¼–å·å¼€å¤´ï¼Œæ‰‹åŠ¨æ•´ç†çš„ååº”æ•°æ®é›†åˆ BRITEï¼šKEGGçš„Briteæ•°æ®åº“ç¼–å·ï¼Œç”¨çš„ä¸æ˜¯å¾ˆå¤šï¼Œæ˜¯ä¸€ä¸ªå‚¨å­˜åˆ†ç±»ä¿¡æ¯çš„æ•°æ®åº“ CAZyï¼šç¢³æ°´åŒ–åˆç‰©é…¶ç›¸å…³çš„ä¸“ä¸šæ•°æ®åº“ï¼Œå¯ä»¥çœ‹å®˜ç½‘CAZy - Home BiGG_Reactionï¼šBiGGæ˜¯ä¸€ä¸ªæ•´åˆåŸºå› ç»„å°ºåº¦ä»£è°¢ç½‘ç»œæ¨¡å‹çš„æ•°æ®åº“ï¼Œå®˜ç½‘BiGG Models (ucsd.edu) PFAMsï¼šPFAMæ•°æ®åº“ï¼Œæ ¹æ®å¤šåºåˆ—æ¯”å¯¹ç»“æœå’Œéšé©¬å°”å¯å¤«æ¨¡å‹ï¼Œå°†è›‹ç™½åˆ†ä¸ºä¸åŒå®¶æ—çš„ä¸€ä¸ªæ•°æ®åº“ï¼Œå®˜ç½‘InterPro (ebi.ac.uk)ã€‚æ²¡é”™å®˜ç½‘æ˜¯InterProï¼Œpfamæ•°æ®åº“å·²ç»è¢«InterProåˆå¹¶ï¼Œå¹¶ä¸”2023å¹´1æœˆä¹‹ååŸç½‘é¡µå°±å¤±æ•ˆäº†ã€‚ è¿™ä¹ˆå¤šæ•°æ®å’‹ä¸€çœ‹å¾ˆå¤´ç–¼ï¼Œå¯ä»¥æ•´ç†ä¸€ä¸‹å†™ä¸ªè„šæœ¬ï¼ŒåšGOå’ŒKEGGå¯Œé›†åˆ†æï¼Œè¿™ä¸ªä¸‹æ¬¡å†è¯´ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"eggNOG mapper","slug":"eggNOG-mapper","permalink":"http://www.shelven.com/tags/eggNOG-mapper/"}]},{"title":"ä»æ— åˆ°æœ‰åˆ¶ä½œå¯†ç å­ç»Ÿè®¡å·¥å…·â€”â€”tkinterç­‰å·¥å…·çš„ä½¿ç”¨","slug":"ä»æ— åˆ°æœ‰åˆ¶ä½œå¯†ç å­ç»Ÿè®¡å·¥å…·â€”â€”tkinterç­‰å·¥å…·çš„ä½¿ç”¨","date":"2023-09-01T14:58:31.000Z","updated":"2023-09-04T10:39:00.615Z","comments":true,"path":"2023/09/01/a.html","link":"","permalink":"http://www.shelven.com/2023/09/01/a.html","excerpt":"å‰é˜µå­è¯¾é¢˜ç»„çš„å¸ˆå¼Ÿé—®æˆ‘æ€ä¹ˆç»Ÿè®¡CDSåºåˆ—çš„å¯†ç å­é¢‘ç‡ï¼Œå…¶å®ç™¾åº¦ä¸€ä¸‹æœ‰å¾ˆå¤šåœ¨çº¿åˆ†æç½‘ç«™å¯ä»¥æŠŠåºåˆ—ä¸¢è¿›å»ï¼Œç›´æ¥å‡ºç»“æœâ€¦â€¦","text":"å‰é˜µå­è¯¾é¢˜ç»„çš„å¸ˆå¼Ÿé—®æˆ‘æ€ä¹ˆç»Ÿè®¡CDSåºåˆ—çš„å¯†ç å­é¢‘ç‡ï¼Œå…¶å®ç™¾åº¦ä¸€ä¸‹æœ‰å¾ˆå¤šåœ¨çº¿åˆ†æç½‘ç«™å¯ä»¥æŠŠåºåˆ—ä¸¢è¿›å»ï¼Œç›´æ¥å‡ºç»“æœâ€¦â€¦ åœ¨åšå¯†ç å­åå¥½æ€§åˆ†æçš„é¢†åŸŸï¼Œæœ‰ä¸€ä¸ªè€ç‰Œçš„ç»å…¸è½¯ä»¶codonwï¼Œä¸ä»…å¯ä»¥åˆ†ææ¯æ¡åºåˆ—çš„å¯†ç å­ä½¿ç”¨é¢‘ç‡ï¼Œè¿˜å¯ä»¥è®¡ç®—è¿‘10ç§å¯†ç å­åå¥½æ€§åˆ†æå¸¸ç”¨çš„æŒ‡æ ‡ï¼Œä»¥åŠåšå…³è”åˆ†æï¼ˆå¯¹åº”æ€§åˆ†æï¼‰å›¾ã€‚ è¿™ä¸ªå·¥å…·åœ¨windowsç³»ç»Ÿä¸­è¦åœ¨å‘½ä»¤è¡Œä¸‹è¿è¡Œï¼Œlinuxç³»ç»Ÿä¸­å¯ä»¥é€šè¿‡condaå®‰è£…ã€‚ä»¥åŠæˆ‘åœ¨githubä¸Šçœ‹åˆ°æœ‰äººé‡æ„äº†åŸä»£ç ï¼Œç”¨cè¯­è¨€å†™äº†åº•å±‚æ–¹æ³•å¹¶ä¸”ç»‘å®šäº†pythonï¼Œæˆ‘åœ¨ç”¨è¿™ä¸ªé¡¹ç›®ç¼–è¯‘çš„æ—¶å€™å¤±è´¥äº†ï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥è®¿é—®è¿™ä¸ªcodonw-slimé¡¹ç›®smsaladi&#x2F;codonw-slimã€‚ å½“ç„¶ï¼Œè¿™ç¯‡åšå®¢çš„é‡ç‚¹ä¸æ˜¯codonwè½¯ä»¶ï¼Œå‰é¢è¯´çš„éœ€æ±‚æ˜¯ç»Ÿè®¡CDSåºåˆ—çš„å¯†ç å­é¢‘ç‡ï¼Œä½¿ç”¨åœ¨çº¿å·¥å…·æˆ–è€…ç°æœ‰çš„å·¥å…·å½“ç„¶å¿«â€”â€”å‰äººæ ½æ ‘åäººä¹˜å‡‰ï¼Œè¿™æ— å¯åšéã€‚æˆ‘æ¯”è¾ƒæ„Ÿå…´è¶£çš„æ˜¯åšè¿™äº›å·¥å…·çš„é€»è¾‘ï¼Œä»¥åŠå¦‚ä½•è‡ªå·±æ‰‹æ“ä¸€ä¸ªå·¥å…·ï¼Œè®©ä¸€ä¸ªæ²¡æœ‰ä»»ä½•ç¼–ç¨‹ç»éªŒçš„äººå¯ä»¥å¿«é€Ÿç”¨ä¸Šã€‚ pythonå¼ºå¤§ä¹‹å¤„åœ¨äºæœ‰ç€ä¸°å¯Œå’Œå¼ºå¤§çš„ç¬¬ä¸‰æ–¹åº“ï¼Œç¼–ç¨‹è¯­è¨€å¾ˆå®¹æ˜“æ‡‚ï¼Œå¾ˆé€‚åˆæˆ‘è¿™ç§ç¼–ç¨‹å°ç™½ç»ƒæ‰‹ã€‚æƒ³è¦åšå·¥å…·ï¼Œé¦–å…ˆå°±è¦è®¾è®¡å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼ˆGraphical User Interfaceï¼ŒGUIï¼‰ï¼Œtkinteræ˜¯pythonè‡ªå¸¦çš„æœ€ç»å…¸çš„GUIç¼–ç¨‹åº“ï¼Œå®˜æ–¹åç»­åˆå¯¹tkinteråº“åšäº†ä¼˜åŒ–ä¹Ÿå°±æ˜¯Ttkåº“ï¼ˆåŸºäºtkinteråº“å¼€å‘çš„ï¼‰ï¼Œä¹Ÿæœ‰å¾ˆå¤šäººå†™äº†ä¸€ç³»åˆ—é’ˆå¯¹tkinterçš„ç¾è§‚æ‹“å±•æ’ä»¶ã€‚ä¸‡å˜ä¸ç¦»å…¶å®—ï¼ŒæŒæ¡ä¸€ä¸ªå·¥å…·çš„ç”¨æ³•ï¼Œå…¶ä»–çš„å·¥å…·æ€è·¯ä¹Ÿéƒ½æ˜¯ç±»ä¼¼çš„ã€‚ è¿™é‡Œä¸è®²tkinterå¦‚ä½•ä½¿ç”¨ï¼Œç½‘ä¸Šçš„æ•™ç¨‹å¤ªå¤šäº†ï¼ŒCSDNä¸Šå¯ä»¥ç¿»åˆ°å„ç§ç»„ä»¶çš„è¯¦ç»†ç”¨æ³•ï¼Œè¿˜æœ‰ç»å…¸çš„packã€gridå’Œplaceä¸‰ç§å¸ƒå±€ï¼ŒåŸºæœ¬æ¦‚å¿µçŸ¥é“äº†ä¾è‘«èŠ¦ç”»ç“¢å°±è¡Œã€‚ è¿™é‡Œæˆ‘å…ˆæŠŠè‡ªå·±å†™çš„å¯†ç å­é¢‘ç‡ç»Ÿè®¡å·¥å…·çš„ä»£ç æ”¾å‡ºæ¥ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270#!/usr/bin/env python# -*- coding: utf-8 -*-from collections import OrderedDictfrom tkinter import *from tkinter import filedialog, messageboxfrom tkinter.scrolledtext import ScrolledTextimport timeimport re#from Bio import SeqIOfile_name = &#x27;&#x27;codon_table = &#123; &#x27;Ala&#x27;:[&#x27;GCG&#x27;,&#x27;GCA&#x27;,&#x27;GCT&#x27;,&#x27;GCC&#x27;], &#x27;Cys&#x27;:[&#x27;TGT&#x27;,&#x27;TGC&#x27;], &#x27;Asp&#x27;:[&#x27;GAT&#x27;,&#x27;GAC&#x27;], &#x27;Glu&#x27;:[&#x27;GAG&#x27; ,&#x27;GAA&#x27;], &#x27;Phe&#x27;:[&#x27;TTT&#x27; ,&#x27;TTC&#x27;], &#x27;Gly&#x27;:[&#x27;GGG&#x27;,&#x27;GGA&#x27;,&#x27;GGT&#x27;,&#x27;GGC&#x27;], &#x27;His&#x27;:[&#x27;CAT&#x27;,&#x27;CAC&#x27;], &#x27;Ile&#x27;:[&#x27;ATA&#x27;,&#x27;ATT&#x27;,&#x27;ATC&#x27;], &#x27;Lys&#x27;:[&#x27;AAG&#x27;,&#x27;AAA&#x27;], &#x27;Leu&#x27;:[&#x27;TTG&#x27;,&#x27;TTA&#x27;,&#x27;CTG&#x27;,&#x27;CTA&#x27;,&#x27;CTT&#x27;,&#x27;CTC&#x27;], &#x27;Met&#x27;:[&#x27;ATG&#x27;], &#x27;Asn&#x27;:[&#x27;AAT&#x27;,&#x27;AAC&#x27;], &#x27;Pro&#x27;:[&#x27;CCG&#x27;,&#x27;CCA&#x27;,&#x27;CCT&#x27;,&#x27;CCC&#x27;], &#x27;Gln&#x27;:[&#x27;CAG&#x27;,&#x27;CAA&#x27;], &#x27;Arg&#x27;:[&#x27;AGG&#x27;,&#x27;AGA&#x27;,&#x27;CGG&#x27;,&#x27;CGA&#x27;,&#x27;CGA&#x27;,&#x27;CGT&#x27;,&#x27;CGC&#x27;], &#x27;Ser&#x27;:[&#x27;AGT&#x27;,&#x27;AGC&#x27;,&#x27;TCG&#x27;,&#x27;TCA&#x27;,&#x27;TCT&#x27;,&#x27;TCC&#x27;], &#x27;Thr&#x27;:[&#x27;ACG&#x27;,&#x27;ACA&#x27;,&#x27;ACT&#x27;,&#x27;ACC&#x27;], &#x27;Val&#x27;:[&#x27;GTG&#x27;,&#x27;GTA&#x27;,&#x27;GTT&#x27;,&#x27;GTC&#x27;], &#x27;Trp&#x27;:[&#x27;TGG&#x27;], &#x27;Tyr&#x27;:[&#x27;TAT&#x27;,&#x27;TAC&#x27;], &#x27;*&#x27;:[&#x27;TGA&#x27;,&#x27;TAG&#x27;,&#x27;TAA&#x27;]&#125;# è¯»å…¥fastaåºåˆ—ï¼ˆä»£æ›¿SeqIO.parseï¼‰def fasta_generator(file_path): with open(file_path, &#x27;r&#x27;) as file: first_line = file.readline().strip() if not first_line.startswith(&#x27;&gt;&#x27;): # ç»™ä¸€ä¸ªfastaæ ¼å¼åˆ¤æ–­ raise ValueError(&#x27;Invalid file format&#x27;) sequence_id = first_line[1:] # å‚¨å­˜å½“å‰åºåˆ—åç§° sequence = &#x27;&#x27; # å‚¨å­˜å½“å‰åºåˆ—å†…å®¹ for line in file: line = line.strip() if line.startswith(&#x27;&gt;&#x27;): # &gt;å¼€å¤´ä¸ºåºåˆ—åç§°è¡Œ if sequence_id: # å¦‚æœå·²å­˜åœ¨åºåˆ—åç§°ï¼Œè¿”å›ä¸Šä¸€ä¸ªåºåˆ—åç§°å’Œå†…å®¹ yield &#123;&#x27;id&#x27;: sequence_id, &#x27;seq&#x27;: sequence&#125; sequence_id = line[1:] sequence = &#x27;&#x27; else: # å¦åˆ™ï¼Œè¡Œä¸ºåºåˆ—å†…å®¹ sequence += line if sequence_id: # å¤„ç†å®Œæœ€åä¸€ä¸ªåºåˆ—ï¼Œè¿”å›æœ€åä¸€ä¸ªåºåˆ—åç§°å’Œå†…å®¹ yield &#123;&#x27;id&#x27;: sequence_id, &#x27;seq&#x27;: sequence&#125;class MY_GUI(): # åˆå§‹åŒ–å‡½æ•°ï¼Œå®šä¹‰å®ä¾‹çš„å±æ€§ def __init__(self,init_window_name): self.init_window_name = init_window_name self.image_file = None # PhotoImageæ²¡æœ‰å¼•ç”¨ä¼šè‡ªåŠ¨é”€æ¯ï¼Œè¿™é‡Œéœ€è¦æ˜¾ç¤ºå¼•ç”¨ # å®šä¹‰ä¸€ä¸ªç±»æ–¹æ³•ï¼Œè®¾ç½®çª—å£ def set_init_window(self): self.init_window_name.title(&quot;å¯†ç å­ç»Ÿè®¡å·¥å…·_v1.0&quot;) self.init_window_name.geometry(&#x27;1048x680+400+150&#x27;) # 1068x681çª—å£å¤§å°ï¼Œ+æ¨ªåæ ‡ +çºµåæ ‡ å®šä¹‰çª—å£å¼¹å‡ºæ—¶çš„é»˜è®¤å±•ç¤ºä½ç½® self.init_window_name.attributes(&quot;-alpha&quot;,1) # è™šåŒ–ï¼Œå€¼è¶Šå°è™šåŒ–ç¨‹åº¦è¶Šé«˜ self.init_window_name.iconbitmap(&#x27;pic/bitbug_favicon.ico&#x27;) # å¯ä»¥æ¢è‡ªå·±çš„icoå›¾æ ‡ self.init_window_name.resizable(0,0) # ç¦æ­¢æ”¹å˜çª—å£å¤§å° # ç”»å¸ƒï¼ˆå¯ä»¥ä¸è¦ï¼Œæˆ–è€…æ¢è‡ªå·±çš„gifå›¾ç‰‡ï¼‰ canvas = Canvas(self.init_window_name, width=1024, height=680, bg=None) self.image_file = PhotoImage(file=&quot;pic/bg.gif&quot;) self.resized_image = self.image_file.zoom(2, 2) canvas.create_image(520, 35, anchor=&#x27;n&#x27;, image=self.resized_image) canvas.grid(row=0,rowspan = 20,column=0,columnspan=23) # frame(æš‚æ—¶ä¸ç”¨äº†) #self.frame = Frame(self.init_window_name, borderwidth=1, height=2, relief=&#x27;groove&#x27;,bd=1) #self.frame.grid(row=21,column=0, columnspan=24) # æ ‡ç­¾ self.init_data_label = Label(self.init_window_name, text=&quot;å¯¼å…¥åºåˆ—&quot;) self.init_data_label.grid(row=0, column=0) self.result_data_label = Label(self.init_window_name, text=&quot;Number(Frequency)&quot;) self.result_data_label.grid(row=0, column=12) self.result_out_label = Label(self.init_window_name, text=&quot;Codon Usage results&quot;) self.result_out_label.grid(row=6,column=13) self.log_label = Label(self.init_window_name, text=&quot;è¿è¡Œæ—¥å¿—&quot;) self.log_label.grid(row=11, column=0) # æ–‡æœ¬æ¡† self.init_data_Text = ScrolledText(self.init_window_name, width=60, height=35) # åŸå§‹æ•°æ®å½•å…¥æ¡† self.init_data_Text.grid(row=1, column=0, rowspan=10, columnspan=10, padx=20,pady=5) self.init_data_Text.bind(&#x27;&lt;KeyPress&gt;&#x27;, lambda f: &#x27;break&#x27;) # ç»‘å®šäº‹ä»¶ç¦æ­¢é”®å…¥ self.log_data_Text = ScrolledText(self.init_window_name, width=60, height=9,) # æ—¥å¿—æ¡† self.log_data_Text.grid(row=12, column=0, rowspan=5, columnspan=10,padx=20,pady=5) self.log_data_Text.bind(&#x27;&lt;KeyPress&gt;&#x27;, lambda f: &#x27;break&#x27;) self.result_data_Text = ScrolledText(self.init_window_name, width=60, height=20, wrap=&#x27;none&#x27;) # é¢‘æ•°é¢‘ç‡å±•ç¤º self.result_data_Text.grid(row=1, column=12, rowspan=5, columnspan=10, padx=10,pady=5) self.result_data_Text.bind(&#x27;&lt;KeyPress&gt;&#x27;, lambda f: &#x27;break&#x27;) self.result_fre_Text = ScrolledText(self.init_window_name, width=40, height=20) # ç»“æœå±•ç¤º self.result_fre_Text.grid(row=7, column=12, rowspan=10, columnspan=10,padx=10,pady=5) self.result_fre_Text.bind(&#x27;&lt;KeyPress&gt;&#x27;, lambda f: &#x27;break&#x27;) # æŒ‰é’® self.load_file_button = Button(self.init_window_name, text = &quot;å¯¼å…¥fastaæ–‡ä»¶&quot;,borderwidth=2,relief=RAISED, command=self.select_file) # ç»‘å®šå†…éƒ¨å‘½ä»¤ self.load_file_button.grid(row=2, column=11) self.codon_count_button = Button(self.init_window_name, text=&quot;å¼€å§‹ç»Ÿè®¡&quot;,borderwidth=2,relief=RAISED,command=self.codon_count) self.codon_count_button.grid(row=3, column=11) self.export_count_button = Button(self.init_window_name, text=&quot;å¯¼å‡ºè¡¨æ ¼&quot;,borderwidth=2,relief=RAISED,command=self.export_count) self.export_count_button.grid(row=4, column=11) self.export_fre_button = Button(self.init_window_name, text=&quot;å¯¼å‡ºç»“æœ&quot;, borderwidth=2,relief=RAISED,command=self.export_fre) self.export_fre_button.grid(row=5,column=11) self.clean_button = Button(self.init_window_name, text=&#x27;æ¸…ç©ºçª—å£&#x27;, borderwidth=2,relief=RAISED,command=self.window_clean) self.clean_button.grid(row=6,column=11) # æ»šè½®ä¸ç»‘å®šï¼ˆScrolledTextåªå¸¦æœ‰å‚ç›´æ»šåŠ¨æ¡ï¼‰ self.scrollbar_x = Scrollbar(self.init_window_name, orient=HORIZONTAL) # åˆ›å»ºæ»šåŠ¨æ¡éƒ¨ä»¶ self.result_data_Text.config(xscrollcommand=self.scrollbar_x.set) # æ–‡æœ¬æ¡†-æ§åˆ¶-æ»šåŠ¨æ¡ self.scrollbar_x.config(command=self.result_data_Text.xview) # æ»šåŠ¨æ¡-æ§åˆ¶-æ–‡æœ¬æ¡† self.scrollbar_x.grid(row=5, column=12, rowspan=1,columnspan=10, sticky=&quot;ESW&quot;,padx=10) # è®¾ç½®æ»šåŠ¨æ¡ä½ç½® # å¯¼å…¥åºåˆ—åŠŸèƒ½å‡½æ•° def select_file(self): global file_name file_name = filedialog.askopenfilename(title=&quot;é€‰æ‹©æ–‡ä»¶&quot;) if file_name != &#x27;&#x27;: try: records = fasta_generator(file_name) number = 0 for i in records: name = i[&#x27;id&#x27;] seq = i[&#x27;seq&#x27;] if len(seq)&gt;48: seq = seq[:45] + &#x27;...&#x27; + seq[-3:] self.init_data_Text.insert(END,f&quot;Name:&#123;name&#125;\\nSeq:&#x27;&#123;seq&#125;&#x27;\\n&quot;) number += 1 self.write_log_to_Text(f&quot;INFO:fastaæ–‡ä»¶å¯¼å…¥æˆåŠŸï¼å…±åŠ è½½&#123;number&#125;æ¡åºåˆ—ã€‚&quot;) except: messagebox.showerror(&quot;ERROR&quot;, &quot;è½½å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸ºfastaæ ¼å¼ï¼&quot;) self.write_log_to_Text(&quot;ERROR:è½½å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼ã€‚&quot;) # åˆ†æç»Ÿè®¡åŠŸèƒ½å‡½æ•° def codon_count(self): if file_name != &#x27;&#x27;: records = fasta_generator(file_name) CodonsDict = OrderedDict([(&#x27;GCG&#x27;, 0), (&#x27;GCA&#x27;, 0), (&#x27;GCT&#x27;, 0), (&#x27;GCC&#x27;, 0), (&#x27;TGT&#x27;, 0), (&#x27;TGC&#x27;, 0), (&#x27;GAT&#x27;, 0), (&#x27;GAC&#x27;, 0), (&#x27;GAG&#x27;, 0), (&#x27;GAA&#x27;, 0), (&#x27;TTT&#x27;, 0), (&#x27;TTC&#x27;, 0), (&#x27;GGG&#x27;, 0), (&#x27;GGA&#x27;, 0), (&#x27;GGT&#x27;, 0), (&#x27;GGC&#x27;, 0), (&#x27;CAT&#x27;, 0), (&#x27;CAC&#x27;, 0), (&#x27;ATA&#x27;, 0), (&#x27;ATT&#x27;, 0), (&#x27;ATC&#x27;, 0), (&#x27;AAG&#x27;, 0), (&#x27;AAA&#x27;, 0), (&#x27;TTG&#x27;, 0), (&#x27;TTA&#x27;, 0), (&#x27;CTG&#x27;, 0), (&#x27;CTA&#x27;, 0), (&#x27;CTT&#x27;, 0), (&#x27;CTC&#x27;, 0), (&#x27;ATG&#x27;, 0), (&#x27;AAT&#x27;, 0), (&#x27;AAC&#x27;, 0), (&#x27;CCG&#x27;, 0), (&#x27;CCA&#x27;, 0), (&#x27;CCT&#x27;, 0), (&#x27;CCC&#x27;, 0), (&#x27;CAG&#x27;, 0), (&#x27;CAA&#x27;, 0), (&#x27;AGG&#x27;, 0), (&#x27;AGA&#x27;, 0), (&#x27;CGG&#x27;, 0), (&#x27;CGA&#x27;, 0), (&#x27;CGT&#x27;, 0), (&#x27;CGC&#x27;, 0), (&#x27;AGT&#x27;, 0), (&#x27;AGC&#x27;, 0), (&#x27;TCG&#x27;, 0), (&#x27;TCA&#x27;, 0), (&#x27;TCT&#x27;, 0), (&#x27;TCC&#x27;, 0), (&#x27;ACG&#x27;, 0), (&#x27;ACA&#x27;, 0), (&#x27;ACT&#x27;, 0), (&#x27;ACC&#x27;, 0), (&#x27;GTG&#x27;, 0), (&#x27;GTA&#x27;, 0), (&#x27;GTT&#x27;, 0), (&#x27;GTC&#x27;, 0), (&#x27;TGG&#x27;, 0), (&#x27;TAT&#x27;, 0), (&#x27;TAC&#x27;, 0), (&#x27;TGA&#x27;, 0), (&#x27;TAG&#x27;, 0), (&#x27;TAA&#x27;, 0)]) # è¾“å‡ºè¡¨å¤´ self.result_data_Text.insert(END, f&quot;&#123;&#x27;Name&#x27;:&lt;15&#125;&quot;) for key in CodonsDict: if key != &#x27;TAA&#x27;: self.result_data_Text.insert(END, f&#x27;&#123;key:&lt;12&#125;&#x27;) else: self.result_data_Text.insert(END,f&#x27;&#123;key:&lt;12&#125;\\n&#x27;) for i in records: # æ¯æ¡åºåˆ—åˆ¤æ–­ATGå¼€å¤´ï¼Œæ˜¯å¦æœ‰å±è”½åºåˆ—,é•¿åº¦æ˜¯å¦ä¸º3çš„å€æ•° if i[&#x27;seq&#x27;].startswith(&#x27;ATG&#x27;) and &#x27;N&#x27; not in i[&#x27;seq&#x27;] and len(i[&#x27;seq&#x27;]) % 3 ==0: for j in range(0, len(str(i[&#x27;seq&#x27;])), 3): codon = str(i[&#x27;seq&#x27;])[j:j+3] if codon in CodonsDict.keys(): CodonsDict[codon] +=1 else: self.write_log_to_Text(&quot;WARNING:åºåˆ—%så­˜åœ¨æœªè¯†åˆ«çš„å¯†ç å­ï¼Œè·³è¿‡ã€‚&quot; % (i[&#x27;id&#x27;])) break total = sum([CodonsDict[key] for key in CodonsDict.keys()]) name = i[&#x27;id&#x27;] self.result_data_Text.insert(END, f&#x27;&#123;name:&lt;15&#125;&#x27;) # è¿™é‡Œçš„f-stringæ ¼å¼åŒ–è¾“å‡ºf&#x27;&#123;i[&#x27;id&#x27;]:&lt;15&#125;&#x27;ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥ç”¨äº†ä¸ªå˜é‡nameä»£æ›¿ self.result_fre_Text.insert(END,&#x27;Results for %d residue sequence &quot;%s&quot;:\\n\\nAA\\tCodon\\tNumber\\tFrequency\\n\\n&#x27; % (total, i[&#x27;id&#x27;])) for key in CodonsDict.keys(): # è®¡ç®—æ¯ä¸ªå¯†ç å­ä½¿ç”¨é¢‘ç‡ï¼ˆæ ‡å‡†å¯†ç å­è¡¨ï¼‰ frequency = &quot;%.2f&quot; % (CodonsDict[key]*3000/total) content = str(CodonsDict[key]) + &#x27;(%s)&#x27; % (frequency) self.result_data_Text.insert(END,f&#x27;&#123;content:&lt;12&#125;&#x27;) if key in codon_table[&#x27;Ala&#x27;]: self.result_fre_Text.insert(END,&#x27;Ala\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Cys&#x27;]: self.result_fre_Text.insert(END,&#x27;Cys\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Asp&#x27;]: self.result_fre_Text.insert(END,&#x27;Asp\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Glu&#x27;]: self.result_fre_Text.insert(END,&#x27;Glu\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Phe&#x27;]: self.result_fre_Text.insert(END,&#x27;Phe\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Gly&#x27;]: self.result_fre_Text.insert(END,&#x27;Gly\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;His&#x27;]: self.result_fre_Text.insert(END,&#x27;His\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Ile&#x27;]: self.result_fre_Text.insert(END,&#x27;Ile\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Lys&#x27;]: self.result_fre_Text.insert(END,&#x27;Lys\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Leu&#x27;]: self.result_fre_Text.insert(END,&#x27;Leu\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Met&#x27;]: self.result_fre_Text.insert(END,&#x27;Met\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Asn&#x27;]: self.result_fre_Text.insert(END,&#x27;Asn\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Pro&#x27;]: self.result_fre_Text.insert(END,&#x27;Pro\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Gln&#x27;]: self.result_fre_Text.insert(END,&#x27;Gln\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Arg&#x27;]: self.result_fre_Text.insert(END,&#x27;Arg\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Ser&#x27;]: self.result_fre_Text.insert(END,&#x27;Ser\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Thr&#x27;]: self.result_fre_Text.insert(END,&#x27;Thr\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Val&#x27;]: self.result_fre_Text.insert(END,&#x27;Val\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Trp&#x27;]: self.result_fre_Text.insert(END,&#x27;Trp\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;Tyr&#x27;]: self.result_fre_Text.insert(END,&#x27;Tyr\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) elif key in codon_table[&#x27;*&#x27;]: self.result_fre_Text.insert(END,&#x27;*\\t%s\\t%d\\t%s\\n&#x27; % (key, CodonsDict[key], frequency)) self.result_fre_Text.insert(END,&#x27;\\n----------------------------------------\\n&#x27; ) self.result_data_Text.insert(END,&#x27;\\n&#x27;) else: self.write_log_to_Text(&quot;WARNING:åºåˆ—%séATGå¼€å¤´/å­˜åœ¨å±è”½åºåˆ—/é3çš„å€æ•°ï¼Œè¯¥åºåˆ—å°†ä¸ä¼šå‡ºç°åœ¨ç»Ÿè®¡ç»“æœä¸­ã€‚&quot; % (i[&#x27;id&#x27;])) self.write_log_to_Text(&quot;INFO:ç»Ÿè®¡ç»“æŸ!&quot;) else: self.write_log_to_Text(&quot;ERROR:è¯·å…ˆè½½å…¥fastaæ–‡ä»¶ï¼&quot;) # å¯¼å‡ºé¢‘æ•°é¢‘ç‡ç»Ÿè®¡è¡¨ def export_count(self): content = self.result_data_Text.get(&#x27;1.0&#x27;, END) if &#x27;Name&#x27; not in content: self.write_log_to_Text(&quot;ERROR:è¯·å…ˆç‚¹å‡»â€œè½½å…¥fastaæ–‡ä»¶â€å¹¶ç‚¹å‡»â€œå¼€å§‹ç»Ÿè®¡â€æŒ‰é’®ï¼&quot;) else: try: count_file = filedialog.asksaveasfilename() count_file = count_file + &#x27;.csv&#x27; with open(count_file, &#x27;w&#x27;) as count: content = re.sub(r&quot;[^\\S\\r\\n]+&quot;,&#x27;,&#x27;,content) # æ­£åˆ™åŒ¹é…æ¢è¡Œç¬¦ä¹‹å¤–çš„æ‰€æœ‰ç©ºæ ¼ count.write(content) self.write_log_to_Text(&quot;INFO:å¯†ç å­é¢‘æ•°é¢‘ç‡ç»Ÿè®¡è¡¨ä¿å­˜æˆåŠŸ!æ–‡ä»¶è·¯å¾„ï¼š%s&quot; % (count_file)) except: self.write_log_to_Text(&quot;ERROR:ERROR:å¯¼å‡ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰åŒåæ–‡ä»¶æœªå…³é—­ï¼&quot;) # å¯¼å‡ºç»“æœæ–‡ä»¶ def export_fre(self): content = self.result_fre_Text.get(&#x27;1.0&#x27;, END) if &#x27;Results&#x27; not in content: self.write_log_to_Text(&quot;ERROR:è¯·å…ˆç‚¹å‡»â€œè½½å…¥fastaæ–‡ä»¶â€å¹¶ç‚¹å‡»â€œå¼€å§‹ç»Ÿè®¡â€æŒ‰é’®ï¼&quot;) else: try: result_file = filedialog.asksaveasfilename() result_file = result_file + &#x27;.txt&#x27; with open(result_file, &#x27;w&#x27;) as out: out.write(content) self.write_log_to_Text(&quot;INFO:ç»“æœæ–‡ä»¶ä¿å­˜æˆåŠŸ!ä¿å­˜è·¯å¾„ï¼š%s&quot; % (result_file)) except: self.write_log_to_Text(&quot;ERROR:å¯¼å‡ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰åŒåæ–‡ä»¶æœªå…³é—­ï¼&quot;) # æ¸…ç©ºæ‰€æœ‰æ–‡æœ¬æ¡† def window_clean(self): self.init_data_Text.delete(1.0, END) self.log_data_Text.delete(1.0, END) self.result_data_Text.delete(1.0, END) self.result_fre_Text.delete(1.0, END) # æ—¥å¿—æ‰“å° def write_log_to_Text(self,logmsg): current_time = time.strftime(&#x27;%Y-%m-%d %H:%M:%S&#x27;,time.localtime(time.time())) logmsg_in = str(current_time) +&quot; &quot; + str(logmsg) + &quot;\\n&quot; self.log_data_Text.insert(END, logmsg_in)def gui_start(): init_window = Tk() GUI = MY_GUI(init_window) GUI.set_init_window() init_window.mainloop()gui_start() ç¬¬ä¸€æ¬¡ç”¨tkinterè¿™ä¸ªå·¥å…·ï¼Œä»£ç çœ‹èµ·æ¥ä¹Ÿæœ‰ç‚¹ä¹±â€¦â€¦å°±å½“ä½œè‡ªå·±çš„å°è¯• &#x3D; &#x3D;ï¼Œå„ä¸ªéƒ¨ä»¶å†™äº†æ³¨é‡Šæ–¹ä¾¿ä»¥åè‡ªå·±å‚è€ƒã€‚ è¿è¡Œæ—¶å¯ä»¥ç”Ÿæˆå¦‚ä¸‹guiç•Œé¢ï¼š ç•Œé¢æ¯”è¾ƒç®€å•ï¼Œç‚¹å‡»â€œå¯¼å…¥fastaæ–‡ä»¶â€ï¼Œå·¦è¾¹çš„æ–‡æœ¬æ¡†å¯ä»¥çœ‹åˆ°åºåˆ—å¤§è‡´ä¿¡æ¯ï¼Œç‚¹å‡»â€œå¼€å§‹ç»Ÿè®¡â€åå³è¾¹ä¸¤ä¸ªæ–‡æœ¬æ¡†å¯ä»¥è¾“å‡ºä¸¤ç§æ ¼å¼çš„ç»“æœï¼Œåé¢ä¸¤ä¸ªæŒ‰é’®åˆ†åˆ«è‡ªå®šä¹‰å¯¼å‡ºä¸¤ç§ç»“æœï¼Œâ€œæ¸…ç©ºçª—å£â€å°±æ˜¯æ¸…é™¤æ–‡æœ¬æ¡†çš„æ‰€æœ‰æ•°æ®ã€‚ æ•´ä½“é€»è¾‘æ˜¯è¯†åˆ«å¯¼å…¥çš„åºåˆ—æ˜¯å¦æ˜¯ATGå¼€å¤´ï¼Œæ˜¯å¦å«æœ‰å±è”½åºåˆ—ï¼Œé•¿åº¦æ˜¯å¦èƒ½è¢«3æ•´é™¤ï¼Œä»¥ä¸Šæ¡ä»¶éƒ½æ»¡è¶³æ‰ä¼šè®¡å…¥å³è¾¹çš„ç»Ÿè®¡ç»“æœï¼Œå¦åˆ™è·³è¿‡è¯¥åºåˆ—ï¼Œè·³è¿‡çš„ä¿¡æ¯ä¼šåœ¨è¿è¡Œæ—¥å¿—æ¡†ä¸­æ˜¾ç¤ºã€‚å¦‚æœç”¨çš„ä¸æ˜¯æ ‡å‡†å¯†ç å­è¡¨ï¼Œå¯ä»¥è‡ªè¡Œæ›´æ”¹codon_tableå˜é‡ã€‚ é™¤å¼€ä»£ç ä¸­é—´ä¸€å¤§å †åˆ¤æ–­å¯†ç å­ç¼–ç å“ªä¸ªæ°¨åŸºé…¸ï¼ˆæˆ‘æ˜¯çœŸçš„æ²¡æƒ³åˆ°è¿˜èƒ½ç”¨ä»€ä¹ˆæ–¹æ³•åˆ¤æ–­21ç§ä¸åŒçš„ç¼–ç æ°¨åŸºé…¸ï¼‰ï¼Œå…¶ä»–åœ°æ–¹éƒ½å°½é‡å†™åœ°ç®€æ´äº†ä¸€äº›ã€‚åŸå…ˆæ‰“ç®—ç›´æ¥ç”¨Bioåº“SeqIO.parseçš„æ–¹æ³•è½½å…¥åºåˆ—ï¼Œç¡®å®å¾ˆæ–¹ä¾¿ï¼Œä½†æ˜¯ä¸åˆ©äºç¨‹åºçš„æœ€åæ‰“åŒ…â€¦â€¦Bioåº“çš„ä¸€ä¸ªä¾èµ–åº“æ˜¯numpyï¼Œç”¨è¿‡pythonçš„å°ä¼™ä¼´éƒ½çŸ¥é“numpyä¹Ÿæ˜¯ä¸€ä¸ªé‡é‡çº§ç§‘å­¦è®¡ç®—åº“ï¼Œä½†æ˜¯ç”¨pyinstallerå°†ç¨‹åºæ‰“åŒ…æˆå¯æ‰§è¡Œæ–‡ä»¶çš„æ—¶å€™ï¼Œnumpyæœ‰ä¸€ä¸ªé‡é‡çº§çš„openblasä¾èµ–ï¼Œå¯ä»¥çœ‹çœ‹æœ‰å¤šâ€œé‡é‡çº§â€ï¼š ä¸€ä¸ªä¾èµ–å äº†37Mbçš„ç©ºé—´â€¦â€¦å†µä¸”æˆ‘ç”¨Bioåº“åªæ˜¯ä¸ºäº†å¯¼å…¥å’Œè¯†åˆ«fastaåºåˆ—ï¼Œæ‰€ä»¥è¿™é‡Œæ“äº†ä¸ªfasta_generator()æ–¹æ³•å‡½æ•°æ¥ä»£æ›¿SeqIO.parseï¼Œè°ƒç”¨æ–¹æ³•å‡½æ•°åéƒ½æ˜¯ç”Ÿæˆä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œé€è¡Œè¯»å–fastaæ–‡ä»¶ï¼Œidå‚¨å­˜åºåˆ—åç§°ï¼Œseqå‚¨å­˜åºåˆ—å†…å®¹ã€‚è¿™æ ·å°±ä¸ç”¨è°ƒç”¨Bioåº“ï¼Œå¯ä»¥çœ‹åˆ°è¿™é‡Œè°ƒç”¨çš„éƒ½æ˜¯pythonçš„å†…ç½®åº“ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘æ‰“åŒ…åçš„ä½“é‡ã€‚ è¯´åˆ°æ‰“åŒ…ï¼Œä¸ºä»€ä¹ˆè¦æ‰“åŒ…ï¼Ÿå› ä¸ºå†™çš„pythonç¨‹åºè¦è¿è¡Œèµ·æ¥è¿˜æœ‰ä¸ªå‰æï¼Œå°±æ˜¯åˆ«äººçš„ç”µè„‘é‡Œä¹Ÿè£…äº†pythonï¼Œå¹¶ä¸”è¦åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œpythonè§£é‡Šå™¨ï¼Œè¿™ä¸æ˜¯æˆ‘çš„æœ€ç»ˆç›®çš„ï¼Œå› æ­¤æ¥ä¸‹æ¥æ˜¯æŠŠpyæ–‡ä»¶â€œè½¬â€œæˆèƒ½åœ¨windowsç³»ç»Ÿä¸­è¿è¡Œçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè¿™é‡Œç”¨å…¸å‹çš„pythonæ‰“åŒ…åº“pyinstallerã€‚å› ä¸ºpyinstallerä¸æ˜¯è‡ªå¸¦çš„pythonåº“ï¼Œæ‰€ä»¥éœ€è¦å•ç‹¬å®‰è£…ã€‚ 1234# åœ¨windowså‘½ä»¤è¡Œçš„å¯¹åº”æ–‡ä»¶è·¯å¾„ä¸‹ï¼ˆæˆ‘æ˜¯windowsç¯å¢ƒä¸‹å¼€å‘çš„ï¼‰pip install pyinstallerpyinstaller -w -D -n Codon -i bitbug_favicon.ico codon.py pyinstallerå‚æ•°ï¼š -w æŒ‡å®šç¨‹åºè¿è¡Œæ—¶ä¸æ˜¾ç¤ºå‘½ä»¤è¡Œçª—å£ï¼ˆç¾è§‚èµ·è§ï¼Œå‘ç»™åˆ«äººç”¨å°±åŠ è¿™ä¸ªå‚æ•°ï¼‰ -D äº§ç”Ÿä¸€ä¸ªç›®å½•ä½œä¸ºå¯æ‰§è¡Œç¨‹åºï¼ˆå¦‚æœæƒ³éƒ½æ‰“åŒ…è¿›ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„è¯ï¼Œç”¨å‚æ•°-Fï¼Œè¿è¡Œèµ·æ¥ä¼šå¾ˆæ…¢ï¼ï¼‰ -n æŒ‡å®šé¡¹ç›®åç§° -i æŒ‡å®šå¯æ‰§è¡Œæ–‡ä»¶å›¾æ ‡ï¼Œicoæ ¼å¼ â€“hidden-impor å¦‚æœæœ‰éšè—å¯¼å…¥é¡¹ï¼ˆéæ ‡å‡†åº“ï¼‰çš„æ—¶å€™éœ€è¦æ‰‹åŠ¨åŠ å…¥ pyinstallerå®‰è£…åå¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œå¦‚æœæç¤ºè¯¥å‘½ä»¤ä¸æ˜¯ç³»ç»Ÿå‘½ä»¤çš„è¯ï¼Œéœ€è¦æŠŠå¯¹åº”çš„exeæ–‡ä»¶è·¯å¾„å†™åˆ°ç¯å¢ƒå˜é‡ä¸­ã€‚ æ‰“åŒ…åä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆspecåç¼€çš„æ‰“åŒ…é…ç½®æ–‡ä»¶ï¼Œåä¸ºbuildçš„ä¸­é—´æ–‡ä»¶ï¼Œè¿˜æœ‰distâ€”â€”æœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶æ‰€åœ¨ç›®å½•ã€‚æˆ‘ä»¬æ‰“åŒ…çš„å¯æ‰§è¡Œç¨‹åºå°±åœ¨distä¸­ã€‚ è¿™é‡Œæ‰“åŒ…ä»¥åè¿˜è¦æ³¨æ„ï¼Œpyè„šæœ¬ä¸­å¯¼å…¥çš„å›¾ç‰‡ä¸ä¼šè¢«æ‰“åŒ…ï¼Œæ‰¾åˆ°exeæ–‡ä»¶ï¼Œæ ¹æ®è„šæœ¬ä¸­å†™çš„å¯¼å…¥å›¾ç‰‡çš„ç›¸å¯¹è·¯å¾„ï¼Œåˆ›å»ºæ–‡ä»¶å¤¹picå¹¶ä¸”æŠŠå›¾ç‰‡ä¸€èµ·ä¸¢è¿›å»ã€‚è¿˜å¯ä»¥é¡ºä¾¿æŠŠè‡ªå·±çš„æµ‹è¯•æ–‡ä»¶ä¹Ÿåˆ›ä¸ªtestæ–‡ä»¶å¤¹ä¸¢è¿›å»ã€‚ æœ€ç»ˆæ•´ä¸ªæ–‡ä»¶å¤¹æ‰“åŒ…åçš„å¤§å°ä¸º25.6Mbâ€¦â€¦æ€ä¹ˆè¯´å‘¢ï¼Œpythonå†™çš„ä»£ç è½¬æˆexeæ–‡ä»¶ä½“é‡å°±æ˜¯ä¼šå¾ˆå¤§ï¼Œç›¸æ¯”ä¹‹ä¸‹åŸæ¥çš„ä¸€ä¸ªä¾èµ–å°±è¦37Mbï¼Œå·²ç»å¥½å¾ˆå¤šäº†â€¦â€¦ æ—¢ç„¶éƒ½åšåˆ°è¿™ä¸€æ­¥äº†ï¼Œé¡ºä¾¿å°±æŠŠæ•´ä¸ªæ–‡ä»¶å¤¹å†æ‰“åŒ…æ‰“åŒ…åšä¸ªwindowså®‰è£…åŒ…ï¼ˆè™½ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ‰“åŒ…æˆå‹ç¼©åŒ…ï¼Œä½†æ˜¯å°‘äº†ç‚¹ä»ªå¼æ„Ÿï¼‰ï¼Œéº»é›€è™½å°äº”è„ä¿±å…¨ï¼Œä½“éªŒä¸‹æµç¨‹~ åˆ¶ä½œwindowså®‰è£…åŒ…è¦ç”¨åˆ°ä¸¤ä¸ªè½¯ä»¶ï¼š NSISâ€”â€”å¼€æºçš„Windowsç³»ç»Ÿå®‰è£…ç¨‹åºåˆ¶ä½œå·¥å…·ï¼Œç›¸å½“äºä¸€é—¨è„šæœ¬è¯­è¨€ï¼Œæè¿°å®‰è£…ç¨‹åºçš„è¡Œä¸ºå’Œé€»è¾‘ HM NIS Editâ€”â€”NSISç¼–è¾‘å™¨ï¼Œä»¥å‘å¯¼çš„æ–¹å¼è‡ªåŠ¨ç”ŸæˆNSISè„šæœ¬ï¼Œå†é€šè¿‡NSISç¼–è¯‘æˆwindowså®‰è£…åŒ… è¿™ä¸¤ä¸ªè½¯ä»¶å°±åƒå’±å­¦ç”Ÿä¿¡ç”¨åˆ°çš„Rå’ŒRstudioï¼Œæ²¡å•¥å¥½è¯´çš„ï¼Œåœ¨åè€…åˆ›å»ºä¸€ä¸ªè„šæœ¬å‘å¯¼ï¼Œåªè¦ç‚¹ç‚¹é€‰æ‹©æŒ‰é’®å°±å¯ä»¥å®šåˆ¶è‡ªå·±ç¨‹åºçš„å®‰è£…å’Œå¸è½½è¿‡ç¨‹ä»¥åŠé€»è¾‘äº†ï¼Œä¸éœ€è¦ä¸“é—¨å»å­¦è¿™ä¸ªè„šæœ¬è¯­è¨€ï¼Œéå¸¸æ–¹ä¾¿ã€‚ ä¸‹è½½å’Œä½¿ç”¨è¿‡ç¨‹CSDNä¸Šæœ‰è¯¦ç»†çš„æ¯ä¸€æ­¥æµç¨‹ï¼Œæ”¾ä¸ªé“¾æ¥ï¼Œä¸é‡å¤é€ è½®å­ã€‚Windowsä¸‹ä½¿ç”¨Pyinstalleråšæˆå®¢æˆ·ç«¯å®‰è£…åŒ…_ ç§è¿™å®‰è£…ç•Œé¢ï¼Œæ˜¯ä¸æ˜¯æœ‰é‚£å‘³å„¿äº†~ è½¯ä»¶å®‰è£…åŒ…é¡ºä¾¿åœ¨è¿™é‡Œä¹Ÿå¤‡ä»½ä¸€ä¸ªï¼Œå¯ä»¥ç›´æ¥åœ¨windowsç³»ç»Ÿä¸­å®‰è£…ä½¿ç”¨ï¼Œä»¥åæœ‰ç©ºå†åšç•Œé¢çš„ç¾åŒ–å’Œå…¶ä»–æ–°åŠŸèƒ½ã€‚ç‚¹å‡»è¿™é‡Œè·å–å®‰è£…åŒ… 2023&#x2F;09&#x2F;04 æ›´æ–°æˆ‘çœŸçš„æ˜¯è„‘å­æŠ½äº†ç”¨äº†äºŒåå‡ ä¸ªåˆ¤æ–­â€¦â€¦æ—¢ç„¶å†™äº†æ ‡å‡†å¯†ç å­è¡¨ï¼Œåªè¦åˆ¤æ–­æ˜¯ä¸æ˜¯åœ¨condon_tableä¸­å¹¶ä¸”è¾“å‡ºkeyå€¼å°±å¯ä»¥äº†ï¼Œåé¢è¾“å‡ºæ ¼å¼éƒ½æ˜¯ä¸€æ ·çš„â€¦â€¦é¡ºä¾¿ä¼˜åŒ–äº†ä¸€ä¸‹ä»£ç ï¼Œæœ‰åºå­—å…¸ä¹Ÿä¸ç”¨äº†ã€‚ æœç„¶ä»£ç è¿˜æ˜¯è¦å¤šç»ƒï¼Œè¶Šçœ‹è¶Šä¸å¯¹åŠ²ï¼Œä»¥åå°½é‡é¿å…â€œé¢å‘ç»“æœç¼–ç¨‹â€çš„é”™è¯¯ &#x3D; &#x3D; 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222from tkinter import *from tkinter import filedialog, messageboxfrom tkinter.scrolledtext import ScrolledTextimport timeimport refile_name = &#x27;&#x27;codon_table = &#123; &#x27;Ala&#x27;:[&#x27;GCG&#x27;,&#x27;GCA&#x27;,&#x27;GCT&#x27;,&#x27;GCC&#x27;], &#x27;Cys&#x27;:[&#x27;TGT&#x27;,&#x27;TGC&#x27;], &#x27;Asp&#x27;:[&#x27;GAT&#x27;,&#x27;GAC&#x27;], &#x27;Glu&#x27;:[&#x27;GAG&#x27; ,&#x27;GAA&#x27;], &#x27;Phe&#x27;:[&#x27;TTT&#x27; ,&#x27;TTC&#x27;], &#x27;Gly&#x27;:[&#x27;GGG&#x27;,&#x27;GGA&#x27;,&#x27;GGT&#x27;,&#x27;GGC&#x27;], &#x27;His&#x27;:[&#x27;CAT&#x27;,&#x27;CAC&#x27;], &#x27;Ile&#x27;:[&#x27;ATA&#x27;,&#x27;ATT&#x27;,&#x27;ATC&#x27;], &#x27;Lys&#x27;:[&#x27;AAG&#x27;,&#x27;AAA&#x27;], &#x27;Leu&#x27;:[&#x27;TTG&#x27;,&#x27;TTA&#x27;,&#x27;CTG&#x27;,&#x27;CTA&#x27;,&#x27;CTT&#x27;,&#x27;CTC&#x27;], &#x27;Met&#x27;:[&#x27;ATG&#x27;], &#x27;Asn&#x27;:[&#x27;AAT&#x27;,&#x27;AAC&#x27;], &#x27;Pro&#x27;:[&#x27;CCG&#x27;,&#x27;CCA&#x27;,&#x27;CCT&#x27;,&#x27;CCC&#x27;], &#x27;Gln&#x27;:[&#x27;CAG&#x27;,&#x27;CAA&#x27;], &#x27;Arg&#x27;:[&#x27;AGG&#x27;,&#x27;AGA&#x27;,&#x27;CGG&#x27;,&#x27;CGA&#x27;,&#x27;CGA&#x27;,&#x27;CGT&#x27;,&#x27;CGC&#x27;], &#x27;Ser&#x27;:[&#x27;AGT&#x27;,&#x27;AGC&#x27;,&#x27;TCG&#x27;,&#x27;TCA&#x27;,&#x27;TCT&#x27;,&#x27;TCC&#x27;], &#x27;Thr&#x27;:[&#x27;ACG&#x27;,&#x27;ACA&#x27;,&#x27;ACT&#x27;,&#x27;ACC&#x27;], &#x27;Val&#x27;:[&#x27;GTG&#x27;,&#x27;GTA&#x27;,&#x27;GTT&#x27;,&#x27;GTC&#x27;], &#x27;Trp&#x27;:[&#x27;TGG&#x27;], &#x27;Tyr&#x27;:[&#x27;TAT&#x27;,&#x27;TAC&#x27;], &#x27;*&#x27;:[&#x27;TGA&#x27;,&#x27;TAG&#x27;,&#x27;TAA&#x27;]&#125;# è¯»å…¥fastaåºåˆ—ï¼ˆä»£æ›¿SeqIO.parseï¼‰def fasta_generator(file_path): with open(file_path, &#x27;r&#x27;) as file: first_line = file.readline().strip() if not first_line.startswith(&#x27;&gt;&#x27;): # ç»™ä¸€ä¸ªfastaæ ¼å¼åˆ¤æ–­ raise ValueError(&#x27;Invalid file format&#x27;) sequence_id = first_line[1:] # å‚¨å­˜å½“å‰åºåˆ—åç§° sequence = &#x27;&#x27; # å‚¨å­˜å½“å‰åºåˆ—å†…å®¹ for line in file: line = line.strip() if line.startswith(&#x27;&gt;&#x27;): # &gt;å¼€å¤´ä¸ºåºåˆ—åç§°è¡Œ if sequence_id: # å¦‚æœå·²å­˜åœ¨åºåˆ—åç§°ï¼Œè¿”å›ä¸Šä¸€ä¸ªåºåˆ—åç§°å’Œå†…å®¹ yield &#123;&#x27;id&#x27;: sequence_id, &#x27;seq&#x27;: sequence&#125; sequence_id = line[1:] sequence = &#x27;&#x27; else: # å¦åˆ™ï¼Œè¡Œä¸ºåºåˆ—å†…å®¹ sequence += line if sequence_id: # å¤„ç†å®Œæœ€åä¸€ä¸ªåºåˆ—ï¼Œè¿”å›æœ€åä¸€ä¸ªåºåˆ—åç§°å’Œå†…å®¹ yield &#123;&#x27;id&#x27;: sequence_id, &#x27;seq&#x27;: sequence&#125;class MY_GUI(): # åˆå§‹åŒ–å‡½æ•°ï¼Œå®šä¹‰å®ä¾‹çš„å±æ€§ def __init__(self,init_window_name): self.init_window_name = init_window_name self.image_file = None # PhotoImageæ²¡æœ‰å¼•ç”¨ä¼šè‡ªåŠ¨é”€æ¯ï¼Œè¿™é‡Œéœ€è¦æ˜¾ç¤ºå¼•ç”¨ # å®šä¹‰ä¸€ä¸ªç±»æ–¹æ³•ï¼Œè®¾ç½®çª—å£ def set_init_window(self): self.init_window_name.title(&quot;å¯†ç å­ç»Ÿè®¡å·¥å…·_v1.0&quot;) self.init_window_name.geometry(&#x27;1048x680+400+150&#x27;) # 1068x681çª—å£å¤§å°ï¼Œ+æ¨ªåæ ‡ +çºµåæ ‡ å®šä¹‰çª—å£å¼¹å‡ºæ—¶çš„é»˜è®¤å±•ç¤ºä½ç½® self.init_window_name.attributes(&quot;-alpha&quot;,1) # è™šåŒ–ï¼Œå€¼è¶Šå°è™šåŒ–ç¨‹åº¦è¶Šé«˜ self.init_window_name.iconbitmap(&#x27;d:/zhuomian/python/myscript/codon/codonæºç /bitbug_favicon.ico&#x27;) self.init_window_name.resizable(0,0) # ç¦æ­¢æ”¹å˜çª—å£å¤§å° canvas = Canvas(self.init_window_name, width=1024, height=680, bg=None) self.image_file = PhotoImage(file=&quot;d:/zhuomian/python/myscript/codon/codonæºç /bg.gif&quot;) self.resized_image = self.image_file.zoom(2, 2) canvas.create_image(520, 35, anchor=&#x27;n&#x27;, image=self.resized_image) canvas.grid(row=0,rowspan = 20,column=0,columnspan=23) # æ ‡ç­¾ self.init_data_label = Label(self.init_window_name, text=&quot;å¯¼å…¥åºåˆ—&quot;) self.init_data_label.grid(row=0, column=0) self.result_data_label = Label(self.init_window_name, text=&quot;Number(Frequency)&quot;) self.result_data_label.grid(row=0, column=12) self.result_out_label = Label(self.init_window_name, text=&quot;Codon Usage results&quot;) self.result_out_label.grid(row=6,column=13) self.log_label = Label(self.init_window_name, text=&quot;è¿è¡Œæ—¥å¿—&quot;) self.log_label.grid(row=11, column=0) # æ–‡æœ¬æ¡† self.init_data_Text = ScrolledText(self.init_window_name, width=60, height=35) # åŸå§‹æ•°æ®å½•å…¥æ¡† self.init_data_Text.grid(row=1, column=0, rowspan=10, columnspan=10, padx=20,pady=5) self.init_data_Text.bind(&#x27;&lt;KeyPress&gt;&#x27;, lambda f: &#x27;break&#x27;) # ç»‘å®šäº‹ä»¶ç¦æ­¢é”®å…¥ self.log_data_Text = ScrolledText(self.init_window_name, width=60, height=9,) # æ—¥å¿—æ¡† self.log_data_Text.grid(row=12, column=0, rowspan=5, columnspan=10,padx=20,pady=5) self.log_data_Text.bind(&#x27;&lt;KeyPress&gt;&#x27;, lambda f: &#x27;break&#x27;) self.result_data_Text = ScrolledText(self.init_window_name, width=60, height=20, wrap=&#x27;none&#x27;) # é¢‘æ•°é¢‘ç‡å±•ç¤º self.result_data_Text.grid(row=1, column=12, rowspan=5, columnspan=10, padx=10,pady=5) self.result_data_Text.bind(&#x27;&lt;KeyPress&gt;&#x27;, lambda f: &#x27;break&#x27;) self.result_fre_Text = ScrolledText(self.init_window_name, width=40, height=20) # ç»“æœå±•ç¤º self.result_fre_Text.grid(row=7, column=12, rowspan=10, columnspan=10,padx=10,pady=5) self.result_fre_Text.bind(&#x27;&lt;KeyPress&gt;&#x27;, lambda f: &#x27;break&#x27;) # æŒ‰é’® self.load_file_button = Button(self.init_window_name, text = &quot;å¯¼å…¥fastaæ–‡ä»¶&quot;,borderwidth=2,relief=RAISED, command=self.select_file) # ç»‘å®šå†…éƒ¨å‘½ä»¤ self.load_file_button.grid(row=2, column=11) self.codon_count_button = Button(self.init_window_name, text=&quot;å¼€å§‹ç»Ÿè®¡&quot;,borderwidth=2,relief=RAISED,command=self.codon_count) self.codon_count_button.grid(row=3, column=11) self.export_count_button = Button(self.init_window_name, text=&quot;å¯¼å‡ºè¡¨æ ¼&quot;,borderwidth=2,relief=RAISED,command=self.export_count) self.export_count_button.grid(row=4, column=11) self.export_fre_button = Button(self.init_window_name, text=&quot;å¯¼å‡ºç»“æœ&quot;, borderwidth=2,relief=RAISED,command=self.export_fre) self.export_fre_button.grid(row=5,column=11) self.clean_button = Button(self.init_window_name, text=&#x27;æ¸…ç©ºçª—å£&#x27;, borderwidth=2,relief=RAISED,command=self.window_clean) self.clean_button.grid(row=6,column=11) # æ»šè½®ä¸ç»‘å®šï¼ˆScrolledTextåªå¸¦æœ‰å‚ç›´æ»šåŠ¨æ¡ï¼‰ self.scrollbar_x = Scrollbar(self.init_window_name, orient=HORIZONTAL) # åˆ›å»ºæ»šåŠ¨æ¡éƒ¨ä»¶ self.result_data_Text.config(xscrollcommand=self.scrollbar_x.set) # æ–‡æœ¬æ¡†-æ§åˆ¶-æ»šåŠ¨æ¡ self.scrollbar_x.config(command=self.result_data_Text.xview) # æ»šåŠ¨æ¡-æ§åˆ¶-æ–‡æœ¬æ¡† self.scrollbar_x.grid(row=5, column=12, rowspan=1,columnspan=10, sticky=&quot;ESW&quot;,padx=10) # è®¾ç½®æ»šåŠ¨æ¡ä½ç½® # å¯¼å…¥åºåˆ—åŠŸèƒ½å‡½æ•° def select_file(self): global file_name file_name = filedialog.askopenfilename(title=&quot;é€‰æ‹©æ–‡ä»¶&quot;) if file_name != &#x27;&#x27;: try: records = fasta_generator(file_name) number = 0 # è®¡æ•°ï¼Œå¯¼å…¥å¤šå°‘åºåˆ— for i in records: name = i[&#x27;id&#x27;] seq = i[&#x27;seq&#x27;] if len(seq)&gt;48: seq = seq[:45] + &#x27;...&#x27; + seq[-3:] self.init_data_Text.insert(END,f&quot;Name:&#123;name&#125;\\nSeq:&#x27;&#123;seq&#125;&#x27;\\n&quot;) number += 1 self.write_log_to_Text(f&quot;INFO:fastaæ–‡ä»¶å¯¼å…¥æˆåŠŸï¼å…±åŠ è½½&#123;number&#125;æ¡åºåˆ—ã€‚&quot;) except: messagebox.showerror(&quot;ERROR&quot;, &quot;è½½å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦ä¸ºfastaæ ¼å¼ï¼&quot;) self.write_log_to_Text(&quot;ERROR:è½½å…¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ ¼å¼ã€‚&quot;) # åˆ†æç»Ÿè®¡åŠŸèƒ½å‡½æ•° def codon_count(self): if file_name != &#x27;&#x27;: records = fasta_generator(file_name) CodonsDict = &#123;codon: 0 for codon_list in codon_table.values() for codon in codon_list&#125; # æ–°çš„å­—å…¸ï¼Œç»Ÿè®¡å¯†ç å­æ•°é‡ç”¨ # è¾“å‡ºè¡¨å¤´ self.result_data_Text.insert(END, f&quot;&#123;&#x27;Name&#x27;:&lt;15&#125;&quot;) for key in CodonsDict: self.result_data_Text.insert(END, f&#x27;&#123;key:&lt;12&#125;&#x27;) self.result_data_Text.insert(END,&#x27;\\n&#x27;) for i in records: # æ¯æ¡åºåˆ—åˆ¤æ–­ATGå¼€å¤´ï¼Œæ˜¯å¦æœ‰å±è”½åºåˆ—,é•¿åº¦æ˜¯å¦ä¸º3çš„å€æ•° if i[&#x27;seq&#x27;].startswith(&#x27;ATG&#x27;) and &#x27;N&#x27; not in i[&#x27;seq&#x27;] and len(i[&#x27;seq&#x27;]) % 3 ==0: for j in range(0, len(str(i[&#x27;seq&#x27;])), 3): codon = str(i[&#x27;seq&#x27;])[j:j+3] if codon in CodonsDict.keys(): CodonsDict[codon] +=1 else: self.write_log_to_Text(&quot;WARNING:åºåˆ—%så­˜åœ¨æœªè¯†åˆ«çš„å¯†ç å­ï¼Œè·³è¿‡ã€‚&quot; % (i[&#x27;id&#x27;])) break total = sum([CodonsDict[key] for key in CodonsDict.keys()]) name = i[&#x27;id&#x27;] self.result_data_Text.insert(END, f&#x27;&#123;name:&lt;15&#125;&#x27;) # è¿™é‡Œçš„f-stringæ ¼å¼åŒ–è¾“å‡ºf&#x27;&#123;i[&#x27;id&#x27;]:&lt;15&#125;&#x27;ä¼šæŠ¥é”™ï¼Œæ‰€ä»¥ç”¨äº†ä¸ªå˜é‡nameä»£æ›¿ self.result_fre_Text.insert(END,&#x27;Results for %d residue sequence &quot;%s&quot;:\\n\\nAA\\tCodon\\tNumber\\tFrequency\\n\\n&#x27; % (total, name)) # è®¡ç®—é¢‘ç‡ for key, value in CodonsDict.items(): frequency = &#x27;%.2f&#x27; % (value * 3000 / total) content = &#x27;%d(%s)&#x27; % (value, frequency) self.result_data_Text.insert(END,f&#x27;&#123;content:&lt;12&#125;&#x27;) # ç»“æœæ–‡æœ¬æ¡†å†…çš„è¾“å‡º for key_, value_ in codon_table.items(): if key in value_: AA = key_ self.result_fre_Text.insert(END, &#x27;%s\\t%s\\t%d\\t%s\\n&#x27; % (AA, key, value, frequency)) self.result_fre_Text.insert(END,&#x27;\\n----------------------------------------\\n&#x27; ) self.result_data_Text.insert(END,&#x27;\\n&#x27;) else: self.write_log_to_Text(&quot;WARNING:åºåˆ—%séATGå¼€å¤´/å­˜åœ¨å±è”½åºåˆ—/é3çš„å€æ•°ï¼Œè¯¥åºåˆ—å°†ä¸ä¼šå‡ºç°åœ¨ç»Ÿè®¡ç»“æœä¸­ã€‚&quot; % (i[&#x27;id&#x27;])) self.write_log_to_Text(&quot;INFO:ç»Ÿè®¡ç»“æŸ!&quot;) else: self.write_log_to_Text(&quot;ERROR:è¯·å…ˆè½½å…¥fastaæ–‡ä»¶ï¼&quot;) # å¯¼å‡ºé¢‘æ•°é¢‘ç‡ç»Ÿè®¡è¡¨ def export_count(self): content = self.result_data_Text.get(&#x27;1.0&#x27;, END) if &#x27;Name&#x27; not in content: self.write_log_to_Text(&quot;ERROR:è¯·å…ˆç‚¹å‡»â€œè½½å…¥fastaæ–‡ä»¶â€å¹¶ç‚¹å‡»â€œå¼€å§‹ç»Ÿè®¡â€æŒ‰é’®ï¼&quot;) else: try: count_file = filedialog.asksaveasfilename() count_file = count_file + &#x27;.csv&#x27; with open(count_file, &#x27;w&#x27;) as count: content = re.sub(r&quot;[^\\S\\r\\n]+&quot;,&#x27;,&#x27;,content) # æ­£åˆ™åŒ¹é…æ¢è¡Œç¬¦ä¹‹å¤–çš„æ‰€æœ‰ç©ºæ ¼ï¼Œå¤„ç†æˆcsvæ ¼å¼çš„è¾“å‡º count.write(content) self.write_log_to_Text(&quot;INFO:å¯†ç å­é¢‘æ•°é¢‘ç‡ç»Ÿè®¡è¡¨ä¿å­˜æˆåŠŸ!æ–‡ä»¶è·¯å¾„ï¼š%s&quot; % (count_file)) except: self.write_log_to_Text(&quot;ERROR:ERROR:å¯¼å‡ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰åŒåæ–‡ä»¶æœªå…³é—­ï¼&quot;) # å¯¼å‡ºç»“æœæ–‡ä»¶ def export_fre(self): content = self.result_fre_Text.get(&#x27;1.0&#x27;, END) if &#x27;Results&#x27; not in content: self.write_log_to_Text(&quot;ERROR:è¯·å…ˆç‚¹å‡»â€œè½½å…¥fastaæ–‡ä»¶â€å¹¶ç‚¹å‡»â€œå¼€å§‹ç»Ÿè®¡â€æŒ‰é’®ï¼&quot;) else: try: result_file = filedialog.asksaveasfilename() result_file = result_file + &#x27;.txt&#x27; with open(result_file, &#x27;w&#x27;) as out: out.write(content) self.write_log_to_Text(&quot;INFO:ç»“æœæ–‡ä»¶ä¿å­˜æˆåŠŸ!ä¿å­˜è·¯å¾„ï¼š%s&quot; % (result_file)) except: self.write_log_to_Text(&quot;ERROR:å¯¼å‡ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ˜¯å¦æœ‰åŒåæ–‡ä»¶æœªå…³é—­ï¼&quot;) # æ¸…ç©ºæ‰€æœ‰æ–‡æœ¬æ¡† def window_clean(self): self.init_data_Text.delete(1.0, END) self.log_data_Text.delete(1.0, END) self.result_data_Text.delete(1.0, END) self.result_fre_Text.delete(1.0, END) # æ—¥å¿—æ‰“å° def write_log_to_Text(self,logmsg): current_time = time.strftime(&#x27;%Y-%m-%d %H:%M:%S&#x27;,time.localtime(time.time())) logmsg_in = str(current_time) +&quot; &quot; + str(logmsg) + &quot;\\n&quot; self.log_data_Text.insert(END, logmsg_in)def gui_start(): init_window = Tk() GUI = MY_GUI(init_window) GUI.set_init_window() init_window.mainloop()gui_start()","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"tkinter","slug":"tkinter","permalink":"http://www.shelven.com/tags/tkinter/"},{"name":"pyinstaller","slug":"pyinstaller","permalink":"http://www.shelven.com/tags/pyinstaller/"},{"name":"å¯†ç å­ç»Ÿè®¡å·¥å…·","slug":"å¯†ç å­ç»Ÿè®¡å·¥å…·","permalink":"http://www.shelven.com/tags/%E5%AF%86%E7%A0%81%E5%AD%90%E7%BB%9F%E8%AE%A1%E5%B7%A5%E5%85%B7/"}]},{"title":"ATAC-seqå’ŒCUT&TagæŠ€æœ¯åŸç†å’Œå®éªŒæµç¨‹","slug":"ATAC-seqå’ŒCUT-TagæŠ€æœ¯åŸç†å’Œå®éªŒæµç¨‹","date":"2023-08-17T16:21:11.000Z","updated":"2023-08-17T16:24:01.000Z","comments":true,"path":"2023/08/18/a.html","link":"","permalink":"http://www.shelven.com/2023/08/18/a.html","excerpt":"å‰é˜µå­å»å…°å·å¼€å…¨å›½æ¤ç‰©ç”Ÿç‰©å­¦å¤§ä¼šï¼Œåšå®éªŒçš„å¸ˆå¼Ÿé—®äº†æˆ‘ä¸€ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ˜¯ATAC-seqï¼Ÿå› ä¸ºç‹èŒ‚å†›è€å¸ˆè¯¾é¢˜ç»„æœ‰åŒå­¦åœ¨åšCUT&amp;Tagï¼Œæˆ‘è„‘æµ·é‡Œç¬¬ä¸€ä¸ªå‡ºç°çš„ä¹Ÿæ˜¯CUT&amp;Tagï¼Œä¸¤è€…çš„ç ”ç©¶å†…å®¹è™½ç„¶ä¸åŒï¼Œä½†æ˜¯ä½¿ç”¨çš„åˆ†ææ–¹å¼æ˜¯éå¸¸ç›¸ä¼¼çš„ã€‚æ­£å¥½çœ‹åˆ°è²æ²™åŸºå› åšè¿‡è¿™ä¸¤ä¸ªæŠ€æœ¯çš„è®²åº§ï¼Œè¿™ç¯‡åšå®¢å°±æ•´ç†ä¸€ä¸‹ä»‹ç»è¿™ä¸¤ä¸ªæŠ€æœ¯ä»¥åŠè¡ç”ŸæŠ€æœ¯çš„åˆ†æåŸç†ï¼ŒåŠ æ·±ä¸‹è‡ªå·±çš„ç†è§£ï¼Œè¯¦ç»†çš„åˆ†ææµç¨‹ç•™åˆ°ä»¥åéœ€è¦åšçš„æ—¶å€™å†è®°å½•ã€‚","text":"å‰é˜µå­å»å…°å·å¼€å…¨å›½æ¤ç‰©ç”Ÿç‰©å­¦å¤§ä¼šï¼Œåšå®éªŒçš„å¸ˆå¼Ÿé—®äº†æˆ‘ä¸€ä¸ªé—®é¢˜ï¼šä»€ä¹ˆæ˜¯ATAC-seqï¼Ÿå› ä¸ºç‹èŒ‚å†›è€å¸ˆè¯¾é¢˜ç»„æœ‰åŒå­¦åœ¨åšCUT&amp;Tagï¼Œæˆ‘è„‘æµ·é‡Œç¬¬ä¸€ä¸ªå‡ºç°çš„ä¹Ÿæ˜¯CUT&amp;Tagï¼Œä¸¤è€…çš„ç ”ç©¶å†…å®¹è™½ç„¶ä¸åŒï¼Œä½†æ˜¯ä½¿ç”¨çš„åˆ†ææ–¹å¼æ˜¯éå¸¸ç›¸ä¼¼çš„ã€‚æ­£å¥½çœ‹åˆ°è²æ²™åŸºå› åšè¿‡è¿™ä¸¤ä¸ªæŠ€æœ¯çš„è®²åº§ï¼Œè¿™ç¯‡åšå®¢å°±æ•´ç†ä¸€ä¸‹ä»‹ç»è¿™ä¸¤ä¸ªæŠ€æœ¯ä»¥åŠè¡ç”ŸæŠ€æœ¯çš„åˆ†æåŸç†ï¼ŒåŠ æ·±ä¸‹è‡ªå·±çš„ç†è§£ï¼Œè¯¦ç»†çš„åˆ†ææµç¨‹ç•™åˆ°ä»¥åéœ€è¦åšçš„æ—¶å€™å†è®°å½•ã€‚ 1. ATAC-SeqATAC-seqå…¨ç§°Assay for Transposase Accessible Chromatin with high-throughput sequencingï¼Œç¿»è¯‘ä¸ºè½¬åº§é…¶å¯åŠæŸ“è‰²è´¨çš„é«˜é€šé‡æµ‹åºåˆ†æï¼Œç®€å•æ¥è¯´è¿™ä¸ªæŠ€æœ¯æ˜¯è¿ç”¨è½¬åº§é…¶è·å–å¼€æ”¾æŸ“è‰²è´¨åŒºï¼Œç„¶åé€šè¿‡é«˜é€šé‡æµ‹åºæŠ€æœ¯å’Œç”Ÿç‰©ä¿¡æ¯å­¦æŒ–æ˜ç›¸å…³çš„åŸºå› ä¿¡æ¯ï¼Œè§£å†³ç”Ÿç‰©å­¦ç›¸å…³é—®é¢˜ã€‚ 1.1 èƒŒæ™¯ä»‹ç»ä»€ä¹ˆæ˜¯å¼€æ”¾æŸ“è‰²è´¨ï¼Ÿåœ¨å‰é¢ä»‹ç»ä¸‰ç»´åŸºå› ç»„çš„åšå®¢ä¸­ï¼Œä»‹ç»äº†çœŸæ ¸ç”Ÿç‰©çš„æŸ“è‰²è´¨ç»“æ„ç”±ä½çº§åˆ°é«˜çº§å¯ä»¥åˆ†ä¸º4ç§ï¼ŒæŸ“è‰²ä½“çš„åŸºæœ¬ç»“æ„å•ä½æ˜¯æ ¸å°ä½“ï¼Œæ ¸å°ä½“ä¸²ç ç»“æ„èºæ—‹åŒ–ï¼ˆä¹Ÿå°±æ˜¯ä¸æ–­åœ°å‹ç¼©æŠ˜å ï¼‰å½¢æˆäº†ç›´å¾„ä¸º30nmçš„æŸ“è‰²è´¨çº¤ç»´ï¼Œç»†èƒæ ¸å†…å¤§å¤šæ•°æŸ“è‰²è´¨éƒ½æ˜¯ä»¥è¿™ç§æŸ“è‰²è´¨çº¤ç»´çš„å½¢å¼å­˜åœ¨çš„ã€‚ æˆ‘ä»¬çŸ¥é“DNAçš„å¤åˆ¶å’Œè½¬å½•è¿‡ç¨‹éœ€è¦å°†æŸ“è‰²è´¨ç´§å¯†çš„ç»“æ„æ‰“å¼€ï¼ˆæ‰“å¼€çš„è¿‡ç¨‹ä¸ç»„è›‹ç™½ä¹™é…°åŒ–æœ‰å¯†åˆ‡è”ç³»ï¼Œç»„è›‹ç™½ä¹™é…°åŒ–ä½¿ç»„è›‹ç™½æºå¸¦çš„æ­£ç”µè·å‡å°‘ï¼Œå‰Šå¼±äº†ç»„è›‹ç™½ä¸DNAç»“åˆçš„èƒ½åŠ›ï¼Œä»è€Œä½¿æŸ“è‰²è´¨åŒºåŸŸçš„ç»“æ„ä»ç´§å¯†å˜å¾—æ¾æ•£ï¼‰ï¼Œè¿™éƒ¨åˆ†æ‰“å¼€åç»“æ„ç–æ¾çš„æŸ“è‰²è´¨å°±æ˜¯å¼€æ”¾æŸ“è‰²è´¨ï¼ˆopen chromatinï¼‰ï¼Œå½“æŸ“è‰²è´¨æ‰“å¼€åï¼Œæš´éœ²çš„DNAåºåˆ—å°±æœ‰è¶³å¤Ÿçš„ç©ºé—´å’Œè½¬å½•å› å­ï¼ˆTranscription factorsï¼ŒTFï¼‰ç»“åˆï¼Œè¿›è€Œè°ƒæ§åŸºå› çš„è¡¨è¾¾ã€‚ è¿™ç§å…è®¸é¡ºå¼è°ƒæ§å…ƒä»¶å’Œåå¼ä½œç”¨å› å­ç»“åˆï¼Œä¹Ÿå°±æ˜¯å…è®¸ä¸æŸ“è‰²è´¨è¿›è¡Œç‰©ç†æ¥è§¦çš„ç¨‹åº¦å°±æ˜¯æŸ“è‰²è´¨çš„å¯æ¥è¿‘æ€§ï¼ˆchromatin accessibilityï¼‰ï¼Œä¹Ÿç§°ä¸ºæŸ“è‰²è´¨å¯åŠæ€§ã€‚ å¦‚ä½•æ£€æµ‹æŸ“è‰²è´¨å¼€æ”¾åŒºï¼Ÿç®€å•è¯´ä¸€ä¸‹å‡ ä¸ªå¸¸ç”¨çš„æ£€æµ‹æŸ“è‰²è´¨å¼€æ”¾åŒºçš„æ–¹æ³•ã€‚ ä¸€ç§æ˜¯ä¼ ç»Ÿçš„ä½¿ç”¨DNAé…¶çš„å®éªŒæ–¹æ³•MNase-seqå’ŒDnase-seqã€‚ä¸¤è€…çš„æ€è·¯éƒ½æ˜¯å°†å¼€æ”¾æŸ“è‰²è´¨åŒºçš„DNAç”¨DNAé…¶é…¶åˆ‡åè¿›è¡Œé«˜é€šé‡æµ‹åºã€‚å‰è€…ç”¨çš„æ˜¯é™åˆ¶æ€§å¤–åˆ‡é…¶ï¼Œå°†ä¸å—æ ¸å°ä½“ä¿æŠ¤çš„åŒºåŸŸåˆ‡é™¤ï¼Œåªç•™ä¸‹æ ¸å°ä½“ä¸Šç¼ ç»•çš„DNAåºåˆ—ï¼›åè€…ç”¨çš„é™åˆ¶æ€§å†…åˆ‡é…¶ï¼Œå°†å—æ ¸å°ä½“ä¿æŠ¤çš„åŒºåŸŸåˆ‡é™¤ï¼Œç•™ä¸‹æ ¸å°ä½“ä¹‹é—´çš„åºåˆ—ã€‚ å¦ä¸€ç§æ˜¯åŸºäºé…šæ°¯ä»¿æŠ½æçš„æŠ€æœ¯FAIRE-seqæŠ€æœ¯ï¼Œè¶…å£°æ³¢ç ´ç¢ç”²é†›å›ºå®šçš„æŸ“è‰²è´¨ï¼Œé…šæ°¯ä»¿æŠ½æå¾—åˆ°çš„ä¸Šå±‚æ°´ç›¸è®¤ä¸ºæ˜¯æ½œåœ¨çš„å¼€æ”¾æŸ“è‰²è´¨åŒºï¼Œé’ˆå¯¹æŠ½æå¾—åˆ°çš„ç‰‡æ®µåŒ–å¼€æ”¾æ€§æŸ“è‰²è´¨åŒºè¿›è¡Œå»ºåº“æµ‹åºã€‚ è¿˜æœ‰ä¸€ç§å°±æ˜¯ç»å…¸çš„ç ”ç©¶è›‹ç™½ä¸DNAäº’ä½œçš„ChIP-seqæŠ€æœ¯ï¼Œå› ä¸ºéœ€è¦åˆ¶ä½œå¯¹åº”çš„è½¬å½•å› å­çš„æŠ—ä½“å»æ‹‰DNAï¼Œæ‰€ä»¥è¯¥æŠ€æœ¯åªèƒ½æ ¹æ®æ˜ç¡®çš„è½¬å½•å› å­æ¥æ£€æµ‹è¯¥è½¬å½•å› å­ä¸DNAçš„äº’ä½œï¼Œå±€é™æ€§æ¯”è¾ƒå¤§ï¼Œè¿™é‡Œå°±æä¸€ä¸‹ä¸æ”¾åœ¨ä¸€èµ·æ¯”è¾ƒäº†ã€‚ æœ€åå°±æ˜¯ATAC-seqæŠ€æœ¯ï¼Œä¾èµ–æ”¹é€ çš„Tn5è½¬åº§é…¶ï¼ˆè½¬åº§DNAè®¾è®¡ä¸ºæµ‹åºæ¥å¤´ï¼‰å°†æµ‹åºæ¥å¤´å¼•å…¥æŸ“è‰²è´¨å¼€æ”¾åŒºï¼Œå¯¹é…¶åˆ‡åçš„DNAç‰‡æ®µè¿›è¡Œå¯Œé›†ï¼Œæœ€åé€šè¿‡PCRæ‰©å¢åè¿›è¡Œé«˜é€šé‡æµ‹åºã€‚å¦ä¸€æ–¹é¢ï¼Œè½¬åº§é…¶è¿˜å¯ä»¥åˆ‡å‰²å¼€æ”¾åŒºæŸ“è‰²è´¨é™„è¿‘çš„æ ¸å°ä½“é—´è¿æ¥åŒºDNAï¼Œç®€å•æ¥è¯´å¯ä»¥å¾—åˆ°MNase-seqå’ŒDnase-seqä¸¤ç§æŠ€æœ¯çš„ç»“æœã€‚ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥æ¯”è¾ƒä¸€ä¸‹è¿™å‡ ç§æ£€æµ‹æŸ“è‰²è´¨å¼€æ”¾åŒºæŠ€æœ¯çš„æ£€æµ‹èŒƒå›´å’Œçµæ•åº¦ï¼š ç ”ç©¶æ–¹æ³• ç»†èƒæ•°é‡ è·å–æ–¹å¼ ä¼˜ç‚¹ ç¼ºç‚¹ DNase-seq 1*10^7 DNase â… åˆ‡å‰²ä¸å—ä¿æŠ¤çš„DNAåºåˆ— å•ç¢±åŸºå¯¹çš„é…¶åˆ‡ä½ç‚¹åˆ†è¾¨ç‡ é…¶ç”¨é‡è¦å‡†ç¡®æ§åˆ¶ï¼Œåˆ‡å‰²æœ‰åå¥½æ€§ MNase-seq 1*10^7 MNaseä¼˜å…ˆåˆ‡å‰²å—ä¿æŠ¤çš„DNAåºåˆ— é…¶åˆ‡ç‰¹æ€§æœ‰è¾ƒé«˜åˆ†è¾¨ç‡ é…¶ç”¨é‡è¦å‡†ç¡®æ§åˆ¶ï¼Œåˆ‡å‰²æœ‰åå¥½æ€§ FAIRE-seq 1*10^5~1*10^7 è¶…å£°æ³¢æ‰“æ–­æŸ“è‰²è´¨ æ— åæ€§åˆ†æï¼Œé‡å¤æ€§å¥½ ä¿¡å™ªæ¯”ä½ï¼Œæ•°æ®è§£è¯»å›°éš¾ ATAC-seq 5*10^2~5*10^4 æ”¹é€ çš„Tn5è½¬åº§é…¶åˆ‡å‰²å¼€æ”¾åŒºå¹¶æ’å…¥æµ‹åºæ¥å¤´ ç»†èƒéœ€æ±‚é‡å°‘ï¼Œå®éªŒæ—¶é—´çŸ­ï¼Œçµæ•åº¦é«˜ï¼Œé‡å¤æ€§å¥½ å®¹æ˜“å¼•å…¥çº¿ç²’ä½“æ±¡æŸ“ 1.2 å®éªŒæµç¨‹æ•´ä¸ªå®éªŒæµç¨‹å¯ä»¥åˆ†ä¸º6ä¸ªæ­¥éª¤ï¼š ç»†èƒæ‚¬æ¶²åˆ¶å¤‡ï¼ˆ500~50000ä¸ªç»†èƒï¼Œæœ€éš¾çš„ä¸€æ­¥ï¼‰ ç»†èƒè£‚è§£ï¼Œåˆ¶å¤‡ç»†èƒæ ¸ï¼ˆå®Œæ•´æ€§ååˆ†é‡è¦ï¼‰ Tn5é…¶åˆ‡ï¼Œ37â„ƒé…¶åˆ‡å­µè‚² DNAç‰‡æ®µçº¯åŒ–ï¼Œç£ç æ³•å›æ”¶ PCRæ‰©å¢12-15ä¸ªå¾ªç¯ ä¸Šæœºæµ‹åº ä¸Šé¢PCRæ‰©å¢è¿™ä¸€æ­¥çš„æµç¨‹ï¼Œå¯ä»¥çœ‹åˆ°Tn5é…¶åˆ‡è¿‡ç¨‹ä¸­ä¼šåœ¨ä¸Šä¸‹æ¸¸åˆ†åˆ«äº§ç”Ÿä¸€ä¸ªç¼ºå£ï¼Œå› æ­¤éœ€è¦72â„ƒå»¶ä¼¸çš„è¿‡ç¨‹æ¥è¡¥å¹³ç¼ºå£ã€‚å¼•å…¥barcoded primeræ˜¯ä¸ºäº†åŒºåˆ†ä¸åŒçš„æ ·å“ï¼ˆå•ç»†èƒæµ‹åºçš„è¯æ˜¯åŒºåˆ†ä¸åŒç±»å‹ç»†èƒï¼‰ã€‚ ä»ä¸Šé¢çš„å®éªŒæµç¨‹ä¹Ÿå¯ä»¥çœ‹å‡ºï¼ŒATAC-seqä¸­æ¯”è¾ƒé‡è¦çš„æ­¥éª¤æ˜¯ç»†èƒæ‚¬æ¶²åˆ¶å¤‡å’Œæå–å®Œæ•´çš„ç»†èƒæ ¸ï¼Œåœ¨ç»†èƒè£‚è§£å’Œæå–ç»†èƒæ ¸è¿‡ç¨‹ä¸­ï¼Œçº¿ç²’ä½“DNAå¯èƒ½ä¼šä¸æŸ“è‰²ä½“DNAä¸€èµ·è¢«æå–å’Œå¤„ç†ï¼Œä»è€Œå¼•å…¥çº¿ç²’ä½“æ±¡æŸ“ã€‚çº¿ç²’ä½“æ˜¯æ²¡æœ‰ç»„è›‹ç™½ä¿æŠ¤çš„ï¼Œå®¹æ˜“è¢«Tn5è½¬åº§é…¶åˆ‡å‰²ï¼ŒåŒæ—¶çº¿ç²’ä½“çš„æ‹·è´æ•°ä¹Ÿæ¯”æŸ“è‰²ä½“é«˜å¾ˆå¤šï¼Œå¦‚æœçº¿ç²’ä½“åœ¨å®éªŒè¿‡ç¨‹ä¸­æ²¡æœ‰å»é™¤ï¼Œå¾ˆå®¹æ˜“å¯¼è‡´çº¿ç²’ä½“DNAè¢«å¯Œé›†ï¼Œå½±å“æŸ“è‰²ä½“DNAæµ‹åºæ·±åº¦å’Œè¦†ç›–åº¦ã€‚ 1.3 ç”Ÿä¿¡åˆ†æè·å¾—ä¸‹æœºæ•°æ®åï¼Œå°±å¯ä»¥å¼€å§‹åšä¸Šä¸‹æ¸¸çš„ç”Ÿä¿¡åˆ†æã€‚å› ä¸ºæˆ‘è‡ªå·±æ²¡è·‘è¿‡è¿™ä¸ªæµç¨‹ï¼Œæ‰€ä»¥è¿™é‡Œä»¥è²æ²™åŸºå› æä¾›çš„æµç¨‹ä¸ºä¾‹ï¼Œç€é‡ä»‹ç»ATAC-seqæµç¨‹ä¸­äº§ç”Ÿçš„å›¾å¦‚ä½•è§£è¯»ï¼Œä»¥åŠæˆ‘ä»¬å¯ä»¥åšå“ªäº›ä¸‹æ¸¸åˆ†æã€‚ ä¸‹æœºæ•°æ®é¢„å¤„ç†æ‹¿åˆ°ä¸‹æœºæ•°æ®åé¦–å…ˆå»æ¥å¤´ï¼ˆadapter trimmingï¼‰ï¼Œç„¶åæ¯”å¯¹åˆ°å‚è€ƒåŸºå› ç»„ï¼ˆalignmentï¼‰ï¼Œå¯¹æ¯”å¯¹åå¾—åˆ°çš„bamæ–‡ä»¶è¿›è¡Œè¿‡æ»¤ï¼Œå…·ä½“è€Œè¨€æ˜¯æå–å¯é æ¯”å¯¹ã€å»é™¤PCRé‡å¤ï¼ˆæ¨èç”¨picardè½¯ä»¶ï¼‰ã€å»é™¤ç»†èƒå™¨æ±¡æŸ“ï¼ˆä¸»è¦æ˜¯çº¿ç²’ä½“å’Œå¶ç»¿ä½“ï¼‰è¿™ä¸‰æ­¥ã€‚è¿™äº›å¤„ç†æ–¹å¼éƒ½æ˜¯è€æœ‹å‹äº†ã€‚ æ•°æ®è´¨é‡è¯„ä¼°ATAC-seqæ•°æ®è´¨é‡è¯„ä¼°ä¸»è¦æ˜¯çœ‹ä¸¤ä¸ªå›¾ï¼Œä¸€ä¸ªæ˜¯æ’å…¥ç‰‡æ®µåˆ†å¸ƒå›¾ï¼ˆFragment Insertion Size Distributionï¼‰ï¼Œä¸€ä¸ªæ˜¯TSSå¯Œé›†å³°å›¾ã€‚ æ’å…¥ç‰‡æ®µåˆ†å¸ƒå›¾ ATAC-seqçš„æ’å…¥ç‰‡æ®µåˆ†å¸ƒæœ‰ç€éå¸¸é²œæ˜çš„ç‰¹ç‚¹ï¼Œä¸€èˆ¬æŠŠ&lt;100 bpçš„ç‰‡æ®µåŒºåŸŸç§°NFRï¼ˆNucleosome-Free Regionï¼‰ä¹Ÿå°±æ˜¯æ— æ ¸å°ä½“åŒºï¼Œè¿™éƒ¨åˆ†åŒºåŸŸä¹Ÿæ˜¯è½¬åº§é…¶æœ€å®¹æ˜“åˆ‡å‰²çš„åŒºåŸŸï¼Œæ¯éš”10.5 bpå°±æœ‰ä¸€ä¸ªå°é½¿ï¼Œå¯¹åº”DNAèºæ—‹ä¸€å‘¨çš„é—´è·ã€‚200 bpæœ‰ä¸€ä¸ªå³°å¯¹åº”çš„æ˜¯æ ¸å°ä½“å•ä½“çš„æ’å…¥ç‰‡æ®µé•¿åº¦ï¼Œå†è¿œç‚¹çš„400 bpå’Œ600 bpæœ‰ä¸¤ä¸ªå°å³°ï¼Œå¯¹åº”æ ¸å°ä½“äºŒèšä½“å’Œæ ¸å°ä½“ä¸‰èšä½“çš„æ’å…¥ç‰‡æ®µé•¿åº¦ã€‚ TSSå¯Œé›†å³°å›¾ è½¬å½•èµ·å§‹ä½ç‚¹(Transcription Start Site,TSS)æ˜¯æ²¡æœ‰æ ¸å°ä½“çš„ï¼Œæ‰€ä»¥åœ¨ATAC-seqè´¨æ§åˆ†æä¸­ï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°NFRåœ¨è½¬å½•èµ·å§‹ä½ç‚¹å¯Œé›†ã€‚ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œæˆ‘ä»¬é€‰æ‹©TSSä¸Šä¸‹æ¸¸3Kbçš„åŒºåŸŸï¼ŒNFR readsåœ¨TSSä½ç‚¹ä¸¤ä¾§æœ‰æ˜æ˜¾å¯Œé›†è¶‹åŠ¿ã€‚åº•ä¸‹çš„çƒ­å›¾ä¹Ÿæ˜¯åŒæ ·çš„æ„æ€ï¼Œæ¯ä¸€è¡Œè¡¨ç¤ºä¸€ä¸ªåŸºå› æˆ–è€…è½¬å½•æœ¬ï¼Œå›¾ä¸­çš„çº¢è‰²åŒºåŸŸä¹Ÿä¸ä¸€å®šè¦å»¶ä¼¸åˆ°åº•ï¼Œå› ä¸ºéƒ¨åˆ†TSSå¯èƒ½æ²¡æœ‰åœ¨è¿™ä¸ªæ—¶æœŸå¼€æ”¾ï¼Œè¿™æ˜¯å¾ˆæ­£å¸¸çš„ç°è±¡ã€‚ è¿™ä¸¤ä¸ªè´¨æ§æ­¥éª¤å¯ä»¥å…ˆåšç¬¬ä¸€ä¸ªï¼Œç¬¬äºŒä¸ªTSSå¯Œé›†å³°å›¾éœ€è¦åœ¨peak callingå’Œè½¬æ¢æ–‡ä»¶æ ¼å¼ä¸º.bwä¹‹åï¼Œä½¿ç”¨Deeptoolså·¥å…·ä½œå›¾ã€‚ Reads Shiftingè´¨æ§åè¿˜æœ‰ä¸€ä¸ªæ­¥éª¤æ˜¯è¿›è¡Œreads shiftingï¼Œå‰é¢è¯´è¿‡Tn5é…¶åˆ‡è¿‡ç¨‹ä¸­ä¼šåœ¨ä¸Šä¸‹æ¸¸äº§ç”Ÿä¸€ä¸ªç¼ºå£ï¼Œå› æ­¤éœ€è¦å°†æ­£é“¾æ­£å‘ç§»åŠ¨4bpï¼Œè´Ÿé“¾è´Ÿå‘ç§»åŠ¨5bpã€‚ è¿™ä¸€æ­¥åœ¨ACAT-seqçš„åŸæ–‡ä¸­æœ‰åšï¼Œä¸åšçš„è¯å¯¹å•ç¢±åŸºåˆ†è¾¨ç‡è¦æ±‚æ¯”è¾ƒé«˜çš„åˆ†ææ˜¯æœ‰å½±å“çš„ï¼ˆæ¯”å¦‚è½¬å½•å› å­è¶³è¿¹åˆ†æï¼Œä¸‹é¢çš„Motif Analysisä¼šè¯´ï¼‰ã€‚ Peak Callingpeak callingæ˜¯åç»­æ‰€æœ‰åˆ†æçš„åŸºç¡€ã€‚ç®€å•æ¥è¯´ï¼Œåœ¨å°†readsæ¯”å¯¹åˆ°å‚è€ƒåŸºå› ç»„åï¼Œå› ä¸ºè¿›è¡Œçš„æ˜¯pair-endæµ‹åºï¼Œä¸€å¯¹readsä¹‹é—´çš„åºåˆ—ä¸ºä¸€ä¸ªfragmentï¼Œç»Ÿè®¡æ¯ä¸ªç¢±åŸºä¸Šfragmentçš„æ•°é‡ä½œå›¾ï¼Œå“ªä¸ªåœ°æ–¹fragmentæ•°é‡å¤šï¼Œåœ¨ç»Ÿè®¡å›¾ä¸Šå°±ä¼šæ˜¾ç¤ºå‡ºä¸€ä¸ªå³°ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªpeakã€‚peak callingçš„è¿‡ç¨‹å°±æ˜¯æ£€æµ‹æŸ“è‰²è´¨å¼€æ”¾åŒºçš„fragmentå¯Œé›†ä¿¡å·ã€‚ è¿™ä¸€æ­¥ç”¨çš„è½¯ä»¶æœ‰æ¯”è¾ƒç»å…¸çš„MACS2ï¼Œè¿™ä¸ªè½¯ä»¶å¯ä»¥å¤„ç†ChIP-seqã€ATAC-seqã€CUT&amp;TAGç­‰ç­‰çš„æ•°æ®ï¼Œéœ€è¦è°ƒæ•´ä¸åŒçš„å‚æ•°ã€‚ä¸ChIP-seqä¸åŒï¼ŒATAC-seqçš„Tn5è½¬åº§é…¶é…¶åˆ‡çš„æ˜¯æŸ“è‰²è´¨å¼€æ”¾åŒºåŸŸï¼Œåœ¨TFç»“åˆåŒºåŸŸçš„DNAæ˜¯æ‹‰ä¸ä¸‹æ¥çš„ï¼ˆåæ˜ åœ¨å³°å›¾ä¸Šæ˜¯ä¸€ä¸ªè°·ï¼ŒChIP-seqæ˜¯ä¸€ä¸ªå³°ï¼‰ï¼Œå› æ­¤åœ¨è°ƒæ•´å³°å€¼åç§»ï¼ˆpeak shiftï¼‰çš„æ—¶å€™ï¼Œä¸€èˆ¬ç”¨shift-extendçš„æ–¹æ³•è¿›è¡Œåˆ†æï¼ŒATAC-seqéœ€è¦å‘å¤–shiftã€‚å¦‚ä¸‹å›¾ï¼š æ¯”å¦‚æˆ‘ä»¬æµ‹åºreadsé•¿åº¦æ˜¯150bpï¼Œä¸¤æ¡readsçš„5â€˜ç«¯ä»£è¡¨Tn5çš„é…¶åˆ‡ä½ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦å‘å¤–shift 75bpï¼Œè®©é…¶åˆ‡ä½ç‚¹å¤„äºreadsçš„ä¸­é—´ä½ç½®ï¼Œå†è¿›è¡Œpeak callingã€‚ ç”¨ä¸Šé¢çš„è½¯ä»¶è¿›è¡Œpeak callingåä¼šç”ŸæˆbedGraphæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯.bdgåç¼€çš„æ–‡ä»¶ï¼Œæ˜¯bedæ–‡ä»¶çš„ä¸€ç§æ‰©å±•ï¼Œå¯ä»¥åœ¨IGVåŸºå› ç»„æµè§ˆå™¨ä¸­æ‰“å¼€ï¼ˆå¯èƒ½ä¼šæ¯”è¾ƒå¡ï¼‰ï¼Œä¹Ÿå¯ä»¥å€ŸåŠ©UCSCçš„å·¥å…·bedGraphToBigWigè½¬æˆBigWigæ–‡ä»¶åï¼ˆ.bwåç¼€ï¼‰å†åˆ°IGVåŸºå› ç»„æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„ç»“æœæ–‡ä»¶æ˜¯.narrowPeakåç¼€çš„æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å¯¼å…¥IGVã€‚ ä»¥ä¸Šä¸Šæ¸¸åˆ†æçš„æ­¥éª¤å¯ä»¥å‚è€ƒATAC-seq data analysis: from FASTQ to peaks | Yiwei Niuâ€™s Noteã€‚ æ¥ä¸‹æ¥æ˜¯å¸¸è§çš„ä¸€äº›ä¸‹æ¸¸åˆ†æçš„æ–¹æ³•ã€‚ IDR Peakå¯¹äºä¸€ä¸ªæ ·æœ¬å¦‚æœåšäº†å¤šä¸ªé‡å¤ï¼Œå°±éœ€è¦å¯¹æ ·æœ¬çš„å¯é‡å¤æ€§è¿›è¡Œè¯„ä¼°ã€‚å¯ä»¥ç”¨ENCODEé¡¹ç›®çš„ä¸€ä¸ªè½¯ä»¶åŒ…Irreproducible Discovery Rate (IDR) ï¼Œå¯¼å…¥ä¸¤ä¸ªæ ·æœ¬çš„.narrowPeakç»“æœæ–‡ä»¶åä½œå›¾åˆ†æï¼Œè¿™ä¸ªè½¯ä»¶çš„ä½œç”¨æ˜¯è¯„ä¼°é‡å¤æ ·æœ¬é—´peakçš„ä¸€è‡´æ€§ï¼Œç”Ÿæˆçš„å›¾å¦‚ä¸‹ï¼š IDRç®—æ³•åŒæ—¶è€ƒè™‘äº†peaksé—´çš„overlapå’Œå¯Œé›†å€æ•°çš„ä¸€è‡´æ€§ã€‚ä¸Šé¢çš„å›¾æ‰€æœ‰çš„ç‚¹éƒ½æ˜¯ä¸¤ä¸ªæ ·æœ¬é—´ç›¸äº’overlapçš„peakï¼Œä¹Ÿå°±æ˜¯éƒ½æ˜¯å¯é‡å¤çš„ï¼Œçº¢ç‚¹ä»£è¡¨å¯Œé›†å€æ•°æ˜¯æœ‰å·®åˆ«çš„ï¼Œé»‘ç‚¹ä»£è¡¨å¯Œé›†å€æ•°æ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤é»‘ç‚¹æ•°é‡è¶Šå¤šè¶Šå¥½ã€‚ Peak Annotationæ‹¿åˆ°peakåï¼Œå¦‚æœæƒ³è¦çŸ¥é“è¿™äº›peakåœ¨åŸºå› ç»„çš„å“ªäº›åœ°æ–¹åˆ†å¸ƒåŠŸèƒ½æ˜¯ä»€ä¹ˆï¼Œå°±éœ€è¦å¯¹peakè¿›è¡Œæ³¨é‡Šï¼Œå¸¸ç”¨çš„æœ‰RåŒ…ChIPseekerã€‚ Motif Analysisè¿™ä¸€éƒ¨åˆ†èƒ½åšçš„åˆ†æè¿˜æ˜¯ç›¸å½“å¤šçš„ï¼Œåˆ—ä¸¾å‡ ä¸ªï¼š ä»å¤´é¢„æµ‹ï¼šé¢„æµ‹æ–°çš„motifï¼Œæ³¨é‡Šå·²å­˜åœ¨çš„motifã€‚è½¯ä»¶ï¼šMEME+Tomtom Motifæ‰«æï¼šé™¤äº†å¼€æ”¾æŸ“è‰²è´¨åŒºåŸŸï¼Œå¯»æ‰¾å…¶ä»–åºåˆ—æ‰€æœ‰motifçš„ä½ç½®ä¿¡æ¯ã€‚è½¯ä»¶ï¼šFIMO è½¬å½•å› å­å¯Œé›†ï¼šè½¯ä»¶AMEæˆ–è€…HOMER è½¬å½•å› å­è¶³è¿¹ï¼ˆTF FootPrintï¼‰ï¼šè½¬å½•å› å­å ä½æ•ˆåº”ï¼ˆè½¬å½•å› å­ç»“åˆåœ¨DNAä¸Šï¼Œé˜»æ­¢äº†Tn5é…¶åˆ‡ï¼Œåœ¨å¼€æ”¾æŸ“è‰²è´¨åŒºåŸŸç•™ä¸‹ä¸€ä¸ªç¼ºå¤±çš„ä½ç½®ï¼‰ï¼Œæ³¨æ„è¦è¿›è¡Œå‰é¢è¯´çš„reads shiftingã€‚è½¯ä»¶R&#x2F;centipade å¸¸ç”¨çš„motifæ•°æ®åº“ï¼š PlantTFDBï¼šPlantTFDB - Plant Transcription Factor Database @ CBI, PKU (gao-lab.org) JASPARï¼šJASPAR - A database of transcription factor binding profiles (genereg.net) MEMEï¼šDownload Releases - MEME Suite (meme-suite.org) TRANSFACï¼šGene Regulation (gene-regulation.com) HOCOMOCOï¼šHOmo sapiens COmprehensive MOdel COllection (autosome.org) Nucleosome positioningæ ¸å°ä½“å®šä½ï¼Œä»å‰é¢çš„æ’å…¥ç‰‡æ®µåˆ†å¸ƒå›¾å¯ä»¥çœ‹å‡ºï¼Œåœ¨ATAT-seqæ–‡åº“ä¸­ï¼Œæ ¸å°ä½“å•ä½“æ’å…¥ç‰‡æ®µæ•°é‡ç›¸æ¯”NFRæ˜æ˜¾å°‘å¾ˆå¤šï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›è½¯ä»¶æ¯”å¦‚NuleoATACå’ŒHMMRATACå¯ä»¥ç”¨äºæ ¸å°ä½“çš„å ä½åˆ†æã€‚ è”åˆåˆ†æ ChIP-seqï¼šç”±äºè½¬å½•å› å­çš„ç»“åˆåŒºåŸŸåœ¨æŸ“è‰²è´¨å¼€æ”¾åŒºï¼Œå› æ­¤ATAC-seqçš„peakå’ŒChIP-seqçš„peakä¹‹é—´å­˜åœ¨éƒ¨åˆ†é‡å ï¼Œå› æ­¤è¿™ä¸¤ä¸ªç»„å­¦è”ç”¨å¯ä»¥ç›¸äº’éªŒè¯ï¼Œè€Œè½¬å½•å› å­åœ¨ChIP-seqä¸­ç‹¬æœ‰çš„Peakåˆ™æš—ç¤ºè¿™ä¸ªè½¬å½•å› å­å¯èƒ½æ˜¯ç»“åˆåœ¨å¼‚æŸ“è‰²è´¨åŒºåŸŸçš„é©±åŠ¨å‹è½¬å½•å› å­ï¼ˆPioneer TFsï¼‰ã€‚å¯¹äºç»„è›‹ç™½ä¿®é¥°çš„ChIP-seqè€Œè¨€ï¼Œå‰é¢ä¹Ÿè¯´è¿‡ç»„è›‹ç™½ä¹™é…°åŒ–ä¸æŸ“è‰²è´¨å¼€æ”¾åŒºå½¢æˆæœ‰é‡è¦è”ç³»ï¼ŒåŒæ ·å¯ä»¥ä¸ATAC-seqè¿›è¡Œè”åˆåˆ†æã€‚ RNA-seqï¼šæ¯”å¦‚å°†ATAC-seqçš„ä¿¡å·åœ¨gene bodyä¸Šçš„åˆ†å¸ƒåšæ¯”è¾ƒï¼Œæˆ–è€…æŒ‰ç…§åŸºå› ä¸åŒçš„è¡¨è¾¾é‡åšåˆ†ç±»ï¼Œå†ä¸ATAC-seqè”ç”¨åˆ†åˆ«ç»Ÿè®¡ä¸åŒè¡¨è¾¾é‡åŸºå› çš„TSSä¸Šçš„å¯Œé›†ä¿¡å·ï¼Œç ”ç©¶ATAC-seqçš„å¯Œé›†ä¿¡å·æ˜¯å¦ä¸åŸºå› è¡¨è¾¾é‡ç›¸å…³ã€å·®å¼‚è¡¨è¾¾çš„åŸºå› æ˜¯å¦å—æŸ“è‰²è´¨å¯åŠæ€§çš„è°ƒæ§ç­‰ç­‰ã€‚ 2. CUT&amp;TagCUT&amp;Tagå…¨ç§°Cleavage Under Target &amp; Tagmentationï¼Œç¿»è¯‘ä¸ºé¶å‘å‰ªåˆ‡åŠè½¬åº§é…¶æŠ€æœ¯ï¼Œæ˜¯ä¸€ç§ç ”ç©¶è›‹ç™½-DNAäº’ä½œçš„æŠ€æœ¯ï¼Œæ›¿ä»£ä¼ ç»Ÿçš„ChIP-seqæ–¹æ³•ã€‚å¼€å¤´ä»‹ç»ATAC-seqå’ŒCUT&amp;Tagéå¸¸ç›¸ä¼¼ï¼ŒåŸå› å°±åœ¨äºCUT&amp;Tagä¹Ÿç”¨Tn5è½¬åº§é…¶ï¼Œåªä¸è¿‡è¿™ä¸ªé…¶æ˜¯Protein A&#x2F;Gèåˆçš„Tn5è½¬åº§é…¶ã€‚å½“ç„¶ï¼Œä¸¤è€…ç ”ç©¶å†…å®¹è¿˜æ˜¯ä¸ä¸€æ ·çš„ï¼Œä¸‹é¢è¯¦ç»†è¯´ä¸€ä¸‹ã€‚ 2.1 èƒŒæ™¯ä»‹ç»ChIPå‰é¢ä»‹ç»ATAC-seqçš„æ—¶å€™å·²ç»æ‹¿ChIP-seqåšè¿‡å¯¹æ¯”ï¼Œè¿™é‡Œä¸ºäº†å¼•å‡ºCUT&amp;Tagè¿˜æ˜¯å¯¹ChIPæŠ€æœ¯åšä¸ªç®€å•ä»‹ç»ã€‚ChIPå…¨ç§°Chromatin Immunoprecipitationï¼Œç¿»è¯‘ä¸ºæŸ“è‰²è´¨å…ç–«å…±æ²‰æ·€ï¼Œé¡¾åæ€ä¹‰ï¼Œè¿™ä¸ªæŠ€æœ¯æœ‰ä¸ªé²œæ˜çš„ç‰¹å¾å°±æ˜¯æŠ—åŸæŠ—ä½“å…ç–«ååº”ã€‚ ä¸‹é¢æ˜¯ChIP-seqçš„ç»å…¸æµç¨‹ï¼š æˆ‘ä»¬çŸ¥é“ï¼ŒæŠ—åŸæŠ—ä½“ååº”å…·æœ‰ä¸“ä¸€æ€§ï¼Œæ‰€ä»¥æˆ‘ä»¬åˆ¶å¤‡ç‰¹å®šçš„è½¬å½•å› å­çš„æŠ—ä½“ï¼ˆä¸€èˆ¬æ˜¯å¤šå…‹éš†æŠ—ä½“ï¼‰ï¼Œå°†ç»†èƒæ ¸å†…çš„æŸ“è‰²è´¨ç”¨ç”²é†›äº¤è”å›ºå®šåè¿›è¡Œè¶…å£°ç ´ç¢ï¼Œè¿™ä¸ªæ—¶å€™ä¸è½¬å½•å› å­ç»“åˆçš„DNAåºåˆ—ä¸ä¼šè¢«æ‰“æ–­ã€‚åŠ å…¥æŠ—ä½“åšå…ç–«å…±æ²‰æ·€ï¼Œè§£äº¤è”åè·å¾—ä¸è½¬å½•å› å­ç»“åˆçš„DNAåºåˆ—ï¼Œå»ºåº“æµ‹åºå°±å¯ä»¥åšåé¢çš„åˆ†æã€‚ ChIPæŠ€æœ¯åˆ†ç±» N-ChIPï¼šç”¨çš„æ˜¯Native Chromatinï¼ŒåŸç”Ÿæ€æŸ“è‰²è´¨ï¼ŒDNAç‰‡æ®µåŒ–çš„æ–¹æ³•ä¸ºé…¶åˆ‡ï¼Œç”¨ä¸Šé¢æåˆ°çš„MNaseã€‚åªèƒ½å¤„ç†ç»“åˆèƒ½åŠ›æ¯”è¾ƒå¼ºçš„è›‹ç™½ï¼ˆä¸€èˆ¬ç”¨äºç»„è›‹ç™½ä¿®é¥°ï¼‰ï¼Œè›‹ç™½å¤åˆä½“å­˜åœ¨è§£ç¦»çš„é£é™©ï¼Œå®éªŒéš¾åº¦ç›¸å¯¹è¾ƒå¤§ã€‚ X-ChIPï¼šç”¨çš„æ˜¯Cross-linked Chromatinï¼Œç”²é†›äº¤è”çš„æŸ“è‰²è´¨ï¼ŒDNAç‰‡æ®µåŒ–æ–¹å¼ä¸ºè¶…å£°æ³¢ã€‚ç”²é†›äº¤è”çš„èƒŒæ™¯ä¸€èˆ¬æ¯”è¾ƒé«˜ï¼ŒæŠ—ä½“è¯†åˆ«ä½ç‚¹å¯èƒ½ä¼šè¢«å±è”½ã€‚ ChIP-seqæŠ€æœ¯éå¸¸ä¾èµ–äºæŠ—ä½“è´¨é‡ï¼Œå¦‚æœç ”ç©¶ä½è¡¨è¾¾çš„è›‹ç™½ï¼Œåˆ¶å¤‡æŠ—ä½“çš„ä¹Ÿæ˜¯å¾ˆå¤§çš„æŒ‘æˆ˜ã€‚è¿‘å¹´åœ¨é‰´å®šè½¬å½•å› å­ç»“åˆä½ç‚¹ä¸Šåˆå‡ºäº†ä¸ªæ–°æŠ€æœ¯DAP-Seqï¼Œé€šè¿‡ä½“å¤–è›‹ç™½è¡¨è¾¾æŠ€æœ¯ï¼Œè¡¨è¾¾å‡ºå¸¦æœ‰Haloæ ‡ç­¾çš„è½¬å½•å› å­è›‹ç™½ã€‚é€šè¿‡Haloæ ‡ç­¾çš„æŠ—ä½“å¯Œé›†å¯¹åº”çš„è›‹ç™½DNAå¤åˆç‰©ï¼Œä»è€Œä½¿æ‰€æœ‰è›‹ç™½éƒ½å¯ä»¥è¢«ä¸€ç§æŠ—ä½“ï¼ˆHaloæ ‡ç­¾æŠ—ä½“ï¼‰å¯Œé›†ï¼Œç»•è¿‡äº†æŠ—ä½“åˆ¶å¤‡çš„éš¾é¢˜ï¼ˆå’Œåé¢è¦è¯´çš„æ²¡å•¥å…³ç³»ï¼Œå†™åˆ°æŠ€æœ¯åˆ†ç±»è¿™é‡Œæä¸€å˜´ï¼‰ã€‚ CUTç³»åˆ—æŠ€æœ¯ CUT&amp;RUNï¼šCleavage Under Targets and Release Using Nucleaseï¼Œé¶å‘å‰ªåˆ‡å’Œæ ¸é…¸é…¶é‡Šæ”¾ï¼Œè¿™é‡Œç”¨çš„æ ¸é…¸é…¶æ˜¯ä¸Protein A&#x2F;Gèåˆçš„MNaseã€‚ CUT&amp;Tagï¼šCleavage Under Targets and Tagmentationï¼Œé¶å‘å‰ªåˆ‡å’Œè½¬åº§é…¶ï¼Œè¿™é‡Œç”¨çš„é…¶æ˜¯Protein A&#x2F;Gèåˆçš„Tn5è½¬åº§é…¶ï¼Œæ˜¯CUT&amp;RUNæŠ€æœ¯çš„æ”¹è¿›ç‰ˆã€‚ ä¸¤ç§æŠ€æœ¯ç”¨çš„é…¶ä¸ä¸€æ ·ï¼ŒTn5è½¬åº§é…¶å¯ä»¥æ’å…¥æµ‹åºæ ‡ç­¾ï¼Œå› æ­¤CUT&amp;Tagæ¯”CUT&amp;RUNèŠ‚çœäº†æ›´å¤šå»ºåº“æ—¶é—´ï¼Œ1å¤©å°±å¯ä»¥å®Œæˆå»ºåº“ã€‚ 2.2 å®éªŒæµç¨‹æ•´ä¸ªå®éªŒæµç¨‹å¯ä»¥åˆ†ä¸º6æ­¥ï¼š æ”¶é›†ç»†èƒï¼Œåˆ€è±†è›‹ç™½çš„ç£ç å¸é™„ç»†èƒè†œ ç»†èƒç”µç©¿å­”ååˆ†åˆ«å­µä¸€æŠ—å’ŒäºŒæŠ—ï¼Œä¸€æŠ—ç»“åˆç›®æ ‡è›‹ç™½ï¼ŒäºŒæŠ—æ”¾å¤§ä¿¡å· Hyperactive pA&#x2F;pG-Tn5 Transposonç»“åˆï¼Œè¿™ç§æ”¹é€ çš„Tn5è½¬åº§é…¶ä¼šç‰¹å¼‚æ€§è¯†åˆ«æŠ—ä½“å¹¶ç»“åˆ åŠ å…¥é•ç¦»å­æˆ–è€…é’™ç¦»å­æ¿€æ´»Tn5è½¬åº§é…¶ï¼Œç‰‡æ®µåŒ–DNA æå–DNA PCRæ‰©å¢æ–‡åº“ ä¸Šé¢çš„æµç¨‹å›¾å¯ä»¥çœ‹å‡ºï¼ŒCUT&amp;Tagä¸ATAC-seqçš„åŒºåˆ«å°±åœ¨äºï¼ŒCUT&amp;Tagç”¨äº†æŠ—ä½“ï¼ŒTn5è½¬åº§é…¶è¿›ä¸€æ­¥æ”¹é€ å¯ä»¥è¯†åˆ«æŠ—ä½“ã€‚ å› æ­¤CUT&amp;Tagå®éªŒéœ€è¦åšé˜´æ€§å¯¹ç…§ï¼ˆIgGï¼‰ï¼ŒCUT&amp;Tagæ–‡åº“å’ŒATCAæ–‡åº“å·®åˆ«å°±åœ¨äºæŠ—ä½“è¯†åˆ«çš„è›‹ç™½ï¼Œå¦‚æœæŠ—ä½“çš„ç‰¹å¼‚æ€§å¾ˆå·®ï¼Œæ¯”å¦‚åœ¨æ‰€æœ‰ç»„è›‹ç™½ä¸Šéƒ½æœ‰ç»“åˆï¼Œé‚£è¿™ä¸ªæ—¶å€™å»ºåº“å¾—åˆ°çš„å°±æ˜¯ATCAæ–‡åº“è€Œä¸æ˜¯CUT&amp;Tagæ–‡åº“ã€‚è¿™ä¸ªæ—¶å€™é˜´æ€§å¯¹ç…§å°±å¾ˆé‡è¦äº†ï¼Œå¦‚æœåœ¨IgGä¸Šä¹Ÿèƒ½å‡ºæ­£å¸¸çš„PCRç»“æœï¼Œå°±è¯´æ˜æŠ—ä½“æœ‰é—®é¢˜æˆ–è€…å®éªŒè®¾è®¡æœ‰é—®é¢˜äº†ã€‚ å› ä¸ºCUT&amp;Tagç”¨çš„æ˜¯Tn5è½¬åº§é…¶ï¼Œæ‰€ä»¥ä¹Ÿæœ‰ä¸€ä¸ªç¼ºé™·ï¼Œæ¯”å¦‚è¦ç ”ç©¶å¼‚æŸ“è‰²è´¨çš„è›‹ç™½ä¸DNAäº’ä½œå°±åšä¸äº†ï¼Œå› ä¸ºTn5è½¬åº§é…¶æ— æ³•åœ¨å¼‚æŸ“è‰²è´¨åŒºå‰ªåˆ‡DNAã€‚æˆ–è€…ä½ è¦ç ”ç©¶çš„è›‹ç™½ç©ºé—´ç»“æ„æ¯”è¾ƒå¤§ï¼Œå¯¼è‡´Tn5è½¬åº§é…¶æ— æ³•å‰ªåˆ‡åˆ°DNAï¼Œè¿™ä¸ªæ—¶å€™ä¹Ÿä¸èƒ½ç”¨CUT&amp;Tagã€‚ 2.3 ç”Ÿä¿¡åˆ†æCUT&amp;Tagç”Ÿä¿¡åˆ†æå’ŒATAC-seqå‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä¸‹æ¸¸åˆ†æä¹Ÿå¯ä»¥åšIDR Peakã€Peak Annotationå’ŒMotif Analysisï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è¡¨è§‚é—ä¼ å­¦","slug":"è¡¨è§‚é—ä¼ å­¦","permalink":"http://www.shelven.com/categories/%E8%A1%A8%E8%A7%82%E9%81%97%E4%BC%A0%E5%AD%A6/"}],"tags":[{"name":"ATAC-seq","slug":"ATAC-seq","permalink":"http://www.shelven.com/tags/ATAC-seq/"},{"name":"CUT&Tag","slug":"CUT-Tag","permalink":"http://www.shelven.com/tags/CUT-Tag/"}]},{"title":"go-cqhttpç™»å½•å¼‚å¸¸ï¼ˆé”™è¯¯ç 45ï¼‰çš„è§£å†³åŠæ³•","slug":"go-cqhttpç™»å½•å¼‚å¸¸ï¼ˆé”™è¯¯ç 45ï¼‰çš„è§£å†³åŠæ³•","date":"2023-08-04T14:57:57.000Z","updated":"2023-08-04T15:01:30.000Z","comments":true,"path":"2023/08/04/a.html","link":"","permalink":"http://www.shelven.com/2023/08/04/a.html","excerpt":"æ›¾ç»å†™äº†ä¸€ç¯‡go-cqhttpæ‰«ç ç™»å½•å¼‚å¸¸çš„è§£å†³æ–¹æ³•ç‚¹å‡»æ­¤å¤„ï¼Œå½“æ—¶go-cqhttpç‰ˆæœ¬ä¸ºv1.0.0ï¼Œå¦‚ä»Šï¼ˆ2023å¹´8æœˆ4æ—¥ï¼‰å·²ä¸å†é€‚ç”¨ã€‚åœ¨v1.1.0ç‰ˆæœ¬ä¹‹åéœ€è¦è‡ªå»ºæˆ–è€…ä½¿ç”¨åˆ«äººæ­å»ºçš„ç­¾åæœåŠ¡å™¨ï¼Œå¦åˆ™ä¼šè¿”å›é”™è¯¯ä»£ç 45ï¼Œè¿™é‡Œè®°å½•ä¸‹è‡ªå·±çš„æ“ä½œå’Œè¸©çš„å‘ã€‚","text":"æ›¾ç»å†™äº†ä¸€ç¯‡go-cqhttpæ‰«ç ç™»å½•å¼‚å¸¸çš„è§£å†³æ–¹æ³•ç‚¹å‡»æ­¤å¤„ï¼Œå½“æ—¶go-cqhttpç‰ˆæœ¬ä¸ºv1.0.0ï¼Œå¦‚ä»Šï¼ˆ2023å¹´8æœˆ4æ—¥ï¼‰å·²ä¸å†é€‚ç”¨ã€‚åœ¨v1.1.0ç‰ˆæœ¬ä¹‹åéœ€è¦è‡ªå»ºæˆ–è€…ä½¿ç”¨åˆ«äººæ­å»ºçš„ç­¾åæœåŠ¡å™¨ï¼Œå¦åˆ™ä¼šè¿”å›é”™è¯¯ä»£ç 45ï¼Œè¿™é‡Œè®°å½•ä¸‹è‡ªå·±çš„æ“ä½œå’Œè¸©çš„å‘ã€‚ é—®é¢˜æè¿°go-cqhttpæ›´æ–°ç‰ˆæœ¬v1.1.0ä¹‹åï¼Œæ— æ³•é€šè¿‡æ›¿æ¢device.jsonæ–‡ä»¶ç™»å½•ï¼Œè¿”å›é”™è¯¯ç 45ï¼Œéœ€è¦é…ç½®ç­¾åæœåŠ¡å™¨ã€‚ è§£å†³æ–¹æ³•1. linuxæ“ä½œç³»ç»Ÿè§£å†³æ–¹æ³•1.1 å®‰è£…å’Œå¯åŠ¨docker123456789# ä¸‹è½½dockerå®‰è£…è„šæœ¬ï¼Œä¸€é”®å®‰è£…curl -fsSL https://get.docker.com -o get-docker.shbash get-docker.sh# å¯åŠ¨dockeræœåŠ¡systemctl start docker# æŸ¥çœ‹dockerçŠ¶æ€ï¼Œæ˜¯å¦æ­£å¸¸å¯åŠ¨service docker status 1.2 æŸ¥çœ‹ANDROID_IDå¦‚æœä½ çš„device.jsonæ–‡ä»¶è¿˜æ²¡æœ‰åˆ é™¤ï¼Œæ‰“å¼€å®ƒï¼Œæ‰¾åˆ°android_idå€¼ï¼Œæ¯”å¦‚æˆ‘è¿™é‡Œæ˜¯d9b3a88f3cd1f951ï¼ˆçæ‰“çš„ï¼Œæ€»ä¹‹æ˜¯è¿™æ ·å­çš„æ ¼å¼ï¼‰ã€‚ å¦‚æœä½ å·²ç»åˆ é™¤ä¸Šé¢çš„æ–‡ä»¶ï¼Œå†æ¬¡è¿è¡Œgo-cqhttpï¼Œä¼šè‡ªåŠ¨ç”Ÿæˆdevice.jsonæ–‡ä»¶ï¼ŒåŒä¸Šæ“ä½œã€‚ è¿™ä¸ªå‚æ•°éå¸¸é‡è¦ï¼Œæ¯æ¬¡é‡å¯go-cqhttpä¼šéšæœºç”Ÿæˆæ–°çš„android_idå€¼ï¼Œå¦‚æœä½¿ç”¨åˆ«äººçš„ç­¾åæœåŠ¡å™¨ï¼Œéœ€è¦å°†ä½ çš„device.jsonæ–‡ä»¶ä¸­android_idå€¼æ”¹æˆåˆ«äººç­¾åæœåŠ¡å™¨æä¾›çš„ï¼Œä¸¤è€…çš„å€¼è¦å¯¹åº”ã€‚ 1.3 è‡ªå»ºç­¾åæœåŠ¡å™¨å®ä¾‹åŒ–qsignçš„dockeré•œåƒï¼š 12345678910# å¼€æ”¾é˜²ç«å¢™ç«¯å£ï¼ˆç”¨dockeré»˜è®¤çš„8080ï¼‰firewall-cmd --permanent --add-port=8080/tcp# é‡è½½é˜²ç«å¢™firewall-cmd --reload# è¿è¡Œdockerdocker run -d --restart=always --name qsign -p 8080:8080 -e ANDROID_ID=d9b3a88f3cd1f951 xzhouqd/qsign:8.9.63# æ£€æŸ¥è¿è¡Œæ˜¯å¦æˆåŠŸï¼Œè®¿é—®ä¸»æœºç«¯å£æ²¡æœ‰æŠ¥é”™å°±è¡Œcurl localhost:8080 æ˜ å°„çš„ä¸»æœºç«¯å£ä¸è¦æ”¹ï¼Œå°±ç”¨é»˜è®¤çš„8080ï¼Œå¦åˆ™dockerè¿è¡Œåä¼šæ— æ³•è®¿é—®æ˜ å°„çš„ä¸»æœºç«¯å£ï¼Œcurl læ˜ å°„çš„ç«¯å£ä¼šå‡ºç°æŠ¥é”™curl: (56) Recv failure: Connection reset by peerï¼Œè¿è¡Œgo-cqhttpä¹Ÿä¼šå‡ºç°è·å–åè®®T544æŠ¥é”™å’Œè·å–sso signæŠ¥é”™reset by peerï¼ 1.4 ä¿®æ”¹config.ymlå›åˆ°go-cqhttpç›®å½•ï¼Œä¿®æ”¹config.ymlæ–‡ä»¶çš„sign-serverå­—æ®µï¼Œå¦‚ä¸‹ï¼š å¦‚æœæ²¡æœ‰è¯¥å­—æ®µï¼Œè¯´æ˜ä½ çš„go-cqhttpç‰ˆæœ¬ä¸å¯¹ï¼Œå»githubä¸‹è½½æ–°çš„ã€‚ 1.5 è¿è¡Œgo-cqhttpå¦‚æœä½ ä¹‹å‰ç”¨è¿‡go-cqhttpï¼ŒæŠŠä¸»ç›®å½•ä¸‹çš„data/versions/6.jsonæ–‡ä»¶åˆ é™¤ï¼Œå¦åˆ™ä¼šå› ä¸ºåè®®ç‰ˆæœ¬å’Œç­¾åæœåŠ¡å™¨çš„åè®®ç‰ˆæœ¬ä¸ä¸€è‡´å¯¼è‡´ä»ç„¶æŠ¥é”™45ï¼Œä»ç„¶æç¤ºä½ é…ç½®sign serviceï¼ åˆ é™¤6.jsonåï¼ŒåŒæ ·ä¼šè®©ä½ è¿›è¡Œæ»‘å—éªŒè¯ï¼Œåˆ°ä¸Šé¢æç¤ºçš„ç½‘å€æ‰‹åŠ¨æ»‘å—éªŒè¯åï¼Œå¯èƒ½å’Œæˆ‘ä¸€æ ·ä¼šæç¤ºè´¦å·å¼€å¯äº†è®¾å¤‡é”ï¼Œä¸è¦æ…Œï¼ŒåŒæ ·æ˜¯åˆ°æç¤ºçš„ç½‘ç«™ï¼Œç”¨æ‰‹æœºQQæ‰«ä¸€ä¸‹ï¼ˆä¸éœ€è¦æœåŠ¡å™¨å’Œæ‰‹æœºQQåœ¨åŒä¸€ä¸ªç½‘ç»œç¯å¢ƒï¼‰ï¼Œç„¶åå†æ¬¡è¿è¡Œgo-cqhttpï¼Œå†æ¬¡è¿›è¡Œæ»‘å—éªŒè¯å³å¯ã€‚ æˆåŠŸè¿è¡Œ~ 2.windowsæ“ä½œç³»ç»Ÿè§£å†³æ–¹æ³•2.1 æŸ¥çœ‹ANDROID_IDè¿™æ­¥å’Œ1.2ä¸€æ ·ï¼Œå…ˆä»device.jsonè·å–android_idå€¼ï¼Œä¸å†èµ˜è¿°ã€‚ 2.2 è‡ªå»ºç­¾åæœåŠ¡å™¨ä¸‹è½½è¿™ä¸ªä»“åº“Releases Â· fuqiuluo&#x2F;unidbg-fetch-qsign (github.com)ï¼Œreleaseç‰ˆæœ¬V1.0.3 JARï¼Œæ³¨æ„ç‰ˆæœ¬ã€‚ è§£å‹åå¯ä»¥çœ‹åˆ°ä¸¤ä¸ªç›®å½•binå’Œlibï¼Œåœ¨ä¸»ç›®å½•ä¸‹åˆ›å»ºtxlib/8.9.86è¿™æ ·ç»“æ„çš„ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œå°†unidbg-fetch-qsign&#x2F;txlib&#x2F;8.9.63 at master Â· fuqiuluo&#x2F;unidbg-fetch-qsign (github.com)è¿™ä¸ªä»“åº“ä¸‹çš„ä¸¤ä¸ª.soç»“å°¾çš„æ–‡ä»¶ä¸‹è½½åˆ°8.9.86æ–‡ä»¶å¤¹ä¸­ã€‚ å›åˆ°ä¸»ç›®å½•ï¼Œåˆ›å»ºä¸€ä¸ªæ‰¹å¤„ç†æ–‡ä»¶run.batï¼š 123.\\bin\\unidbg-fetch-qsign.bat --host=127.0.0.1 --port=8080 --count=1 --library=txlib\\8.9.63 --android_id=d890fd5ae11be94d# è¿™é‡Œ--portå¯ä»¥è‡ªå®šä¹‰ç«¯å£ï¼Œ--countè¡¨ç¤ºæœ€å¤§è¿æ¥æ•°ï¼Œ--libraryå°±æ˜¯ä¸¤ä¸ª.soæ–‡ä»¶çš„è·¯å¾„ï¼Œ--android_idæ˜¯ç¬¬ä¸€æ­¥ä½ è·å–çš„å€¼ åŒå‡»run.batï¼Œä¸€ä¼šå„¿åçœ‹åˆ°[FEKit_]info: task_handle.h:74 TaskSystem not allowæ˜¯æ­£å¸¸çš„ã€‚ 2.3 ä¿®æ”¹config.ymlï¼Œè¿è¡Œgo-cqhttpåŒ1.4ï¼Œ1.5ï¼Œä¸å†èµ˜è¿°ã€‚ ä»¥ä¸Šå®ç°æ–¹å¼å‡å‚è€ƒè‡ªç­¾åæœåŠ¡å™¨ç›¸å…³é—®é¢˜ Â· Mrs4s&#x2F;go-cqhttp Â· Discussion #2245 (github.com) æˆ‘è‡ªå·±åœ¨linuxå’Œwindowsä¸Šå‡è¯•è¿‡æ²¡æœ‰é—®é¢˜ï¼Œæ„Ÿè°¢æå‡ºè§£å†³æ–¹æ¡ˆçš„å¤§ä½¬ã€‚","categories":[{"name":"QQæœºå™¨äºº","slug":"QQæœºå™¨äºº","permalink":"http://www.shelven.com/categories/QQ%E6%9C%BA%E5%99%A8%E4%BA%BA/"}],"tags":[{"name":"qq bot","slug":"qq-bot","permalink":"http://www.shelven.com/tags/qq-bot/"},{"name":"go-cqhttp","slug":"go-cqhttp","permalink":"http://www.shelven.com/tags/go-cqhttp/"}]},{"title":"Hi-CæŸ“è‰²ä½“æŒ‚è½½ï¼ˆ2ï¼‰â€”â€”3D-DNAé…ç½®è¿è¡Œå’Œæ‰‹åŠ¨è°ƒæ•´Hi-Cäº’ä½œå›¾","slug":"Hi-CæŸ“è‰²ä½“æŒ‚è½½ï¼ˆ2ï¼‰â€”â€”3D-DNAé…ç½®è¿è¡Œå’Œæ‰‹åŠ¨è°ƒæ•´Hi-Cäº’ä½œå›¾","date":"2023-07-13T13:47:54.000Z","updated":"2023-09-11T12:56:24.000Z","comments":true,"path":"2023/07/13/a.html","link":"","permalink":"http://www.shelven.com/2023/07/13/a.html","excerpt":"å‰ä¸€ç¯‡åšå®¢ä¸»è¦è®²äº†å¦‚ä½•ä½¿ç”¨juicerè¿›è¡ŒHi-Cæµ‹åºçš„ä¸‹æœºæ•°æ®å¤„ç†ï¼Œè¿™ç¯‡åšå®¢æˆ‘ä»¬æŒ‰ç…§Aidenå›¢é˜Ÿçš„åŸºå› ç»„ç»„è£…â€œCookBookâ€ç»§ç»­æ¥ä¸‹æ¥çš„æ“ä½œï¼Œä¸»è¦è®°å½•ä¸‹3D-DNAè½¯ä»¶çš„é…ç½®è¿è¡Œï¼Œä»¥åŠå¦‚ä½•æ‰‹åŠ¨è°ƒæ•´ç»“æœã€‚","text":"å‰ä¸€ç¯‡åšå®¢ä¸»è¦è®²äº†å¦‚ä½•ä½¿ç”¨juicerè¿›è¡ŒHi-Cæµ‹åºçš„ä¸‹æœºæ•°æ®å¤„ç†ï¼Œè¿™ç¯‡åšå®¢æˆ‘ä»¬æŒ‰ç…§Aidenå›¢é˜Ÿçš„åŸºå› ç»„ç»„è£…â€œCookBookâ€ç»§ç»­æ¥ä¸‹æ¥çš„æ“ä½œï¼Œä¸»è¦è®°å½•ä¸‹3D-DNAè½¯ä»¶çš„é…ç½®è¿è¡Œï¼Œä»¥åŠå¦‚ä½•æ‰‹åŠ¨è°ƒæ•´ç»“æœã€‚ 1. ä¸‹è½½å’Œé…ç½®3D-DNA123456789101112131415# æ‹‰å–3D-DNAä»“åº“git clone https://ghproxy.com/https://github.com/aidenlab/3d-dna.git## å°†run-asm-pipeline-post-review.shå’Œrun-asm-pipeline.shå±æ€§åˆ†åˆ«æ”¹æˆå¯æ‰§è¡Œï¼Œå¯¹åº”chmodçš„0755æƒé™chmod 755 run-asm-pipeline-post-review.shchmod 755 run-asm-pipeline.sh# å®‰è£…LastZï¼ˆè·‘äºŒå€ä½“æ¨¡å¼éœ€è¦ç”¨ï¼Œä¸€ä¸ªDNAåºåˆ—æ¯”å¯¹å·¥å…·ï¼‰conda install LastZ# å®‰è£…GNU Parallel## å®˜æ–¹æ¨èç”¨è¯¥shellä¸‹å®ç°å¹¶è¡Œè¿ç®—çš„å·¥å…·ï¼ŒåŠ å¿«ç¨‹åºè¿è¡Œé€Ÿåº¦ã€‚é›†ç¾¤ç”¨æˆ·å¦‚æœæ²¡æœ‰é¢„è£…å¯ä»¥åœ¨~/binä¸­ä»¥å¦‚ä¸‹æ–¹å¼ç¼–è¯‘å®‰è£…wget http://ftp.gnu.org/gnu/parallel/parallel-latest.tar.bz2tar -xvjf parallel-latest.tar.bz2cd parallel-20230622./configure --prefix=$HOME &amp;&amp; make &amp;&amp; make install 3D-DNAæœ‰ä¸¤ä¸ªpipelineè„šæœ¬ï¼Œ12ä¸ªç‹¬ç«‹çš„åŠŸèƒ½æ¨¡å—ï¼ˆæ¯ä¸ªæ¨¡å—ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼‰ï¼Œå®˜æ–¹ç»™å‡ºçš„pipelineå¦‚ä¸‹ï¼š ä¸‰ä¸ªæ©˜è‰²æ¡†æ˜¯éœ€è¦æ‰‹åŠ¨è°ƒæ•´çš„åœ°æ–¹ï¼Œç¨å¾®äº†è§£ä¸‹è¿™å‡ ä¸ªç‹¬ç«‹æ¨¡å—åˆ†åˆ«åœ¨åšä»€ä¹ˆï¼ˆå…·ä½“å‚è€ƒmanual_180319 (aidenlab.org)ï¼‰ï¼š ä¸»è¦çš„8ä¸ªç‹¬ç«‹æ¨¡å—ï¼ˆå¯¹åº”ä¸Šé¢çš„æµç¨‹ï¼‰ï¼š scaffoldï¼šå¯¹ç»™å®šçš„scaffoldsè¿›è¡Œæ’åºå’Œå®šå‘ï¼Œè½¬æ¢åŸºäº3D proximityçš„ä¸€ç³»åˆ—å•ä¸ªç‰‡æ®µåºåˆ—æˆä¸ºå•ä¸ªçš„megascaffoldï¼Œè¿™ä¸ªmegascaffoldç”¨äºæ£€æµ‹é”™è¯¯çš„è¿æ¥æˆ–è€…ä¿ç•™ç”¨äºåç»­å¤„ç†ï¼ˆsplitæ¨¡å—è¿˜ä¼šç”¨åˆ°ï¼‰ visualizeï¼šä¸åç»­çš„Juicebox Assembly Toolså¤„ç†å¯¹æ¥ï¼Œä¹Ÿå°±æ˜¯å¯è§†åŒ–ç»„è£…ç»“æœã€‚åœ¨3D-DNAä¸­ç”¨äºè¿æ¥å„ä¸ªå¤„ç†é˜¶æ®µï¼Œä¾¿äºå®¡æŸ¥å’Œè°ƒæ•´å‚æ•°ã€‚ editï¼šåŒ…å«æ£€æµ‹3D-DNAé”™è¯¯è¿æ¥çš„è„šæœ¬å’Œä¸€äº›æ ¡æ­£ç®—æ³•ï¼Œè¿™ä¸ªæ¨¡å—åœ¨åšç‰¹æ®Šå¤„ç†çš„æ—¶å€™æœ€å¯èƒ½éœ€è¦è°ƒæ•´å‚æ•° polishï¼šæ ¡æ­£3D-DNA scaffoldingç®—æ³•å¯èƒ½å¼•èµ·çš„é”™è¯¯ï¼Œç±»å‹åŸºå› ç»„çš„polishè¿‡ç¨‹ splitï¼šåˆ†å‰²megascaffoldæˆä¸ºæŸ“è‰²ä½“ sealï¼šæ¶ˆé™¤ä¸Šä¸€æ­¥ç»“æœçš„å‡é˜³æ€§ï¼ˆé€šè¿‡å¼•å…¥ç¢ç‰‡çš„æ–¹å¼ï¼Œè¯¦ç»†çœ‹æ‰‹å†Œè¯´æ˜ï¼‰ mergeï¼šèåˆä»£è¡¨æ›¿ä»£å•å€å‹çš„ç»„è£…ç‰‡æ®µï¼ˆä»…åœ¨äºŒå€ä½“æ¨¡å¼ä¸‹ï¼‰èµ·ä½œç”¨ finalizeï¼šç”Ÿæˆæœ€ç»ˆçš„fastaæ ¼å¼è¾“å‡ºï¼Œåœ¨æœ€ç»ˆfastaç”Ÿæˆè¿‡ç¨‹ä¸­ï¼Œè€ƒè™‘åˆ°å¯èƒ½çš„é¡ºåºå’Œæ–¹å‘ï¼Œå°†è¢«è¯†åˆ«ä¸ºåŒä¸€æŸ“è‰²ä½“å†…éƒ¨çš„scaffoldè¿æ¥èµ·æ¥ï¼ŒåŒæ—¶åœ¨æ¯ä¸ªscaffoldä¹‹é—´æ·»åŠ å›ºå®šå¤§å°ï¼ˆ500bpï¼‰çš„é—´éš™ é™„åŠ çš„4ä¸ªç‹¬ç«‹æ¨¡å—ï¼š utilsï¼šä¸€äº›å…¶ä»–æ¨¡å—ç”¨åˆ°çš„æ ¸å¿ƒè„šæœ¬ï¼ŒåŒ…æ‹¬ä».fastaæ–‡ä»¶ç”Ÿæˆ.assemblyæ–‡ä»¶ liftï¼šä¸€äº›ä»åŸºå› ç»„è‰å›¾åˆ°æœ€åç»„è£…ç»“æœçš„æ ¸å¿ƒè„šæœ¬ suppï¼šå‡ ä¸ªé™„åŠ è„šæœ¬ï¼ŒåŒ…æ‹¬ç”Ÿæˆè‰²è°±å›¾çš„è„šæœ¬ dataï¼šä¸€äº›æ•°æ®è¡¨ å¦‚æœè¦ç ”ç©¶å„ä¸ªæ­¥éª¤çš„ç®—æ³•å°±å¯ä»¥åœ¨å„ä¸ªæ¨¡å—ä¸­æ‰¾æºç ï¼Œç°åœ¨çš„æˆ‘åªæ˜¯ä¸ªè°ƒåŒ…ä¾ ï¼Œç¨‹åºä¸å‡ºé—®é¢˜å°±ä¸æ·±å…¥ç ”ç©¶äº†ï¼ˆä»¥åæœ‰æ—¶é—´ä¸€å®š&#x3D; &#x3D;ï¼‰ ä¸¤ä¸ªpipelineè„šæœ¬ä¹Ÿæ˜¯å¯¹åº”ä¸åŒé˜¶æ®µä½¿ç”¨çš„ï¼š run-asm-pipeline.sh å°†å‡ ä¸ªç‹¬ç«‹æ¨¡å—ä¸²è”ï¼Œç»„è£…åŸºå› ç»„ï¼ˆä¹Ÿå°±æ˜¯ä¸Šé¢æµç¨‹å›¾ç”¨çš„è„šæœ¬ï¼‰ run-asm-pipeline-post-review.sh ç”¨äºJuicebox Assembly Tools (JBAT)æ‰‹åŠ¨è°ƒæ•´ä¹‹åæ‰§è¡Œï¼Œåªä¼šæ‰§è¡Œä¸Šä¸ªè„šæœ¬çš„åå‡ ä¸ªé˜¶æ®µï¼ˆfinalizeæˆ–è€…sealå’Œfinalizeï¼‰ï¼Œç”Ÿæˆæœ€ç»ˆçš„hicæ–‡ä»¶ï¼ˆç”¨äºè´¨æ§ï¼‰å’Œfastaåºåˆ— 2. è¿è¡Œ3D-DNAäº†è§£ä¸åŒè„šæœ¬å’Œæ¨¡å—ä½œç”¨åï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¾ˆç®€å•çš„è®¾ç½®è„šæœ¬å‚æ•°è¿è¡Œäº†ã€‚ 123456789101112131415161718# åˆ›å»ºrun.slurmè„šæœ¬vim run.slurm# è„šæœ¬å†…å®¹å¦‚ä¸‹---------------------------------------------------------------#!/bin/bash#SBATCH -n 30#SBATCH -N 1#SBATCH -t 7200/public/home/wlxie/biosoft/3d-dna/run-asm-pipeline.sh \\ /public/home/wlxie/biosoft/juicer/reference/genome.fa \\ -r 0 \\ /public/home/wlxie/biosoft/juicer/aligned/merged_nodups.txt---------------------------------------------------------------# è¿è¡Œè„šæœ¬sbatch run.slurm 220Mbå‚è€ƒåŸºå› ç»„ï¼Œ50Gçš„merged_nodups.txtæ–‡ä»¶ï¼Œå®é™…è¿è¡Œç»“æŸæ—¶é•¿ä¸º10å°æ—¶ã€‚ run-asm-pipeline.shè„šæœ¬ç”¨æ³•å’Œå‚æ•°å¦‚ä¸‹ï¼š 12345678910USAGE: ./run-asm-pipeline.sh [options] &lt;path_to_input_fasta&gt; &lt;path_to_input_mnd&gt;path_to_input_fastaï¼šç»„è£…çš„åŸºå› ç»„fastaæ–‡ä»¶ä½ç½®path_to_input_mndï¼šjuicerå¤„ç†åå¾—åˆ°çš„å»é‡å¤çš„Hi-C readsæ¯”å¯¹åŸºå› ç»„æ–‡ä»¶ä½ç½®ï¼Œä¹Ÿå°±æ˜¯merged_nodups.txtOPTIONS:-m|--mode haploid/diploid å•å€ä½“/äºŒå€ä½“æ¨¡å¼ï¼ˆé»˜è®¤å•å€ä½“ï¼‰-i|--input input_size æŒ‡å®šè¾“å…¥çš„ contig/scaffold sizeé˜ˆå€¼ï¼Œé»˜è®¤15000ï¼Œå°äº15000çš„å°†è¢«å¿½ç•¥-r|--rounds number_of_edit_rounds æŒ‡å®šçº é”™è½®æ•°ï¼ˆé»˜è®¤ä¸º2è½®ï¼‰-s|--stage stage æŒ‡å®šè¿è¡Œçš„é˜¶æ®µï¼Œå¯ä»¥æ˜¯polish, split, seal, mergeå’Œfinalize å¯¹äºè¿è¡Œæ¨¡å¼ï¼Œä½œè€…å›¢é˜Ÿå»ºè®®æ˜¯å…ˆè¿è¡Œé»˜è®¤çš„haploidæ¨¡å¼ï¼Œæ£€æŸ¥æ‹¼æ¥åçš„å›¾è°±ä¸­æ˜¯å¦å­˜åœ¨ä¸æ‚åˆåº¦ä¸è¶³ç›¸å…³çš„ä¿¡å·ï¼Œdiploidæ¨¡å¼ä¼šå°è¯•åˆå¹¶ä¸€äº›å•å€å‹ã€‚ The diploid mode is to be used when one suspects large amounts of under collapsed heterozygosity to be present in the draft genome assembly (this was indeed the case for AaegL2). Running in the diploid mode will attempt to analyze the final assembly to remove the interspersed haplotigs and merge overlaps not recognized by the contigger because of variant differences. In most cases the default haploid mode should be used. å¯ä»¥çœ‹å®˜æ–¹çš„è¿™ç¯‡æ–‡ç« å¸®åŠ©ç†è§£ä¸‹ä¸¤ç§æ¨¡å¼çš„åŒºåˆ«ï¼Œä»¥åŠè½¯ä»¶LastZåœ¨diploidæ¨¡å¼ä¸­èµ·çš„ä½œç”¨ï¼šExtended_Hi-C_methods.docx (dropbox.com) è‡³äºçº é”™è½®æ•°ï¼Œæœ€å¥½æ˜¯æŒ‰ç…§é»˜è®¤çš„å‚æ•°è·‘2è½®ï¼Œç„¶åé€‰æ‹©æ•ˆæœæœ€å¥½çš„ä¸€æ¬¡ç»“æœå¯¼å…¥juicerboxè¿›è¡Œè°ƒæ•´ã€‚ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œæ€ä¹ˆç¡®è®¤ç”¨å“ªä¸ªç»“æœå‘¢ï¼Ÿé¦–å…ˆè¦ç¡®è®¤ä¸‹ç»“æœæ–‡ä»¶æœ‰äº›å•¥ã€‚ 3. 3D-DNAç»“æœæ–‡ä»¶è¿™ä¸ªè½¯ä»¶äº§ç”Ÿçš„ç»“æœæ–‡ä»¶éå¸¸å¤šï¼Œä¸­é—´æ­¥éª¤äº§ç”Ÿçš„æ–‡ä»¶æ˜¯ä¸ä¼šè‡ªåŠ¨åˆ é™¤çš„ï¼Œçœ‹ä¸€ä¸‹ä¸»è¦çš„å‡ ä¸ªæ–‡ä»¶ï¼š .fasta åŸºå› ç»„åºåˆ—æ–‡ä»¶ï¼Œæœ€ç»ˆç»„è£…çš„åŸºå› ç»„åºåˆ—åç§°ä¸º.FINAL.fasta .hic é«˜åº¦å‹ç¼©çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¸ä¸‹é¢çš„.assemblyæ–‡ä»¶éƒ½å¯ä»¥è½½å…¥Juicebox Assembly Toolsï¼Œä¸åŒé˜¶æ®µäº§ç”Ÿä¸åŒçš„hicæ–‡ä»¶ï¼Œ0è¡¨ç¤ºæœªæ ¡æ­£ .assembly ç©ºæ ¼åˆ†éš”çš„æ–‡æœ¬ï¼Œè®°å½•å¯¹åŸºå› ç»„è‰å›¾æ‰§è¡Œçš„æŒ‡ä»¤ï¼ŒåŒ…æ‹¬æ‹†åˆ†ã€æ›´æ”¹é¡ºåºã€æ–¹å‘å’Œé”šå®šåˆ°æŸ“è‰²ä½“ä¸­ï¼ˆä¸åŒé˜¶æ®µéƒ½ä¼šäº§ç”Ÿï¼ŒåŒæ—¶äº§ç”ŸåŒåçš„.cpropså’Œ.asmï¼Œè¿™ä¸¤ç§æ–‡ä»¶å·²å¼ƒç”¨ï¼‰ .scaffold_track.txt &amp; .superscaf_track.txt scaffoldå’Œsuper scaffoldçš„æŸ“è‰²ä½“è¾¹ç•Œæ–‡ä»¶ï¼ŒJuicebox 2D æ³¨é‡Šæ ¼å¼ï¼Œä½¿ç”¨juicerboxçš„æ—¶å€™å¯ä»¥ç”¨åˆ°ï¼Œä½†æ˜¯ä½¿ç”¨Juicebox Assembly Toolsä¸éœ€è¦ç”¨ï¼ˆå› ä¸ºè¾¹ç•Œæ³¨é‡Šä¼šæ ¹æ®. assembly æ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆï¼‰ .bed &amp; .wig å¯¹pipelineè¿›è¡Œæ•…éšœå®¡æŸ¥çš„æ—¶å€™ç”¨åˆ°ï¼Œå¯ä»¥ä¸.hicæ–‡ä»¶å¯¼å…¥juiceboxï¼Œæš‚æ—¶ä¸Juicebox Assembly Toolsä¸å…¼å®¹ å¯ä»¥çœ‹å‡ºå¾ˆå¤šä¸­é—´æ–‡ä»¶è¿˜æ˜¯ä¸ºäº†å¯¼å…¥juiceboxåšåˆ†æäº§ç”Ÿçš„ï¼Œè€Œæˆ‘ä»¬ä»…ä»…æ˜¯ä¸ºäº†è¾…åŠ©åŸºå› ç»„ç»„è£…ï¼Œç¡®è®¤æŸ“è‰²ä½“çš„æŒ‚è½½æƒ…å†µï¼Œç”¨åˆ°çš„æ˜¯Aidenå›¢é˜Ÿå¼€å‘çš„juiceboxçš„æ¡Œé¢åº”ç”¨æ‹“å±•æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯Juicebox Assembly Tools(JBAT)ï¼Œå¾ˆå¤šä¸­é—´æ–‡ä»¶å·²ç»ç”¨ä¸åˆ°äº†ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°çš„æ˜¯.hicå’Œ.assemblyä¸¤ç§ç±»å‹æ–‡ä»¶ï¼Œä¸”è¿™ä¸¤ç§æ–‡ä»¶åç§°æ˜¯ä¸€ä¸€å¯¹åº”çš„ã€‚ å¦‚æœæ˜¯é»˜è®¤å‚æ•°è·‘çš„è¯è¿˜ä¼šæœ‰genome.1.hicå’Œgenome.2.hicä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«ä»£è¡¨æ ¡æ­£äº†ä¸€æ¬¡å’Œä¸¤æ¬¡çš„ç»“æœï¼Œéƒ½å¯ä»¥å¯¼å…¥JBATçœ‹ç»“æœã€‚ çœ‹å¾ˆå¤šæ•™ç¨‹å…¶å®é™·å…¥äº†è¯¯åŒºï¼Œéœ€è¦æ ¡æ­£å¤šå°‘è½®ï¼Œç”¨å“ªä¸€ç»„æ•°æ®å…¶å®æ²¡æœ‰å›ºå®šè¯´æ³•ï¼Œæœ‰çš„äººç”¨genome.0.hicï¼Œæœ‰çš„äººç”¨genome.1.hicï¼Œéƒ½æ˜¯å¯ä»¥çš„ï¼Œè¿™å‡ ä¸ªåªæ˜¯polishå‰å’Œpolishåäº§ç”Ÿçš„hicæ–‡ä»¶ï¼Œåˆ«å¿˜äº†æˆ‘ä»¬è¿˜æœ‰å…¶ä»–é˜¶æ®µäº§ç”Ÿçš„hicæ–‡ä»¶ï¼Œéƒ½æ˜¯å¯ä»¥ç”¨çš„ã€‚è¿™é‡Œæˆ‘ç”¨genome.rawchrom.hicå’Œå¯¹åº”çš„genome.rawchrom.assemblyè¿™ç»„æ–‡ä»¶ï¼Œå› ä¸ºè¿™ç»„æ–‡ä»¶å®é™…ä¸ŠåŒºåˆ†æŸ“è‰²ä½“çš„æƒ…å†µæœ€å¥½ã€‚ ä¸‹ä¸€æ­¥å°±æ˜¯å¯¼å…¥JBATæ‰‹åŠ¨è°ƒæ•´æŸ“è‰²ä½“è¾¹ç•Œå’Œä¿®æ”¹ç»„è£…è¿‡ç¨‹ä¸­äº§ç”Ÿçš„é”™è¯¯ã€‚ 4. å¯¼å…¥JBATè¿™ä¸€æ­¥åœ¨ä¸ªäººç”µè„‘ä¸Šå®Œæˆï¼Œæœ€å¥½ä¿è¯ç”µè„‘æœ‰4Gä»¥ä¸Šçš„è¿å­˜ï¼ˆ2023å¹´äº†ä¸ªäººç”µè„‘éƒ½æœ‰è¿™ä¸ªé…ç½®äº†å§ï¼‰ï¼Œå¦åˆ™ä¼šå·¨å¡æ— æ¯”ã€‚ æˆ‘ç”¨çš„å®˜æ–¹1.11.08ç‰ˆæœ¬çš„windowså·¥å…·ï¼š https://s3.amazonaws.com/hicfiles.tc4ga.com/public/Juicebox/Juicebox_1.11.08.exe ä¸è¦å®‰è£…ç›´æ¥å¯ä»¥è¿è¡Œï¼Œé¦–å…ˆå¯¼å…¥.hicæ–‡ä»¶ï¼š å¯¼å…¥hicæ–‡ä»¶ä¹‹åAssemblyèœå•å°±å¯ä»¥ç‚¹äº†ï¼Œå¯¼å…¥å¯¹åº”åå­—çš„.assemblyæ–‡ä»¶ï¼š å®Œæ•´å¯¼å…¥åç•Œé¢å¦‚å›¾æ‰€ç¤ºï¼Œä¸»è¦æ˜¯ç”¨åˆ°ä»¥ä¸‹å‡ ä¸ªèœå•æ ï¼š â‘ ï¼šæ ‡å‡†åŒ–æ–¹å¼ï¼Œé€‰æ‹©balanceçœ‹èµ·æ¥èˆ’æœç‚¹&#x3D; &#x3D; â‘¡ï¼šåˆ†è¾¨ç‡ï¼Œè°ƒæ•´æ˜¾ç¤ºçš„åˆ†è¡¨ç‡å¤§å° â‘¢ï¼šè‰²å½©èŒƒå›´ï¼Œè°ƒæ•´è¡¨ç¤ºäº’ä½œå¼ºåº¦çš„è‰²å½©èŒƒå›´ â‘£å³ä¸‹è§’å‡ ä¸ªé¢œè‰²å—ä»£è¡¨å›¾ä¸Šçº¿æ¡æ¡†çš„åŒºåŸŸå¤„äºä»€ä¹ˆçŠ¶æ€ã€‚é»˜è®¤é»„è‰²çº¿æ¡†çš„æ˜¯å¾…ç¼–è¾‘åŒºï¼ˆè¿™é‡Œæ²¡æœ‰ï¼Œå¯¹åŒºå—è¿›è¡Œæ“ä½œçš„æ—¶å€™æ‰æœ‰ï¼‰ï¼Œç´«è‰²çº¿æ¡†æ˜¯æŸ“è‰²ä½“åŒºå—ï¼Œç»¿è‰²çº¿æ¡†æ˜¯scaffoldåŒºåŸŸ 5. è°ƒæ•´Hi-Cäº’ä½œå›¾æˆ‘è¿™ä¸ªäº’ä½œå›¾æ²¡æœ‰æ˜æ˜¾çš„éœ€è¦æŸ“è‰²ä½“æ˜“ä½ã€å€’ä½çš„è°ƒæ•´ï¼Œåªéœ€è¦ç¡®å®šæŸ“è‰²ä½“è¾¹ç•Œï¼ˆä¹Ÿå°±æ˜¯è“è‰²çš„çº¿ï¼‰å°±è¡Œã€‚ æŸ“è‰²ä½“æ˜“ä½å’Œå€’ä½çš„è°ƒæ•´åœ¨å®˜æ–¹è§†é¢‘é‡Œå°±æœ‰ï¼Œbç«™æœ‰äººåšäº†ç¿»è¯‘ï¼Œçœ‹ä¸€ä¸ªè§†é¢‘è¶³å¤Ÿäº†ç¿»è¯‘ | Juicebox Assembly Toolsæ•™ç¨‹_å“”å“©å“”å“©_bilibili è°ƒé«˜åˆ†è¾¨ç‡ï¼Œæ¯”å¦‚ä¸‹é¢æˆ‘è¦åšçš„å°±æ˜¯å°†ç´«è‰²æ¡†åˆ†æˆä¸¤ä¸ªï¼š æ”¾å¤§åˆ°ä¸€å®šåˆ†è¾¨ç‡åï¼Œscaffoldçš„äº¤ç•Œå¤„é¼ æ ‡ä¼šå˜æˆLå‹ï¼Œç‚¹ä¸€ä¸‹å°±å¯ä»¥åŠ ä¸ŠæŸ“è‰²ä½“è¾¹ç•Œï¼Œè¿™é‡Œæˆªå›¾æ²¡æˆªå‡ºæ¥â€¦â€¦ è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼Œé•¿æŒ‰shifté”®ï¼Œå•å‡»æ‹–åŠ¨é¼ æ ‡æ¡†é€‰ä½ä½ è¦æ“ä½œçš„scaffoldï¼ˆä¸éœ€è¦å®Œå…¨è¦†ç›–scaffoldï¼Œåªè¦æ¡†çš„é¢ç§¯é‡Œæœ‰ä½ è¦çš„scaffoldå°±è¡Œï¼‰ï¼Œæ¾å¼€shifté”®ï¼Œè¿™ä¸ªæ—¶å€™é€‰ä¸­çš„scaffoldä¼šå¤„äºå¾…ç¼–è¾‘çŠ¶æ€ï¼ˆé»„è‰²çš„æ¡†çº¿ï¼‰ã€‚å³é”®ï¼Œé€‰æ‹©Add chr boundarieså³å¯ä¸ºé€‰ä¸­çš„scaffoldåŒºåŸŸæ·»åŠ æŸ“è‰²ä½“è¾¹ç•Œã€‚ å¦‚æœæƒ³è¦æ’¤é”€æ“ä½œï¼Œå³é”®åç‚¹å‡»Undoå³å¯ã€‚ æ•´ä½“è°ƒæ•´å®Œä»¥åæ˜¯è¿™æ ·ï¼š æŸ“è‰²ä½“æ¡æ•°ä¸æ˜¯æ— ç¼˜æ— æ•…æ·»åŠ çš„ï¼Œæ—¢è¦ä»¥å›¾ä¸ºå‡†ï¼Œåˆè¦ç”±å®éªŒç¡®å®šï¼Œæˆ–è€…é€šè¿‡å·²ç»å‘è¡¨çš„æ–‡çŒ®ï¼ˆè¯¥ç‰©ç§æˆ–è€…è¿‘ç¼˜ç‰©ç§ï¼‰ä½è¯ï¼Œçº æ­£ç®—æ³•äº§ç”ŸæŸ“è‰²ä½“è¾¹ç•Œçš„è¯¯å·®ã€‚æˆ‘æ˜¯é€šè¿‡æŸ¥é˜…æ–‡çŒ®å¾—åˆ°è¿™ä¸ªç‰©ç§æŸ“è‰²ä½“æ¡æ•°ä¸º11ï¼Œè°ƒæ•´åçš„Hi-Cäº’ä½œå›¾ä¹Ÿèƒ½æ˜æ˜¾åˆ†ä¸º11ä¸ªäº’ä½œåŒºå—ï¼Œè¯å®ç»„è£…æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ å®˜æ–¹çš„æ“ä½œæ‰‹å†Œä¸Šä¹Ÿæœ‰è¯¦å°½çš„æ‰‹åŠ¨è°ƒæ•´Hi-Cäº’ä½œå›¾æ•™ç¨‹ï¼Œå¯ä»¥å‚è€ƒmanual_180322.pdf (dropbox.com)ã€‚ æ‰‹åŠ¨è°ƒæ•´å®Œåï¼Œå¯¼å‡ºè°ƒæ•´åçš„.assemblyæ–‡ä»¶ï¼Œæˆ‘ä»¬éœ€è¦ç”¨è¿™ä¸ªæ–‡ä»¶é‡æ–°å›åˆ°3D-DNAç”Ÿæˆæœ€ç»ˆçš„æŸ“è‰²ä½“æ°´å¹³åŸºå› ç»„fastaæ–‡ä»¶ã€‚ 6. 3D-DNAå¤„ç†ç®€å•æ¥è¯´ï¼Œæˆ‘ä»¬åœ¨JBATå¯¼å‡ºçš„æœ€ç»ˆ.assemblyæ–‡ä»¶è®°å½•äº†å„ä¸ªscaffoldçš„åæ ‡ä½ç½®å’Œäº’ä½œä¿¡æ¯ï¼Œåªéœ€è¦åœ¨3D-DNAä¸­è·‘æœ€åfinalizeæµç¨‹å°±å¯ä»¥äº†ï¼Œè½¯ä»¶æä¾›äº†è„šæœ¬run-asm-pipeline-post-review.shï¼š 12345678910111213USAGE: ./run-asm-pipeline-post-review.sh [options] -r &lt;review.assembly&gt; &lt;path_to_input_fasta&gt; &lt;path_to_input_mnd&gt; path_to_input_fastaï¼šæŒ‡å®šç»„è£…çš„è‰å›¾åŸºå› ç»„fastaæ–‡ä»¶path_to_input_mndï¼šæŒ‡å®šjuiceräº§ç”Ÿçš„merged_nodups.txtOPTIONS:-r|--review path_to_review_assembly æŒ‡å®šä¸Šä¸€æ­¥JBATå¯¼å‡ºçš„.assemblyæ–‡ä»¶-i|--input input_size æŒ‡å®šè¾“å…¥çš„ contig/scaffold sizeé˜ˆå€¼ï¼Œé»˜è®¤15000ï¼Œå°äº15000çš„å°†è¢«å¿½ç•¥-s|--stage stage æŒ‡å®šè¿è¡Œå¼€å§‹çš„é˜¶æ®µï¼Œå¯ä»¥æ˜¯sealæˆ–è€…finalizeï¼Œé»˜è®¤finalize-q|--mapq mapq æŒ‡å®šæœ€ç»ˆmapçš„å¯è§†åŒ–MAPQé˜ˆå€¼ï¼Œé»˜è®¤1-g|--gap_size gap_size æŒ‡å®šæœ€ç»ˆscaffoldä¹‹é—´çš„é—´éš”ï¼Œé»˜è®¤500--sort-output å¯¹æœ€ç»ˆè¾“å‡ºçš„æŸ“è‰²ä½“çº§åˆ«çš„scaffoldé•¿åº¦æ’åºï¼Œé™åº--build-gapped-map Option to output an additional contact map corresponding to the assembly after the gaps have been added between scaffolded sequences.ï¼ˆæˆ‘ä¹Ÿä¸çŸ¥é“å¹²å•¥çš„ï¼‰ æ¯”è¾ƒé‡è¦çš„å°±ä¸‰ä¸ªæ–‡ä»¶ä½ç½®å‚æ•°ï¼š 123456789101112131415161718# åˆ›å»ºrun_postview.slurmè„šæœ¬vim run_postview.slurm# è„šæœ¬å†…å®¹å¦‚ä¸‹---------------------------------------------------------------#!/bin/bash#SBATCH -n 30#SBATCH -N 1#SBATCH -t 7200/public/home/wlxie/biosoft/3d-dna/run-asm-pipeline-post-review.sh \\ -r /public/home/wlxie/biosoft/3d-dna/baima_diploid/genome_rawchrom.review.assembly \\ /public/home/wlxie/biosoft/juicer/reference/genome.fa \\ /public/home/wlxie/biosoft/juicer/aligned/merged_nodups.txt---------------------------------------------------------------# è¿è¡Œè„šæœ¬sbatch run_postview.slurm é™é™ç­‰å¾…ç”Ÿæˆæœ€ç»ˆçš„fastaåºåˆ—å°±å¯ä»¥å•¦ï¼Œå¦‚æœå‰é¢åšè¿‡contigåŸºå› ç»„è‰å›¾æ³¨é‡Šçš„è¯ï¼Œè¿˜éœ€è¦å°†æ³¨é‡Šçš„åŸºå› ä¿¡æ¯è½¬åæ ‡åˆ°æœ€ç»ˆçš„æŸ“è‰²ä½“æ°´å¹³åŸºå› ç»„ä¸Šï¼›å¦‚æœæ²¡åšè¿‡æ³¨é‡Šçš„è¯ï¼Œè·‘ä¸€éæ³¨é‡Šæµç¨‹å§ï¼ 2023.7.17è¡¥å……æœ€ç»ˆç”Ÿæˆçš„åŸºå› ç»„åºåˆ—è¦çœ‹genome.FINAL.fastaï¼Œå‘ç°æŸ“è‰²ä½“æ•°ç›®å’Œå‰é¢æ‰‹åŠ¨æ ‡å®šæŸ“è‰²ä½“è¾¹ç•Œçš„æ•°ç›®ä¸ä¸€è‡´ï¼Œè¿™å¾ˆæ­£å¸¸ã€‚å¯ä»¥ç”¨seqkitå·¥å…·ç»Ÿè®¡ä¸‹å„ä¸ªæŸ“è‰²ä½“çš„é•¿åº¦ï¼Œå¦‚ä¸‹ï¼š å¯ä»¥çœ‹åˆ°å‰11æ¡æ˜¯æŸ“è‰²ä½“çº§åˆ«çš„contigï¼Œè¿™å’Œæ‰‹åŠ¨æ ‡è®°çš„æŸ“è‰²ä½“æ•°ç›®ä¸€è‡´ï¼Œåé¢çš„contigé•¿åº¦å æ¯”éå¸¸å°ï¼Œå¯ä»¥æ ‡è®°åŒºåˆ†ä¸€ä¸‹ï¼Œè¿™äº›éƒ½è¦æ”¾åœ¨ç»„è£…çš„åŸºå› ç»„æ–‡ä»¶é‡Œã€‚ é¡ºä¾¿æ”¾ä¸€ä¸‹è‡ªå·±å†™çš„pythonä»£ç ï¼ŒåŒæ ·çš„å¤„ç†æ•ˆæœï¼Œé¡ºæ‰‹å°±å½“pythonç»ƒä¹ äº†ï¼ˆè¿è¡Œå‰æï¼šfastaæ–‡ä»¶ä¸­æ²¡æœ‰ç©ºè¡Œï¼‰ã€‚ 123456789101112131415161718192021fasta_file = &#x27;genome.FINAL.fasta&#x27; # æ¢æˆè‡ªå·±çš„fastaæ–‡ä»¶è·¯å¾„def fasta_length(file_path): sequences = &#123;&#125; with open(file_path, &#x27;r&#x27;) as file: content = file.read() # è¯»æ•´ä¸ªæ–‡ä»¶ blocks = content.split(&#x27;&gt;&#x27;) # æ ¹æ®å…³é”®å­—â€œ&gt;â€åˆ†å— for block in blocks[1:]: # ç¬¬ä¸€ä¸ªå—ä¸ºç©ºï¼Œè·³è¿‡ index = block.find(&#x27;\\n&#x27;) # æŸ¥æ‰¾ç¬¬ä¸€ä¸ªæ¢è¡Œç¬¦ç´¢å¼• newline_number = block.count(&#x27;\\n&#x27;) # ç»Ÿè®¡æ¢è¡Œç¬¦æ•°é‡ header = block[:index] # åºåˆ—åç§° sequence_length = len(block) - index - newline_number # åºåˆ—é•¿åº¦ sequences[header] = sequence_length # åºåˆ—åç§°å’Œé•¿åº¦å­˜å…¥å­—å…¸ return sequencessequence_lengths = fasta_length(fasta_file)for header, length in sequence_lengths.items(): print(f&#x27;&#123;header&#125;:&#123;length&#125;&#x27;) 2023.9.11è¡¥å……è€ƒè™‘åˆ°juiceboxè°ƒæ•´çš„è¿™ä¸ªå›¾ä¸èƒ½ç›´æ¥ç”¨åœ¨è®ºæ–‡é‡Œï¼ˆçœ‹èµ·æ¥æœ‰ç‚¹ä¸ç›´è§‚ï¼‰ï¼Œè¿™é‡Œå†æ¨èä¸¤ä¸ªé¡¹ç›®ï¼š Atvar2&#x2F;plotHicGenome: The tools are used for displaying hic signal of genome (github.com) biotools&#x2F;Hic&#x2F;juicerbox2matrix at main Â· yukaiquan&#x2F;biotools (github.com) ç¬¬ä¸€ä¸ªå·¥å…·å¯ä»¥å°†Juiceboxè°ƒæ•´çš„ç»“æœï¼ˆ.review.assemblyæ–‡ä»¶ï¼‰å’Œjuicer2çš„ç»“æœï¼ˆmerged_nodups.txtï¼‰ç»“åˆï¼Œåšå…¨åŸºå› ç»„å±‚é¢çš„Hi-Cäº’ä½œå›¾ã€‚ç¬¬äºŒä¸ªå·¥å…·æ˜¯å¦ä¸€ä¸ªä½œè€…ä¼˜åŒ–äº†ç”Ÿæˆbin matrixçŸ©é˜µçš„è¿‡ç¨‹ï¼Œæµ‹è¯•äº†ä¸‹åƒä¸ªé¥­çš„åŠŸå¤«å°±è·‘å®Œäº†ã€‚å…¶å®ä¹Ÿå¯ä»¥ç”¨.hicä»¥åŠ.review.assemblyæ–‡ä»¶åšmatrixï¼Œç„¶åç”¨HiCPlotterä½œå›¾ï¼ˆæ€ä¹ˆç”¨HiCPlotterå¯ä»¥çœ‹ä¹‹å‰çš„è¿™ç¯‡åšå®¢ ä¸‰ç»´åŸºå› ç»„å­¦â€”â€”å¦‚ä½•ç”¨Hi-Cæ•°æ®åˆ†ææ‹“æ‰‘å…³è”ç»“æ„åŸŸï¼‰ï¼Œæ•ˆæœåŸºæœ¬ä¸Šæ˜¯å·®ä¸å¤šçš„ã€‚ è¿™é‡Œè®°å½•ä¸‹ä½¿ç”¨ä¸Šé¢é¡¹ç›®çš„è¿‡ç¨‹å’Œæœ€åè·‘å‡ºæ¥çš„æ•ˆæœï¼š 1234567891011#!/bin/bash#SBATCH -n 8#SBATCH -t 7200assembly=/public/home/wlxie/biosoft/3d-dna/baima_diploid/genome_rawchrom.review.assemblymerged_nodups=/public/home/wlxie/biosoft/juicer/aligned/merged_nodups.txt./juicerbox2matrix -a $&#123;assembly&#125; -c 11 -i $&#123;merged_nodups&#125; -o runplotHicGenome juicer $&#123;merged_nodups&#125; $&#123;assembly&#125; -H run/Hicmatrix.txt -W whole -n 11 -s False -l t -F 4 -r 500000 -X 2 -w 0.5 -d 3 -S &#x27;dashed&#x27; -i 300 -z 6,6 -C &#x27;black&#x27; -L 0.8 -A 0.8 -B &#x27;1%&#x27; -D 0.2 -o Juicerbox.pdf -R ./run","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Hi-CæŸ“è‰²ä½“æŒ‚è½½","slug":"Hi-CæŸ“è‰²ä½“æŒ‚è½½","permalink":"http://www.shelven.com/tags/Hi-C%E6%9F%93%E8%89%B2%E4%BD%93%E6%8C%82%E8%BD%BD/"},{"name":"3D-DNA","slug":"3D-DNA","permalink":"http://www.shelven.com/tags/3D-DNA/"},{"name":"JBAT","slug":"JBAT","permalink":"http://www.shelven.com/tags/JBAT/"}]},{"title":"Hi-CæŸ“è‰²ä½“æŒ‚è½½ï¼ˆ1ï¼‰â€”â€”juicer2å¤„ç†Hi-Cæ•°æ®","slug":"Hi-CæŸ“è‰²ä½“æŒ‚è½½ï¼ˆ1ï¼‰â€”â€”juicer2å¤„ç†Hi-Cæ•°æ®","date":"2023-07-11T10:04:56.000Z","updated":"2023-07-11T13:03:50.000Z","comments":true,"path":"2023/07/11/a.html","link":"","permalink":"http://www.shelven.com/2023/07/11/a.html","excerpt":"å‰é¢ç»è¿‡ä¸‰ä»£æ•°æ®ç»“åˆäºŒä»£æ•°æ®çš„ç»„è£…å’Œpolishï¼Œå·²ç»æŠŠåŸºå› ç»„ç»„è£…æˆäº†contigsçš„æ°´å¹³ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯è¿›ä¸€æ­¥æå‡åˆ°æŸ“è‰²ä½“æ°´å¹³ã€‚ä»å®ç°çš„æ–¹å¼ä¸Šæ¥è¯´æœ‰Bionanoçš„å…‰å­¦å›¾è°±æŠ€æœ¯ï¼ˆä½œç”¨æ˜¯å‡å°‘Scaffoldæ•°é‡ï¼ŒåŸºå› ç»„çº é”™ï¼‰ï¼ŒHi-CæŠ€æœ¯ï¼Œé—ä¼ å›¾è°±ä»¥åŠä¾é ç®—æ³•å®ç°çš„åŸºäºè¿‘ç¼˜ç‰©ç§å‚è€ƒåŸºå› ç»„çš„æŸ“è‰²ä½“æ°´å¹³ç»„è£…ï¼ˆæ¯”å¦‚RagTagï¼‰ã€‚","text":"å‰é¢ç»è¿‡ä¸‰ä»£æ•°æ®ç»“åˆäºŒä»£æ•°æ®çš„ç»„è£…å’Œpolishï¼Œå·²ç»æŠŠåŸºå› ç»„ç»„è£…æˆäº†contigsçš„æ°´å¹³ï¼Œä¸‹ä¸€æ­¥å°±æ˜¯è¿›ä¸€æ­¥æå‡åˆ°æŸ“è‰²ä½“æ°´å¹³ã€‚ä»å®ç°çš„æ–¹å¼ä¸Šæ¥è¯´æœ‰Bionanoçš„å…‰å­¦å›¾è°±æŠ€æœ¯ï¼ˆä½œç”¨æ˜¯å‡å°‘Scaffoldæ•°é‡ï¼ŒåŸºå› ç»„çº é”™ï¼‰ï¼ŒHi-CæŠ€æœ¯ï¼Œé—ä¼ å›¾è°±ä»¥åŠä¾é ç®—æ³•å®ç°çš„åŸºäºè¿‘ç¼˜ç‰©ç§å‚è€ƒåŸºå› ç»„çš„æŸ“è‰²ä½“æ°´å¹³ç»„è£…ï¼ˆæ¯”å¦‚RagTagï¼‰ã€‚ å¯¹äºä¸€ä¸ªæ²¡æœ‰é—ä¼ å›¾è°±ï¼Œä¹Ÿæ²¡æœ‰è¿‘ç¼˜ç‰©ç§å‚è€ƒåŸºå› ç»„çš„ç‰©ç§ï¼Œè€ƒè™‘åˆ°å…‰å­¦å›¾è°±è´¹ç”¨æ˜‚è´µï¼Œä¸€èˆ¬æœ€åˆ’ç®—ç”¨çš„æœ€å¤šçš„æ˜¯æµ‹ä¸€ä¸ªHi-Cæ¥è¿›è¡ŒåŸºå› ç»„æŸ“è‰²ä½“çº§åˆ«ç»„è£…ã€‚ä¸€äº›ç»å…¸çš„Hi-Cè¾…åŠ©ç»„è£…çš„è½¯ä»¶åº”è¿è€Œç”Ÿï¼Œæ¯”å¦‚LACHESISã€3D-DNAã€YaHSç­‰ç­‰ã€‚è¿™ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‹è½¯ä»¶3D-DNAçš„æŸ“è‰²ä½“æŒ‚è½½æµç¨‹ã€‚ ç„¶è€Œ3D-DNAä¸èƒ½ç›´æ¥å¤„ç†Hi-Cä¸‹æœºæ•°æ®ï¼Œå› æ­¤æ€»çš„æµç¨‹æ˜¯ç”¨juicer2å…ˆå¤„ç†Hi-Cæ•°æ®ï¼Œå†ç”¨3D-DNAè¿›è¡ŒæŸ“è‰²ä½“æŒ‚è½½ï¼Œæœ€åç”¨Juicebox Assembly Tools (JBAT)è¿›è¡Œæ‰‹å·¥çº é”™ã€‚æµç¨‹å‚è€ƒè‡ªBaylor College of Medicine &amp; Rice University Aidenå›¢é˜ŸGenome Assembly Cookbookï¼Œè¿™å‡ ä¸ªè½¯ä»¶ä¹Ÿæ˜¯å‡ºè‡ªä»–ä»¬å›¢é˜Ÿã€‚ juicer2Juiceræ˜¯ä¸€æ¬¾éå¸¸ç»å…¸çš„Hi-Cæ•°æ®å¤„ç†è½¯ä»¶ï¼Œä½†æ˜¯é…ç½®è¿è¡Œèµ·æ¥ç¨å¾®æœ‰ç‚¹éº»çƒ¦ï¼ŒèŠ±äº†å°åŠå¤©æ—¶é—´è¸©å‘è®°å½•ä¸€ä¸‹ã€‚éœ€è¦éå¸¸æ³¨æ„çš„ä¸€ç‚¹ï¼Œç›´æ¥ä»githubå®˜ç½‘æ‹‰å–çš„juicerä»“åº“æ˜¯juicer2ï¼Œåœ¨releaseç‰ˆæœ¬ä¸­æœ‰ä¸€ä¸ªç¨³å®šç‰ˆjuicer1.6ï¼Œä¸¤è€…çš„é…ç½®å’Œäº§ç”Ÿçš„ç»“æœæ–‡ä»¶æ˜¯ä¸ä¸€æ ·çš„ï¼ï¼ï¼ ç§‰ç€è½¯ä»¶ç”¨æ–°ä¸ç”¨æ—§çš„åŸåˆ™ï¼Œæœ¬ç¯‡ç¬”è®°å…¨ç¨‹ç”¨çš„æ˜¯juicer2ï¼Œå¦‚æœæœ‰è½¯ä»¶è¿è¡Œé—®é¢˜å¯ä»¥åœ¨3D Genomics - Google ç½‘ä¸Šè®ºå›äº¤æµï¼Œæˆ–è€…åœ¨githubå®˜æ–¹æIssuesï¼ˆä¸å»ºè®®ï¼‰ã€‚ é¡ºä¾¿æä¸€ä¸‹æˆ‘ä½¿ç”¨Juicer2è¿‡ç¨‹ä¸­ç¢°åˆ°çš„ç‰ˆæœ¬é—®é¢˜ï¼š juicer2é…ç½®çš„juicer_toolsç‰ˆæœ¬è¦åœ¨2.0ä»¥ä¸Šï¼Œå¦åˆ™ä¼šæŠ¥é”™Exception in thread &quot;main&quot; java.lang.RuntimeException: Unknown command: statisticsï¼Œè¯¥æŠ¥é”™ä¼šç›´æ¥å¯¼è‡´æ— æ³•ç”Ÿæˆinter.txtã€inter_hists.m ã€inter_30.txtå’Œinter_30_hists.mæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯Hi-Cäº’ä½œçš„ç»Ÿè®¡æ•°æ®å’ŒçŸ©é˜µã€‚ juicer2ç»“æœæ–‡ä»¶ä¸­ä¸ä¼šè‡ªåŠ¨äº§ç”Ÿmerged_nodups.txtæ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åŸæœ¬ä½œä¸º3D-DNAçš„è¾“å…¥æ–‡ä»¶ï¼Œåœ¨juicer2ä¸­è¢«åŒåçš„merged_nodups.bamæ–‡ä»¶å’Œmerged*.txtä»£æ›¿ã€‚å¦‚æœæƒ³è¦merged_nodups.txtæ–‡ä»¶ï¼Œéœ€è¦åŠ ä¸Šå‚æ•°--assemblyã€‚ 1. ä¸‹è½½å’Œé…ç½®juice212345678910111213# æ‹‰å–æœ€æ–°ç‰ˆæœ¬çš„juicer2ä»“åº“ï¼ˆè¿™é‡Œç”¨çš„githubé•œåƒï¼Œé›†ç¾¤å¯èƒ½æœ‰dnsæ±¡æŸ“æ— æ³•ç›´æ¥è®¿é—®githubï¼‰git clone https://ghproxy.com/https://github.com/aidenlab/juicer.gitcd juicer# juicerä¸»ç›®å½•ä¸‹é…ç½®scriptsï¼ˆå¿…éœ€ï¼‰## ä¸ªäººç”µè„‘çš„æ˜¯å»ºç«‹è½¯é“¾æ¥åˆ°CPUæ–‡ä»¶å¤¹ä¸‹ï¼Œå…¶ä»–å¦‚slurmã€LSFã€AWSå’ŒUnivaç­‰é›†ç¾¤æˆ–è€…äº‘ç«¯è·‘juiceræ˜¯å»ºç«‹è½¯é“¾æ¥æˆ–è€…å¤åˆ¶åˆ°å¯¹åº”æ–‡ä»¶å¤¹çš„scriptsæ–‡ä»¶å¤¹ä¸‹ln -s CPU scripts# scripts/commonæ–‡ä»¶å¤¹ä¸­ä¸‹è½½juicer_toolsï¼ˆå¿…éœ€ï¼‰cd scripts/commonwget -c https://ghproxy.com/https://github.com/aidenlab/Juicebox/releases/download/v2.20.00/juicer_tools.2.20.00.jar# ä¿®æ”¹æ–‡ä»¶å±æ€§ä¸ºå¯æ‰§è¡Œæ–‡ä»¶åï¼Œå»ºç«‹è½¯é“¾æ¥ln -s juicer_tools.2.20.00.jar juicer_tools.jar æœ¬æ¥æƒ³é…ç½®slurmè·‘çš„ï¼Œå› ä¸ºå¡”å¤§é›†ç¾¤ä½¿ç”¨çš„æ˜¯slurmä½œä¸šè°ƒåº¦ç³»ç»Ÿã€‚èŠ±äº†å¥½å¤§åŠŸå¤«é…ç½®ç¯å¢ƒå‘ç°è¿è¡ŒSLURM/scriptsåº•ä¸‹çš„juicer.shè¿˜éœ€è¦é…ç½®CUDAï¼Œæ™•ï¼Œå­¦æ ¡çš„é›†ç¾¤æ²¡æœ‰GPUï¼ˆæ€¨å¿µ &#x3D; &#x3D;ï¼‰â€¦â€¦æ‰€ä»¥å¦‚æœé›†ç¾¤æ²¡æœ‰GPUçš„è¯å°±è€è€å®å®ç”¨CPUæ–‡ä»¶å¤¹ä¸‹çš„juicer.shï¼ŒæŒ‰ç…§CPUæµç¨‹è·‘åé¢çš„ç¨‹åºï¼Œç¼ºç‚¹æ˜¯ä¸èƒ½ç”¨é›†ç¾¤æäº¤å¤šçº¿ç¨‹ä½œä¸šéå¸¸éš¾å—ã€‚ å®˜æ–¹ä¹Ÿæ˜¯æ¨èå°çš„Hi-Cå®éªŒå¯ä»¥ç”¨CPUç‰ˆæœ¬ï¼Œå¦‚æœæ•°æ®é‡æ¯”è¾ƒå¤§ï¼Œè¿˜æ˜¯æ¨èå¸¦æœ‰GPUåŠ é€Ÿçš„é›†ç¾¤ï¼ˆæœ€å¥½æ˜¯SLURMï¼‰æˆ–è€…äº‘ç«¯è·‘ã€‚å¦‚ä¸‹æ˜¯å®˜æ–¹æ¨èçš„ä¸¤ç§æ–¹å¼ï¼š Running Juicer on a cluster Â· aidenlab&#x2F;juicer Wiki (github.com) ENCODE-DCC&#x2F;hic-pipeline: HiC uniform processing pipeline (github.com) juicerä¸»ç›®å½•ä¸‹éœ€è¦é…ç½®ä¸¤ä¸ªå¿…éœ€çš„æ–‡ä»¶å¤¹referenceå’Œrestriction_sitesï¼ˆç¬¬äºŒä¸ªåœ¨juiceræµç¨‹ä¸­éå¿…é¡»ï¼Œä½†æ˜¯åšæŸ“è‰²ä½“æŒ‚è½½ä¸€å®šè¦ï¼‰ 12345678910# juicerç›®å½•ä¸‹åˆ›å»ºå‚è€ƒåŸºå› ç»„æ–‡ä»¶å¤¹ï¼Œæ”¾å…¥å‚è€ƒåŸºå› ç»„ï¼ˆå¤åˆ¶æˆ–è€…è½¯é“¾æ¥ï¼‰å’Œæ„å»ºå‚è€ƒåŸºå› ç»„ç´¢å¼•æ–‡ä»¶ï¼ˆå¿…éœ€ç”¨bwaï¼‰mkdir reference &amp;&amp; cd referencecp /path/to/your/reference/genome.fa ./bwa index genome.fa# juicerç›®å½•ä¸‹åˆ›å»ºé™åˆ¶æ€§é…¶åˆ‡ä½ç‚¹æ–‡ä»¶å¤¹ï¼ŒMboIé…¶é…¶åˆ‡å‚è€ƒåŸºå› ç»„ï¼ˆæ ¹æ®è‡ªå·±æµ‹hicç”¨çš„é™åˆ¶é…¶ï¼‰mkdir restriction_sites &amp;&amp; cd restriction_sitespython ~/biosoft/juicer/misc/generate_site_positions.py MboI genome ~/biosoft/juicer/reference/genome.fa## ç”Ÿæˆçš„é…¶åˆ‡å›¾è°±æ–‡ä»¶åä¸ºgenome_MboI.txtï¼ŒåŒä¸ªæ–‡ä»¶å¤¹ä¸‹ç”Ÿæˆcontigé•¿åº¦æ–‡ä»¶awk &#x27;BEGIN&#123;OFS=&quot;\\t&quot;&#125;&#123;print $1, $NF&#125;&#x27; genome_MboI.txt &gt; genome.chrom.sizes å®˜æ–¹çš„é…¶åˆ‡å‚è€ƒåŸºå› ç»„çš„è„šæœ¬generate_site_positions.pyæ”¯æŒHindIIIã€DpnIIã€MboIã€Sau3AIå’ŒArima4ç§é™åˆ¶æ€§æ ¸é…¸å†…åˆ‡é…¶ï¼Œå¦‚æœä½ Hi-Cæµ‹åºç”¨çš„æ˜¯å…¶ä»–é…¶ï¼Œå¯ä»¥æ ¹æ®å®é™…ä¿®æ”¹è¿™ä¸ªè„šæœ¬ä¸­çš„å­—å…¸ç±»å‹æ•°æ®patternsï¼Œæ ¹æ®å®é™…æƒ…å†µåŠ å…¥é”®å€¼å¯¹ä¿¡æ¯ï¼š ç¨å¾®è§£é‡Šä¸€ä¸‹å®˜ç½‘ç»™çš„awk &#39;BEGIN&#123;OFS=&quot;\\t&quot;&#125;&#123;print $1, $NF&#125;&#39;è¿™ä¸ªå‘½ä»¤ï¼Œè¿™é‡Œawkçš„ç¨‹åºéƒ¨åˆ†ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š BEGIN&#123;OFS=&quot;\\t&quot;&#125;ï¼šBEGINå—æ˜¯åœ¨å¤„ç†æ–‡ä»¶ä¹‹å‰æ‰§è¡Œçš„ä»£ç å—ã€‚åœ¨è¿™é‡Œï¼Œå®ƒè®¾ç½®è¾“å‡ºå­—æ®µåˆ†éš”ç¬¦ï¼ˆOFSï¼‰ä¸ºåˆ¶è¡¨ç¬¦ï¼ˆ\\tï¼‰ã€‚è¿™æ„å‘³ç€è¾“å‡ºçš„å­—æ®µå°†ä½¿ç”¨åˆ¶è¡¨ç¬¦è¿›è¡Œåˆ†éš”ã€‚ &#123;print $1, $NF&#125;ï¼šè¿™æ˜¯awkçš„ä¸»è¦éƒ¨åˆ†ï¼Œå®ƒå®šä¹‰äº†è¦æ‰§è¡Œçš„æ“ä½œã€‚åœ¨è¿™é‡Œï¼Œå®ƒæ‰“å°æ¯è¡Œçš„ç¬¬ä¸€ä¸ªå­—æ®µ$1å’Œæœ€åä¸€ä¸ªå­—æ®µï¼ˆNFï¼‰ã€‚é€šè¿‡ä½¿ç”¨é€—å·åˆ†éš”å®ƒä»¬ï¼Œå®ƒä»¬å°†ä»¥åˆ¶è¡¨ç¬¦åˆ†éš”çš„å½¢å¼æ‰“å°å‡ºæ¥ã€‚ genome.chrom.sizesæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š å·¥ä½œç›®å½•ä¸‹å¿…éœ€é…ç½®ä¸€ä¸ªæ–‡ä»¶å¤¹fastqï¼Œå…¶ä¸­å­˜æ”¾Hi-Cçš„åŒç«¯æµ‹åºæ•°æ®ï¼Œå‘½åæ ¼å¼å‚è€ƒjuicer.shæ–‡ä»¶ä¸­çš„æ­£åˆ™è¡¨è¾¾å¼*_R*.fastq*ã€‚ 1234# å·¥ä½œç›®å½•ä¸‹åˆ›å»ºå­˜æ”¾hicæµ‹åºæ•°æ®çš„æ–‡ä»¶å¤¹ï¼Œæˆ‘è¿™é‡Œä¸ºäº†æ–¹ä¾¿æŸ¥çœ‹ï¼Œå·¥ä½œç›®å½•å°±æ˜¯juicerä¸»ç›®å½•ï¼Œæµ‹åºæ•°æ®å¯ä»¥ç”¨è½¯é“¾æ¥çš„å½¢å¼å­˜æ”¾mkdir fastq &amp;&amp; cd fastqln -s ~/hi-c/BM_R1.fq.gz Av_R1.fastq.gzln -s ~/hi-c/BM_R2.fq.gz Av_R2.fastq.gz 2. è¿è¡Œjuicer2å®˜ç½‘çš„juicer.shå‚æ•°éå¸¸ä¹‹å¤šï¼Œæˆ‘è¿™é‡Œåªå±•ç¤ºä¸€äº›å…³é”®çš„ï¼Œå…¶ä»–ç”¨é»˜è®¤å‚æ•°å³å¯ã€‚1.xç‰ˆæœ¬å¯ä»¥å‚è€ƒUsage Â· aidenlab&#x2F;juicer Wiki (github.com)ï¼Œ2.0ç‰ˆæœ¬å…·ä½“å¯ä»¥ç”¨bash juicer.sh -hæŸ¥çœ‹ï¼Œä¸¤ä¸ªç‰ˆæœ¬æŒ‡ä»¤ç¨æœ‰ä¸åŒã€‚CPUç‰ˆæœ¬å’Œå…¶ä»–é›†ç¾¤ç‰ˆæœ¬ä¹Ÿç¨æœ‰ä¸åŒï¼Œä»¥CPUä¸­çš„2.0ç‰ˆæœ¬ä¸ºä¾‹ï¼š 12345678910111213141516171819202122232425262728Usage: juicer.sh [-g genomeID] [-d topDir] [-s site] [-a about] [-S stage] [-p chrom.sizes path] [-y restriction site file] [-z reference genome file] [-D Juicer scripts parent dir] [-b ligation] [-t threads] [-T threadsHic] [-i sample] [-k library] [-w wobble] [-e] [-h] [-f] [-j] [-u] [-m] [--assembly] [--cleanup] [--qc]-g genomeID å¿…éœ€é¡¹ï¼ŒæŒ‡å®šåŸºå› ç»„å’Œç‰ˆæœ¬ï¼Œæ¯”å¦‚äººç±»çš„&quot;hg19&quot; æˆ–è€…å°é¼ çš„&quot;mm10&quot;ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥ç”¨-zå‘½ä»¤æ›¿ä»£ï¼ŒæŒ‡å®šå‚è€ƒåŸºå› ç»„æ–‡ä»¶-z reference genome file æŒ‡å®šå‚è€ƒåŸºå› ç»„æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶ä¸­å¿…éœ€æœ‰BWAç´¢å¼•æ–‡ä»¶-d topDir æŒ‡å®šè¾“å‡ºç›®å½•ï¼Œé»˜è®¤æ˜¯å½“å‰ç›®å½•ã€‚[topDir]/fastqå¿…éœ€åŒ…å«fastqæ–‡ä»¶-s site å¿…éœ€é¡¹ï¼ŒæŒ‡å®šé™åˆ¶æ€§æ ¸é…¸å†…åˆ‡é…¶ã€‚å¦‚æœä¸åšç‰‡æ®µçº§åˆ«çš„åˆ†æå¯ä»¥å†™none-S stage æŒ‡å®šè¿è¡Œpipelineçš„é˜¶æ®µï¼Œå›ºå®šæ˜¯&quot;chimeric&quot;, &quot;merge&quot;, &quot;dedup&quot;, &quot;final&quot;, &quot;postproc&quot;, &quot;early&quot;å…¶ä¸­ä¹‹ä¸€ï¼ŒæŠ¥é”™è°ƒè¯•ç”¨ chimericï¼š alignmentç»“æŸæˆ–è€…ä»alignedæ–‡ä»¶å¼€å§‹ merge: alignmentç»“æŸä½†æ˜¯æ²¡æœ‰ç”Ÿæˆmerged_sortæ–‡ä»¶ dedupï¼š æ–‡ä»¶å·²ç»mergeç»“æŸï¼Œä½†æ˜¯æ²¡æœ‰ç”Ÿæˆmerged_nodupsæ–‡ä»¶ finalï¼š readsåœ¨merged_nodupsæ–‡ä»¶ä¸­å·²ç»åˆ é™¤é‡å¤ï¼Œä½†æ˜¯å°šæœªç”Ÿæˆæœ€ç»ˆçš„stateå’Œhicæ–‡ä»¶ postprocï¼š hicæ–‡ä»¶å·²ç»ç”Ÿæˆï¼Œåªæœ‰ç‰¹å¾æ³¨é‡Šå°šæœªå®Œæˆ earlyï¼š åœ¨hicæ–‡ä»¶ç”Ÿæˆå‰æå‰ç»“æŸç¨‹åº-p chrom.sizes path æŒ‡å®šæŸ“è‰²ä½“é•¿åº¦æ–‡ä»¶-y restriction site file æŒ‡å®šå‚è€ƒåŸºå› ç»„é…¶åˆ‡æ–‡ä»¶-D Juicer scripts parent dir æŒ‡å®šJuicer/scriptsæ‰€åœ¨ç›®å½•-t threads æŒ‡å®šè·‘BWAçš„çº¿ç¨‹æ•°-T threadsHic æŒ‡å®šç”Ÿæˆhicæ–‡ä»¶ç”¨çš„æ ¸æ•°ï¼ˆ2.0ç‰ˆæœ¬æ–°å¢ï¼‰--assembly æ¥ä¸‹æ¸¸3D-DNAåˆ†æï¼Œä¼šæå‰ç»“æŸå¹¶ç”Ÿæˆè€ç‰ˆæœ¬çš„merged_nodupsæ–‡ä»¶ï¼ˆ2.0æ–°å¢ï¼‰--cleanup å¦‚æœpipelineæˆåŠŸè¿è¡Œï¼Œè‡ªåŠ¨æ¸…é™¤ä¸­é—´æ–‡ä»¶ï¼ˆ2.0æ–°å¢ï¼‰å¦‚æœæ˜¯åœ¨é›†ç¾¤ä¸­è·‘juicerï¼Œä»¥ä¸‹ä¸¤ä¸ªå‚æ•°ä¹Ÿæ˜¯å¿…éœ€è¦æ”¹çš„ï¼Œå¦åˆ™ç”¨é»˜è®¤åˆ†åŒºåä¼šç›´æ¥æŠ¥é”™ï¼š-q queue æŒ‡å®šè·‘alignmentsçš„é˜Ÿåˆ—åˆ†åŒºï¼ˆé»˜è®¤commonsï¼‰ï¼Œslurmä¸­çš„åˆ†åŒºä¹Ÿå°±æ˜¯partitionï¼Œå¯ä»¥ç†è§£ä¸ºLSFã€PBSç­‰ä½œä¸šè°ƒåº¦ç³»ç»Ÿä¸­çš„é˜Ÿåˆ—-l long queue æŒ‡å®šè·‘éœ€è¦æ—¶é—´æ›´é•¿çš„jobï¼Œæ¯”å¦‚ç”Ÿæˆhicæ–‡ä»¶çš„é˜Ÿåˆ—åˆ†åŒºï¼ˆé»˜è®¤longï¼‰ å› ä¸ºæˆ‘ä¸æ˜¯åšä¸‰ç»´åŸºå› ç»„ï¼ŒHi-Cåªæµ‹äº†ä¸€ä¸ªæ ·ï¼ˆä¸»è¦ç”¨äºè¾…åŠ©åŸºå› ç»„ç»„è£…ï¼ŒæŸ“è‰²ä½“æŒ‚è½½ï¼‰ï¼Œæ¯”å¦‚åšä¸‰ç»´åŸºå› ç»„å°±ä¼šæœ‰å¤§é‡çš„Hi-Cæ•°æ®ï¼Œjuicerä¹Ÿæ”¯æŒå¤šä¸ªç»“æœçš„åˆå¹¶ï¼ˆä½¿ç”¨mega.shï¼‰ï¼Œè¯¦ç»†ä¹Ÿå¯ä»¥å‚è€ƒä¸Šé¢çš„juicer Wikiã€‚ ä¸Šé¢çš„é™é€Ÿæ­¥éª¤ä¸»è¦æ˜¯è·‘BWAï¼Œå› ä¸ºç¬¬ä¸€æ¬¡è·‘juicerä¸çŸ¥é“è¦å¤šä¹…ï¼Œå°±ç¨å¾®ç”³è¯·å¤šä¸€ç‚¹çš„æ ¸æ•°ï¼ˆè™½ç„¶é›†ç¾¤æ²¡æœ‰GPUï¼Œä½†æ˜¯CPUèµ„æºå¾ˆå……è¶³å¹³å¸¸æ²¡äººç”¨ï¼‰ã€‚ 12345# åˆ›å»ºä¸€ä¸ªslurmä½œä¸švim juicer.slurm# æäº¤slurmä½œä¸šsbatch juicer.slurm juicer.slurmæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼ˆå†æ¬¡æé†’--assembly å‚æ•°éå¸¸é‡è¦ï¼‰ï¼š 12345678910111213#!/bin/bash#SBATCH -N 1#SBATCH -n 30#SBATCH -t 7200/public/home/wlxie/biosoft/juicer/scripts/juicer.sh \\-z /public/home/wlxie/biosoft/juicer/reference/genome.fa \\-p /public/home/wlxie/biosoft/juicer/restriction_sites/genome.chrom.sizes \\-y /public/home/wlxie/biosoft/juicer/restriction_sites/genome_MboI.txt \\-s MboI \\-D /public/home/wlxie/biosoft/juicer \\-t 30 \\--assembly è¿è¡Œæ—¶é—´å¯ä»¥å‚è€ƒä¸€ä¸‹æˆ‘è¿™é‡Œ220 Mbçš„å‚è€ƒåŸºå› ç»„ï¼ŒHi-Cæµ‹åºæ•°æ®39Gï¼ˆåŒç«¯æµ‹åºï¼Œgzæ–‡ä»¶ï¼‰ï¼Œå®é™…ä¸Šè¿è¡Œäº†13å°æ—¶æ‰å‡ºç»“æœã€‚ è¿è¡ŒpipelineæˆåŠŸåä¼šåœ¨æ—¥å¿—ä¸­æç¤º(-: Pipeline successfully completed (-: 3. ç»“æœæ–‡ä»¶CPUæ¨¡å¼ä¸‹ä¼šåœ¨å·¥ä½œç›®å½•åˆ›å»ºalignedå’Œsplitsæ–‡ä»¶å¤¹ï¼š splits æ–‡ä»¶å¤¹å­˜æ”¾æ•´ä¸ªpipelineçš„ä¸´æ—¶æ–‡ä»¶ï¼Œè·‘å®Œæµç¨‹å¹¶ä¸”ç¡®è®¤ç»“æœæ²¡é—®é¢˜åå¯ä»¥è¿è¡Œcleanup.shæˆ–è€…ç›´æ¥åˆ é™¤ï¼ˆæŒ‰ç…§å¸®åŠ©æ–‡æ¡£çš„è¯´æ³•ï¼Œâ€“cleanupå‚æ•°åº”è¯¥å¯ä»¥è‡ªåŠ¨åˆ é™¤ï¼Œæˆ‘æ²¡æœ‰è¯•è¿‡ï¼‰ aligned æ–‡ä»¶å¤¹å­˜æ”¾è¿è¡Œç»“æœ å¦‚æœä½ æ˜¯ç”¨é›†ç¾¤æ¨¡å¼è·‘çš„ï¼Œæ¯”å¦‚SLURMï¼Œè¿˜ä¼šç”Ÿæˆä¸€ä¸ªdebugæ–‡ä»¶å¤¹ï¼ˆCPUæ¨¡å¼ä¸‹ç”¨SLURMè·‘çš„æ²¡æœ‰è¯¥æ–‡ä»¶å¤¹ï¼‰ï¼Œå¯ä»¥æŸ¥çœ‹å„ä¸ªæ­¥éª¤çš„erroræŠ¥å‘Šå’ŒoutputæŠ¥å‘Š alignedæ–‡ä»¶å¤¹æœ‰ä»¥ä¸‹ç»“æœæ–‡ä»¶ï¼š æˆ‘è¿™é‡Œå®é™…ä¸Šæ˜¯å¤šäº†ä¸€äº›æ–‡ä»¶ï¼ˆå®é™…ä¸Šè·‘äº†ä¸¤éï¼‰ï¼Œå› ä¸ºä¸€å¼€å§‹æ²¡æœ‰åŠ ä¸Š--assemblyå‚æ•°ï¼Œæ‰€ä»¥ä¸€ç›´è¿è¡Œåˆ°å‡ºhicç»“æœæ–‡ä»¶ï¼Œè€Œä¸”æ²¡æœ‰merged_nodups.txtã€‚ æˆ‘åšæŸ“è‰²ä½“æŒ‚è½½åªéœ€è¦æœ€åä¸€ä¸ªæ–‡ä»¶ï¼Œç¬¬äºŒæ¬¡è¿è¡ŒåŠ äº†ä¸Šé¢çš„å‚æ•°ï¼Œå¹¶ä¸”åŠ ä¸Š-S finalå‚æ•°ï¼Œè¿™æ ·å°±çœå»äº†å‰é¢æ¯”å¯¹å’Œå»é‡å¤çš„æ—¶é—´ï¼ˆ90%ä»¥ä¸Šçš„æ—¶é—´èŠ±åœ¨è¿™é‡Œï¼‰ï¼Œä¸€ä¸ªå°æ—¶å¯ä»¥é‡æ–°è·‘å®Œå‡ºç»“æœã€‚ é¡ºä¾¿äº†è§£ä¸€ä¸‹å…¶ä»–ç»“æœæ–‡ä»¶çš„ç”¨é€”ï¼š inter.hic &#x2F; inter_30.hic: The .hic files for Hi-C contacts at MAPQ &gt; 0 and at MAPQ &gt;&#x3D; 30, respectively merged_nodups.txt: The Hi-C contacts with duplicates removed. This file is also input to the assembly and diploid pipelines ï¼ˆåé¢è·‘3D-DNAçš„è¾“å…¥æ–‡ä»¶ï¼‰ inter.txt, inter_hists.m &#x2F; inter_30.txt, inter_30_hists.m: The statistics and graphs files for Hi-C contacts at MAPQ &gt; 0 and at MAPQ &gt;&#x3D; 30, respectively. These are also stored within the respective .hic files in the header. The .m files can be loaded into Matlab. The statistics and graphs are displayed under Dataset Metrics when loaded into Juicebox ï¼ˆå¯ä»¥åç»­å¯¼å…¥juicer boxï¼‰","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"juicer2","slug":"juicer2","permalink":"http://www.shelven.com/tags/juicer2/"},{"name":"Hi-CæŸ“è‰²ä½“æŒ‚è½½","slug":"Hi-CæŸ“è‰²ä½“æŒ‚è½½","permalink":"http://www.shelven.com/tags/Hi-C%E6%9F%93%E8%89%B2%E4%BD%93%E6%8C%82%E8%BD%BD/"}]},{"title":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ8ï¼‰â€”â€”10ç§æ’åºæ–¹å¼çš„pythonå®ç°","slug":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ8ï¼‰â€”â€”10ç§æ’åºæ–¹å¼çš„pythonå®ç°","date":"2023-07-04T15:14:44.000Z","updated":"2023-07-04T15:37:54.000Z","comments":true,"path":"2023/07/04/a.html","link":"","permalink":"http://www.shelven.com/2023/07/04/a.html","excerpt":"æœ€è¿‘ä¸­æœŸç­”è¾©ç»“æŸï¼Œç¨å¾®æœ‰ç‚¹ç©ºé—²çš„æ—¶é—´æ‹ä¸€æ‹æ•°æ®ç»“æ„å’Œç®—æ³•æ–¹é¢çš„çŸ¥è¯†ã€‚è™½ç„¶ç°åœ¨ç”¨pythonå®ç°æ’åºå°±ä¸€ä¸ªsort()å‡½æ•°çš„äº‹ï¼Œä½†æ˜¯è¿˜æ˜¯æƒ³é”»ç‚¼ä¸‹è‡ªå·±çš„æ€ç»´ï¼Œä»åº•å±‚ä»£ç å­¦ä¹ ä¸€ä¸‹10ç§ç»å…¸æ’åºçš„å®ç°æ–¹å¼ã€‚","text":"æœ€è¿‘ä¸­æœŸç­”è¾©ç»“æŸï¼Œç¨å¾®æœ‰ç‚¹ç©ºé—²çš„æ—¶é—´æ‹ä¸€æ‹æ•°æ®ç»“æ„å’Œç®—æ³•æ–¹é¢çš„çŸ¥è¯†ã€‚è™½ç„¶ç°åœ¨ç”¨pythonå®ç°æ’åºå°±ä¸€ä¸ªsort()å‡½æ•°çš„äº‹ï¼Œä½†æ˜¯è¿˜æ˜¯æƒ³é”»ç‚¼ä¸‹è‡ªå·±çš„æ€ç»´ï¼Œä»åº•å±‚ä»£ç å­¦ä¹ ä¸€ä¸‹10ç§ç»å…¸æ’åºçš„å®ç°æ–¹å¼ã€‚ å¯¹äºæ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦çš„è®¡ç®—ï¼Œè‡ªå·±è¿˜æ˜¯ä¸€çŸ¥åŠè§£ï¼Œæ¯ç§æ’åºæ–¹å¼åé¢æ”¾äº†è‡ªå·±çš„ç†è§£ï¼Œæœ‰é”™è¯¯ä¼šç»§ç»­ä¿®æ”¹ï¼Œæœ€åæœ‰ä¸€å¼ èœé¸Ÿæ•™ç¨‹æ€»ç»“çš„å›¾å¯ä»¥å‚è€ƒã€‚ æœ¬ç¯‡ç¬”è®°çš„å†…å®¹ä¸»è¦æ˜¯è·Ÿç€bç«™upä¸»åšçš„ï¼Œä»£ç æ•´ç†æ¥è‡ªè‹±é›„å“ªé‡Œå‡ºæ¥çš„ä¸ªäººç©ºé—´ æˆ‘è¿™é‡Œå…ˆå®šä¹‰ä¸€ä¸ªç”Ÿæˆéšæœºæ•´æ•°åºåˆ—çš„å‡½æ•°ï¼Œåé¢éƒ½ä¼šè°ƒç”¨ï¼Œå°±ä¸é‡å¤å†™äº†ï¼š 12345678import random# ç”ŸæˆæŒ‡å®šèŒƒå›´ã€é•¿åº¦çš„åºåˆ—def generate_random_sequence(len, min, max): seq = [] for i in range(len): seq.append(random.randint(min, max)) return seq 1. é€‰æ‹©æ’åºä»ç¬¬ä¸€ä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ ä¸­é€‰æ‹©æœ€å°çš„å…ƒç´ ï¼Œå’Œç¬¬ä¸€ä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢ï¼›ç„¶åä»ç¬¬äºŒä¸ªå…ƒç´ åˆ°æœ€åä¸€ä¸ªå…ƒç´ é€‰æ‹©æœ€å°çš„å…ƒç´ ï¼Œå’Œç¬¬äºŒä¸ªå…ƒç´ äº¤æ¢ï¼Œä¾æ­¤ç±»æ¨ã€‚é€šè¿‡å¯¹æœªæ’åºçš„å…ƒç´ æ¯”è¾ƒå’Œäº¤æ¢ï¼Œé€‰æ‹©å‡ºæœ€å°çš„ï¼Œç›´åˆ°æœ€åæˆä¸ºä¸€ä¸ªå‡åºåºåˆ—ã€‚ 1234567891011121314151617181920212223242526def SelectionSort(a): n = len(a) for i in range(n - 1): # æ’å®Œå€’æ•°ç¬¬äºŒä¸ªæ•°ä¹‹åå°±ä¸ç”¨å†æ’äº†ï¼Œæ‰€ä»¥è¿™é‡Œç”¨n-1è€Œä¸æ˜¯n min = i for j in range(i + 1, n): if a[j] &lt; a[min]: min = j a[i], a[min] = a[min], a[i] print(a)a = generate_random_sequence(10, 1, 100)print(a)SelectionSort(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[77, 76, 21, 51, 29, 23, 19, 68, 53, 37][19, 76, 21, 51, 29, 23, 77, 68, 53, 37][19, 21, 76, 51, 29, 23, 77, 68, 53, 37][19, 21, 23, 51, 29, 76, 77, 68, 53, 37][19, 21, 23, 29, 51, 76, 77, 68, 53, 37][19, 21, 23, 29, 37, 76, 77, 68, 53, 51][19, 21, 23, 29, 37, 51, 77, 68, 53, 76][19, 21, 23, 29, 37, 51, 53, 68, 77, 76][19, 21, 23, 29, 37, 51, 53, 68, 77, 76][19, 21, 23, 29, 37, 51, 53, 68, 76, 77]&#x27;&#x27;&#x27; è¿™ä¸ªç®—æ³•æ—¶é—´å¤æ‚åº¦ï¼ˆç®—æ³•ä¸­å¾ªç¯æ‰§è¡Œçš„æ¬¡æ•°ï¼Œé‡çº§ä¼°ç®—ï¼‰ä¸ºO(n^2)ï¼Œå…¶ä¸­næ˜¯è¾“å…¥åºåˆ—çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ï¼ˆç®—æ³•è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨å­˜å‚¨å¤§å°ï¼Œé‡çº§ä¼°ç®—ï¼‰ä¸ºO(1)ï¼Œå› ä¸ºå®ƒåªéœ€è¦ä½¿ç”¨å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚ 2. å†’æ³¡æ’åºé€šè¿‡ä¸æ–­æ¯”è¾ƒç›¸é‚»å…ƒç´ ï¼Œå°†æ•°å€¼å¤§çš„å…ƒç´ å¾€åæ’ã€‚ç¬¬ä¸€ä¸ªå…ƒç´ å’Œç¬¬äºŒä¸ªå…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœç¬¬ä¸€ä¸ªå…ƒç´ å¤§ï¼Œåˆ™è¿›è¡Œäº¤æ¢ï¼Œå†æ¯”è¾ƒç¬¬äºŒä¸ªå…ƒç´ å’Œç¬¬ä¸‰ä¸ªå…ƒç´ å¤§å°ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æœ€å¤§çš„å…ƒç´ ç§»åŠ¨åˆ°æœ€åä¸€ä¸ªä½ç½®ï¼Œç„¶åè¿›è¡Œç¬¬äºŒè½®æ¯”è¾ƒã€‚æ¯ä¸€è½®ä¸­æ•°å€¼è¾ƒå¤§çš„å…ƒç´ ï¼Œä¸æ–­åˆ°è¾¾æ•°ç»„çš„å°¾éƒ¨ã€‚ 123456789101112131415161718192021222324def BubbleSort(a): n = len(a) for i in range(n - 1, 0, -1): # range()å·¦é—­å³å¼€ï¼Œn-1å¯ä»¥å–åˆ°å³è¾¹ç•Œï¼Œé€†åºæšä¸¾ for j in range(0, i): if a[j] &gt; a[j + 1]: a[j], a[j + 1] = a[j + 1], a[j] print(a)a = generate_random_sequence(10, 1, 100)print(a)BubbleSort(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[57, 86, 40, 11, 38, 46, 21, 38, 18, 6][57, 40, 11, 38, 46, 21, 38, 18, 6, 86][40, 11, 38, 46, 21, 38, 18, 6, 57, 86][11, 38, 40, 21, 38, 18, 6, 46, 57, 86][11, 38, 21, 38, 18, 6, 40, 46, 57, 86][11, 21, 38, 18, 6, 38, 40, 46, 57, 86][11, 21, 18, 6, 38, 38, 40, 46, 57, 86][11, 18, 6, 21, 38, 38, 40, 46, 57, 86][11, 6, 18, 21, 38, 38, 40, 46, 57, 86][6, 11, 18, 21, 38, 38, 40, 46, 57, 86]&#x27;&#x27;&#x27; è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼ˆæœ€å¥½çš„æƒ…å†µä¸‹æ•°æ®æœ¬æ¥æœ‰åºï¼Œå¤æ‚åº¦O(n)ï¼‰ï¼Œå…¶ä¸­næ˜¯å¾…æ’åºæ•°ç»„çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œå› ä¸ºåªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚å’Œé€‰æ‹©æ’åºç®—æ³•æ˜¯ä¸€æ ·ã€‚ 3. æ’å…¥æ’åºå¯¹å‰i-1ä¸ªæ•°å·²ç»æœ‰åºçš„æƒ…å†µä¸‹ï¼Œå°†ç¬¬iä¸ªæ•°æ’å…¥åˆ°åˆé€‚çš„ä½ç½®ã€‚ å°†ç¬¬äºŒä¸ªå…ƒç´ å’Œç¬¬ä¸€ä¸ªå…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœç¬¬äºŒä¸ªå…ƒç´ å°äºç­‰äºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™å°†ç¬¬ä¸€ä¸ªå…ƒç´ å‘åç§»åŠ¨ï¼Œå¹¶å°†ç¬¬ä¸€ä¸ªå…ƒç´ æ‰§è¡Œæ’å…¥ï¼Œè¿™æ ·å‰ä¸¤ä¸ªå…ƒç´ å°±æ˜¯æœ‰åºçš„ã€‚æ¥ç€è¿›è¡Œç¬¬äºŒè½®æ¯”è¾ƒï¼Œä¹Ÿå°±æ˜¯å°†ç¬¬ä¸‰ä¸ªå…ƒç´ ä¾æ¬¡å’Œç¬¬äºŒå…ƒç´ å’Œç¬¬ä¸€ä¸ªå…ƒç´ æ¯”è¾ƒï¼Œå¹¶æ’å…¥åˆ°åˆé€‚çš„ä½ç½®ï¼Œä½¿å‰ä¸‰ä¸ªå…ƒç´ æœ‰åºã€‚ä»¥æ­¤ç±»æ¨ï¼Œè¿­ä»£æ‰§è¡Œn-1æ¬¡æ’å…¥ï¼Œæ¯æ¬¡æ’å…¥éƒ½æ˜¯å°†å…ƒç´ æ’å…¥åˆ°æœ‰åºåºåˆ—ä¸­ã€‚ 123456789101112131415161718192021222324252627def InsertionSort(a): n =len(a) for i in range(1, n): x = a[i] j = i - 1 while j &gt;= 0 and x &lt;= a[j]: # è‹¥x&lt;=a[j]ï¼Œåˆ™å°†a[j]å¾€åç§»åŠ¨ï¼Œç»§ç»­åˆ¤æ–­å‰ä¸€ä¸ªæ•° a[j + 1] = a[j] j -= 1 a[j + 1] = x print(a)a = generate_random_sequence(10, 1, 100)print(a)InsertionSort(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[95, 69, 37, 81, 21, 11, 53, 12, 22, 16][69, 95, 37, 81, 21, 11, 53, 12, 22, 16][37, 69, 95, 81, 21, 11, 53, 12, 22, 16][37, 69, 81, 95, 21, 11, 53, 12, 22, 16][21, 37, 69, 81, 95, 11, 53, 12, 22, 16][11, 21, 37, 69, 81, 95, 53, 12, 22, 16][11, 21, 37, 53, 69, 81, 95, 12, 22, 16][11, 12, 21, 37, 53, 69, 81, 95, 22, 16][11, 12, 21, 22, 37, 53, 69, 81, 95, 16][11, 12, 16, 21, 22, 37, 53, 69, 81, 95]&#x27;&#x27;&#x27; è¿™ä¸ªç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ï¼Œå…¶ä¸­næ˜¯å¾…æ’åºæ•°ç»„çš„é•¿åº¦ã€‚ç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œå› ä¸ºåªä½¿ç”¨äº†å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚ è¦æ”¹å–„é€‰æ‹©æ’åºçš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯ä»¥è€ƒè™‘ä½¿ç”¨å…¶ä»–æ›´é«˜æ•ˆçš„æ’åºç®—æ³•ï¼Œä¾‹å¦‚å¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰æˆ–å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰ã€‚è¿™äº›ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦é€šå¸¸ä¸ºO(nlogn)ï¼Œæ¯”ä¸Šé¢ä¸‰ä¸ªæ’åºç®—æ³•çš„O(n^2)æ›´å¿«ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥è€ƒè™‘ä½¿ç”¨å†…ç½®çš„æ’åºå‡½æ•°ï¼Œå¦‚Pythonä¸­çš„sorted()å‡½æ•°ï¼Œå®ƒä½¿ç”¨äº†ä¼˜åŒ–çš„æ’åºç®—æ³•ã€‚å¦‚æœå¾…æ’åºæ•°ç»„å·²ç»åŸºæœ¬æœ‰åºï¼Œå¯ä»¥é€šè¿‡å¼•å…¥ä¸€äº›ä¼˜åŒ–æªæ–½æ¥æé«˜æ’å…¥æ’åºçš„æ€§èƒ½ï¼Œä¾‹å¦‚ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥ç¡®å®šæ’å…¥ä½ç½®ï¼Œå‡å°‘æ¯”è¾ƒå’Œäº¤æ¢çš„æ¬¡æ•°ã€‚ 4. å½’å¹¶æ’åºåˆ©ç”¨åˆ†æ²»çš„æ€æƒ³ï¼Œé‡‡ç”¨é€’å½’çš„å½¢å¼ï¼Œå¯¹å…ƒç´ è¿›è¡Œæ’åºã€‚å½“æœ‰ä¸¤ä¸ªé•¿åº¦ä¸ºnçš„æœ‰åºæ•°ç»„æ—¶ï¼Œå¯ä»¥é€šè¿‡ä¸¤ä¸ªæŒ‡é’ˆçš„ç§»åŠ¨ï¼Œåœ¨O(n)çš„æ—¶é—´å¤æ‚åº¦å†…ï¼Œå¿«é€Ÿåˆå¹¶æˆä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚è€Œè¿™ä¸¤ä¸ªé•¿åº¦ä¸ºnçš„æœ‰åºæ•°ç»„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸¤ä¸ªn&#x2F;2çš„æœ‰åºæ•°ç»„åˆå¹¶è€Œæ¥ã€‚å› æ­¤ï¼Œåªè¦ä¸æ–­å¯¹æ•°ç»„è¿›è¡Œåˆ†æ²»ï¼Œå°±å¯ä»¥æŠŠä¸€ä¸ªæ— åºæ•°ç»„å˜æˆæœ‰åºã€‚ å¯¹æ•°ç»„æ‹†åˆ†çš„è¿‡ç¨‹ç”¨åˆ°é€’å½’ï¼Œå¯¹æ•°ç»„ç»„åˆçš„è¿‡ç¨‹ç”¨åˆ°äº†åˆå¹¶ï¼Œæ•…å‘½åå½’å¹¶æ’åºã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950# å®ç°ä¸€ä¸ªåˆå¹¶å‡½æ•°(aåˆ—è¡¨startåˆ°midçš„å…ƒç´ ï¼Œä»¥åŠmid+1åˆ°endçš„å…ƒç´ ï¼Œéœ€è¦åˆ†åˆ«æŒ‰ç…§é€’å¢é¡ºåºæ’åˆ—)ï¼Œæ‰§è¡Œåaåˆ—è¡¨startåˆ°endçš„å…ƒç´ ä¹ŸæŒ‰ç…§é€’å¢é¡ºåºæ’åºdef Merge(a, start, mid, end): tmp = [] l = start # lå’Œræ˜¯ä¸¤ä¸ªåŒºé—´çš„èµ·ç‚¹ r = mid + 1 # å½“ä¸¤ä¸ªåŒºé—´éƒ½æœªåˆ°è¾¾å³ç«¯ç‚¹ï¼Œåˆ¤æ–­a[l]å’Œa[r]ï¼Œå°çš„å€¼æ”¾å…¥ä¸´æ—¶åˆ—è¡¨ï¼Œä¸‹æ ‡è‡ªå¢ while l &lt;= mid and r &lt;= end: if a[l] &lt;= a[r]: tmp.append(a[l]) l += 1 else: tmp.append(a[r]) r += 1 # è·³å‡ºå¾ªç¯æ—¶ï¼Œå‰©ä½™éƒ¨åˆ†å…¨éƒ¨æ”¾å…¥ä¸´æ—¶åˆ—è¡¨ï¼ˆå› ä¸ºè·³å‡ºå¾ªç¯è¡¨ç¤ºä¸€ä¸ªåˆ—è¡¨å·²ç»æ’å®Œäº†ï¼Œå¦ä¸€ä¸ªåˆ—è¡¨å‰©ä¸‹çš„ä¹Ÿæ˜¯æœ‰åºçš„ï¼‰ tmp.extend(a[l : mid + 1]) tmp.extend(a[r : end + 1]) # ä¸´æ—¶åˆ—è¡¨å€¼æ‹·è´å›åŸåˆ—è¡¨aï¼Œå®Œæˆä¸€æ¬¡åˆå¹¶ for i in range(start, end + 1): a[i] = tmp[i - start] print(start, end, tmp)# å®ç°ä¸€ä¸ªé€’å½’å‡½æ•°ï¼ˆä½œç”¨æ˜¯æ‹†åˆ†å­æ•°ç»„ï¼‰def MergeSort(a, start, end): # å¾…æ’åºå…ƒç´ åªæœ‰ä¸€ä¸ªåˆ™è¿”å› if start == end: return # è®¡ç®—ä¸­ç‚¹midï¼Œæ•´æ•°é™¤æ³•ï¼Œå‘ä¸‹å–æ•´ mid = (start + end) // 2 MergeSort(a, start, mid) MergeSort(a, mid + 1, end) # ä¸¤æ¬¡è°ƒç”¨MergeSort()äº§ç”Ÿä¸¤ä¸ªæœ‰åºæ•°ç»„ï¼Œä¹‹åå¯¹ä¸¤ä¸ªæœ‰åºæ•°ç»„è¿›è¡ŒMerge()åˆå¹¶ Merge(a, start, mid, end)a = generate_random_sequence(10, 1, 100)print(a)MergeSort(a, 0, 9)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[92, 87, 91, 24, 5, 36, 76, 62, 66, 89]0 1 [87, 92]0 2 [87, 91, 92]3 4 [5, 24]0 4 [5, 24, 87, 91, 92]5 6 [36, 76]5 7 [36, 62, 76]8 9 [66, 89]5 9 [36, 62, 66, 76, 89]0 9 [5, 24, 36, 62, 66, 76, 87, 89, 91, 92]&#x27;&#x27;&#x27; å…¶å®ä¹Ÿå¯ä»¥ä¸ç”¨é€’å½’çš„æ–¹æ³•ï¼Œç”¨è¿­ä»£çš„æ–¹å¼æ¥å®ç°å½’å¹¶æ’åºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657# å®ç°ä¸€ä¸ªåˆå¹¶å‡½æ•°def merge(arr, start, mid, end, temp): i = start j = mid k = start while i &lt; mid and j &lt; end: if arr[i] &lt; arr[j]: temp[k] = arr[i] i += 1 else: temp[k] = arr[j] j += 1 k += 1 while i &lt; mid: temp[k] = arr[i] i += 1 k += 1 while j &lt; end: temp[k] = arr[j] j += 1 k += 1 # å®ç°ä¸€ä¸ªæ‹†åˆ†å­æ•°ç»„å’Œåˆå¹¶çš„å‡½æ•°def merge_sort(arr): if len(arr) &lt;= 1: return arr # åˆ›å»ºä¸€ä¸ªä¸´æ—¶æ•°ç»„ç”¨äºå­˜å‚¨æ’åºç»“æœ temp = [0] * len(arr) # è®¾ç½®åˆå§‹æ­¥é•¿ä¸º1 step = 1 while step &lt; len(arr): # æŒ‰ç…§æ­¥é•¿å°†æ•°ç»„åˆ†ä¸ºå¤šä¸ªå­æ•°ç»„è¿›è¡Œåˆå¹¶ for start in range(0, len(arr), 2 * step): # è®¡ç®—å­æ•°ç»„çš„èµ·å§‹ç´¢å¼•ã€ä¸­é—´ç´¢å¼•å’Œç»“æŸç´¢å¼• mid = min(start + step, len(arr)) end = min(start + 2 * step, len(arr)) # åˆå¹¶ä¸¤ä¸ªå­æ•°ç»„ merge(arr, start, mid, end, temp) # å°†ä¸´æ—¶æ•°ç»„çš„ç»“æœå¤åˆ¶å›åŸå§‹æ•°ç»„ arr[:] = temp[:] # å¢åŠ æ­¥é•¿ step *= 2 print(arr) return arrarr = generate_random_sequence(10, 1, 100)print(arr)sorted_arr = merge_sort(arr)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[65, 50, 64, 33, 58, 7, 97, 87, 92, 52] ï¼ˆåŸåºåˆ—ï¼‰[50, 65, 33, 64, 7, 58, 87, 97, 52, 92] ï¼ˆæ­¥é•¿2ï¼‰[33, 50, 64, 65, 7, 58, 87, 97, 52, 92] ï¼ˆæ­¥é•¿4ï¼‰[7, 33, 50, 58, 64, 65, 87, 97, 52, 92] ï¼ˆæ­¥é•¿8ï¼‰[7, 33, 50, 52, 58, 64, 65, 87, 92, 97] ï¼ˆæœ€ç»ˆåºåˆ—ï¼‰&#x27;&#x27;&#x27; åœ¨è¿™ä¸ªå®ç°ä¸­ï¼Œä½¿ç”¨äº†ä¸€ä¸ªä¸´æ—¶æ•°ç»„tempæ¥å­˜å‚¨æ’åºçš„ç»“æœã€‚é¦–å…ˆï¼Œè®¾ç½®åˆå§‹æ­¥é•¿ä¸º1ï¼Œç„¶ååœ¨æ¯ä¸€è½®è¿­ä»£ä¸­ï¼ŒæŒ‰ç…§æ­¥é•¿å°†åŸå§‹æ•°ç»„åˆ†ä¸ºå¤šä¸ªå­æ•°ç»„ï¼Œå¹¶è°ƒç”¨mergeå‡½æ•°å°†è¿™äº›å­æ•°ç»„è¿›è¡Œåˆå¹¶ã€‚åˆå¹¶åçš„ç»“æœå­˜å‚¨åœ¨ä¸´æ—¶æ•°ç»„tempä¸­ã€‚æœ€åï¼Œå°†ä¸´æ—¶æ•°ç»„çš„ç»“æœå¤åˆ¶å›åŸå§‹æ•°ç»„ã€‚è¿­ä»£çš„æ€æƒ³åœ¨äºé€šè¿‡ä¸æ–­è¿­ä»£åœ°åˆå¹¶å­æ•°ç»„ï¼Œç›´åˆ°å¾—åˆ°å®Œæ•´çš„æœ‰åºæ•°ç»„ã€‚ å½’å¹¶æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)ï¼Œå…¶ä¸­næ˜¯å¾…æ’åºæ•°ç»„çš„å¤§å°ã€‚ç©ºé—´å¤æ‚åº¦æ˜¯O(n)ï¼Œå› ä¸ºåœ¨æ¯æ¬¡åˆå¹¶æ“ä½œä¸­éœ€è¦åˆ›å»ºä¸€ä¸ªä¸´æ—¶åˆ—è¡¨æ¥å­˜å‚¨åˆå¹¶åçš„ç»“æœã€‚ æ—¶é—´å¤æ‚åº¦çš„ç®—æ³•å¯ä»¥å‚è€ƒå¦‚ä½•è®¡ç®—å½’å¹¶æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Ÿ ç©ºé—´å¤æ‚åº¦çš„ç®—æ³•å¯ä»¥å‚è€ƒå½’å¹¶æ’åºçš„ç©ºé—´å¤æ‚åº¦ 5. æ¡¶æ’åºç”Ÿæˆä¸€äº›æ¡¶ï¼Œè®©æ•°å­—æ•£åˆ—åœ¨ä¸åŒæ¡¶ä¸­ï¼Œå¯¹æ¡¶ä¸­å…ƒç´ åˆ†åˆ«æ‰§è¡Œæ’åºï¼Œå†å°†å…ƒç´ ä¾æ¬¡å–å‡ºã€‚ æ¯”å¦‚å»ºç«‹4ä¸ªæ¡¶ï¼Œéå†æ‰€æœ‰æ•°å­—å¹¶ä¾æ¬¡åˆ†æ•£åˆ°4ä¸ªæ¡¶ä¸­ï¼Œä¿è¯ç¬¬2ä¸ªæ¡¶æ‰€æœ‰æ•°å­—éƒ½å¤§äºç¬¬1ä¸ªæ¡¶ï¼Œç¬¬3ä¸ªæ¡¶æ‰€æœ‰æ•°å­—éƒ½å¤§äºç¬¬2ä¸ªæ¡¶ã€‚æ¯ä¸ªæ¡¶ä¸­åˆ†åˆ«è¿›è¡Œé€‰æ‹©æ’åºï¼Œ4ä¸ªæ¡¶çš„å…ƒç´ éƒ½æœ‰åºä¹‹åï¼Œå†å°†å…ƒç´ ä¾æ¬¡å–å‡ºã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445# ç¡®å®šæ¡¶å†…æ’åºæ–¹æ³•ï¼ˆè¿™é‡Œç”¨é€‰æ‹©æ’åºï¼‰def SelectionSort(a): n = len(a) for i in range(n - 1): min = i for j in range(i + 1, n): if a[j] &lt; a[min]: min = j a[i], a[min] = a[min], a[i]def BucketSort(a): # ç¡®å®šåˆ—è¡¨å…ƒç´ æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œå®šä¹‰æ¡¶æ•°é‡ minV = min(a) maxV = max(a) bucketCount = 3 # æ¡¶çš„æ•°é‡ bucket = [[], [], []] # è®¡ç®—æ¯ä¸ªæ¡¶çš„èŒƒå›´ perBucket = (maxV - minV + bucketCount) // bucketCount # éå†åˆ—è¡¨æ¯ä¸ªå…ƒç´ ï¼Œè®¡ç®—è¯¥å…ƒç´ æ”¾å…¥çš„æ¡¶çš„ç´¢å¼•ï¼Œå¹¶ä¸”æ”¾å…¥ç›¸åº”æ¡¶ä¸­ for num in a: bucketIndex = (num - minV) // perBucket bucket[bucketIndex].append(num) # éå†æ¯ä¸ªæ¡¶ï¼Œå¯¹æ¯ä¸ªæ¡¶çš„å…ƒç´ è¿›è¡Œé€‰æ‹©æ’åº for i in range(bucketCount): SelectionSort(bucket[i]) idx = 0 # éå†æ¯ä¸ªæ¡¶ï¼Œéå†æ¡¶ä¸­å…ƒç´ ï¼Œå°†å…ƒç´ æ”¾å›åŸåˆ—è¡¨ for i in range(bucketCount): for v in bucket[i]: a[idx] = v idx += 1 print(bucket) print(a) a = generate_random_sequence(10, 1, 100)print(a)BucketSort(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[84, 66, 53, 83, 22, 15, 95, 6, 32, 70][[6, 15, 22, 32], [53], [66, 70, 83, 84, 95]][6, 15, 22, 32, 53, 66, 70, 83, 84, 95]&#x27;&#x27;&#x27; æ¡¶çš„æ•°é‡å¯ä»¥æ ¹æ®å¾…æ’åºå…ƒç´ çš„åˆ†å¸ƒæƒ…å†µå’Œæ’åºçš„è¦æ±‚æ¥å†³å®šï¼Œä¸€èˆ¬å°†å¾…æ’åºçš„å…ƒç´ å‡åŒ€åˆ†é…åˆ°æ¡¶ä¸­ï¼Œæ¡¶å†…çš„æ’åºç®—æ³•å¯ä»¥æ˜¯ä»»æ„ä¸€ç§æ’åºç®—æ³•ï¼Œå–å†³äºåº”ç”¨åœºæ™¯å’Œæ€§èƒ½è¦æ±‚ã€‚è¿™ä¸ªç®—æ³•æŒºæœ‰æ„æ€çš„ï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªæ¡¶çš„å…ƒç´ æ•°é‡ä¸ä¸€å®šä¸€æ ·ï¼Œæ¡¶æ’åºä¸€èˆ¬ä¸ä¼šç›´æ¥ç”¨ï¼Œå¾€å¾€ä¼šåšå˜å½¢ã€‚ è¿™ä¸ªæ¡¶æ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n + k^2)ï¼Œå…¶ä¸­næ˜¯å¾…æ’åºå…ƒç´ çš„æ•°é‡ï¼Œkæ˜¯æ¡¶çš„æ•°é‡ã€‚å…·ä½“æ¥è¯´ï¼Œéå†åˆ—è¡¨å¹¶å°†å…ƒç´ æ”¾å…¥æ¡¶ä¸­çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ï¼Œå¯¹æ¯ä¸ªæ¡¶è¿›è¡Œé€‰æ‹©æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(k^2)ï¼Œéå†æ¯ä¸ªæ¡¶å¹¶å°†å…ƒç´ æ”¾å›åŸåˆ—è¡¨çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚å› æ­¤ï¼Œæ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n + k^2)ï¼Œä¹Ÿå°±æ˜¯O(n)ã€‚ ç©ºé—´å¤æ‚åº¦æ–¹é¢ï¼Œé™¤äº†åŸå§‹åˆ—è¡¨å¤–ï¼Œé¢å¤–ä½¿ç”¨äº†ä¸€ä¸ªå¤§å°ä¸ºkçš„æ¡¶åˆ—è¡¨æ¥å­˜å‚¨å…ƒç´ ã€‚å› æ­¤ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(n + k)ï¼Œä¹Ÿå°±æ˜¯O(n)ã€‚ 6. è®¡æ•°æ’åºåˆ©ç”¨å“ˆå¸Œè¡¨çš„æ€æƒ³ï¼Œå¯¹æ•°æ®ç±»å‹å’ŒèŒƒå›´æœ‰è¦æ±‚ã€‚ é¦–å…ˆç”Ÿæˆä¸€ä¸ªè®¡æ•°å™¨æ•°ç»„ï¼Œå¹¶ä¸”ä¸€å¼€å§‹æ‰€æœ‰å€¼çš„è®¡æ•°éƒ½ä¸º0ï¼Œç„¶åéå†æšä¸¾åŸæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼Œåœ¨å…ƒç´ å€¼å¯¹åº”çš„è®¡æ•°å™¨ä¸Šæ‰§è¡Œè®¡æ•°æ“ä½œã€‚æœ€åéå†æšä¸¾è®¡æ•°å™¨æ•°ç»„ï¼ŒæŒ‰ç…§æ•°ç»„ä¸­å…ƒç´ ä¸ªæ•°æ”¾å›åˆ°åŸæ•°ç»„ä¸­ï¼Œè¿™æ ·æ‰€æœ‰å…ƒç´ éƒ½æ˜¯å‡åºæ’åˆ—äº†ã€‚ 1234567891011121314151617181920212223242526272829def CountingSort(a): n = len(a) # è·å–åŸæ•°ç»„ä¸­æœ€å¤§å€¼ï¼ŒåŠ 1ï¼Œä½œä¸ºè®¡æ•°å™¨åˆ—è¡¨çš„å®é™…é•¿åº¦ cntlen = max(a) + 1 # ç”Ÿæˆä¸€ä¸ªå€¼éƒ½ä¸º0çš„è®¡æ•°å™¨åˆ—è¡¨ cnt = [0] * cntlen # éå†æšä¸¾åŸæ•°ç»„æ‰€æœ‰å…ƒç´ ï¼Œåœ¨å¯¹åº”çš„è®¡æ•°å™¨ä¸ŠåŠ 1 for val in a: cnt[val] += 1 print(cnt) n = 0 # éå†æšä¸¾è®¡æ•°å™¨åˆ—è¡¨ï¼Œcnt[val]ä»£è¡¨valè¿™ä¸ªæ•°æœ‰å¤šå°‘ä¸ªï¼Œå¤§äº0ï¼Œåˆ™å°†å®ƒçš„è®¡æ•°å™¨å‡ä¸€ï¼Œå¹¶æ”¾åˆ°åŸæ¥çš„åˆ—è¡¨ä¸­ã€‚å¦‚æœè¿˜æœ‰åˆ™ç»§ç»­è¿­ä»£è‡³è®¡æ•°ä¸º0 for val in range(0, cntlen): while cnt[val] &gt; 0: cnt[val] -= 1 a[n] = val n += 1a = generate_random_sequence(10, 1, 20)print(a)CountingSort(a)print(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœ[8, 14, 18, 13, 16, 17, 7, 10, 8, 15] ï¼ˆåŸåˆ—è¡¨ï¼‰[0, 0, 0, 0, 0, 0, 0, 1, 2, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1] ï¼ˆè®¡æ•°å™¨åˆ—è¡¨ï¼‰[7, 8, 8, 10, 13, 14, 15, 16, 17, 18] ï¼ˆè®¡æ•°æ’åºåçš„åˆ—è¡¨ï¼‰&#x27;&#x27;&#x27; å¾ˆæ˜æ˜¾ï¼Œè¿™ç§æ’åºæ–¹å¼å¯¹æ•°æ®æœ‰è¾ƒå¤§çš„é™åˆ¶ï¼Œé€‚ç”¨äºæ•°æ®èŒƒå›´è¾ƒå°çš„éè´Ÿæ•´æ•°ï¼Œä¸”æ•°æ®åˆ†å¸ƒè¾ƒå‡åŒ€çš„æƒ…å†µï¼ˆå¹¶ä¸æ˜¯è¯´è´Ÿæ•°å°±å®Œå…¨ä¸èƒ½ç”¨ï¼‰ã€‚è¿™å¾ˆå¥½ç†è§£ï¼Œæ•°æ®èŒƒå›´å¤ªå¹¿ï¼Œä¼šå¯¼è‡´è®¡æ•°æ•°ç»„å¾ˆå¤§ï¼Œå ç”¨å¤§é‡å†…å­˜ç©ºé—´ï¼Œå¦‚æœæ•°æ®åˆ†å¸ƒä¸å‡åŒ€ï¼Œè®¡æ•°çš„æ•ˆç‡ä¹Ÿä¼šé™ä½ã€‚ æœ¬è´¨ä¸Šæ¥è¯´è¿™ç§è®¡æ•°æ’åºç®—æ³•æ˜¯ä¸€ç§ç®€å•çš„æ¡¶æ’åºç®—æ³•ï¼Œä¸€ä¸ªè®¡æ•°å™¨å°±æ˜¯ä¸€ä¸ªæ¡¶ã€‚è®¡æ•°æ’åºç®—æ³•**æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ï¼Œç©ºé—´å¤æ‚åº¦æ˜¯O(n)**ã€‚ 7. åŸºæ•°æ’åºå’Œä¸Šé¢çš„è®¡æ•°æ’åºå¾ˆåƒï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯æ¡¶æ’åºï¼Œåªä¸è¿‡ç”¨æ•°ä½æ¥åˆ’åˆ†æ¡¶ã€‚ é¦–å…ˆå»ºç«‹0-9çš„10ä¸ªæ¡¶ï¼Œå¯¹å¾…æ’åºçš„æ¯ä¸ªå…ƒç´ ï¼ŒæŒ‰ç…§ä¸ªä½æ•°çš„å€¼æ”¾å…¥å¯¹åº”çš„æ¡¶ä¸­ï¼ŒæŒ‰é¡ºåºéå†æ¡¶ä¸­å…ƒç´ ï¼Œå–å‡ºæ¥æ”¾å›åŸæ•°ç»„ã€‚å¯¹äºå¾…æ’åºçš„æ¯ä¸ªæ•°å­—ï¼ŒæŒ‰ç…§åä½æ•°çš„å€¼æ”¾å…¥å¯¹åº”æ¡¶ä¸­ï¼ŒæŒ‰é¡ºåºéå†æ¡¶ä¸­å…ƒç´ ï¼Œå–å‡ºæ¥æ”¾å›åŸæ•°ç»„ã€‚ä»¥æ­¤ç±»æ¨ï¼ŒæŒ‰ç…§ç™¾ä½æ•°ã€åƒä½æ•°çš„å€¼æ”¾å…¥æ¡¶ä¸­ï¼Œéå†ï¼Œå–å‡ºï¼Œç›´åˆ°æ’åºå®Œæˆã€‚ 123456789101112131415161718192021222324252627282930313233def RadixSort(a): base = 1 # baseä¸ºå–çš„æ•°ä½ maxv = max(a) # ä»ä½åˆ°é«˜éå†æ¯ä¸ªæ•°ä½ while base &lt; maxv: bucket = [] # æ¯æ¬¡éå†å®šä¹‰10ä¸ªæ¡¶ for idx in range(10): bucket.append([]) # æ¯ä¸ªåŸåˆ—è¡¨å…ƒç´ æ ¹æ®å½“å‰æ•°ä½æ”¾å…¥å¯¹åº”çš„æ¡¶ä¸­ for num in a: idx = num // base % 10 # //å‘ä¸‹å–æ•´ï¼Œ%é™¤æ³•å–ä½™ bucket[idx].append(num) l = 0 # éå†æ¯ä¸ªæ¡¶ï¼ŒæŒ‰é¡ºåºæ”¾å›åŸåˆ—è¡¨ for idx in range(10): for v in bucket[idx]: a[l] = v l += 1 print(a) base *= 10a = generate_random_sequence(10, 1, 1000)print(a)RadixSort(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[119, 13, 832, 247, 117, 126, 996, 904, 112, 396] ï¼ˆåŸåºåˆ—ï¼‰[832, 112, 13, 904, 126, 996, 396, 247, 117, 119] ï¼ˆæŒ‰ç…§ä¸ªä½æ•°æ”¾å…¥æ¡¶ä¸­ï¼Œéå†å–å‡ºï¼‰[904, 112, 13, 117, 119, 126, 832, 247, 996, 396] ï¼ˆæŒ‰ç…§åä½æ•°æ”¾å…¥æ¡¶ä¸­ï¼Œéå†å–å‡ºï¼‰[13, 112, 117, 119, 126, 247, 396, 832, 904, 996] ï¼ˆæŒ‰ç…§ç™¾ä½æ•°æ”¾å…¥æ¡¶ä¸­ï¼Œéå†å–å‡ºï¼‰&#x27;&#x27;&#x27; ä¸Šé¢çš„ä»£ç åªé€‚ç”¨äºæ­£æ•´æ•°ï¼Œæˆ‘ä»¬é€šè¿‡å¾ªç¯éå†æ¯ä¸ªæ•°ä½ï¼Œæ‰€ä»¥å¤–å±‚å¾ªç¯çš„æ¬¡æ•°æ˜¯ä½æ•°dã€‚å†…å±‚å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬éå†äº†å¾…æ’åºæ•°ç»„å¹¶å°†æ¯ä¸ªå…ƒç´ æ”¾å…¥å¯¹åº”çš„æ¡¶ä¸­ï¼Œæ‰€ä»¥å†…å±‚å¾ªç¯çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚æœ€åï¼Œæˆ‘ä»¬éå†æ¯ä¸ªæ¡¶ï¼ŒæŒ‰é¡ºåºå°†å…ƒç´ æ”¾å›åŸåˆ—è¡¨ï¼Œè¿™ä¹Ÿéœ€è¦O(n)çš„æ—¶é—´å¤æ‚åº¦ã€‚ æ€»çš„æ¥è¯´ï¼ŒåŸºæ•°æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(d * (n + k))ï¼Œå…¶ä¸­dè¡¨ç¤ºä½æ•°ï¼Œnè¡¨ç¤ºå¾…æ’åºæ•°ç»„çš„é•¿åº¦ï¼Œkè¡¨ç¤ºæ¡¶çš„æ•°é‡ã€‚ç©ºé—´å¤æ‚åº¦ä¸ºO(dk+n)ã€‚ å¦‚æœæœ‰è´Ÿæ•´æ•°ï¼Œå¯ä»¥æŠŠåŸæ•°ç»„å…ƒç´ åˆ†ä¸ºæ­£æ•´æ•°å’Œè´Ÿæ•´æ•°ï¼Œåˆ†åˆ«è¿›è¡ŒåŸºæ•°æ’åºååˆå¹¶ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152def RadixSort(a): # åˆ†ç¦»æ­£æ•°å’Œè´Ÿæ•° positive_nums = [num for num in a if num &gt;= 0] negative_nums = [-num for num in a if num &lt; 0] # å¯¹æ­£æ•°éƒ¨åˆ†è¿›è¡ŒåŸºæ•°æ’åº if len(positive_nums) &gt; 0: base = 1 maxv = max(positive_nums) while base &lt; maxv: bucket = [[] for _ in range(10)] for num in positive_nums: idx = num // base % 10 bucket[idx].append(num) positive_nums = [v for bucket_list in bucket for v in bucket_list] print(positive_nums) base *= 10 # å¯¹è´Ÿæ•°éƒ¨åˆ†è¿›è¡ŒåŸºæ•°æ’åº if len(negative_nums) &gt; 0: base = 1 maxv = max(negative_nums) while base &lt; maxv: bucket = [[] for _ in range(10)] for num in negative_nums: idx = num // base % 10 bucket[idx].append(num) negative_nums = [v for bucket_list in bucket for v in bucket_list] print(negative_nums) base *= 10 # å°†è´Ÿæ•°éƒ¨åˆ†åè½¬ negative_nums = [-num for num in negative_nums[::-1]] print(negative_nums) # åˆå¹¶æ­£æ•°å’Œè´Ÿæ•°éƒ¨åˆ† sorted_a = negative_nums + positive_nums return sorted_aa = generate_random_sequence(10, -1000, 1000)print(a)a = RadixSort(a)print(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[-918, -574, 385, -322, -164, 880, -158, -400, 607, -746] (åŸåºåˆ—)[880, 385, 607][607, 880, 385][385, 607, 880] ï¼ˆåŸºæ•°æ’åºåçš„æ­£æ•°åºåˆ—ï¼‰[400, 322, 574, 164, 746, 918, 158][400, 918, 322, 746, 158, 164, 574][158, 164, 322, 400, 574, 746, 918] ï¼ˆåŸºæ•°æ’åºåå–åçš„è´Ÿæ•°åºåˆ—ï¼‰[-918, -746, -574, -400, -322, -164, -158] ï¼ˆåè½¬çš„æˆåŸæ¥çš„è´Ÿæ•°åºåˆ—ï¼‰[-918, -746, -574, -400, -322, -164, -158, 385, 607, 880] ï¼ˆæ•´åˆæ’åºåçš„ç»“æœï¼‰&#x27;&#x27;&#x27; 8. å¿«é€Ÿæ’åºæ‰¾åˆ°ä¸€ä¸ªåŸºå‡†ç‚¹ï¼ŒæŠŠå°äºå®ƒçš„å’Œå¤§äºå®ƒçš„æ•°åˆ†å¼€ï¼Œåˆ†åˆ«é€’å½’æ‰§è¡Œå¿«é€Ÿæ’åºã€‚ä¹Ÿæ˜¯ç”¨äº†åˆ†æ²»çš„æ€æƒ³ï¼Œå±äºå†’æ³¡æ’åºçš„æ”¹è¿›ç®—æ³•ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940# ä»aåˆ—è¡¨startåˆ°endä¹‹é—´å¯»æ‰¾åŸºå‡†æ•°ä¸‹æ ‡ï¼Œå¹¶ä¸”å°†æ‰€æœ‰å°äºç­‰äºå®ƒçš„æ•°æ”¾åœ¨å®ƒå·¦è¾¹ï¼Œå¤§äºå®ƒçš„æ•°æ”¾åœ¨å³è¾¹def QuickSortPivot(a, start, end): pivot = start # æœ€å·¦è¾¹æ•°ä¸ºåŸºå‡†æ•° j = start + 1 # jä»£è¡¨å¤§äºåŸºå‡†æ•°çš„æ•°çš„ä¸‹æ ‡å·¦è¾¹ç•Œ # éå†åˆ—è¡¨æ‰€æœ‰æ•°ï¼Œå¦‚æœå½“å‰æ•°å°äºç­‰äºåŸºå‡†æ•°ï¼Œåˆ™a[i]å’Œa[j]äº¤æ¢ï¼Œjè‡ªå¢ï¼›å¤§äºåˆ™ä¸å¤„ç†ï¼ˆä¿è¯jä¸‹æ ‡ä»¥å‰çš„æ•°å°äºç­‰äºåŸºå‡†æ•°ï¼‰ for i in range(start + 1, end + 1): if a[i] &lt;= a[pivot]: a[i], a[j] = a[j], a[i] j += 1 # éå†ä¹‹åï¼ŒåŸºå‡†æ•°ä¸å°äºåŸºå‡†æ•°çš„æœ€åä¸€ä¸ªæ•°äº¤æ¢ï¼ˆè¿™æ ·å°±å¯ä»¥è®©åŸºå‡†æ•°å·¦è¾¹å’Œå³è¾¹åˆ†å¼€ï¼Œä¸”åŸºå‡†æ•°ä½ç½®å°±æ˜¯æ­£ç¡®çš„äº†ï¼‰ a[pivot], a[j - 1] = a[j - 1], a[pivot] # æ›´æ–°åŸºå‡†æ•°ä¸‹æ ‡ pivot = j - 1 print(a[pivot], a[start : pivot], a[pivot + 1 : end + 1]) return pivot# å¿«é€Ÿæ’åºå‡½æ•°ï¼Œç”¨æ¥å¯¹åŒºé—´[start, end]çš„æ•°é€’å½’æ‰§è¡Œå¿«é€Ÿæ’åºdef QuickSort(a, start, end): if start &gt;= end: return # è·å¾—åŸºå‡†æ•°ä¸‹æ ‡ï¼Œåˆ†åˆ«é€’å½’è®¡ç®—å·¦è¾¹å’Œå³è¾¹éƒ¨åˆ† pivot = QuickSortPivot(a, start, end) QuickSort(a, start, pivot - 1) QuickSort(a, pivot + 1, end)a = generate_random_sequence(10, 1, 100)print(a)QuickSort(a, 0, 9)print(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[55, 100, 41, 99, 52, 90, 50, 71, 92, 44] # åŸåºåˆ—55 [44, 41, 52, 50] [90, 99, 71, 92, 100] # åŸºå‡†æ•°ï¼ŒåŸºå‡†æ•°å·¦è¾¹åºåˆ—ï¼ŒåŸºå‡†æ•°å³è¾¹åºåˆ—44 [41] [52, 50]52 [50] []90 [71] [99, 92, 100]99 [92] [100][41, 44, 50, 52, 55, 71, 90, 92, 99, 100] # å¿«é€Ÿæ’åºåçš„åºåˆ—&#x27;&#x27;&#x27; è¿™ç§æ’åºç®—æ³•ä¹Ÿæœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œå¦‚æœå¾ˆä¸å·§æ¯æ¬¡é€‰å–çš„åŸºå‡†ç‚¹éƒ½æ˜¯åºåˆ—çš„æœ€å¤§å€¼æˆ–è€…æœ€å°å€¼ï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦å°†ä¼šæ˜¯æœ€å¤§å€¼O(n^2)ã€‚ æ—¶é—´å¤æ‚åº¦ï¼š åœ¨æ¯ä¸€æ¬¡åˆ’åˆ†æ“ä½œä¸­ï¼Œéœ€è¦éå†å¾…æ’åºæ•°ç»„çš„æ‰€æœ‰å…ƒç´ ï¼Œè¿™éœ€è¦O(n)çš„æ—¶é—´ã€‚ åœ¨æ¯ä¸€æ¬¡åˆ’åˆ†æ“ä½œä¸­ï¼Œå°†æ•°ç»„åˆ’åˆ†ä¸ºä¸¤ä¸ªå­æ•°ç»„ï¼Œæ¯ä¸ªå­æ•°ç»„çš„é•¿åº¦å¤§çº¦æ˜¯åŸæ•°ç»„çš„ä¸€åŠï¼ˆæœ€å¥½çš„æƒ…å†µï¼‰ã€‚å› æ­¤ï¼Œåˆ’åˆ†æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚ å¿«é€Ÿæ’åºçš„é€’å½’æ·±åº¦ä¸ºlognï¼Œå› ä¸ºæ¯æ¬¡åˆ’åˆ†æ“ä½œéƒ½å°†æ•°ç»„çš„è§„æ¨¡å‡åŠã€‚ å› æ­¤ï¼Œæœ€å¥½çš„æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ï¼Œæœ€åæƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)ã€‚ ç©ºé—´å¤æ‚åº¦ï¼š å¿«é€Ÿæ’åºä½¿ç”¨é€’å½’è°ƒç”¨æ¥å¯¹å­æ•°ç»„è¿›è¡Œæ’åºï¼Œæ¯æ¬¡é€’å½’è°ƒç”¨éƒ½éœ€è¦ä¿å­˜å½“å‰çš„å‡½æ•°è°ƒç”¨ä¿¡æ¯ï¼ˆåŒ…æ‹¬å‚æ•°ã€å±€éƒ¨å˜é‡ç­‰ï¼‰ã€‚ å¿«é€Ÿæ’åºçš„é€’å½’æ·±åº¦é€šå¸¸ä¸ºlognï¼Œå› æ­¤éœ€è¦çš„æ ˆç©ºé—´ä¹Ÿæ˜¯lognã€‚ å› æ­¤ï¼Œæ€»çš„ç©ºé—´å¤æ‚åº¦ä¸ºO(logn)ã€‚æœ€åçš„æƒ…å†µä¸‹æ˜¯O(n)ï¼ŒéšæœºåŒ–åŸºå‡†å€¼pivotå¯ä»¥é˜²æ­¢æœ€åæƒ…å†µå‘ç”Ÿã€‚ å¯ä»¥ç”¨éšæœºå¿«é€Ÿæ’åºï¼Œæ¯æ¬¡æ‰¾åŸºå‡†ç‚¹é‡‡ç”¨äº†ä¸€æ¬¡éšæœºï¼Œè§„é¿å¿«é€Ÿæ’åºæœ€åçš„æƒ…å†µå‘ç”Ÿã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041import randomdef QuickSortPivot(a, start, end): # å¼•å…¥åŒºé—´ä¸­éšæœºä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•å€¼ï¼Œå’Œæœ€å·¦è¾¹çš„æ•°äº¤æ¢ï¼ˆæœ¬æ¥æ˜¯æœ€å·¦è¾¹çš„æ•°ä½œä¸ºä¸‹ä¸€è½®çš„åŸºå‡†æ•°ï¼‰ randIdx = random.randint(start, end) a[start], a[randIdx] = a[randIdx], a[start] pivot = start j = start + 1 for i in range(start + 1, end + 1): if a[i] &lt;= a[pivot]: a[i], a[j] = a[j], a[i] j += 1 a[pivot], a[j - 1] = a[j - 1], a[pivot] pivot = j - 1 print(a[pivot], a[start : pivot], a[pivot + 1 : end + 1]) return pivotdef QuickSort(a, start, end): if start &gt;= end: return pivot = QuickSortPivot(a, start, end) QuickSort(a, start, pivot - 1) QuickSort(a, pivot + 1, end) a = generate_random_sequence(10, 1, 100)print(a)QuickSort(a, 0, 9)print(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[24, 2, 44, 75, 32, 32, 68, 36, 9, 79]68 [9, 2, 44, 32, 32, 24, 36] [75, 79]36 [9, 2, 32, 32, 24] [44]9 [2] [32, 32, 24]24 [] [32, 32]32 [32] []79 [75] [][2, 9, 24, 32, 32, 36, 44, 68, 75, 79]&#x27;&#x27;&#x27; 9. å¸Œå°”æ’åºæœ¬è´¨æ˜¯ä¸€ç§æ”¹è¿›åçš„æ’å…¥æ’åºï¼Œåˆç§°â€œç¼©å°å¢é‡æ’åºâ€ï¼Œå¢é‡åœ¨è¿™é‡Œæ˜¯æŒ‡æŒ‰ç…§ä¸€å®šè§„åˆ™é€‰æ‹©çš„é—´éš”å€¼ï¼ˆè¿™é‡Œä¹Ÿæ˜¯åˆ†ç»„æ•°ï¼‰ï¼Œé€šå¸¸è®¾ç½®ä¸ºæ•°ç»„é•¿åº¦çš„ä¸€åŠï¼Œæ¯æ¬¡ç¼©å°å¢é‡ç›´åˆ°å¢é‡ä¸º1ï¼Œç»„å†…æ’åºæ–¹æ³•ä¸ºæ’å…¥æ’åºã€‚æ¯è½®å¸Œå°”æ’åºçš„åˆ†ç»„æ•°è¶Šæ¥è¶Šå°ï¼Œä¹Ÿå°±æ˜¯è¯´ç»„å†…å…ƒç´ è¶Šæ¥è¶Šå¤šï¼Œæœ€åä¸€ç»„å°±æ˜¯æ•´ä¸ªæ•°ç»„ã€‚ 123456789101112131415161718192021222324252627282930def ShellSort(a): n = len(a) # gapä¸ºå¢é‡ï¼Œæ¯éš”gapå€¼æ‰§è¡Œæ’å…¥æ’åº gap = n // 2 while gap &gt; 0: for i in range(gap, n): x = a[i] j =i while j &gt;= gap: if x &lt; a[j - gap]: a[j] = a[j - gap] else: break j -= gap a[j] = x print(a) # å¢é‡é™¤2å‘ä¸‹å–æ•´ï¼Œç»§ç»­è¿­ä»£ gap = gap // 2a = generate_random_sequence(10, 1, 100)print(a)ShellSort(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[20, 17, 75, 69, 34, 85, 38, 23, 57, 28] # åŸåºåˆ—[20, 17, 23, 57, 28, 85, 38, 75, 69, 34] # ç¬¬ä¸€æ¬¡å¸Œå°”æ’åºï¼Œå®é™…åˆ†äº†5ç»„[20,85][17,38][75,23][69,57][34,28]å¹¶ç»„å†…è¿›è¡Œäº†æ’å…¥æ’åº[20, 17, 23, 34, 28, 57, 38, 75, 69, 85] # ç¬¬äºŒæ¬¡å¸Œå°”æ’åºï¼Œå®é™…åˆ†äº†2ç»„[20,23,28,38,69][17,57,85,75,34]å¹¶ç»„å†…è¿›è¡Œäº†æ’å…¥æ’åº[17, 20, 23, 28, 34, 38, 57, 69, 75, 85] # ç¬¬ä¸‰æ¬¡å¸Œå°”æ’åºï¼Œå®é™…å°±æ˜¯1ç»„ï¼Œæ‰€æœ‰ç»„å†…å…ƒç´ æ’å…¥æ’åº&#x27;&#x27;&#x27; å¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦æ˜¯æ ¹æ®å¢é‡åºåˆ—çš„é€‰æ‹©è€Œå˜åŒ–çš„ã€‚åœ¨æœ€åæƒ…å†µä¸‹ï¼ˆåŸåºåˆ—ä¸ºé€†åºï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n^2)ï¼›æœ€å¥½çš„æƒ…å†µä¸‹ï¼ˆåŸåºåˆ—æœ¬èº«æœ‰åºï¼‰ï¼Œæ—¶é—´å¤æ‚åº¦æ˜¯O(n)ã€‚å¹³å‡æƒ…å†µä¸‹ï¼Œå¸Œå°”æ’åºçš„æ—¶é—´å¤æ‚åº¦å¯ä»¥è¾¾åˆ°O(nlogn)ã€‚ å¸Œå°”æ’åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯O(1)ï¼Œå³ä¸éœ€è¦é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨æ•°æ®ã€‚å¸Œå°”æ’åºæ˜¯ä¸€ç§åŸåœ°æ’åºç®—æ³•ï¼Œå®ƒé€šè¿‡äº¤æ¢å…ƒç´ çš„ä½ç½®æ¥å®ç°æ’åºï¼Œä¸éœ€è¦é¢å¤–çš„è¾…åŠ©æ•°ç»„æˆ–é“¾è¡¨ã€‚å› æ­¤ï¼Œå¸Œå°”æ’åºçš„ç©ºé—´å¤æ‚åº¦æ˜¯å¸¸æ•°çº§åˆ«çš„ã€‚ 10. å †æ’åºå †æ˜¯ä¸€é¢—å®Œå…¨äºŒå‰æ ‘ï¼Œå‡è®¾ä¸€ä¸ªèŠ‚ç‚¹ç¼–å·ä¸ºidxï¼Œåˆ™å·¦å­æ ‘æ ‘æ ¹ç¼–å·ä¸ºidx*2ï¼Œå³å­æ ‘æ ‘æ ¹ç¼–å·ä¸ºidx*2+1ï¼ŒæŠŠæ¯ä¸ªç»“ç‚¹çš„ç¼–å·å’Œé¡ºåºè¡¨ä¸‹æ ‡å¯¹åº”ï¼Œå°±å¯ä»¥æŠŠè¿™é¢—äºŒå‰æ ‘ç”¨é¡ºåºè¡¨å½¢å¼å­˜å‚¨èµ·æ¥ã€‚ å¯¹äºä¸€ä¸ªç»™å®šçš„é¡ºåºè¡¨ï¼Œé¦–å…ˆæ„é€ æˆå¤§é¡¶å †ï¼ˆæ‰€æœ‰æ ¹ç»“ç‚¹å¤§äºå·¦å³å­ç»“ç‚¹ï¼‰ï¼Œæ–¹æ³•æ˜¯ä»é¡ºåºè¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ å¼€å§‹ï¼Œè‡ªåº•å‘ä¸Šæ„é€ å †ã€‚å¯¹äºæŸä¸ªå…ƒç´ ï¼Œå–å·¦å³å­æ ‘ä¸­çš„å¤§è€…å’Œè¯¥å…ƒç´ æ¯”è¾ƒï¼Œå¦‚æœæ¯”è¯¥å…ƒç´ å¤§ï¼Œåˆ™ä¸ä¹‹äº¤æ¢ï¼ˆè¯¥å…ƒç´ æ‰€åœ¨ä½ç½®ä¸‹æ²‰ï¼‰ã€‚ç”±äºæ¯ä¸ªå †å·¦å³å­æ ‘éƒ½æ˜¯æ»¡è¶³å †çš„æ€§è´¨çš„ï¼Œå½“æšä¸¾å®Œæ ¹ç»“ç‚¹åå¤§é¡¶å †å°±æ„é€ å®Œæ¯•äº†ã€‚ è¿™ä¸ªæ—¶å€™å †é¡¶çš„å…ƒç´ æ˜¯æœ€å¤§çš„ï¼ŒæŠŠå †é¡¶å…ƒç´ å’Œé¡ºåºè¡¨æœ€åä¸€ä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢ï¼ˆå¼¹å‡ºï¼‰ï¼Œæœ€å¤§å€¼å°±åœ¨æœ€åä¸€ä½äº†ã€‚ç»§ç»­åˆ©ç”¨å †çš„ä¸‹æ²‰æ“ä½œï¼Œé™¤äº†æœ€åä¸€ä½ä»¥å¤–ç»§ç»­æ„é€ å¤§é¡¶å †ï¼ŒæŠŠæ¬¡å¤§å…ƒç´ äº¤æ¢åˆ°å€’æ•°ç¬¬äºŒä½ï¼Œä¾æ­¤ç±»æ¨ï¼Œæœ€ç»ˆæ•´ä¸ªé¡ºåºè¡¨å°±æ˜¯å‡åºæ’åˆ—çš„æœ‰åºé¡ºåºè¡¨äº†ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748# å®ç°å¤§é¡¶å †ä¸‹æ²‰æ“ä½œï¼Œheapæ•´ä¸ªé¡ºåºè¡¨startåˆ°endä¹‹é—´ç»„æˆåˆæ³•çš„å †ï¼Œstartä¸ºæ ¹ç»“ç‚¹åæ ‡def maxHeapify(heap, start, end): son = start * 2 # å·¦å­æ ‘æ ¹ # å·¦å­æ ‘å­˜åœ¨ï¼Œåˆ™å–å·¦å­æ ‘å’Œå³å­æ ‘æ ¹ä¸­çš„å¤§è€…çš„ä¸‹æ ‡ï¼Œå­˜å‚¨åˆ°sonä¸­ while son &lt;= end: if son + 1 &lt;= end and heap[son + 1] &gt; heap[son]: son += 1 # å¦‚æœç»“ç‚¹ç‚¹çš„å€¼å¤§äºæ ¹ç»“ç‚¹çš„å€¼ï¼Œåˆ™å°†æ ¹ç»“ç‚¹å’Œå­ç»“ç‚¹äº¤æ¢ï¼ˆä¸‹æ²‰ï¼‰ï¼Œå­ç»“ç‚¹è¿­ä»£æ‰§è¡Œ if heap[son] &gt; heap[start]: heap[start], heap[son] = heap[son], heap[start] start, son = son, son * 2 # å¦‚æœå­ç»“ç‚¹çš„å€¼å°äºç­‰äºæ ¹ç»“ç‚¹çš„å€¼ï¼Œè¯´æ˜å †æ„é€ æ²¡é—®é¢˜ï¼Œè·³å‡ºå¾ªç¯ else: break# å®ç°å †æ’åºæ“ä½œdef HeapSort(a): # å †ä¸‹æ ‡ä»1å¼€å§‹ï¼Œåˆ—è¡¨ä¸‹æ ‡ä»0å¼€å§‹ï¼Œæ‰€ä»¥åœ¨0çš„ä½ç½®åŠ ä¸Šå ä½ç¬¦None heap = [None] + a # å®šä¹‰å †é¡¶å…ƒç´ ä¸‹æ ‡rootä¸º1 root = 1 l = len(heap) # ä»é¡ºåºè¡¨l//2ä¸ªå…ƒç´ å¼€å§‹(å› ä¸ºå †çš„æœ€åä¸€å±‚æ˜¯æ²¡æœ‰å­ç»“ç‚¹çš„)é€†åºæšä¸¾ï¼Œè‡ªåº•å‘ä¸Šæ„é€ å † for i in range(l // 2, root - 1, -1): maxHeapify(heap, i, l - 1) # å †é¡¶å’Œæœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢ï¼Œé™¤æœ€åä¸€ä¸ªå…ƒç´ å¤–ï¼Œé‡æ„å † for i in range(l - 1, root, -1): heap[i], heap[root] = heap[root], heap[i] maxHeapify(heap, root, i - 1) print(heap[root:])a = generate_random_sequence(10, 1, 100)print(a)HeapSort(a)&#x27;&#x27;&#x27;è¾“å‡ºç»“æœï¼š[3, 52, 44, 78, 60, 100, 54, 61, 38, 1] # åŸæ•°åˆ—[78, 61, 54, 52, 60, 44, 3, 1, 38, 100] # æœ€å¤§æ•°ä¸º100ï¼Œ1-9ä½é‡æ–°æ„é€ å¤§é¡¶å †[61, 60, 54, 52, 38, 44, 3, 1, 78, 100] # æ¬¡å¤§æ•°ä¸º78ï¼Œ1-8ä½é‡æ–°æ„é€ å¤§é¡¶å †[60, 52, 54, 1, 38, 44, 3, 61, 78, 100] # ç¬¬ä¸‰å¤§æ•°ä¸º61ï¼Œ1-7é‡æ–°æ„é€ å¤§é¡¶å †[54, 52, 44, 1, 38, 3, 60, 61, 78, 100] .[52, 38, 44, 1, 3, 54, 60, 61, 78, 100] .[44, 38, 3, 1, 52, 54, 60, 61, 78, 100] .[38, 1, 3, 44, 52, 54, 60, 61, 78, 100] .[3, 1, 38, 44, 52, 54, 60, 61, 78, 100] .[1, 3, 38, 44, 52, 54, 60, 61, 78, 100] # æœ€åä¸€æ¬¡æ„é€ å¤§é¡¶å †ï¼Œåªæœ‰ä¸€ä¸ªæœ€å°å…ƒç´ 1ï¼Œæ­¤æ—¶æ•°åˆ—å·²ç»å‡åºæ’å¥½&#x27;&#x27;&#x27; å †æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)ï¼Œnæ˜¯å¾…æ’åºå…ƒç´ çš„æ•°é‡ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºO(1)ï¼Œå› ä¸ºå®ƒæ˜¯åŸåœ°æ’åºç®—æ³•ï¼Œä¸éœ€è¦é¢å¤–çš„ç©ºé—´æ¥å­˜å‚¨å…ƒç´ ã€‚ æœ€åæ˜¯ä¸€å¼ æ¥è‡ªèœé¸Ÿæ•™ç¨‹çš„æ’åºç®—æ³•æ€»ç»“å›¾ï¼š","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"ç¾¤ä½“åŸºå› ç»„å­¦â€”â€”GWASåˆ†æ","slug":"ç¾¤ä½“åŸºå› ç»„å­¦â€”â€”GWASåˆ†æ","date":"2023-06-20T10:40:24.000Z","updated":"2023-06-24T07:28:17.000Z","comments":true,"path":"2023/06/20/a.html","link":"","permalink":"http://www.shelven.com/2023/06/20/a.html","excerpt":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•å¦‚ä½•åœ¨linuxå‘½ä»¤è¡Œä¸­ç”¨TASSEL5å’ŒPLINK2è½¯ä»¶åšGWASåˆ†æï¼Œä»¥åŠå¦‚ä½•å¯è§†åŒ–GWASç»“æœï¼ˆåœ¨Rä¸­ç»˜åˆ¶æ›¼å“ˆé¡¿å›¾å’ŒQQå›¾ï¼‰ã€‚å…³äºGWASæ˜¯åšä»€ä¹ˆçš„ï¼Œä»¥åŠåŸºæœ¬æ¦‚å¿µä»‹ç»å¯ä»¥çœ‹ä¸Šä¸€ç¯‡ç¬”è®°ä»‹ç»ï¼šç¾¤ä½“åŸºå› ç»„å­¦â€”â€”æ¦‚è¿°å’Œå›¾è¡¨è¯¦è§£ - æˆ‘çš„å°ç ´ç«™ (shelven.com)","text":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•å¦‚ä½•åœ¨linuxå‘½ä»¤è¡Œä¸­ç”¨TASSEL5å’ŒPLINK2è½¯ä»¶åšGWASåˆ†æï¼Œä»¥åŠå¦‚ä½•å¯è§†åŒ–GWASç»“æœï¼ˆåœ¨Rä¸­ç»˜åˆ¶æ›¼å“ˆé¡¿å›¾å’ŒQQå›¾ï¼‰ã€‚å…³äºGWASæ˜¯åšä»€ä¹ˆçš„ï¼Œä»¥åŠåŸºæœ¬æ¦‚å¿µä»‹ç»å¯ä»¥çœ‹ä¸Šä¸€ç¯‡ç¬”è®°ä»‹ç»ï¼šç¾¤ä½“åŸºå› ç»„å­¦â€”â€”æ¦‚è¿°å’Œå›¾è¡¨è¯¦è§£ - æˆ‘çš„å°ç ´ç«™ (shelven.com) PLINKå’ŒTASSELéƒ½æ˜¯åšGWASåˆ†æç”¨çš„ç»å…¸è½¯ä»¶ï¼Œä¸¤ä¸ªè½¯ä»¶éƒ½æœ‰linuxç‰ˆæœ¬å’Œwindowsç‰ˆæœ¬ï¼Œæˆ‘è¿™é‡Œæ˜¯åœ¨linuxé›†ç¾¤ç¯å¢ƒä¸­è·‘çš„åˆ†ææµç¨‹ï¼Œæ‰€æœ‰è½¯ä»¶ä¸‹è½½linuxç‰ˆæœ¬ï¼Œä¸¤æ¬¾è½¯ä»¶å¯ä»¥åœ¨ä¸‹æ–¹å®˜ç½‘ä¸­å®‰è£…ï¼š PLINK 2.0 (cog-genomics.org)ã€Tassel TASSELå®˜ç½‘æœ‰tassel pipelineå‘½ä»¤è¡Œçš„å¸®åŠ©æ–‡æ¡£ï¼Œä¸€äº›å¸¸ç”¨çš„å‚æ•°å¯ä»¥å‚è€ƒTassel5PipelineCLI.pdf (bytebucket.org) TASSELä¸­æ–‡æ–‡æ¡£å¯ä»¥å‚è€ƒæœ¬ç«™Tassel5ä¸­æ–‡æ“ä½œæ‰‹å†Œ.pdf 1. æ•°æ®æ ¼å¼plinkçš„æ•°æ®æ ¼å¼æœ‰ä¸¤å¥—ï¼Œæ¯å¥—å„è‡ªçš„å‰ç¼€åç§°ç›¸åŒï¼Œä¸€å¥—åç¼€ä¸º.bedã€.binå’Œ.famï¼Œå¦ä¸€å¥—åç¼€ä¸º.mapå’Œ.pedï¼Œåé¢çš„åˆ†æä»¥ç¬¬ä¸€å¥—ä¸ºä¾‹ï¼Œè¯»å–é€Ÿåº¦æ¯”è¾ƒå¿«ã€‚ é‚£ä¹ˆè¿™ä¸‰ä¸ªæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿæˆ‘ä»¬åšç¾¤ä½“é‡æµ‹åºåï¼Œé€šè¿‡GATKç­‰è½¯ä»¶åšå˜å¼‚æ£€æµ‹æœ€ç»ˆä¼šç”Ÿæˆä¸€ä¸ªVCFæ–‡ä»¶ï¼Œé€šè¿‡è½¯ä»¶plinkå¯ä»¥å°†VCFæ–‡ä»¶è½¬åŒ–æˆä¸Šé¢çš„ä¸‰ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«å±•ç¤ºä¸€ä¸‹ä¸‰ä¸ªæ–‡ä»¶çš„å†…å®¹å’Œç»“æ„ï¼š famæ–‡ä»¶ï¼ˆå®¶æ—ä¿¡æ¯æ–‡ä»¶ï¼‰æœ‰6åˆ—ï¼Œåˆ†åˆ«ä¸ºå®¶ç³»ç¼–å·ã€ä¸ªä½“ç¼–å·ã€çˆ¶ç³»ç¼–å·ï¼ˆ0è¡¨ç¤ºä¿¡æ¯ç¼ºå¤±ï¼‰ã€æ¯ç³»ç¼–å·ï¼ˆ0è¡¨ç¤ºä¿¡æ¯ç¼ºå¤±ï¼‰ã€æ€§åˆ«ç¼–å·ï¼ˆ1è¡¨ç¤ºç”·ï¼Œ2è¡¨ç¤ºå¥³ï¼Œ0è¡¨ç¤ºæœªçŸ¥æ€§åˆ«ï¼‰ã€è¡¨å‹å€¼ï¼ˆ1è¡¨ç¤ºå¯¹ç…§ï¼Œ2è¡¨ç¤ºç—…ä¾‹ï¼Œ0&#x2F;-9æˆ–è€…å…¶ä»–éæ•°å­—è¡¨ç¤ºä¿¡æ¯ç¼ºå¤±ï¼‰ bimæ–‡ä»¶ï¼ˆä¸ªä½“ä¿¡æ¯æ–‡ä»¶ï¼‰æœ‰6åˆ—ï¼Œåˆ†åˆ«ä¸ºæŸ“è‰²ä½“ç¼–å·ã€SNPæ ‡è¯†ã€ä»¥æ‘©æ ¹æˆ–å˜æ‘©ä¸ºå•ä½çš„ä½ç½®ï¼ˆå¯ä»¥ç”¨0ï¼‰ã€ç¢±åŸºå¯¹åæ ‡ã€Allele1å’ŒAllele2ï¼ˆé€šå¸¸æ˜¯ä¸»æ•ˆç­‰ä½åŸºå› ï¼‰ bedæ–‡ä»¶ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶ è½¬åŒ–æˆè¿™ä¸‰ä¸ªæ–‡ä»¶ä¸»è¦æ˜¯ä¸ºäº†ä¸‹ä¸€æ­¥æ›´å¿«è¿‡æ»¤æ•°æ®ï¼Œå› ä¸ºbedæ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè®¡ç®—æœºå¤„ç†èµ·æ¥æ›´å¿«ã€‚ ä»¥ä¸Šæ•°æ®æ¥æºæ˜¯è´ºå¸ˆå…„åšçš„æ£‰èŠ±é‡æµ‹åºæ ·æœ¬çš„éƒ¨åˆ†å˜å¼‚ä¿¡æ¯æ–‡ä»¶ã€‚ 2. åŸºå› å‹æ•°æ®æ¸…æ´—ï¼ˆä½¿ç”¨PLINKï¼‰ä½¿ç”¨plinkè½¯ä»¶è¿‡æ»¤æ‰æœ€å°ç­‰ä½åŸºå› é¢‘ç‡ï¼ˆMinor Allele Frequencyï¼ŒMAFï¼‰å°äº0.05çš„å˜å¼‚ä½ç‚¹ï¼Œåœ¨å…³è”åˆ†æä¸­MAFå€¼å¤ªå°ä¼šé€ æˆå‡é˜³æ€§ã€‚æ¯”å¦‚è¯´ï¼Œä¸€ä¸ªåŸºå› åº§ä¸Šæœ‰ä¸¤ä¸ªç­‰ä½åŸºå› Aå’ŒBï¼ŒAåœ¨ç¾¤ä½“ä¸­çš„é¢‘ç‡ä¸º0.6ï¼ŒBåœ¨ç¾¤ä½“ä¸­çš„é¢‘ç‡ä¸º0.4ï¼Œé‚£ä¹ˆMAFå€¼å°±æ˜¯0.4ï¼Œå¯ä»¥æƒ³åˆ°ä¸€ä¸ªåŸºå› åº§ä¸ŠMAFå€¼è¶Šå°ï¼ŒåŸºå› åº§ä¸Šçš„ç­‰ä½åŸºå› è¶Šå•ä¸€ï¼ŒMAFå¤ªä½çš„ä½ç‚¹è´¡çŒ®çš„ä¿¡æ¯å¾ˆå°‘ï¼Œä¸ä¸è¡¨å‹åšå…³è”åˆ†æã€‚ 1234567# è¿‡æ»¤MAFå°äº0.05çš„SNPï¼Œé‡æ–°ç”Ÿæˆ.bedã€.binå’Œ.famæ–‡ä»¶## --make-bed åˆ›å»ºPLINK1äºŒè¿›åˆ¶æ–‡ä»¶é›†plink --bfile Course_GWAS --maf 0.05 --make-bed --out Course_GWAS_maf0.05# é‡æ–°å°†ä¸‰ä¸ªè¿‡æ»¤åçš„æ–‡ä»¶è½¬åŒ–æˆvcfæ–‡ä»¶## --recode åˆ›å»ºæ–°æ–‡ä»¶é›†ï¼Œå¯é€‰æ ¼å¼&#x27;vcf&#x27;ï¼Œ&#x27;vcf-fid&#x27;ï¼Œå’Œ&#x27;vcf-iid&#x27;plink --bfile Course_GWAS_maf0.05 --recode vcf-iid --out GWAS_vcf å¯ä»¥é€šè¿‡æŸ¥çœ‹è¿‡æ»¤å‰åçš„bimæ–‡ä»¶ï¼Œç»Ÿè®¡è¿‡æ»¤äº†å¤šå°‘ä½ç‚¹ï¼ˆplinkè½¯ä»¶åœ¨å±å¹•ä¸Šçš„æ ‡å‡†è¾“å‡ºä¹Ÿä¼šæ˜¾ç¤ºï¼‰ï¼š 123456789101112131415161718192021222324# plinkè¾“å‡ºç»“æœPLINK v2.00a5LM 64-bit Intel (7 Jun 2023) www.cog-genomics.org/plink/2.0/(C) 2005-2023 Shaun Purcell, Christopher Chang GNU General Public License v3Logging to Course_GWAS_maf0.05.log.Options in effect: --bfile Course_GWAS --maf 0.05 --make-bed --out Course_GWAS_maf0.05Start time: Tue Jun 20 14:38:58 20231837 MiB RAM detected, ~914 available; reserving 850 MiB for main workspace.Using up to 2 compute threads.216 samples (0 females, 0 males, 216 ambiguous; 216 founders) loaded fromCourse_GWAS.fam.10000 variants loaded from Course_GWAS.bim.Note: No phenotype data present.Calculating allele frequencies... done.3030 variants removed due to allele frequency threshold(s)(--maf/--max-maf/--mac/--max-mac).6970 variants remaining after main filters.Writing Course_GWAS_maf0.05.fam ... done.Writing Course_GWAS_maf0.05.bim ... done.Writing Course_GWAS_maf0.05.bed ... done. éœ€è¦æ³¨æ„ä¸‹æˆ‘è¿™é‡Œä½¿ç”¨çš„è¡¨å‹æ•°æ®éƒ½æ˜¯å¤„ç†å¥½çš„ï¼Œæ‰€ä»¥åªå¯¹åŸºå› å‹æ•°æ®åšè¿‡æ»¤å°±è¡Œï¼Œå¦‚æœè‡ªå·±æœ‰è¡¨å‹æ•°æ®è¿˜è¦åšä¸€ä¸‹è¡¨å‹æ•°æ®æ¸…æ´—ï¼Œæ¯”å¦‚åˆ é™¤å¼‚å¸¸å€¼ç­‰ç­‰ã€‚ ç”Ÿæˆçš„GWAS_vcf.vcfç”¨äºä¸‹ä¸€æ­¥å…³è”åˆ†æã€‚ 3. å…³è”åˆ†æï¼ˆä½¿ç”¨TASSEL5ï¼‰PLINKè½¯ä»¶ä¹Ÿå¯ä»¥åšå…³è”åˆ†æï¼Œç½‘ä¸Šä¹Ÿèƒ½æ‰¾åˆ°ä¸€æŠŠæ•™ç¨‹ï¼Œä½†æ˜¯PLINKåªèƒ½åšGLMæ¨¡å‹çš„å…³è”åˆ†æï¼Œç°åœ¨æ–‡çŒ®ä¸­ç”¨çš„æ¯”è¾ƒå¤šçš„è½¯ä»¶æ˜¯TASSEL5ï¼Œæ¥ä¸‹æ¥æ¼”ç¤ºç”¨å‘½ä»¤è¡Œçš„Tassel Pipelineåšå…³è”åˆ†æã€‚ 3.1 è®¡ç®—äº²ç¼˜å…³ç³»çŸ©é˜µ12345678# -Xmx10G æ§åˆ¶æœ€å¤§å †ï¼ˆheap sizeï¼‰çš„å¤§å°ä¸º10G# -importGuess ä½¿ç”¨Tasselçš„importGuesså‡½æ•°è½½å…¥æ–‡ä»¶# -KinshipPlugin è°ƒç”¨äº²ç¼˜å…³ç³»çŸ©é˜µæ’ä»¶ï¼Œä¸ -endPlugin è”ç”¨# -method è¿™é‡ŒæŒ‡å®šè®¡ç®—IBSäº²ç¼˜å…³ç³»çŸ©é˜µ# -export æŒ‡å®šè¾“å‡ºæ–‡ä»¶ï¼Œè¾“å‡ºæ–‡ä»¶ç±»å‹ä¸inputæ•°æ®æœ‰å…³ï¼Œæ¯”å¦‚åŸºå› å‹è¡¨é»˜è®¤Hapmapæ ¼å¼ï¼Œè·ç¦»çŸ©é˜µé»˜è®¤SqrMatrix# -exportType æŒ‡å®šè¾“å‡ºæ–‡ä»¶ç±»å‹ï¼Œæœ‰Hapmap, HDF5, VCF, Plink, SqrMatrixç­‰ç­‰perl /opt/TASSEL5/run_pipeline.pl -Xmx10G -importGuess GWAS_vcf.vcf -KinshipPlugin -method Centered_IBS -endPlugin -export kinship.txt -exportType SqrMatrix ç”Ÿæˆçš„216ä¸ªæ ·æœ¬çš„äº²ç¼˜å…³ç³»çŸ©é˜µkinship.txtå¦‚ä¸‹ï¼š 3.2 ä¸»æˆåˆ†åˆ†æ123456# -fork&lt;id&gt; ç”¨äºåŒºåˆ†ä¸åŒçš„pipelineï¼Œä»£è¡¨ä¸€ä¸ªpipelineçš„èµ·å§‹ï¼Œåé¢å¯ä»¥æ˜¯æ•°å­—æˆ–è€…å­—ç¬¦ï¼ˆéç©ºæ ¼ï¼‰# -PrincipalComponentsPlugin è°ƒç”¨ä¸»æˆåˆ†åˆ†ææ’ä»¶ï¼ŒåŒæ ·å’Œ -endPlugin è”ç”¨# -covariance true è®¡ç®—åæ–¹å·®çŸ©é˜µï¼ˆç”¨æ¥è¯†åˆ«ä¸»æˆåˆ†ï¼‰ï¼Œä¸¤ç§æ–¹æ³•ï¼Œç›¸å…³ç³»æ•°(correlation)æˆ–è€…åæ–¹å·®(covariance)# -runfork&lt;id&gt; è¿™ä¸ªå‚æ•°å·²ç»å¯ä»¥ä¸éœ€è¦äº†ï¼Œpipelineä¼šè‡ªåŠ¨æ‰§è¡Œéœ€è¦çš„forkperl /opt/TASSEL5/run_pipeline.pl -fork1 -importGuess GWAS_vcf.vcf -PrincipalComponentsPlugin -covariance true -endPlugin -export pca -runfork1 é»˜è®¤æƒ…å†µä¸‹ä¼šç”Ÿæˆçš„PCAç»“æœä¸»è¦å±•ç¤ºå‰5ä¸ªä¸»æˆåˆ†ï¼Œä¸”è¿™ä¸€æ­¥ä¼šç”Ÿæˆä¸‰ä¸ªtxtæ–‡ä»¶ï¼ŒPCAç»“æœå±•ç¤ºåœ¨ç¬¬ä¸€ä¸ªæ–‡ä»¶pca1.txtï¼š 3.3 å¯è§†åŒ–äº²ç¼˜å…³ç³»çŸ©é˜µå’ŒPCAç»“æœï¼ˆç¾¤ä½“ç»“æ„åˆ†æï¼‰åœ¨æ‹¿åˆ°è¿™ä¸¤ä¸ªçŸ©é˜µä¹‹åå°±å¯ä»¥é€šè¿‡Rå¯è§†åŒ–ç»“æœï¼Œé¦–å…ˆæ˜¯äº²ç¼˜å…³ç³»çŸ©é˜µçƒ­å›¾ï¼š 1234567891011library(data.table)kinship = fread(&quot;kinship.txt&quot;,skip = 3) # å‰3è¡Œä¸ç”¨è¯»å…¥setDF(kinship) # å°†data.tableæ ¼å¼è½¬åŒ–æˆdata.frameæ ¼å¼row.names(kinship) = kinship$V1kinship$V1 = NULL colnames(kinship) = row.names(kinship) # ç¬¬ä¸€åˆ—åšè¡Œåï¼Œåˆ é™¤ç¬¬ä¸€åˆ—ï¼Œè¡Œåè®¾ç½®ä¸ºåˆ—å kinship = as.matrix(kinship) # è½¬æˆçŸ©é˜µæ ¼å¼pdf(&quot;kinship.pdf&quot;)heatmap(kinship,labRow=F,labCol=F) # ç»˜åˆ¶çƒ­å›¾ï¼Œä¸åœ¨è¡Œå’Œåˆ—ä¸Šæ˜¾ç¤ºæ ‡ç­¾dev.off() ç”¨é¢œè‰²æ·±æµ…ä¸åŒè¡¨ç¤ºæ¯ä¸ªæ ·æœ¬ä¹‹é—´çš„äº²ç¼˜å…³ç³»è¿œè¿‘ï¼Œé¢œè‰²è¶Šæ·±äº²ç¼˜å…³ç³»è¶Šè¿‘ã€‚ PCAç»“æœä½œå›¾ï¼š 123456789library(data.table)library(ggplot2)pca_re = fread(&quot;pca1.txt&quot;,skip = 2)plot = ggplot(pca_re, aes(x=PC1, y=PC2)) + geom_point(size=2) + geom_hline(yintercept = 0) + # æ·»åŠ xåæ ‡ geom_vline(xintercept = 0) + # æ·»åŠ yåæ ‡ theme_bw()ggsave(plot =plot, filename=&quot;2D-PCA.pdf&quot;) # ä»¥ç¬¬ä¸€ä¸»æˆåˆ†ä¸ºXè½´ï¼Œç¬¬äºŒä¸»æˆåˆ†ä¸ºyè½´ä½œå›¾å³å¯ è¿™é‡Œçš„ç¾¤ä½“ç»“æ„å·®å¼‚æœ‰ä½†ä¸èƒ½å¾ˆå¥½åˆ†ç±»ã€‚å¦‚æœåšç¾¤ä½“ç»“æ„åˆ†æçš„æ—¶å€™å¯ä»¥åˆ†æˆæ˜æ˜¾çš„å‡ ä¸ªä¸åŒçš„éƒ¨åˆ†ï¼Œé‚£å°±è¦è€ƒè™‘åç»­åšGWASåˆ†æè¿‡ç¨‹ä¸­è¦è€ƒè™‘ç¾¤ä½“ç»“æ„çš„åˆ†å±‚é—®é¢˜äº†ã€‚è¿™é‡Œæˆ‘ä»¬åªæ˜¯æ‹¿éƒ¨åˆ†æ•°æ®è·‘ä¸ªç®€å•çš„æµç¨‹ï¼Œç»§ç»­å¾€ä¸‹ã€‚ 3.4 åŸºäºGLMæ¨¡å‹è¿›è¡ŒGWASåˆ†æç°åœ¨åˆ†åˆ«æœ‰äº†å¦‚ä¸‹çš„åŸºå› å‹æ•°æ®ï¼ˆGWAS_vcf.vcfï¼‰ã€è¡¨å‹æ•°æ®ï¼ˆphenotype.tassel.txtï¼‰ï¼Œå°±å¯ä»¥ä»¥PCAç»“æœä½œä¸ºåå˜é‡ï¼ŒåŸºäºGLMæ¨¡å‹è¿›è¡ŒGWASåˆ†æï¼š 12345# -excludeLastTrait ç§»é™¤è¡¨å‹æ•°æ®çš„æœ€åä¸€åˆ—ï¼ˆä¸å¤ªæ˜ç™½ä»€ä¹ˆæ„æ€ï¼Ÿå®˜ç½‘è¯´å¯ç”¨äºåˆ é™¤çš„æœ€åä¸€åˆ—ç”¨äºMLMæˆ–GLMçš„ç¾¤ä½“ç»“æ„ï¼‰# -combine&lt;id&gt; ç”¨åœ¨æ–°çš„pipnelineå¼€å¤´ï¼Œå°†å¤šä¸ªæ¥è‡ªä¸åŒpipelineçš„æ•°æ®é›†ç»„åˆåˆ°ä¸€èµ·ï¼Œåé¢ä½¿ç”¨ -input&lt;id&gt; æŒ‡å®šï¼Œä»¥ -intersect ç»“å°¾# -FixedEffectLMPlugin ä½¿ç”¨GLMæ¨¡å‹perl /opt/TASSEL5/run_pipeline.pl -fork1 -importGuess GWAS_vcf.vcf -fork2 -importGuess phenotype.tassel.txt -fork3 -importGuess pca1.txt -excludeLastTrait -combine5 -input1 -input2 -input3 -intersect -FixedEffectLMPlugin -endPlugin -export glm ä¸»è¦ç»“æœä¸ºglm1.txtï¼Œç»“æœå¦‚ä¸‹ï¼š æˆ‘ä»¬ä¸»è¦ç”¨åˆ°çš„æ•°æ®æ˜¯ï¼š ç¬¬ä¸€åˆ—ï¼šè¡¨å‹ ç¬¬äºŒåˆ—ï¼šSNPåç§° ç¬¬ä¸‰åˆ—ï¼šæŸ“è‰²ä½“ç¼–å· ç¬¬å››åˆ—ï¼šå¤„äºæŸ“è‰²ä½“çš„ä½ç½® ç¬¬å…­åˆ—ï¼špå€¼ 3.5 åŸºäºMLMæ¨¡å‹è¿›è¡ŒGWASåˆ†æåœ¨tasselä¸­è¿è¡ŒMLMæ¨¡å‹å’ŒGLMæ¨¡å‹ç›¸ä¼¼ï¼ŒMLMæ¨¡å‹éœ€è¦äº²ç¼˜å…³ç³»çŸ©é˜µæ¥å®šä¹‰ä¸ªä½“ä¹‹é—´çš„å…³ç³»ï¼Œä»¥PCAå’Œkinshipä½œä¸ºåå˜é‡ï¼ŒåŸºäºMLMæ¨¡å‹è¿›è¡ŒGWASåˆ†æï¼š 123# -mlm -mlmVarCompEst P3D -mlmCompressionLevel Optimum ä½¿ç”¨P3Då’Œæœ€ä¼˜æ°´å¹³å‹ç¼©perl /opt/TASSEL5/run_pipeline.pl -fork1 -importGuess GWAS_vcf.vcf -fork2 -importGuess phenotype.tassel.txt -fork3 -importGuess pca1.txt -fork4 -importGuess kinship.txt -combine5 -input1 -input2 -input3 -intersect -combine6 -input5 -input4 -mlm -mlmVarCompEst P3D -mlmCompressionLevel Optimum -export mlm ä¸»è¦ç»“æœä¸ºmlm6.txtï¼ˆå‰5ä¸ªæ˜¯5ä¸ªè¡¨å‹çš„åˆ†ææ•°æ®ï¼‰ï¼Œç»“æœå¦‚ä¸‹ï¼š æˆ‘ä»¬ä¸»è¦ç”¨åˆ°çš„æ•°æ®æ˜¯ï¼š ç¬¬ä¸€åˆ—ï¼šè¡¨å‹ ç¬¬äºŒåˆ—ï¼šSNPåç§° ç¬¬ä¸‰åˆ—ï¼šæŸ“è‰²ä½“ç¼–å· ç¬¬å››åˆ—ï¼šå¤„äºæŸ“è‰²ä½“çš„ä½ç½® ç¬¬ä¸ƒåˆ—ï¼špå€¼ 3.6 è®¡ç®—æ ¸é…¸å¤šæ€æ€§å€¼1vcftools --vcf GWAS_vcf.vcf --site-pi --out pi ç”¨vcftoolså°±å¯ä»¥æ ¹æ®vcfæ–‡ä»¶ç»Ÿè®¡å¹³å‡æ¯ä¸ªä½ç‚¹çš„Ï€å€¼ã€‚ 4. GWASç»“æœå¯è§†åŒ–1234567891011121314151617181920212223242526272829303132# qqmanåŒ…ç»˜åˆ¶æ›¼å“ˆé¡¿å›¾å’Œqqå›¾library(qqman)library(data.table)glm &lt;- fread(&quot;glm1.txt&quot;)[,c(&quot;Trait&quot;,&quot;Marker&quot;,&quot;Chr&quot;,&quot;Pos&quot;,&quot;p&quot;)]names(glm) &lt;- c(&quot;Trait&quot;,&quot;SNP&quot;,&quot;CHR&quot;,&quot;BP&quot;,&quot;P&quot;)mlm &lt;- fread(&quot;mlm6.txt&quot;)[,c(&quot;Trait&quot;,&quot;Marker&quot;,&quot;Chr&quot;,&quot;Pos&quot;,&quot;p&quot;)]mlm &lt;- na.omit(mlm) # éœ€è¦æ³¨æ„mlmç»“æœæ–‡ä»¶æœ‰ä¸€è¡Œæ˜¯NaNå€¼ï¼Œå»é™¤names(mlm) &lt;- c(&quot;Trait&quot;,&quot;SNP&quot;,&quot;CHR&quot;,&quot;BP&quot;,&quot;P&quot;) # è‡ªå®šä¹‰ä½œå›¾å‡½æ•°plot_func &lt;- function(data,trait,model)&#123; pdf(paste(model,&quot;_&quot;,trait,&quot;.manhttan.pdf&quot;,sep = &quot;&quot;), width = 11,height = 6) manhattan(data[Trait==trait,2:5], # æ›¼å“ˆé¡¿å›¾éœ€è¦çš„æ˜¯&quot;SNP&quot;,&quot;CHR&quot;,&quot;BP&quot;,&quot;P&quot;è¿™å‡ åˆ—ä¿¡æ¯ suggestiveline = F, genomewideline = F) # remove the suggestive(Default -log10(1e-5)) and genome-wide(Default -log10(5e-8)) significance linesï¼Œä¹Ÿå°±æ˜¯å»æ‰ä¸¤æ¡é˜ˆå€¼çº¿ dev.off() pdf(paste(model,&quot;_&quot;,trait,&quot;.qq.pdf&quot;,sep = &quot;&quot;)) qqman::qq(data[Trait==trait,]$P) # qqå›¾åªè¦è·å¾—æ¯ä¸ªSNPä½ç‚¹çš„på€¼å°±å¯ä»¥ä½œå›¾ dev.off()&#125;# åŒºåˆ†ä¸‹ä¸åŒè¡¨å‹for (trait in unique(glm$Trait))&#123; plot_func(glm,trait,&quot;glm&quot;)&#125;for (trait in unique(mlm$Trait))&#123; plot_func(mlm,trait,&quot;mlm&quot;)&#125; ç”Ÿæˆå„ä¸ªè¡¨å‹GWASåˆ†æçš„æ›¼å“ˆé¡¿å›¾å’Œqqå›¾ï¼š éšä¾¿æŸ¥çœ‹ä¸€ä¸ªMLMæ¨¡å‹çš„GWASæ›¼å“ˆé¡¿å›¾å’Œqqå›¾ç»“æœï¼š","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¾¤ä½“åŸºå› ç»„å­¦","slug":"ç¾¤ä½“åŸºå› ç»„å­¦","permalink":"http://www.shelven.com/categories/%E7%BE%A4%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"}],"tags":[{"name":"ç¾¤ä½“åŸºå› ç»„å­¦","slug":"ç¾¤ä½“åŸºå› ç»„å­¦","permalink":"http://www.shelven.com/tags/%E7%BE%A4%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"},{"name":"Tassel5","slug":"Tassel5","permalink":"http://www.shelven.com/tags/Tassel5/"},{"name":"Plink","slug":"Plink","permalink":"http://www.shelven.com/tags/Plink/"}]},{"title":"ç¾¤ä½“åŸºå› ç»„å­¦â€”â€”æ¦‚è¿°å’Œå›¾è¡¨è¯¦è§£","slug":"ç¾¤ä½“åŸºå› ç»„å­¦â€”â€”æ¦‚è¿°å’Œå›¾è¡¨è¯¦è§£","date":"2023-06-16T08:47:16.000Z","updated":"2023-06-16T08:57:50.000Z","comments":true,"path":"2023/06/16/a.html","link":"","permalink":"http://www.shelven.com/2023/06/16/a.html","excerpt":"æœ€è¿‘çœ‹ç¾¤ä½“é—ä¼ å­¦çš„æ–‡ç« ï¼Œè‹¦äºä¸èƒ½ç†è§£ç ”ç©¶è€…åšçš„å¦äººçœ¼èŠ±ç¼­ä¹±çš„å›¾è¡¨â€¦â€¦å“ï¼Œè¯¥è¡¥è¡¥åŸºç¡€äº†ã€‚è¿™ç¯‡ç¬”è®°å…ˆä»æ¨Šé¾™æ±Ÿä¸»ç¼–çš„ã€Šæ¤ç‰©åŸºå› ç»„å­¦ã€‹æ•™æå¼€å§‹å­¦ä¹ åŸºç¡€æ¦‚å¿µï¼Œæœ‰éƒ¨åˆ†æ‘˜è‡ªçŸ¥ä¹å’Œä¸€äº›æ–‡çŒ®ï¼ŒåŠ ä¸Šè¿™ä¸ªé¢†åŸŸè®ºæ–‡å›¾è¡¨çš„è§£è¯»å’Œè‡ªå·±çš„ç†è§£åšæ±‡æ€»æ•´ç†ã€‚ä¸‹ä¸€ç¯‡ç¬”è®°è‡ªå·±å®æ“è·‘ä¸€ä¸‹GWASæµç¨‹ã€‚","text":"æœ€è¿‘çœ‹ç¾¤ä½“é—ä¼ å­¦çš„æ–‡ç« ï¼Œè‹¦äºä¸èƒ½ç†è§£ç ”ç©¶è€…åšçš„å¦äººçœ¼èŠ±ç¼­ä¹±çš„å›¾è¡¨â€¦â€¦å“ï¼Œè¯¥è¡¥è¡¥åŸºç¡€äº†ã€‚è¿™ç¯‡ç¬”è®°å…ˆä»æ¨Šé¾™æ±Ÿä¸»ç¼–çš„ã€Šæ¤ç‰©åŸºå› ç»„å­¦ã€‹æ•™æå¼€å§‹å­¦ä¹ åŸºç¡€æ¦‚å¿µï¼Œæœ‰éƒ¨åˆ†æ‘˜è‡ªçŸ¥ä¹å’Œä¸€äº›æ–‡çŒ®ï¼ŒåŠ ä¸Šè¿™ä¸ªé¢†åŸŸè®ºæ–‡å›¾è¡¨çš„è§£è¯»å’Œè‡ªå·±çš„ç†è§£åšæ±‡æ€»æ•´ç†ã€‚ä¸‹ä¸€ç¯‡ç¬”è®°è‡ªå·±å®æ“è·‘ä¸€ä¸‹GWASæµç¨‹ã€‚ 1. ç¾¤ä½“åŸºå› ç»„å­¦æ¦‚è¿°ç¾¤ä½“åŸºå› ç»„å­¦ï¼Œå°†åŸºå› ç»„æ•°æ®å’ŒæŠ€æœ¯ä¸ç¾¤ä½“é—ä¼ å­¦ç†è®ºä½“ç³»ç»“åˆï¼Œé€šè¿‡è¦†ç›–å…¨åŸºå› ç»„èŒƒå›´çš„å¤šæ€æ€§æ¨æµ‹å…¨åŸºå› ç»„æ•ˆåº”å’Œä½ç‚¹ç‰¹å¼‚æ€§æ•ˆåº”ã€‚è¯´äººè¯ï¼Œè¿™é—¨å­¦ç§‘çš„ä½œç”¨å°±æ˜¯é€šè¿‡æ£€æµ‹SNPç­‰çš„ä¿¡æ¯æ¥å›ç­”å…³äºç‰©ç§èµ·æºã€è¿›åŒ–ä»¥åŠç¯å¢ƒé€‚åº”çš„åˆ†å­æœºåˆ¶ã€‚ ç¾¤ä½“åŸºå› ç»„ç ”ç©¶çš„åŸºç¡€æ˜¯é«˜è´¨é‡çš„ç¾¤ä½“åŸºå› å‹æ•°æ®ï¼Œåœ¨è·å¾—ç¾¤ä½“åŸå§‹æµ‹åºæ•°æ®åï¼Œå¦‚ä½•é«˜æ•ˆå‡†ç¡®çš„è¿›è¡Œå˜å¼‚æ£€æµ‹å’Œç¾¤ä½“åŸºå› åˆ†å‹æ˜¯åç»­ç ”ç©¶çš„å…³é”®ï¼ˆå› ä¸ºè¦ç”¨åˆ°å¤§é‡çš„æµ‹åºæ•°æ®ï¼Œæ‰€ä»¥ä¹Ÿå¾ˆçƒ§é’±ï¼‰ã€‚ å˜å¼‚æ£€æµ‹çš„æµç¨‹å¯åˆ†ä¸ºæ•°æ®è´¨æ§â€”â€”è¯»åºè”é…â€”â€”å˜å¼‚æ£€æµ‹â€”â€”åŸºå› åˆ†å‹ ä¸Šå›¾çš„bamæ–‡ä»¶é€šè¿‡è½¯ä»¶GATKæ£€æµ‹ç»“æ„å˜å¼‚æˆ–è€…SNPå°±æ˜¯å˜å¼‚æ£€æµ‹ï¼Œè¿™éƒ¨åˆ†å†…å®¹æˆ‘å‰é¢ç»„è£…ä¸‰ä»£åŸºå› ç»„æµ‹åºæ•°æ®ä¸­ä½¿ç”¨è¿‡ï¼Œå› ä¸ºæˆ‘åªæœ‰ä¸€ä¸ªäºŒå€ä½“åŸºå› ç»„ï¼Œæ‰€ä»¥å½“æ—¶ä¹Ÿæ²¡ç”¨åˆ°åŸºå› åˆ†å‹ï¼ŒGATKç”¨æ³•å¯ä»¥çœ‹æˆ‘çš„è¿™ç¯‡ç¬”è®°ï¼š 0åŸºç¡€å­¦ä¹ ä¸‰ä»£åŸºå› ç»„æµ‹åºç»„è£…ï¼ˆ9ï¼‰â€”â€”GATKæ£€æµ‹æ¤ç‰©åŸºå› ç»„SNPå’ŒINDELå˜å¼‚ - æˆ‘çš„å°ç ´ç«™ (shelven.com) 2. ç¾¤ä½“åŸºå› ç»„è¿›åŒ–åˆ†ææ–¹æ³•2.1 ç¾¤ä½“ç³»ç»Ÿå‘ç”Ÿæ ‘å’Œç¾¤ä½“ç»“æ„ç¾¤ä½“å‘ç”Ÿæ ‘åæ˜ ç‰¹å®šç¾¤ä½“ä¸­ä¸ªä½“é—´äº²ç¼˜å…³ç³»ã€‚ä¸€èˆ¬æˆ‘ä»¬åšè¿›åŒ–æ ‘éƒ½æ˜¯ç”¨å•æ‹·è´åŸºå› ï¼Œè€Œåšç¾¤ä½“ç ”ç©¶æ„å»ºè¿›åŒ–æ ‘ç”¨äº†æ•´ä¸ªåŸºå› ç»„æ•°æ®ä¿¡æ¯ï¼ˆæ¯”å¦‚å…¨åŸºå› ç»„SNPã€Indelã€SVç­‰ï¼‰ï¼Œèƒ½ä¸€å®šç¨‹åº¦æŠµæ¶ˆæ¨ªå‘åŸºå› è½¬ç§»å’Œå•ä¸ªåŸºå› é€Ÿç‡å·®å¼‚å¸¦æ¥çš„åˆ†æè¯¯å·®ï¼Œæ¯”å•åŸºå› æ„å»ºçš„ç»“æœæ›´æ¥è¿‘çœŸå®è¿›åŒ–å…³ç³»ã€‚å…¨åŸºå› ç»„SNPæ„å»ºè¿›åŒ–æ ‘ï¼ˆä¸€èˆ¬æ˜¯æŠŠSNP mergeåˆ°ä¸€èµ·ï¼‰ï¼Œä¸ªä½“é—´ä¸¤ä¸¤æ¯”è¾ƒï¼Œæ ¹æ®SNPå·®å¼‚è®¡ç®—ä¸ªä½“å·®å¼‚è·ç¦»ï¼Œæ„å»ºç¾¤ä½“å·®å¼‚çŸ©é˜µã€‚è½¯ä»¶æœ‰MEGAã€PHYLIPã€FastTreeç­‰ã€‚ è¿˜æœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼šç¾¤ä½“é—ä¼ ç»“æ„ï¼ŒæŒ‡åŸºå› å‹æˆ–è€…åŸºå› åœ¨ç©ºé—´å’Œæ—¶é—´ä¸Šçš„åˆ†å¸ƒæ¨¡å¼ï¼ŒåŒ…æ‹¬ç§ç¾¤å†…çš„é—ä¼ å˜å¼‚å’Œç§ç¾¤é—´çš„é—ä¼ åˆ†åŒ–ã€‚ç§ç¾¤é—ä¼ ç»“æ„åæ˜ ç‰©ç§è¿›åŒ–å†å²ä¸­çš„ä¸€äº›ç‰¹æ®Šè¿›åŒ–äº‹ä»¶ï¼Œè½¯ä»¶æœ‰Structureã€Frappeç­‰ã€‚æ€»ä½“æµç¨‹ç¡®å®šäºšç¾¤æ•°ï¼ˆKï¼‰ï¼Œç„¶åè®¡ç®—å„ä¸ªä½“å½’å±ç¬¬Käºšç¾¤çš„æ¦‚ç‡Qå€¼ã€‚ä»¥åŠä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰ä¹Ÿå¸¸ç”¨äºç¾¤ä½“ç»“æ„åˆ’åˆ†ã€‚ ä¸Šå›¾æ˜¯åå†œç‹èŒ‚å†›è€å¸ˆè¯¾é¢˜ç»„åšçš„ä¸åŒäºŒå€ä½“æ£‰èŠ±çš„ç‰©ç§å‘ç”Ÿæ ‘å’Œç¾¤ä½“ç»“æ„ã€‚ 2.2 ç¾¤ä½“é—ä¼ åˆ†åŒ–2.2.1 å›ºå®šç³»æ•° Fståœ¨æ˜ç¡®ä¸€ä¸ªç‰©ç§å­˜åœ¨ç¾¤ä½“ç»“æ„åï¼Œé€šäº§éœ€è¦é‡åŒ–è¯¥ç‰©ç§äºšç¾¤é—´çš„åˆ†åŒ–ç¨‹åº¦ã€‚å›ºå®šç³»æ•°ï¼ˆFstï¼‰åæ˜ ç¾¤ä½“ç­‰ä½åŸºå› æ‚åˆæ€§æ°´å¹³ï¼ŒFstè¶Šå¤§ï¼Œç§ç¾¤é—´é—ä¼ åˆ†åŒ–ç¨‹åº¦è¶Šå¤§ã€‚ Fst&#x3D; (Ht-Hsï¼‰&#x2F;HtHs:äºšç¾¤ä½“ä¸­çš„å¹³å‡æ‚åˆåº¦Ht:å¤åˆç¾¤ä½“ä¸­çš„å¹³å‡æ‚åˆåº¦ 2.2.2 æ ¸é…¸å¤šæ€æ€§ ğ…åšç¾¤ä½“çš„æ–‡çŒ®ä¸­ç»å¸¸å‡ºç°è¿™ä¸ªæŒ‡æ ‡ç±»ä¼¼ğ…é‡ç”Ÿ/ğ…æ ½åŸ¹è¿™æ ·çš„ç³»æ•°ï¼Œæ ¸é…¸å¤šæ€æ€§ï¼ˆNucleotide diversityï¼‰æ˜¯ç”¨äºè¡¡é‡ç¾¤ä½“çš„å¤šæ€æ€§çš„ï¼Œä¸ºç¾¤ä½“å†…å¹³å‡æ¯ä¸¤ä¸ªæ ·æœ¬æ¯ä¸ªä½ç‚¹çš„å·®å¼‚æ ¸è‹·é…¸æ•°é‡ã€‚ä¸€èˆ¬ç§°ä¸ºğ…ï¼Œè‡ªç„¶ç¾¤ä½“å¤šæ€æ€§ä¸€èˆ¬é«˜äºæ ½åŸ¹ç¾¤ä½“ã€‚ éœ€è¦æ³¨æ„ä¸‹è¿™ä¸ªğ…çš„å•ä½ï¼Œä¸€èˆ¬éƒ½åœ¨ 10^(-3) è¿™ä¸ªæ•°é‡çº§ã€‚ è¿™äº›ç¾¤ä½“åˆ†åŒ–çš„ç›¸å…³ç³»æ•°è®¡ç®—å¯ä»¥ç”¨è½¯ä»¶Arlequinã€FSTATã€VCFtoolsç­‰ã€‚ 2.3 åŸºå› æµï¼ˆæ¸æ¸—ï¼‰åŸºå› æµï¼ˆä¹Ÿç§°ä¸ºåŸºå› è¿ç§»ï¼‰æŒ‡ä»ä¸€ä¸ªç‰©ç§çš„ä¸€ä¸ªç§ç¾¤å‘å¦ä¸€ä¸ªç§ç¾¤å¼•å…¥é—ä¼ ç‰©è´¨ï¼Œä»è€Œæ”¹å˜ç¾¤ä½“çš„é—ä¼ ç»„æˆã€‚ å½“ä¸€ä¸ªç§ç¾¤ä¸­çš„ä¸€ä¸ªä¸ªä½“è¿ç§»åˆ°å¦ä¸€ä¸ªç¾¤ä½“ï¼Œå°±ä¼šæŠŠåŸºå› å¸¦åˆ°æ–°çš„ç¾¤ä½“ï¼Œä¹Ÿå°±æ˜¯äº§ç”Ÿâ€œåŸºå› çš„æµåŠ¨â€ã€‚åŸºå› æµè¶Šå¤§ï¼Œç¾¤ä½“é—´çš„ç›¸ä¼¼æ€§è¶Šå¤§ï¼Œä¼šå¯¼è‡´ç¾¤ä½“é—´åŸºå› é¢‘ç‡å’ŒåŸºå› å‹é¢‘ç‡å‘ˆç°å“ˆè¿ª-æ¸©ä¼¯æ ¼å¹³è¡¡ï¼ˆåœ¨ä¸€ä¸ªéšæœºäº¤é…çš„å¤§ç¾¤ä½“ä¸­ï¼Œæ²¡æœ‰çªå˜ã€é€‰æ‹©ç­‰å¤–ç•Œç¯å¢ƒå› ç´ çš„å½±å“ï¼ŒåŸºå› é¢‘ç‡å’ŒåŸºå› å‹é¢‘ç‡ä¸–ä»£æ’å®šï¼‰ã€‚ è‡ªç„¶é€‰æ‹©å’Œé—ä¼ æ¼‚å˜ä¼šä½¿ç¾¤ä½“ä¹‹é—´çš„å·®å¼‚å¢åŠ ï¼Œè€ŒåŸºå› æµçš„ä½œç”¨æ˜¯â€œå¼±åŒ–â€ç¾¤ä½“é—´çš„é—ä¼ å·®å¼‚ï¼Œç¾¤ä½“ä¹‹é—´è¶‹äºä¸€è‡´ã€‚åœ¨æ¤ç‰©ä¸­ï¼Œç§å­æ‰©æ•£å’ŒèŠ±ç²‰ä¼ æ’­æ˜¯æ¤ç‰©åŸºå› æµçš„æœ€ä¸»è¦æ–¹å¼ã€‚ä»ä¸Šé¢çš„æè¿°ä¹Ÿèƒ½çœ‹å‡ºï¼ŒåŸºå› æµä¸Fstæˆåæ¯”ï¼›ä¸ç§ç¾¤é—´åœ°ç†è·ç¦»æˆåæ¯”ã€‚æ£€æµ‹æ–¹æ³•ä¸»è¦æœ‰D-ç»Ÿè®¡ï¼ˆABBA-BABAï¼‰ã€Treemixã€Migrate-Nç­‰ã€‚ 2.4 ç§ç¾¤åŠ¨æ€å’Œè¿›åŒ–å†å²ç§ç¾¤åŠ¨æ€æŒ‡ç§ç¾¤å¤§å°æˆ–å¯†åº¦éšæ—¶é—´æˆ–ç©ºé—´çš„å˜åŒ–ã€‚ æœ‰æ•ˆç¾¤ä½“å¤§å°ï¼ˆNeï¼‰æŒ‡ä¸å®é™…ç¾¤ä½“æœ‰ç›¸åŒåŸºå› é¢‘ç‡æ–¹å·®æˆ–è€…ç›¸åŒæ‚åˆåº¦è¡°å‡ç‡çš„ç†æƒ³ç¾¤ä½“å«é‡ï¼Œé€šå¸¸å°äºç»å¯¹ç¾¤ä½“å¤§å°ï¼Œå†³å®šç¾¤ä½“å¹³å‡è¿‘éƒŠç³»æ•°å¢é‡å¤§å°ï¼Œåæ˜ ç¾¤ä½“é—ä¼ ç»“æ„ä¸­åŸºå› çš„å¹³å‡çº¯å’Œé€Ÿåº¦ã€‚ç§ç¾¤åŠ¨æ€ç†è®ºä¸æ–¹æ³•ä¸»è¦åŒ…æ‹¬ç§ç¾¤å¤§å°åŠå…¶å˜åŒ–ã€ç§ç¾¤ç”Ÿé•¿æ¨¡å¼çš„é‡åŒ–æè¿°ï¼Œä»¥åŠå¼•èµ·ç§ç¾¤å˜åŒ–çš„å¤–åœ¨ç¯å¢ƒå› ç´ ã€‚åŸºäºå…¨åŸºå› ç»„çš„ç§ç¾¤å†å²åŠ¨æ€åˆ†ææ–¹æ³•ä¸»è¦æœ‰PSMCã€MSMCç­‰ã€‚ ä¸Šå›¾å±•ç¤ºäº†ä¸åŒåœ°ç†æ¥æºçš„æ‹Ÿå—èŠ¥çš„æœ‰æ•ˆç¾¤ä½“å¤§å°å˜åŒ–ã€‚å¯ä»¥çœ‹åˆ°æ‹Ÿå—èŠ¥åœ¨9ä¸‡ï½12ä¸‡å¹´å‰ï¼Œç”±ç¥–å…ˆç¾¤ä½“åœ¨éæ´²å¼€å§‹åˆ†ç¦»å½¢æˆäºšç¾¤ã€‚æ¬§äºšç¥–å…ˆç¾¤ä½“åœ¨ 8 ä¸‡å¹´å‰ä»éæ´²åˆ†åŒ–å½¢æˆï¼Œç„¶åæ¬§äºšæ‹Ÿå—èŠ¥ç¾¤ä½“åœ¨4ä¸‡å¹´å‰è¿›ä¸€æ­¥åˆ†åŒ–ã€‚è¿™ä¸€æ¨¡å¼ä¸åŒ…æ‹¬äººç±»åœ¨å†…çš„å¤šç§ç‰©ç§åˆ†åŒ–æ—¶é—´æ¨¡å¼éå¸¸ç›¸ä¼¼ï¼Œè¿™æ„å‘³ç€é—´å†°æœŸå’Œæ´ªç§¯ä¸–æ—¶æœŸï¼ˆå³9ä¸‡ï½12ä¸‡å¹´å‰ï¼‰çš„æ°”å€™äº‹ä»¶å¯¹ç‰©ç§åˆ†å¸ƒååˆ†é‡è¦ã€‚ 3. åŸºå› ç»„é€‰æ‹©ä¿¡å·è‡ªç„¶ç¾¤ä½“åŒºåˆ«äºæ ½åŸ¹ç¾¤ä½“çš„æœ€å¤§ç‰¹å¾æ˜¯ä¸°å¯Œçš„é—ä¼ å¤šæ ·æ€§ã€‚è‰æœ¬ä½œç‰©ç¥–å…ˆè‡ªç„¶ç¾¤ä½“å¤šæ€æ€§ï¼ˆğ…ï¼‰ä¸€èˆ¬åœ¨ 0.003~0.008ï¼Œé«˜äºç›¸åº”çš„é©¯åŒ–ä½œç‰©é—ä¼ å¤šæ€æ€§ã€‚ é—ä¼ ç“¶é¢ˆæ•ˆåº”ï¼šç”±äºç¯å¢ƒéª¤å˜æˆ–äººç±»æ´»åŠ¨ï¼ŒæŸä¸€ç”Ÿç‰©ç§ç¾¤çš„è§„æ¨¡è¿…é€Ÿå‡å°‘ï¼Œä»…æœ‰å°‘éƒ¨åˆ†ä¸ªä½“èƒ½å¤Ÿé¡ºåˆ©é€šè¿‡ç“¶é¢ˆäº‹ä»¶ï¼Œä¹‹åå¯èƒ½ç»å†ä¸€æ®µæ¢å¤æœŸå¹¶äº§ç”Ÿå¤§é‡åä»£ã€‚ç”±äºè¿é”ä¸å¹³è¡¡ï¼ˆLDï¼‰çš„ä½œç”¨ï¼Œä¸ä»…ä»…æ˜¯é©¯åŒ–åŸºå› çš„å¤šæ€æ€§é™ä½ï¼Œå…¶ä¾§ç¿¼åŒºåŸŸé—ä¼ å¤šæ ·æ€§ä¹Ÿä¼šé™ä½ã€‚ æœ‰å®³æ€§çªå˜ï¼ˆdeleterious SNPï¼ŒdSNPï¼‰æŒ‡å¯¼è‡´ç”Ÿç‰©ä¸ªä½“çš„æ•´ä½“é€‚åˆåº¦ï¼ˆfitnessï¼‰å‡ä½çš„çªå˜ã€‚æ¤ç‰©è¢«é©¯åŒ–çš„è¿‡ç¨‹ä¸­ï¼ŒåŸºå› ç»„ä¸Šæœ‰å®³çªå˜çš„æ•°é‡ã€é¢‘ç‡ä¼šä¸æ–­å¢åŠ å’Œç´¯ç§¯ï¼Œå¯¼è‡´é©¯åŒ–åçš„ä½œç‰©åœ¨åŸæœ¬è‡ªç„¶ç¯å¢ƒä¸­é€‚åˆåº¦é™ä½ï¼Œç§°ä¸ºä½œç‰©çš„â€œé©¯åŒ–æˆæœ¬â€ã€‚ åœ¨ä½œç‰©ç¾¤ä½“åŸºå› ç»„ä¸­ï¼Œä¸€ä¸ªæ˜æ˜¾çš„ç‰¹å¾æ˜¯å­˜åœ¨å¤§é‡æ¥è‡ªé‡ç”Ÿç¥–å…ˆç§çš„é—ä¼ æ¸æ¸—ã€‚æ¥è‡ªé‡ç”Ÿç¾¤ä½“çš„åŸºå› æ¸—å…¥å¯ä»¥æœ‰æ•ˆå¢åŠ æ ½åŸ¹ç§çš„ç¯å¢ƒé€‚åº”æ€§ã€‚ é€‰æ‹©åˆ†æå¯ä»¥åœ¨å®è§‚å’Œå¾®è§‚ä¸¤ä¸ªå°ºåº¦ä¸‹è¿›è¡Œé€‰æ‹©åŸºå› å’Œä¿¡å·é‰´å®šã€‚ 3.1 å®è§‚è¿›åŒ–å°ºåº¦ å®è§‚è¿›åŒ–å°ºåº¦ åŸºäºåŸºå› ï¼šKa&#x2F;Ksï¼ˆéåŒä¹‰æ›¿æ¢æ¯”åŒä¹‰æ›¿æ¢ï¼‰ã€MKTæ£€éªŒï¼ˆæ¯”è¾ƒç‰©ç§å†…å’Œç‰©ç§é—´çš„Ka&#x2F;Kså€¼ï¼‰ åŸºäºè¿›åŒ–é€Ÿç‡ï¼šHKA å®è§‚å°ºåº¦æ£€æµ‹é€‰æ‹©ä¿¡å·çš„æ–¹æ³•ï¼Œé€šå¸¸åœ¨äº²ç¼˜å…³ç³»ç›¸è¿‘çš„ç‰©ç§ä¹‹é—´è¿›è¡ŒåŒæºåŸºå› åºåˆ—çš„æ¯”è¾ƒï¼Œåˆ¤æ–­åŸºå› æ˜¯å¦åœ¨æŸä¸€ç‰©ç§æˆ–è¿›åŒ–åˆ†æ”¯ä¸Šå­˜åœ¨åŠ é€Ÿè¿›åŒ–çš„æƒ…å†µã€‚ åˆ¤æ–­åŠ é€Ÿè¿›åŒ–çš„èƒŒæ™¯æŒ‡æ ‡æ˜¯Ka&#x2F;Ksï¼Œæ¯”è¾ƒæ¯ä¸ªä½ç‚¹åŒºåŸŸä¸­éåŒä¹‰æ›¿æ¢ç‡ä¸æ¯ä¸ªä½ç‚¹çš„åŒä¹‰æ›¿æ¢ç‡ã€‚åŒä¹‰çªå˜æ€»ä½“æ˜¯ä¸­æ€§è¿›åŒ–çš„ï¼ˆä¸­æ€§åŸºå‡†ï¼‰ï¼Œå¦‚æœå­˜åœ¨è¿‡å¤šçš„éåŒä¹‰çªå˜æ„å‘³ç€å­˜åœ¨å€¾å‘äºè›‹ç™½åºåˆ—æ”¹å˜çš„æ­£å‘é€‰æ‹©ï¼ˆæ­£é€‰æ‹©è¡¨ç°ä¸ºå›ºå®šæŸç§æœ‰åˆ©ç­‰ä½åŸºå› ï¼Œè´Ÿé€‰æ‹©è¡¨ç°ä¸ºæ¸…é™¤ä¸åˆ©çš„ç­‰ä½åŸºå› ï¼‰ã€‚MKTæ£€éªŒæœ¬è´¨æ˜¯æ¯”è¾ƒç‰©ç§å†…å’Œç‰©ç§é—´çš„Ka&#x2F;Kså€¼ï¼Œä¸­æ€§æƒ…å†µä¸‹ç›¸ç­‰ï¼Œå¦‚æœç‰©ç§é—´çš„æ¯”å€¼æ˜¾è‘—é«˜äºç‰©ç§å†…æ¯”å€¼ï¼Œæ„å‘³ç€ç‰©ç§ä¸­å­˜åœ¨æ­£å‘é€‰æ‹©ä¿¡å·ï¼Œå¦‚æœæ˜¯åœ¨ä½œç‰©é©¯åŒ–ä¸­ï¼Œå¯èƒ½æ˜¯äººå·¥é€‰æ‹©çš„ä¿¡å·ã€‚ 3.2 å¾®è§‚è¿›åŒ–å°ºåº¦ å¾®è§‚è¿›åŒ–å°ºåº¦ åŸºäºç­‰ä½åŸºå› é¢‘è°±ï¼šTajimaâ€™s D, Fu andLiâ€™sD, Fay and Wuâ€™sH, CLR, Hp åŸºäºè¿é”ä¸å¹³è¡¡ï¼šLRHã€iHSã€è¿é”ä¸å¹³è¡¡è¡°å‡ï¼ˆLDDï¼‰ã€IBDåˆ†æ åŸºäºç¾¤ä½“åˆ†åŒ–ï¼šLKTã€LSBL ç»„åˆæ–¹æ³•ï¼šCLRã€XP-CLRï¼ˆé€‚åˆSNPå¤§æ•°æ®é›†ï¼‰ã€DHæ£€éªŒã€CMS å¾®è§‚å°ºåº¦é‰´å®šæ–¹æ³•ï¼Œåœ¨æ­£å‘é€‰æ‹©çš„ä½œç”¨ä¸‹ï¼Œæœ‰åˆ©ç­‰ä½åŸºå› åœ¨ç¾¤ä½“ä¸­é¢‘ç‡ä¼šå˜é«˜ç”šè‡³å›ºå®šã€‚å½“æœ‰åˆ©ç­‰ä½åŸºå› å’Œå‘¨å›´å˜å¼‚è¾¾åˆ°è¾ƒé«˜é¢‘ç‡çš„æ—¶å€™ï¼Œè¿™æ®µåŒºé—´åœ¨ç¾¤ä½“æ°´å“å°±ä¼šå‘ˆç°é—ä¼ å¤šæ€æ€§é™ä½çš„ç°è±¡ï¼Œä¹Ÿå°±æ˜¯é€‰æ‹©æ€§æ¸…é™¤ï¼ˆselective sweepï¼‰ã€‚ æ¯”å¦‚ï¼Œæ ½åŸ¹ç‰©ç§åœ¨é€‰æ‹©æ€§æ¸…é™¤åŒºåŸŸçš„é—ä¼ å¤šæ ·æ€§æ˜¾è‘—é™ä½ï¼Œå°±æ˜¯é©¯åŒ–åŒºåŸŸçš„å…¸å‹ç‰¹å¾ã€‚é€‰æ‹©æ€§æ¸…é™¤è¿˜ä¼šä½¿è¿é”ä¸å¹³è¡¡åŒºå—å»¶é•¿ã€ç¾¤ä½“é—´å›ºå®šæŒ‡æ•°å¢å¤§ã€Tajimaâ€˜s Då€¼ä¸ºè´Ÿä¸”æ˜¾è‘—åç¦»é›¶ã€‚ä¸­æ€§æ¨¡å‹ä¸ºåŸºç¡€çš„æ£€æµ‹æ–¹æ³•å¾ˆå¤šï¼ŒTajimaâ€˜s Dæ£€éªŒæ˜¯æœ€ç»å…¸çš„ã€‚ æ€»ä½“æ¥è¯´ï¼Œé€‰æ‹©ä¿¡å·æ£€æµ‹åŸç†å’Œæ–¹æ³•å¯ä»¥åˆ†ä¸ºä»¥ä¸‹5ç±»ï¼š A åŸºäºç¾¤ä½“å¤šæ€æ€§ã€‚åŸç†ï¼šå—é€‰æ‹©ä½ç‚¹ä¸¤ä¾§åºåˆ—å¤šæ€æ€§å› è¿å¸¦æ•ˆåº”ä¿æŒå¾ˆä½æ°´å¹³ã€‚åœ¨é©¯åŒ–é€‰æ‹©åŒºé—´å†…ï¼Œğ…é‡ç”Ÿ&#x2F;ğ…æ ½åŸ¹çš„å€¼å˜é«˜ã€‚ B åŸºäºç­‰ä½åŸºå› é¢‘è°±ã€‚åŸç†ï¼šæœ‰åˆ©çªå˜ä¸æ–­åœ¨ç¾¤ä½“ä¸­å›ºå®šï¼Œå½“å®Œå…¨å›ºå®šæ—¶ï¼Œå‘¨å›´å¯èƒ½ç”±äºéšæœºçªå˜å‡ºç°ç¨€æœ‰ç­‰ä½åŸºå›  C åŸºäºè¿é”ä¸å¹³è¡¡ã€‚åŸç†ï¼šé€‰æ‹©æ€§æ¸…é™¤ä¼šå¼•èµ·åŒ…å«ç­‰ä½åŸºå› çš„å•å€ä½“çº¯å’Œæ€§æé«˜ï¼Œä¸å‘¨å›´å˜å¼‚çš„è¿é”ä¸å¹³è¡¡ç¨‹åº¦å˜é«˜ã€‚å½“ç¾¤ä½“å¤„äºæ­£å‘é€‰æ‹©ä½œç”¨ä¸‹æ—¶ï¼ŒåŸºå› çªå˜åŠå…¶è¿é”ä½ç‚¹åœ¨æ­£é€‰æ‹©çš„ä½œç”¨ä¸‹ï¼Œåœ¨çŸ­æ—¶é—´å†…ä¼šè¾¾åˆ°è¾ƒé«˜é¢‘ç‡ï¼Œå½¢æˆå¤§ç‰‡æ®µçš„çº¯åˆå•å€å‹ã€‚ D åŸºäºç¾¤ä½“åˆ†åŒ–ã€‚éšç€å—é€‰æ‹©çš„ç­‰ä½åŸºå› é¢‘ç‡ä¸Šå‡ï¼Œå¯¼è‡´ä¸åŸç¾¤ä½“çš„Fstå˜å¤§ã€‚Fstçš„å–å€¼èŒƒå›´ä¸º0-1ï¼Œ1è¡¨ç¤ºç¾¤ä½“é—´å®Œå…¨åˆ†åŒ–çš„ä½ç‚¹ï¼Œ0è¡¨ç¤ºåœ¨ç¾¤ä½“é—´å®Œå…¨æ²¡æœ‰åˆ†åŒ–çš„ä½ç‚¹ã€‚ E ç»„åˆæ–¹æ³•ã€‚ åœ¨æ£€æµ‹é€‰æ‹©ä¿¡å·æ—¶ï¼Œéœ€è¦è€ƒè™‘é—ä¼ æ¼‚ç§»ï¼ˆgenetic driftï¼‰å¯¹é€‰æ‹©ä¿¡å·çš„å½±å“ï¼Œä¸ºäº†é™ä½è¯¥å½±å“ï¼Œé€šå¸¸åœ¨å…¨åŸºå› ç»„æ‰«æçª—å£çš„åŸºç¡€ä¸Šï¼Œä»…è€ƒè™‘æç«¯å€¼ï¼ˆå‰5%ï¼‰åŒºåŸŸä½œä¸ºé€‰æ‹©ä½ç‚¹ï¼ˆè¿™ç‚¹å¾ˆé‡è¦ï¼Œåé¢å®æ“çš„æ—¶å€™ä¼šè¯´ï¼‰ã€‚ é€‰æ‹©ä¿¡å·æ£€æµ‹æ–¹æ³•éƒ½æ˜¯åŸºäºè‡ªä¸‹è€Œä¸Šçš„ï¼Œé€šè¿‡ç¾¤ä½“åŸºå› ç»„æ‰«æé‰´å®šå…·æœ‰é€‰æ‹©ä¿¡å·çš„åŸºå› ç»„åŒºåŸŸï¼Œä»è€ŒæŒ–æ˜å¯èƒ½ä¸æŸç§è¡¨å‹æˆ–è€…é€‚åº”æ€§ç›¸å…³è”çš„åŸºå› ï¼Œå‡é˜³æ€§é«˜ã€‚ ä¹Ÿå¯ä»¥ç”¨è‡ªä¸Šè€Œä¸‹çš„æ–¹æ³•è¿›è¡Œä½è¯ï¼Œæ¯”å¦‚è·å¾—è¯¥ç‰©ç§å¤šä¸ªæ—¶é—´ç‚¹æˆ–è€…å¤šä¸ªä¸–ä»£çš„ç¾¤ä½“åŸºå› ç»„æ•°æ®ï¼Œå°±å¯ä»¥ç›´æ¥æ£€æµ‹è¯¥ä½ç‚¹ç­‰ä½åŸºå› é¢‘ç‡å˜åŒ–åŠ ä»¥éªŒè¯ï¼Œæ¯”å¦‚ç”¨QTLã€GWASç­‰ä¼ ç»Ÿå®šä½æ–¹æ³•ã€‚ 4. è¿é”ä¸å¹³è¡¡ï¼ˆLDï¼‰è¿é”ä¸å¹³è¡¡ç†è®ºå¯¹ç¾¤ä½“ç ”ç©¶éå¸¸é‡è¦ï¼Œå‰é¢è¯´åˆ°åŸºäºè¿é”ä¸å¹³è¡¡çš„åŸç†æ£€æµ‹é€‰æ‹©ä¿¡å·ï¼Œè¿™é‡Œå†åŠ æ·±ä¸€ä¸‹ç†è§£ã€‚ è¿é”ä¸å¹³è¡¡ï¼ˆlinkage disequilibriumï¼ŒLDï¼‰ï¼šåœ¨æŸä¸€ç¾¤ä½“ä¸­ï¼Œä¸¤ä¸ªåŸºå› åŒæ—¶é—ä¼ çš„é¢‘ç‡å¤§äºéšæœºç»„åˆçš„é¢‘ç‡ã€‚ è¿é”ä¸å¹³è¡¡çš„ä¸‰ä¸ªè¡¡é‡æŒ‡æ ‡ï¼š Då€¼ï¼šD &#x3D; P(AB) - P(A) X P(B)ï¼Œä¹Ÿå°±æ˜¯å®é™…æ¦‚ç‡å‡å»ç‹¬ç«‹é—ä¼ çš„ç†è®ºæ¦‚ç‡ï¼ŒDå€¼ç»å¯¹å€¼è¶Šå¤§ï¼Œè¿é”ç¨‹åº¦è¶Šå¤§ã€‚ Dâ€˜å€¼ï¼šç†è§£ç»´å½’ä¸€åŒ–ä¹‹åçš„Då€¼ï¼Œå½’ä¸€åŒ–ä¹‹çš„å€¼å¯ä»¥ç”¨äºæ¯”è¾ƒä¸åŒåŸºå› è¿é”ç¨‹åº¦çš„å¤§å°ã€‚0è¡¨ç¤ºå®Œå…¨è¿é”å¹³è¡¡ï¼Œç‹¬ç«‹é—ä¼ ï¼›1è¡¨ç¤ºå®Œå…¨è¿é”ä¸å¹³è¡¡ã€‚ rå¹³æ–¹ rå€¼å®šä¹‰å¦‚ä¸‹ï¼š é€šå¸¸æ–‡çŒ®é‡Œä¹Ÿæ˜¯ç”¨rå¹³æ–¹æ¥è¡¨å¾è¿é”ä¸å¹³è¡¡ç¨‹åº¦ï¼Œrå¹³æ–¹ç­‰äº0æ—¶ï¼Œè¡¨ç¤ºå®Œå…¨è¿é”å¹³è¡¡ï¼Œç‹¬ç«‹é—ä¼ ï¼›rå¹³æ–¹ç­‰äº1æ—¶, è¡¨ç¤ºå®Œå…¨è¿é”ä¸å¹³è¡¡ã€‚ è¿™é‡Œå°±è¦å¼•å‡ºå¦ä¸€ä¸ªå¾ˆé‡è¦çš„æ¦‚å¿µâ€”â€”LDè¡°å‡ï¼Œä¹Ÿæ˜¯åšGWASå‡ºç°æœ€å¤šçš„å›¾ã€‚ 4.1 LDè¡°å‡æ›²çº¿LDè¡°å‡æŒ‡ä½ç‚¹é—´ç”±è¿é”ä¸å¹³è¡¡åˆ°è¿é”å¹³è¡¡çš„æ¼”å˜è¿‡ç¨‹ï¼›LDè¡°å‡çš„é€Ÿåº¦åœ¨ä¸åŒç‰©ç§é—´æˆ–åŒç‰©ç§çš„ä¸åŒäºšç¾¤é—´å·®å¼‚éå¸¸å¤§ã€‚æ‰€ä»¥ï¼Œé€šå¸¸ä¼šä½¿ç”¨â€œLDè¡°å‡è·ç¦»â€æ¥æè¿°LDè¡°å‡é€Ÿåº¦çš„å¿«æ…¢ã€‚ è¡°å‡è·ç¦»ï¼Œæ˜¯å½“å¹³å‡LDç³»æ•°è¡°å‡åˆ°ä¸€å®šå¤§å°çš„æ—¶å€™ï¼Œå¯¹åº”çš„ç‰©ç†è·ç¦»ã€‚ï¼ˆè¿™ä¸ªä¸€å®šå¤§å°æ˜¯æ²¡æœ‰ç‰¹åˆ«è§„å®šçš„ï¼Œæ¯”å¦‚å¯ä»¥åˆ°ä¸€åŠå¤§å°ï¼Œå¯ä»¥åˆ°0.5ï¼Œå¯ä»¥åˆ°0.1ï¼‰ ä¸Šé¢çš„å›¾æç»˜äº†ä¸åŒæ°´ç¨»ç¾¤ä½“çš„LDè¡°å‡æ›²çº¿ï¼Œæ¨ªåæ ‡æ˜¯ç‰©ç†è·ç¦»ï¼ˆkbï¼‰ï¼Œçºµåæ ‡æ˜¯LDç³»æ•°ï¼ˆr^2ï¼‰ã€‚ LDè¡°å‡æ›²çº¿å°±æ˜¯åˆ©ç”¨æ›²çº¿å›¾æ¥å‘ˆç°åŸºå› ç»„ä¸Šåˆ†å­æ ‡è®°é—´çš„å¹³å‡LDç³»æ•°éšç€æ ‡è®°é—´è·ç¦»å¢åŠ è€Œé™ä½çš„è¿‡ç¨‹ã€‚å¤§æ¦‚çš„è®¡ç®—åŸç†å°±æ˜¯å…ˆç»Ÿè®¡åŸºå› ç»„ä¸Šä¸¤ä¸¤æ ‡è®°é—´çš„LDç³»æ•°å¤§å°ï¼Œå†æŒ‰ç…§æ ‡è®°é—´çš„è·ç¦»å¯¹LDç³»æ•°è¿›è¡Œåˆ†ç±»ï¼Œæœ€ç»ˆè®¡ç®—å‡ºä¸€å®šè·ç¦»çš„åˆ†å­æ ‡è®°é—´çš„å¹³å‡LDç³»æ•°å¤§å°ã€‚ æˆ‘ä»¬çœ‹å·¦è¾¹çš„å›¾ï¼ŒJaponicè¿™ä¸ªäºšç¾¤ï¼ˆçº¢è‰²çš„çº¿ï¼‰åœ¨åŸºå› ç»„100Kbè·ç¦»çš„å¹³å‡LDç³»æ•°å¤§å°ä¸º0.35ï¼Œåˆ°äº†200kbè·ç¦»ï¼Œå¯¹åº”çš„LDç³»æ•°é™ä½åˆ°äº†ä¸åˆ°0.3ã€‚LDè¡°å‡é€Ÿåº¦åœ¨ä¸åŒäºšç¾¤æ˜¯ä¸ä¸€æ ·ï¼ŒJaponicaè¡°å‡é€Ÿåº¦æœ€æ…¢ï¼ˆå…¶ä»–äºšç¾¤åœ¨ç‰©ç†è·ç¦»å¾ˆå°çš„æ—¶å€™LDç³»æ•°é™å°±ä»0.35è¡°å‡åˆ°äº†0.3ï¼‰ï¼Œè¡°å‡è·ç¦»æœ€å¤§ã€‚ çŸ¥é“è¿™ä¸ªè¡°å‡é€Ÿåº¦å¿«æ…¢å’Œè¡°å‡è·ç¦»æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ LDè¡°å‡é€Ÿåº¦è¶Šæ…¢ï¼Œå½¢æˆçš„å•ä½“å‹åŒºå—è¶Šå¤§ï¼Œå…³è”åˆ†æä¸­éœ€è¦çš„ç¾¤ä½“å’Œæ ‡è®°æ•°ç›®è¶Šå°‘ï¼Œä½†å®šä½è¶Šä¸ç²¾å‡†ã€‚æ­¤å¤–ï¼ŒåŒä¸€ä¸ªè¿é”ç¾¤ä¸Šï¼ŒLDè¡°å‡åœ°æ…¢è¯´æ˜è¯¥ç¾¤ä½“å—åˆ°é€‰æ‹©ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œé‡ç”Ÿç¾¤ä½“æ¯”é©¯åŒ–æ”¹è‰¯ç¾¤ä½“LDè¡°å‡å¿«ï¼Œé—ä¼ å¤šæ ·æ€§é«˜ã€‚è€Œé©¯åŒ–é€‰æ‹©ä¼šå¯¼è‡´ç¾¤ä½“é—ä¼ å¤šæ ·æ€§ä¸‹é™ï¼Œä½ç‚¹é—´çš„ç›¸å…³æ€§ï¼ˆè¿é”ç¨‹åº¦ï¼‰åŠ å¼ºã€‚æ‰€ä»¥ï¼Œé©¯åŒ–ç¨‹åº¦è¶Šé«˜ï¼Œé€‰æ‹©å¼ºåº¦è¶Šå¤§çš„ç¾¤ä½“ï¼ŒLDè¡°å‡é€Ÿåº¦è¶Šæ…¢ã€‚ ä¹Ÿå°±æ˜¯è¯´å·¦è¾¹è¿™ä¸ªå›¾çš„4ä¸ªæ°´ç¨»å“ç§ä¸­ï¼ŒJaponicæ˜¯é©¯åŒ–ç¨‹åº¦æœ€é«˜çš„ã€‚ LDè¡°å‡è·ç¦»åº”ç”¨ï¼š è¾…åŠ©åˆ†æè¿›åŒ–å’Œé€‰æ‹©ï¼ŒåŒä¸€ä¸ªè¿é”ç¾¤ä¸Šï¼ŒLDè¡°å‡åœ°æ…¢è¯´æ˜è¯¥ç¾¤ä½“å—åˆ°é€‰æ‹©ã€‚ ä¸€èˆ¬è€Œè¨€ï¼Œä¸¤ä¸ªä½ç‚¹åœ¨åŸºå› ç»„ä¸Šç¦»å¾—è¶Šè¿‘ï¼Œç›¸å…³æ€§å°±è¶Šå¼ºï¼ŒLDç³»æ•°å°±è¶Šå¤§ã€‚åä¹‹ï¼ŒLDç³»æ•°è¶Šå°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œéšç€ä½ç‚¹é—´çš„è·ç¦»ä¸æ–­å¢åŠ ï¼ŒLDç³»æ•°é€šå¸¸æƒ…å†µä¸‹ä¼šæ…¢æ…¢ä¸‹é™ã€‚ ä¸€èˆ¬è€Œè¨€ï¼ŒLDç³»æ•°å¤§äº0.8å°±æ˜¯å¼ºç›¸å…³ã€‚å¦‚æœLDç³»æ•°å°äº0.1ï¼Œåˆ™å¯ä»¥è®¤ä¸ºæ²¡æœ‰ç›¸å…³æ€§ã€‚å¦‚æœLDè¡°å‡åˆ°0.1è¿™ä¹ˆå¤§çš„åŒºé—´å†…éƒ½æ²¡æœ‰æ ‡è®°è¦†ç›–çš„è¯ï¼Œå³ä½¿è¿™ä¸ªåŒºé—´æœ‰ä¸€ä¸ªæ•ˆåº”å¾ˆå¼ºçš„åŠŸèƒ½çªå˜ï¼Œä¹Ÿæ˜¯æ£€æµ‹ä¸åˆ°å…³è”ä¿¡å·çš„ã€‚æ‰€ä»¥ï¼Œé€šå¸¸å¯ä»¥é€šè¿‡æ¯”è¾ƒLDè¡°å‡ï¼ˆåˆ°0.1ï¼‰è·ç¦»å’Œæ ‡è®°é—´çš„å¹³å‡è·ç¦»ï¼Œæ¥åˆ¤æ–­æ ‡è®°æ˜¯å¦å¯¹å…¨åŸºå› ç»„æœ‰è¶³å¤Ÿçš„è¦†ç›–åº¦ã€‚ å¦‚æœGWASæ£€æµ‹åˆ°æ˜¾è‘—å…³è”çš„åŒºé—´åï¼Œåˆ™å¯ä»¥é€šè¿‡è¿›ä¸€æ­¥ç»˜åˆ¶å±€éƒ¨çš„LDå•å€å‹å—å›¾ï¼ˆè¿™ä¸ªåé¢è®²ï¼‰ï¼Œæ¥è¿›ä¸€æ­¥åˆ¤æ–­æ˜¾è‘—ç›¸å…³çš„SNPå’Œç›®æ ‡åŸºå› é—´æ˜¯å¦å­˜åœ¨å¼ºLDå…³ç³»ã€‚ åŸºå› ç»„ä¸Šé‚£äº›å—é€‰æ‹©çš„åŒºåŸŸç›¸æ¯”æ™®é€šçš„åŒºåŸŸï¼ŒLDè¡°å‡é€Ÿåº¦ä¹Ÿæ˜¯æ›´æ…¢çš„ã€‚ åˆ¤æ–­GWASæ‰€éœ€æ ‡è®°é‡ï¼Œå†³å®šGWASçš„æ£€æµ‹æ•ˆåŠ›ä»¥åŠç²¾åº¦ï¼› GWASæ ‡è®°é‡ &#x3D; åŸºå› ç»„å¤§å° &#x2F; LDè¡°å‡è·ç¦»ã€‚ 4.2 å•å€å‹å—ï¼ˆHaplotype Blockï¼‰æè¿°LDä¸å¹³è¡¡çš„å¦ä¸€ä¸ªå¸¸ç”¨çš„å›¾å°±æ˜¯LDå•å€å‹å—å›¾ã€‚ å•å€å‹å—ï¼Œå³è¿é”ä¸å¹³è¡¡åŒºåŸŸï¼Œæ˜¯æŒ‡åŒä¸€æ¡æŸ“è‰²ä½“ä¸Šå¤„äºè¿é”ä¸å¹³è¡¡çŠ¶æ€çš„ä¸€æ®µè¿ç»­çš„åŒºåŸŸã€‚å•å€å‹å—åˆ†æå¯ä»¥ç”¨äºç­›é€‰tag SNPã€ç¡®å®šå€™é€‰åŸºå› çš„èŒƒå›´ç­‰ã€‚ é¢œè‰²ä»ç™½è‰²åˆ°çº¢è‰²ï¼Œä»£è¡¨è¿é”ç¨‹åº¦ä»ä½åˆ°é«˜ï¼Œæ–¹æ¡†ä¸­çš„æ•°å€¼ä¸ºLDç³»æ•°r^2ï¼Œä¸ºäº†ç¾è§‚ï¼Œè¿™é‡Œå°† r2^2ä¹˜ä»¥äº†100ã€‚ ä¸Šé¢çš„å›¾ä¸­æ¯ä¸ªæ­£æ–¹å½¢æ˜¯ä¸¤ä¸ªç›¸é‚»SNPçš„LDå€¼è®¡ç®—ç»“æœï¼Œå¦‚æœå¤§äºè®¾å®šçš„é˜ˆå€¼ï¼ˆè¿™é‡Œä¼°è®¡æ˜¯å¤§äº94ï¼‰ï¼Œé‚£ä¹ˆå°±æ„æˆä¸€ä¸ªblockï¼Œå›¾ä¸­é»‘æ¡†ä¸ºä¸€ä¸ªblockï¼Œå…±æœ‰ä¸‰ä¸ªã€‚å¯ä»¥ä»ä¸‰ä¸ªblockä¸­åˆ†åˆ«é€‰æ‹©ä¸€ä¸ªSNPä½œä¸ºTag SNPæ¥åˆ†åˆ«ä»£è¡¨è¿™ä¸‰ä¸ªblockã€‚ 5. å…¨åŸºå› ç»„å…³è”åˆ†æï¼ˆGWASï¼‰å…¨åŸºå› ç»„å…³è”åˆ†æï¼ˆGenome-Wide Association Study, GWASï¼‰ï¼Œä»¥è¿é”ä¸å¹³è¡¡ï¼ˆlinkage disequilibrium, LDï¼‰ä¸ºåŸºç¡€ï¼Œé€šè¿‡åˆ†ææ•°ç™¾ä¸ªæˆ–è€…æ•°åƒä¸ªä¸ªä½“çš„é«˜å¯†åº¦åˆ†å­æ ‡è®°çš„åˆ†ç¦»ç‰¹å¾ï¼ˆä¸€èˆ¬æ˜¯ä¸Šä¸‡ä¸ªæˆ–è€…ä¸Šç™¾ä¸‡ä¸ªSNPæ ‡è®°ï¼‰ï¼Œç­›é€‰ä¸å¤æ‚æ€§çŠ¶è¡¨ç°å‹å˜å¼‚ç›¸å…³è”çš„åˆ†å­æ ‡è®°ï¼Œè¿›è€Œåˆ†æåˆ†å­æ ‡è®°å¯¹è¡¨ç°å‹çš„é—ä¼ æ•ˆåº”ã€‚ æ’ä¸€å¥é¢˜å¤–è¯ï¼ŒGWASä¸­æœ€åä¸€ä¸ªå­—æ¯å·²ç»æ˜¯studyï¼Œåœ¨å†™è‹±æ–‡æ–‡ç« çš„æ—¶å€™ä¸è¦å†™æˆGWAS studyâ€¦â€¦ ä¼ ç»Ÿçš„QTLå®šä½ç ”ç©¶é€šå¸¸ä»¥2ä¸ªäº²æœ¬æ‚äº¤ç¾¤ä½“ä¸ºç ”ç©¶å¯¹è±¡, é€šè¿‡è¿é”ä½œå›¾å®šä½ç›®æ ‡æ€§çŠ¶ä½ç‚¹ã€‚å±€é™æ€§æ˜¯æŠ•å…¥å¤§é‡èµ„æºæ„å»ºæ•°é‡åºå¤§çš„é‡ç»„ç¾¤ä½“ã€‚è€Œå…³è”åˆ†æåˆ™å¯ä»¥åˆ©ç”¨ä¸ªä½“åœ¨å…¨åŸºå› ç»„èŒƒå›´çš„é—ä¼ å˜å¼‚æ ‡è®°è¿›è¡Œå¤šæ€æ€§æ£€æµ‹ï¼Œè·å¾—æ›´é«˜åˆ†è¾¨ç‡çš„å®šä½ç»“æœï¼ˆå•ç¢±åŸºæ°´å¹³ï¼‰, é—ä¼ å˜å¼‚æ¥æºä¹Ÿæ›´ä¸ºå¹¿æ³›ï¼Œæ ¹æ®ç»Ÿè®¡é‡æˆ–è€…æ˜¾è‘—æ€§På€¼ç­›é€‰æœ€æœ‰å¯èƒ½å½±å“è¯¥æ€§çŠ¶çš„é—ä¼ å˜å¼‚ï¼Œå¾€å¾€èƒ½å®šä½åˆ°æ¯”åŒäº²æœ¬ä½œå›¾ç¾¤ä½“ä¸­æ›´å¤šçš„æ€§çŠ¶å…³è”ä½ç‚¹ï¼ˆè¿™å¯èŠ‚çœå¤ªå¤šæ—¶é—´äº†ï¼‰ã€‚ GWASçš„å±€é™æ€§åœ¨äºå¯ä»¥ç¡®å®šç›¸å…³ä½ç‚¹ä½†ä¸èƒ½ç›´æ¥ç¡®å®šåŸºå› æœ¬èº«ï¼Œå‡é˜³æ€§ä¹Ÿæ¯”è¾ƒé«˜ã€‚è§£å†³è¿™ä¸€å±€é™æ€§æœ‰ä¸¤ç§ç­–ç•¥ï¼Œä¸€æ˜¯ç®—æ³•ï¼ŒäºŒæ˜¯ç¾¤ä½“çš„é€‰å–ã€‚ 5.1 GWASç®—æ³•æ¨¡å‹ç›®å‰ç”¨çš„ç®—æ³•æ¨¡å‹æœ‰ä»¥ä¸‹å‡ ç§ï¼š 1.GLM ï¼ˆGeneralized linear modelï¼›ä¸€èˆ¬çº¿æ€§æ¨¡å‹ï¼‰ 2.MLM ï¼ˆMixed linear modelï¼›æ··åˆçº¿æ€§æ¨¡å‹ï¼‰ 3.GEMMAã€CMLMã€SUPERã€FarmCPUã€Blink ä¸»è¦ä»‹ç»å‰ä¸¤ä¸ªï¼ŒGLMæ¨¡å‹ä»¥ç¾¤ä½“ç»“æ„çŸ©é˜µ Qæˆ–ä¸»æˆåˆ†åˆ†æçŸ©é˜µPCsä¸ºåå˜é‡åšå›å½’æ‹Ÿåˆã€‚ å¦‚æœä¸¤ä¸ªè¡¨å‹å·®å¼‚å¾ˆå¤§ï¼Œä½†ç¾¤ä½“æœ¬èº«è¿˜å«æœ‰å…¶ä»–çš„é—ä¼ å·®å¼‚ï¼ˆå¦‚åœ°åŸŸç­‰ï¼‰ï¼Œåˆ™é‚£äº›ä¸è¯¥è¡¨å‹æ— å…³çš„é—ä¼ å·®å¼‚ä¹Ÿä¼šå½±å“åˆ°ç›¸å…³æ€§ã€‚MLMæ¨¡å‹å¯ä»¥æŠŠç¾¤ä½“ç»“æ„çŸ©é˜µ Qã€äº²ç¼˜å…³ç³»çŸ©é˜µï¼ˆkinshipï¼‰æˆ–è”åˆåˆ©ç”¨ä¸»æˆåˆ†åˆ†æçŸ©é˜µPCså’Œäº²ç¼˜å…³ç³»çŸ©é˜µä¸ºåå˜é‡ï¼ŒæŠŠè¿™ç§ä½ç‚¹æ ¡æ­£æ‰ï¼ˆä¹Ÿå°±æ˜¯æŠ‘åˆ¶å‡å…³è”ï¼‰ã€‚ å…¶ä»–æ¨¡å‹å¤§å¤šæ˜¯åŸºäºGLMå’ŒMLMè¿›è¡Œä¼˜åŒ–ï¼Œæ¯”å¦‚GEMMA è®¡ç®—ä¸ªä½“åŸºå› å‹ç›¸ä¼¼æ€§çŸ©é˜µï¼Œæ’é™¤äº†LDçš„å¹²æ‰°ã€‚å…¶ä»–æš‚æ—¶å°±ä¸å¤šè¯´äº†ï¼Œæ„Ÿå…´è¶£å†æ·±å…¥ç ”ç©¶ç ”ç©¶ã€‚ 5.2 GWASç¾¤ä½“é€‰å–ç¾¤ä½“ä¸­ä¸°å¯Œçš„è¡¨å‹å˜å¼‚å’Œå……åˆ†çš„é—ä¼ é‡ç»„æ˜¯GWAS æˆåŠŸçš„å…³é”®æ¡ä»¶ï¼Œæœ‰ä»¥ä¸‹é€‰å–ç­–ç•¥ï¼š (1) ç¾¤ä½“å†…æ²¡æœ‰æ˜æ˜¾çš„ç¾¤ä½“ç»“æ„ï¼Œæ ·æœ¬é—´æ²¡æœ‰è¿‡è¿‘çš„äº²ç¼˜å…³ç³»ï¼ŒåŒæ—¶å…·æœ‰ä¸°å¯Œçš„è¡¨å‹å˜å¼‚ (2) ç¾¤ä½“æ¥è‡ªå…·æœ‰ä¸€å®šæ°´å¹³é—ä¼ åˆ†åŒ–çš„ä¸åŒç±»ç¾¤(å¦‚ä¸åŒäºšç§ä¸äºšç¾¤)ï¼Œå…·æœ‰ä¸°å¯Œçš„é—ä¼ å’Œè¡¨å‹å˜å¼‚ï¼Œä½†åŒæ—¶ä¸åŒç±»ç¾¤ä¹‹é—´å­˜åœ¨é¢‘ç¹çš„é—ä¼ äº¤æµï¼Œä¿è¯ç›®æ ‡æ€§çŠ¶åœ¨ä¸åŒç±»ç¾¤å†…éƒ¨ä¹Ÿå­˜åœ¨ä¸€å®šæ°´å¹³çš„å˜å¼‚ ç›®å‰GWASæ ·æœ¬é‡æ™®éå¤§äº100ä»½ å‰é¢ä¹Ÿè¯´è¿‡ï¼ŒåŒæ—¶è¦è€ƒè™‘GWASæ ‡è®°é‡ï¼Œè®¡ç®—å…¬å¼GWASæ ‡è®°é‡ &#x3D; åŸºå› ç»„å¤§å° &#x2F; LDè¡°å‡è·ç¦»ã€‚ åœ¨ç”¨GATKåšåŸºå› åˆ†å‹çš„æ—¶å€™ä¹Ÿè¦æ³¨æ„ï¼Œç»“æœä¸€èˆ¬ä¿ç•™mafå€¼å¤§äº0.05çš„ SNPï¼Œé€šå¸¸è®¤ä¸ºè¿™æ˜¯åœ¨é©¯åŒ–é€‰æ‹©åŒºé—´å†…ã€‚ 5.3 GWASç»“æœå›¾è§£è¿˜æ˜¯å…ˆè¯´æ˜ä¸€ä¸‹ï¼ŒåšGWASéœ€è¦æœ‰ä¸‰ç±»æ•°æ®ï¼šSNPæ•°æ®ã€è¡¨å‹æ•°æ®å’Œç¾¤ä½“ç»“æ„ã€‚è¿™äº›æ•°æ®åœ¨å®æ“ä¼šå†æ¬¡æåˆ°ã€‚ GWASçš„ç»“æœé€šå¸¸ä»¥æ›¼å“ˆé¡¿å›¾å’ŒQQå›¾æ¥å±•ç¤ºã€‚æ›¼å“ˆé¡¿å›¾æ˜¾ç¤ºæ¯ä¸ªSNPåœ¨å…³è”åˆ†æä¸­çš„æ˜¾è‘—æ€§æ°´å¹³; QQ å›¾åæ˜ å…³è”åˆ†æçš„æ•ˆæœã€‚ ä»¥ä¸‹å›¾721ä»½æ°´ç¨»GWASç»“æœå›¾ä¸ºä¾‹ï¼š 5.3.1 æ›¼å“ˆé¡¿å›¾ï¼ˆManhattan Plotï¼‰å›¾4ï¼ˆAï¼‰å°±æ˜¯ä¸€ä¸ªæ›¼å“ˆé¡¿å›¾ï¼Œæ¯ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªSNPï¼Œxè½´ä»£è¡¨SNPåœ¨åŸºå› ç»„ä¸Šçš„é—ä¼ ä½ç½®ï¼Œyè½´ä¸ºâ€“log10 (P-value)ï¼Œæ˜¾è‘—æ€§æ°´å¹³çº¿æœ‰çº¢è“ä¸¤æ¡ï¼ˆP &#x3D; 0.01å’ŒP&#x3D; 0.05ï¼‰ã€‚yè½´å€¼è¶Šå¤§ï¼Œè¯´æ˜è¯¥ä½ç‚¹è¡¨å‹çš„å…³è”ç¨‹åº¦è¶Šå¤§ï¼Œå—åˆ°è¿é”ä¸å¹³è¡¡ï¼ˆLDï¼‰çš„å½±å“ï¼ŒåŸºå› ç»„ä¸Šå¼ºå…³è”ä½ç‚¹å‘¨å›´çš„SNPä¹Ÿä¼šå‘ˆç°å‡ºå…³è”æ€§ç”±é«˜åˆ°ä½è¿ç»­å˜åŒ–çš„ä¿¡å·å¼ºåº¦ï¼Œä»è€Œåœ¨På€¼å°çš„åœ°æ–¹å‡ºç°å°–å³°ï¼ˆpeakï¼‰ã€‚ ä¸Šé¢æ–‡ç« æ·±å…¥åˆ†ææ°´ç¨»6å·æŸ“è‰²ä½“ä¸Šä¸æŠ½ç©—æœŸç›¸å…³çš„ä¸€ä¸ªå°–å³°ï¼Œå°†å…¶å®šä½åœ¨Hd3aé™„è¿‘, ä¼°è®¡å€™é€‰åŒºé—´å¤§æ¦‚åœ¨ 2.68â€“4.62 Mb (å›¾4C)ã€‚è¿™ä¸ªå€™é€‰åŒºé—´æ˜¯å¦‚ä½•ç¡®å®šçš„å‘¢ï¼Ÿ æˆ‘ä»¬é€šå¸¸å°†æ˜¾è‘—å…³è”SNPåœ¨N kbä»¥å†…çš„ä½ç½®ç¡®è®¤ä¸ºç›¸å…³åŒºé—´ï¼Œè¿™ä¸ªNå°±æ˜¯å¯¹åº”çš„LDè¡°å‡è·ç¦»ã€‚ç¡®å®šGWASé‰´å®šçš„å€™é€‰åŒºé—´åï¼Œå°±å¯ä»¥åœ¨å€™é€‰åŒºé—´å†…æ‰¾åˆ°åŸºå› åŠŸèƒ½æ³¨é‡Šå’Œè¡¨å‹ç›¸å…³çš„åŸºå› ï¼Œæˆ–è€…æœ‰å…¶ä»–ç»„å­¦æˆ–è€…åŠŸèƒ½ç ”ç©¶æ”¯æŒçš„åŸºå› è¿›è¡ŒéªŒè¯å’Œæ·±å…¥ç ”ç©¶ã€‚ 5.3.2 QQå›¾ï¼ˆQQ Plotï¼‰å›¾4ï¼ˆBï¼‰æ˜¯QQå›¾ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯åšä¸¤ç»„æ•°æ®çš„æ¯”è¾ƒï¼Œåˆ¤æ–­æ˜¯å¦ä¸€è‡´ã€‚æ¯ä¸ªç‚¹ä»£è¡¨ä¸€ä¸ªSNPï¼Œæ¨ªåæ ‡æ˜¯æœŸæœ›çš„P-valueï¼Œçºµåæ ‡ä¸ºå®é™…è§‚æµ‹åˆ°çš„P-valueï¼Œè™šçº¿ä»£è¡¨å®é™…è§‚æµ‹å’ŒæœŸæœ›çš„P-valueå€¼ä¸€è‡´çš„æƒ…å†µã€‚ æˆ‘ä»¬åšå…³è”åˆ†æï¼Œå½“ç„¶æ˜¯å¸Œæœ›å¤§éƒ¨åˆ†çš„ä½ç‚¹è§‚æµ‹å€¼å’ŒæœŸæœ›å€¼ä¸€æ ·ï¼ˆåœ¨å¯¹è§’çº¿ï¼Œä¹Ÿå°±æ˜¯è¿™é‡Œçš„è™šçº¿ä¸Šï¼‰ï¼Œä¹Ÿå°±æ˜¯è¿™éƒ¨åˆ†ä½ç‚¹ç¡®å®šæ˜¯ä¸æ€§çŠ¶ä¸å…³è”çš„ã€‚ä¸€éƒ¨åˆ†ä½ç‚¹åœ¨è™šçº¿çš„ä¸Šæ–¹ï¼Œä¹Ÿå°±æ˜¯è§‚æµ‹å€¼è¶…è¿‡æœŸæœ›å€¼ï¼Œè¯´æ˜è¿™äº›ä½ç‚¹çš„æ•ˆåº”è¶…è¿‡éšæœºæ•ˆåº”ï¼Œä¹Ÿå°±æ˜¯è¿™äº›ä½ç‚¹æ˜¯ä¸æ€§çŠ¶æ˜¾è‘—ç›¸å…³çš„ã€‚ä¹Ÿå°±æ˜¯å‡ºç°4ï¼ˆBï¼‰è¿™ä¸ªå›¾æ‰æ˜¯ç†æƒ³çš„ç»“æœã€‚ è¿˜æœ‰ä»¥ä¸‹ä¸‰ç§å…¶ä»–æƒ…å†µï¼š 1 è§‚å¯Ÿå€¼ä½äºæœŸæœ›å€¼ï¼ˆç‚¹åœ¨å¯¹è§’çº¿ä¸‹æ–¹ï¼‰ï¼Œå¯èƒ½æ˜¯æ¨¡å‹ä¸åˆç†ï¼ŒP-valueè¢«è¿‡åº¦çŸ«æ­£ã€‚æˆ–è€…æ˜¯ç¾¤ä½“ä¸­å¤§é‡SNPä½ç‚¹é—´å­˜åœ¨è¿é”ä¸å¹³è¡¡ï¼Œæœ‰æ•ˆä½ç‚¹æ•°ï¼ˆç›¸äº’é—´ä¸å­˜åœ¨è¿é”ä¸å¹³è¡¡çš„ä½ç‚¹ï¼‰æ˜æ˜¾ä½äºå®é™…ä½ç‚¹æ•°ï¼Œæ‰€ä»¥P-valueçš„æœŸæœ›å€¼è¢«ä½ä¼°äº†ã€‚ 2 è§‚å¯Ÿå€¼å’ŒæœŸæœ›å€¼ç›¸åŒï¼Œè¯´æ˜æ²¡æœ‰æ‰¾åˆ°ä¸æ€§çŠ¶æ˜¾è‘—å…³è”çš„ä½ç‚¹ã€‚ 3 è§‚å¯Ÿå€¼æ˜¾è‘—é«˜äºæœŸæœ›å€¼ï¼ˆç‚¹å…¨éƒ½åœ¨å¯¹è§’çº¿ä¸Šæ–¹ï¼‰ï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰ä½ç‚¹éƒ½ä¸æŸä¸ªæ€§çŠ¶æ˜¾è‘—ç›¸å…³ï¼Œè¯´æ˜åˆ†ææ¨¡å‹ä¸åˆç†ï¼Œå‡é˜³æ€§å¤ªå¤šäº†ã€‚ ç°åœ¨åŸºäºGWASåˆ†æè¿˜è¡ç”Ÿå‡ºå…¶ä»–è¯¸å¦‚TWASï¼ˆåŸºå› è¡¨è¾¾é‡åšæ ‡è®°ï¼‰ã€PWASï¼ˆè›‹ç™½åšæ ‡è®°ï¼‰ã€EWASï¼ˆç”²åŸºåŒ–è¡¨è§‚ä¿¡æ¯åšæ ‡è®°ï¼‰ç­‰å…³è”åˆ†ææ–¹æ³•ï¼Œåšæ ‡è®°çš„ä¿¡æ¯ä¸åŒï¼Œæœ¬è´¨ä¸Šä¹Ÿéƒ½æ˜¯å’Œè¡¨å‹åšå…³è”åˆ†æã€‚ 6. æ³›åŸºå› ç»„ï¼ˆPan-Genomeï¼‰æƒ³äº†æƒ³è¿˜æ˜¯æŠŠæ³›åŸºå› ç»„ä¹Ÿæ”¾äº†è¿›æ¥ï¼Œè™½ç„¶æ³›åŸºå› ç»„ç ”ç©¶æ–¹æ³•å’Œä¸Šé¢çš„ç ”ç©¶æ–¹æ³•ä¸ä¸€æ ·ï¼Œä½†ä¹Ÿæ˜¯ç¾¤ä½“åŸºå› ç»„å­¦çš„ä¸€ä¸ªé‡è¦åˆ†æ”¯ï¼Œä¸»è¦æ˜¯å¼€å±•ç¾¤ä½“åŸºå› ç»„é‡æµ‹åºå’Œé—ä¼ å˜å¼‚çš„åˆ†æå·¥ä½œã€‚ æˆ‘ä»¬çŸ¥é“å•ä¸€çš„å‚è€ƒåŸºå› ç»„ä»…èƒ½ä»£è¡¨ç‰©ç§åŸºå› ç»„ç©ºé—´èŒƒå›´çš„ä¸€å°éƒ¨åˆ†ï¼ˆåŒä¸€ä¸ªç‰©ç§ä¸åŒäºšç¾¤åŸºå› ç»„å­˜åœ¨å·®å¼‚ï¼‰ï¼Œä»¥çº¿æ€§å‚è€ƒåŸºå› ç»„è¿›è¡Œç¾¤ä½“å˜å¼‚çš„åˆ†æå°±ä¼šé”™å¤±ä¸€äº›å˜å¼‚ä½ç‚¹ï¼ˆSV&amp;CNV&amp;PAVï¼‰ã€‚æ‰€ä»¥è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦è·å–ä¸€ä¸ªç‰©ç§çš„å…¨éƒ¨é—ä¼ ä¿¡æ¯ï¼ˆåªèƒ½è¯´æ˜¯ç›¸å¯¹çš„å…¨éƒ¨ï¼‰ï¼Œå¹¶è§£ææ¯ä¸ªä¸ªä½“é—´çš„é—ä¼ å˜å¼‚ï¼Œè¿™å°±è¯ç”Ÿäº†æ³›åŸºå› ç»„ï¼ˆPan-Genomeï¼‰ç ”ç©¶ã€‚ 6.1 æ ¸å¿ƒåŸºå› &#x2F;éæ ¸å¿ƒåŸºå› åœ¨æ³›åŸºå› ç»„ä¸­æœ‰ä¸¤ä¸ªéå¸¸é‡è¦çš„æ¦‚å¿µï¼š 1 æ ¸å¿ƒåŸºå› ï¼ˆcore genomeï¼‰ï¼šåœ¨ç‰©ç§æ‰€æœ‰ä¸ªä½“å†…éƒ½å­˜åœ¨çš„ï¼Œä¿æŒç”Ÿå‘½ä½“åŸºæœ¬åŠŸèƒ½ï¼Œä»£è¡¨ç‰©ç§åŸºæœ¬è¡¨å‹ç‰¹å¾ã€‚ 2 éå¿…éœ€åŸºå› ï¼ˆdispensable genomeï¼‰ï¼šä½¿ä¸åŒä¸ªä½“åœ¨è¡¨å‹ï¼Œç”Ÿæ´»æ–¹å¼ã€ä»£è°¢ç­‰å¤šæ–¹é¢å‘ç”Ÿæ˜æ˜¾çš„åˆ†åŒ–ï¼Œæœ€ç»ˆè¡¨ç°ä¸ºä¸°å¯Œçš„é—ä¼ å¤šæ ·æ€§ã€‚ ä¸Šå›¾å¯ä»¥çœ‹å‡ºæ ¸å¿ƒåŸºå› å’Œéå¿…éœ€åŸºå› çš„åŒºåˆ«ï¼Œä»¥åŠæœ€åèåˆæˆpan-genomeã€‚ä¸»è¦æ³¨æ„ä¸€ç‚¹ï¼Œæ ¸å¿ƒåŸºå› æ˜¯è¿™ä¸ªç‰©ç§ä¸­æ‰€æœ‰ä¸ªä½“éƒ½å­˜åœ¨çš„ï¼Œä½†ä¸ä¸€å®šæ˜¯å¿…é¡»åŸºå› ï¼Œå¿…é¡»åŸºå› çš„æ¦‚å¿µæ¯”æ ¸å¿ƒåŸºå› çª„ï¼Œæ ¸å¿ƒåŸºå› åŒ…å«äº†å¿…é¡»åŸºå› ã€‚ ç°åœ¨çš„pan-genomeåˆ†æçš„æ–‡ç« ä¸€èˆ¬è¿˜ä¼šå¯¹åŸºå› é›†åšæ›´è¿›ä¸€æ­¥çš„ç»†åˆ†ï¼š core æ ¸å¿ƒåŸºå› ï¼Œæ‰€æœ‰æ ·æœ¬å…±äº« softcore æ¬¡æ ¸å¿ƒåŸºå› ï¼Œ90%æ ·æœ¬å…±äº« dispensable éå¿…éœ€åŸºå› ï¼Œå¤šä¸ªæ ·æœ¬å…±äº«ä½† &lt; 90% private ç‰¹æœ‰åŸºå› ï¼Œ1%ï¼Œæˆ–è€…ä»…å­˜åœ¨äºä¸€ä¸ªæ ·æœ¬ä¸­ å¯¹ä¸ç±»å‹åŸºå› é›†è¿›è¡Œä¿å®ˆæ€§åˆ†æï¼Œæœ‰åŠ©äºæŒ–æ˜é€‚åº”æ€§è¿›åŒ–æˆ–é©¯åŒ–ä¸­å‘æŒ¥å…³é”®ä½œç”¨çš„åŸºå› ã€‚æ–‡ç« ä¸­ç”¨çš„æ¯”è¾ƒå¤šçš„è¿˜æœ‰æ ¸å¿ƒåŸºå› &#x2F;éå¿…éœ€åŸºå› ä¸é‡å¤åºåˆ—ç›¸å…³æ€§åˆ†æã€è¡¨è¾¾æ°´å¹³åˆ†æç­‰ç­‰ï¼Œè¿™äº›å±•å¼€æ¥è¯´å¤ªå¤šäº†ï¼Œå…·ä½“æ–‡ç« å…·ä½“åˆ†æã€‚ 6.2 æ³›åŸºå› ç»„ç»„è£…æ³›åŸºå› ç»„ç»„è£…æ–¹å¼ç°åœ¨è§çš„æ¯”è¾ƒå¤šçš„æ˜¯ä¸¤ç§ï¼š 6.2.1 åŸºäºäºŒä»£æµ‹åºï¼ˆè¿­ä»£ç»„è£…ï¼‰ How the pan-genome is changing crop genomics and improvement | Genome Biology | Full Text (biomedcentral.com) å°†å¤šä¸ªæ ·æœ¬äºŒä»£ä¸‹æœºæ•°æ®ä¸å‚è€ƒåŸºå› ç»„æ¯”å¯¹ï¼Œæœªæ¯”å¯¹ä¸Šçš„readsç»„è£…æˆæ–°çš„contigsï¼Œå°†è¿™äº›contigsæ·»åŠ åˆ°åŸå§‹å‚è€ƒåºåˆ—ä¸­ï¼ˆä¸€èˆ¬ç›´æ¥æ”¾åœ¨æœ€åï¼‰ï¼Œæœ€ç»ˆè·çš„ç‰©ç§çš„æ³›åŸºå› å›¾è°±ã€‚ çœ‹å¾—å‡ºæ¥è¿™ç§æ–¹å¼ç®€å•ç²—æš´ï¼Œå¯ä»¥å¿«é€Ÿå¾—åˆ°æ³›åŸºå› ç»„ä¿¡æ¯ï¼ˆä¹Ÿçœé’±ï¼‰ï¼Œä½†æ˜¯æœ‰äºŒä»£æ•°æ®çš„é€šç—…â€”â€”å¦‚æœç‰©ç§çš„åŸºå› ç»„æ¯”è¾ƒå¤§ï¼Œæˆ–è€…æµ‹åºæ·±åº¦ä¸å¤Ÿæ·±çš„è¯ï¼Œç»„è£…çš„contigsè¿ç»­æ€§ä¼šæ¯”è¾ƒå·®ã€‚ 6.2.2 åŸºäºä¸‰ä»£æµ‹åºï¼ˆä»å¤´ç»„è£…&amp;å›¾å½¢æ³›åŸºå› ç»„ï¼‰ Plant pan-genomes are the new reference | Nature Plants å¯¹å¤šä¸ªä¸ªä½“è¿›è¡Œä»å¤´ç»„è£…ã€æ³¨é‡Šï¼Œä»å…¨åŸºå› ç»„å±‚é¢è¯†åˆ«å˜å¼‚ä¿¡æ¯ï¼Œä¹Ÿæ˜¯ç°åœ¨ç”¨çš„æœ€å¹¿æ³›çš„æ–¹æ³•ã€‚ä¸ä¾èµ–å‚è€ƒåŸºå› ç»„ï¼Œä½†æ˜¯éœ€è¦è¾ƒé«˜çš„æµ‹åºæ·±åº¦ï¼ˆä¿è¯å‡†ç¡®æ€§ï¼‰ï¼Œç»„è£…åˆ°æŸ“è‰²ä½“æ°´å¹³ã€‚å›¾å½¢æ³›åŸºå› ç»„æ˜¯åœ¨ä»å¤´ç»„è£…çš„åŸºç¡€ä¸Šï¼ŒåŸºäºå›¾è®ºçš„ç»„è£…æ–¹æ³•ï¼Œåˆ©ç”¨æœ‰å‘å›¾å°†ç‰©ç§åŸºå› ç»„åˆ†ä¸ºæ ¸å¿ƒåŸºå› ç»„å’Œéå¿…éœ€åŸºå› ç»„ã€‚ 6.3 æ³›åŸºå› ç»„åˆ†æä¸»è¦å¯ä»¥åˆ†ä»¥ä¸‹ä¸¤éƒ¨åˆ†ï¼š è¿™éƒ¨åˆ†å†…å®¹ç•™åˆ°ä»¥åæˆ‘åšæ³›åŸºå› ç»„ç»„è£…å®æ“å†åšè¯¦ç»†è§£é‡Šå’Œè¡¥å……ï¼ˆå…ˆæŒ–ä¸ªå‘ï¼‰ã€‚ ä¸‹ç¯‡ç¬”è®°å°†ç®€å•å®æ“ä¸€ä¸‹GWASåˆ†æï¼Œä½¿ç”¨è½¯ä»¶ä¸ºTASSELã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¾¤ä½“åŸºå› ç»„å­¦","slug":"ç¾¤ä½“åŸºå› ç»„å­¦","permalink":"http://www.shelven.com/categories/%E7%BE%A4%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"}],"tags":[{"name":"ç¾¤ä½“åŸºå› ç»„å­¦","slug":"ç¾¤ä½“åŸºå› ç»„å­¦","permalink":"http://www.shelven.com/tags/%E7%BE%A4%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"}]},{"title":"ä¸‰ç»´åŸºå› ç»„å­¦â€”â€”å¦‚ä½•ç”¨Hi-Cæ•°æ®åˆ†ææ‹“æ‰‘å…³è”ç»“æ„åŸŸ","slug":"ä¸‰ç»´åŸºå› ç»„å­¦â€”â€”å¦‚ä½•ç”¨Hi-Cæ•°æ®åˆ†ææ‹“æ‰‘å…³è”ç»“æ„åŸŸ","date":"2023-06-14T16:24:17.000Z","updated":"2023-06-16T08:49:30.000Z","comments":true,"path":"2023/06/15/a.html","link":"","permalink":"http://www.shelven.com/2023/06/15/a.html","excerpt":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‰ç»´åŸºå› ç»„å­¦çš„å­¦ä¹ ï¼Œä»¥åŠæ¼”ç¤ºå¦‚ä½•åˆ©ç”¨Hi-Cæ•°æ®åˆ†æCompartmentå’Œæ‹“æ‰‘å…³è”ç»“æ„åŸŸï¼ˆTADï¼‰ï¼Œæ‰€ä½¿ç”¨çš„åˆ†æHi-Cæ•°æ®çš„è½¯ä»¶ä¸ºHiC-Proï¼Œå¯è§†åŒ–è½¯ä»¶ä¸ºHiCPlotterå’ŒRåŒ…HiTCã€‚","text":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‰ç»´åŸºå› ç»„å­¦çš„å­¦ä¹ ï¼Œä»¥åŠæ¼”ç¤ºå¦‚ä½•åˆ©ç”¨Hi-Cæ•°æ®åˆ†æCompartmentå’Œæ‹“æ‰‘å…³è”ç»“æ„åŸŸï¼ˆTADï¼‰ï¼Œæ‰€ä½¿ç”¨çš„åˆ†æHi-Cæ•°æ®çš„è½¯ä»¶ä¸ºHiC-Proï¼Œå¯è§†åŒ–è½¯ä»¶ä¸ºHiCPlotterå’ŒRåŒ…HiTCã€‚ 1. ä¸‰ç»´åŸºå› ç»„ç®€ä»‹é¦–å…ˆä»€ä¹ˆæ˜¯ä¸‰ç»´åŸºå› ç»„å­¦ï¼Ÿä¸‰ç»´åŸºå› ç»„å­¦(Three-Dimensional Genomics, 3D Genomics)ï¼Œæ˜¯æŒ‡åœ¨è€ƒè™‘åŸºå› ç»„åºåˆ—ã€åŸºå› ç»“æ„åŠå…¶è°ƒæ§å…ƒä»¶çš„åŒæ—¶ï¼Œå¯¹åŸºå› ç»„åºåˆ—åœ¨ç»†èƒæ ¸å†…çš„ä¸‰ç»´ç©ºé—´ç»“æ„ï¼ŒåŠå…¶å¯¹åŸºå› è½¬å½•ã€å¤åˆ¶ã€ä¿®å¤å’Œè°ƒæ§ç­‰ç”Ÿç‰©è¿‡ç¨‹ä¸­åŠŸèƒ½çš„ç ”ç©¶ã€‚ éšç€åŸºå› ç»„å­¦å’Œè¡¨è§‚åŸºå› ç»„å­¦çš„å‘å±•ï¼ŒåŸºå› ç»„å­¦ç ”ç©¶çš„ç»´åº¦ç»å†äº†ä»ä¸€ç»´åˆ°ä¸‰ç»´çš„è½¬å˜ï¼š ä¸€ç»´ï¼šåŸºå› ç»„åºåˆ—çš„æµ‹å®šä¸ç»„è£… äºŒç»´ï¼šè°ƒæ§åºåˆ—&#x2F;è½¬å½•å› å­â€”åŸºå› äº’ä½œç½‘ç»œã€æŸ“è‰²è´¨çŠ¶æ€ã€è¡¨è§‚ä¿®é¥° ä¸‰ç»´ï¼šåŸºå› ç»„çš„ä¸‰ç»´ç©ºé—´ç»“æ„ åŸºå› ç»„ä¸æ˜¯ç®€å•çš„çº¿æ€§åºåˆ—ï¼Œæ˜¯æœ‰ä¸‰ç»´ç©ºé—´ç»“æ„çš„ï¼Œè€Œä¸”è¿™ç§ä¸‰ç»´ç©ºé—´ç»“æ„å¯ä»¥å¯¹DNAè¾…åŠ©ã€åŸºå› è½¬å½•è°ƒæ§ã€æŸ“è‰²è´¨æµ“ç¼©åˆ†ç¦»ç­‰ç”Ÿç‰©å­¦è¿‡ç¨‹äº§ç”Ÿé‡è¦çš„å½±å“ã€‚ æˆ‘ä»¬çŸ¥é“ï¼ŒçœŸæ ¸ç”Ÿç‰©çš„æŸ“è‰²è´¨ç»“æ„ç”±ä½çº§åˆ°é«˜çº§å¯ä»¥åˆ†ä¸º4ç§ï¼š ä¸€çº§ç»“æ„ï¼šä¸€ç³»åˆ—æ ¸å°ä½“ç›¸äº’è¿æ¥æˆçš„å¿µç çŠ¶ç»“æ„ äºŒçº§ç»“æ„ï¼šç”±æ ¸å°ä½“è¿æ¥èµ·æ¥çš„çº¤ç»´çŠ¶ç»“æ„ç»èºæ—‹åŒ–å½¢æˆä¸­ç©ºçš„èºçº¿ç®¡ ä¸‰çº§ç»“æ„ï¼šç”±èºçº¿ç®¡èºæ—‹åŒ–å½¢æˆçš„ç­’çŠ¶ç»“æ„ï¼Œç§°ä¸ºè¶…èºçº¿ç®¡ å››çº§ç»“æ„ï¼šè¶…èºçº¿ç®¡è¿›ä¸€æ­¥èºæ—‹æŠ˜å å½¢æˆæŸ“è‰²å•ä½“ ä¸‰ç»´åŸºå› ç»„çš„å±‚çº§ç»“æ„ç±»ä¼¼äºçœŸæ ¸ç”Ÿç‰©çš„æŸ“è‰²è´¨ç»“æ„ï¼Œåœ¨ä¸åŒçš„åˆ†è¾¨ç‡ä¸‹ä¹Ÿå¯ä»¥åˆ’åˆ†ä¸º4ä¸ªå±‚çº§ç»“æ„ï¼š æŸ“è‰²è´¨ç¯ï¼ˆChromatin loopsï¼‰ï¼Œåˆ†è¾¨ç‡ï¼š&lt;1 Kb - few Mbï¼šæŸ“è‰²è´¨åœ¨ç©ºé—´ä¸­å½¢æˆçš„ç¯çŠ¶ç»“æ„ï¼Œä½¿ç›¸è·å¾ˆè¿œçš„æŸ“è‰²è´¨åŒºåŸŸåœ¨ä¸‰ç»´ç©ºé—´ä¸­å¯ä»¥èšé›†åœ¨ä¸€èµ·ã€‚ æ‹“æ‰‘å…³è”ç»“æ„åŸŸï¼ˆTopologically associating Domains, TADï¼‰ï¼Œåˆ†è¾¨ç‡ï¼š40 Kb - 3 Mbï¼šç›¸äº’ä½œç”¨ç›¸å¯¹é¢‘ç¹çš„æŸ“è‰²è´¨åŒºåŸŸã€‚ æŸ“è‰²è´¨åŒºå®¤ï¼ˆA&#x2F;B compartmentsï¼‰ï¼Œåˆ†è¾¨ç‡ï¼š1 - 100 Mbï¼šA compartmentsï¼šå¼€æ”¾çš„æŸ“è‰²è´¨ã€è¡¨è¾¾æ´»è·ƒã€åŸºå› ä¸°å¯Œã€è¾ƒé«˜çš„GCå«é‡ã€æ¿€æ´»å‹çš„ç»„è›‹ç™½æ ‡è®°ï¼Œé€šå¸¸ä½äºç»†èƒæ ¸å†…éƒ¨ï¼›B compartmentsï¼šå…³é—­çš„æŸ“è‰²è´¨ã€è¡¨è¾¾ä¸æ´»è·ƒã€åŸºå› ç¼ºä¹ã€ç»“æ„ç´§å‡‘ã€æ²‰é»˜åŸºå› çš„ç»„è›‹ç™½æ ‡è®°ï¼Œé€šå¸¸ä½äºç»†èƒæ ¸å¤–å›´ã€‚ æŸ“è‰²è´¨ç–†åŸŸï¼ˆChromosome Territory, CTï¼‰ï¼Œåˆ†è¾¨ç‡ï¼š~100 Mbï¼šåœ¨çœŸæ ¸ç”Ÿç‰©ä¸­ï¼Œç»†èƒæ ¸å†…æŸ“è‰²è´¨åˆ†å¸ƒå¹¶ä¸æ˜¯éšæœºçš„ï¼Œä¸ºäº†è·¨è¶Šè¾ƒå¤§è·ç¦»å®ç°ç›¸äº’ä½œç”¨ï¼Œè¿™äº›æŸ“è‰²è´¨ä¼šåœ¨ä¸‰ç»´ç©ºé—´ä¸­é çš„æ›´è¿‘ï¼Œè¿™å°±æ˜¯æŸ“è‰²è´¨ç–†åŸŸã€‚ ä¸åŒå±‚æ¬¡åˆ†è¾¨ç‡ä¸‹çš„ç ”ç©¶é‡ç‚¹ä¸åŒï¼Œæ¯”å¦‚æœ€å°çš„loopå±‚æ¬¡å¯¹åº”çš„æ˜¯åŸºå› çº§åˆ«ç”šè‡³æ›´å°çš„å…ƒä»¶äº’ä½œï¼›10kbçº§åˆ«ä¸€èˆ¬å°±å¯ä»¥é‰´å®šTADä¹‹é—´çš„äº’ä½œå…³ç³»ï¼ˆä¹Ÿæ˜¯ç ”ç©¶æ¯”è¾ƒå¤šçš„ï¼‰ï¼›æ›´å¤§ä¸€äº›çš„æŸ“è‰²è´¨åŒºå®¤ä¹Ÿæ˜¯ç ”ç©¶æ¯”è¾ƒå¤šçš„å†…å®¹ï¼›åœ¨æŸ“è‰²è´¨ç–†åŸŸè¿™ä¸ªå±‚æ¬¡ä¸»è¦å°±æ˜¯ç ”ç©¶æŸ“è‰²ä½“ä¹‹é—´çš„äº’ä½œå…³ç³»äº†ã€‚ç›¸åº”çš„ï¼Œåˆ†è¾¨ç‡è¶Šé«˜ï¼Œéœ€è¦çš„æœ‰æ•ˆäº’ä½œæ•°æ®é‡ä¹Ÿè¶Šå¤§ã€‚ 2. ä¸‰ç»´åŸºå› ç»„æŠ€æœ¯ç›®å‰ä¸‰ç»´åŸºå› ç»„ç»“æ„çš„æ£€æµ‹æ—¶åŸºäºæŸ“è‰²ä½“æ„è±¡æ•è·æŠ€æœ¯ï¼Œä¹Ÿå°±æ˜¯3Cï¼ˆchromosome conformation captureï¼‰æŠ€æœ¯ï¼Œ3Cæ˜¯æ‰€æœ‰æŸ“è‰²ä½“æ„è±¡æ•è·æŠ€æœ¯çš„åŸºç¡€ã€‚æ ¹æ®æŸ“è‰²è´¨çš„äº’ä½œç±»å‹ï¼Œ3CæŠ€æœ¯åˆå¯ä»¥å¤§è‡´åˆ†ä¸º5ç§æ–¹æ³•ï¼š 1 versus 1ï¼š3Cçš„ç”±æ¥ï¼Œç»è¿‡é…¶åˆ‡ã€DNAç‰‡æ®µç»‘å®šã€åå‘äº¤è”åï¼Œé€šè¿‡qPCRç¡®è®¤äº’ä½œä½ç‚¹ã€‚ 1 versus Many&#x2F;Allï¼š4CæŠ€æœ¯ï¼Œ3CæŠ€æœ¯çš„å‡çº§ç‰ˆã€‚åå‘äº¤è”å‰å’Œ3Cä¸€æ ·ï¼Œç»è¿‡äº†ç¬¬äºŒè½®æ¶ˆåŒ–å’Œç»‘å®šï¼Œé€šè¿‡ç‰¹å®šä½ç‚¹çš„åå‘PCRæ£€æµ‹ç‰¹å®šä½ç‚¹ä¸å…¨åŸºå› ç»„æ½œåœ¨ä½ç‚¹äº’ä½œæƒ…å†µã€‚ Many versus Manyï¼š5CæŠ€æœ¯ï¼ŒåŸºäº3Cçš„å¦ä¸€å‡çº§ç‰ˆã€‚5CæŠ€æœ¯çš„é€šé‡å¢å¤§ã€‚ Many versus Allï¼šCapture-CæŠ€æœ¯ï¼Œæœ€å¤§ä¸åŒæ˜¯åœ¨äº’ä½œç‰‡æ®µå¯¹çš„æ•æ‰æŠ€æœ¯ä¸Šï¼Œå®ƒæ˜¯åˆ©ç”¨ç”Ÿç‰©ç´ æ ‡è®°åå‘äº’è¡¥åˆ°é™åˆ¶é…¶é…¶åˆ‡ä½ç‚¹ï¼Œä»è€Œè¿›è¡Œå¯¹æ‰€æœ‰æ„Ÿå…´è¶£çš„äº’ä½œä½ç‚¹å’Œå…¨åŸºå› ç»„ä½ç‚¹ä¹‹é—´äº’ä½œå¯¹ä¹‹é—´çš„æ•æ‰ã€‚ All versus All å…¶ä¸­â€œ1â€â€œManyâ€ä»¥åŠâ€œAllâ€ä»£è¡¨çš„æ˜¯åœ¨ä¸€æ¬¡å®éªŒä¸­æ‰€æ¶‰åŠçš„ä½ç‚¹ï¼Œæ¯”å¦‚è¯´ â€œ1 versus Allâ€ çš„æ„ä¹‰å°±æ˜¯è¯¥æ¬¡å®éªŒè°ƒæŸ¥çš„æ˜¯ä¸€ä¸ªä½ç‚¹å’Œå…¨åŸºå› ç»„ä¸­æ‰€æœ‰å¯èƒ½æ½œåœ¨äº’ä½œä½ç‚¹ä¹‹é—´çš„äº’ä½œæƒ…å†µã€‚ è¿‘å¹´æ¥all versus Allä¹Ÿå°±æ˜¯æ£€æµ‹å…¨å±€çš„äº’ä½œæŠ€æœ¯å‘å±•æ¯”è¾ƒå¿«ï¼Œæœ‰ä»¥ä¸‹ä¸€äº›æŠ€æœ¯åº”ç”¨ï¼š Hi-CæŠ€æœ¯ã€‚è¿‘å¹´æœ€ç«çš„å…¨åŸºå› ç»„ 3D åŸºå› ç»„æµ‹åºæŠ€æœ¯ï¼Œä¸ä»…å¯ä»¥ç”¨äºæ£€æµ‹å…¨åŸºå› ç»„çš„ä¸‰ç»´åŸºå› ç»„ç»“æ„å’ŒæŸ“è‰²è´¨äº’ä½œï¼ŒåŒæ—¶è¿˜å¯ä»¥ç”¨äºè¾…åŠ©åŸºå› ç»„ç»„è£…ï¼ˆåŒæ ·ç”¨çš„å¾ˆå¤šï¼Œç°åœ¨ç»„å‚è€ƒåŸºå› ç»„éƒ½è¦æµ‹HiCï¼Œä»¥ç»„è£…åˆ°æŸ“è‰²ä½“æ°´å¹³ï¼‰ç­‰ã€‚ ChIA-PETæŠ€æœ¯ï¼ˆ chromatin interaction analysis paired-end tag sequencingï¼‰ï¼šä¸3CåŸºç¡€ä¸Šå‘å±•çš„å…¶ä»–æŠ€æœ¯ä¸åŒï¼ŒåŒºåˆ«åœ¨äºç¬¬ä¸€æ­¥å¯¹äºäº’ä½œä½ç‚¹çš„ DNA ç ´ç¢ä¸æ˜¯é€šè¿‡é™åˆ¶é…¶è¿›è¡Œæ¶ˆåŒ–ï¼Œè€Œæ˜¯åˆ©ç”¨è¶…å£°æ³¢å‡»ç¢ã€‚ç„¶ååº”ç”¨æŠ—ä½“å¯¹ç‰¹å®šè›‹ç™½å‚ä¸çš„äº’ä½œåŒºæ®µè¿›è¡Œå¯Œé›†ï¼Œå¹¶å¯¹è¿™äº›äº’ä½œåŒºæ®µè¿›è¡Œæ¶ˆåŒ–è¿æ¥ï¼Œæå–å«æœ‰æ¥å¤´çš„åŒç«¯åºåˆ—ï¼ˆ paired end tagï¼Œ PETï¼‰è¿›è¡Œäº’ä½œæ£€æµ‹ã€‚ DLO Hi-CæŠ€æœ¯ï¼ˆ digestion-ligation-only Hi-Cï¼‰ï¼šè¯¥æŠ€æœ¯ç›¸å¯¹äºä¼ ç»Ÿçš„å…¨åŸºå› ç»„æŸ“è‰²ä½“æ„è±¡æ•è·æŠ€æœ¯ Hi-C è€Œè¨€æ›´åŠ é«˜æ•ˆç®€å•ï¼Œä»…éœ€è¦ä¸¤è½®çš„æ¶ˆåŒ–è¿æ¥è¿‡ç¨‹ï¼Œæ— é¡»ç”Ÿç‰©ç´ æ ‡è®°ï¼Œæœªè¿æ¥çš„ DNA ä¹Ÿå¯ä»¥è¢«æœ‰æ•ˆåœ°å»é™¤ï¼Œæå¤§åœ°æé«˜äº†æŸ“è‰²ä½“æ„æƒ³æ•è·æ•ˆç‡ã€‚ DLO Hi-C æŠ€æœ¯æ›´åƒæ˜¯ Hi-C æŠ€æœ¯çš„ä¸€ä¸ªå‡çº§ä¼˜åŒ–ã€‚ åŸä½Hi-C (in situ Hi-C)ï¼šä½¿ç”¨å®Œæ•´çš„ç»†èƒæ ¸è¿›è¡Œåç»­ååº”ï¼Œå‡å°‘äº†Hi-Cä¸­éšæœºè¿æ¥é€ æˆçš„èƒŒæ™¯å™ªéŸ³ã€‚ä½¿ç”¨å››ç¢±åŸºé…¶Mbolè¿›è¡Œé…¶åˆ‡ï¼Œæé«˜äº†åˆ†è¾¨ç‡ï¼Œå®éªŒæ—¶é—´ç”±Hi-Cçš„7å¤©ç¼©çŸ­è‡³3å¤©ã€‚ HiChIP (in situ Hi-C followed by chromatin immunoprecipitation)ï¼šè¯¥æŠ€æœ¯æ˜¯ä¸€ç§åˆ©ç”¨åŸä½Hi-CåŸç†å’Œè½¬åº§é…¶ä»‹å¯¼æ„å»ºæ–‡åº“æ¥è§£ææŸ“è‰²è´¨æ„è±¡çš„æ–¹æ³•ã€‚ 3. åˆ©ç”¨Hi-Cæ•°æ®åˆ†ææ‹“æ‰‘å…³è”ç»“æ„åŸŸï¼ˆTADï¼‰ç°åœ¨Hi-Cæµ‹åºæ˜¯åº”ç”¨æœ€å¹¿æ³›çš„ä¸‰ç»´åŸºå› ç»„å­¦æŠ€æœ¯ï¼Œå¯¹Hi-Cæ•°æ®çš„å¤„ç†ï¼Œæ„å»ºHi-Cäº’ä½œå›¾è°±å’Œé‰´å®šTADç»“æ„åŸŸæ˜¯æœ€å…³é”®çš„é—®é¢˜ï¼Œä¹Ÿå‘å±•äº†ä¸€å¤§æ‰¹ä¸“é—¨çš„ç”Ÿç‰©ä¿¡æ¯å­¦ç®—æ³•è½¯ä»¶ï¼Œæˆ‘è¿™é‡Œç”¨ç»å…¸çš„è½¯ä»¶HiC-Proã€HiCPlotterå’ŒRåŒ…HiTCè·‘ä¸€éHi-Cæ•°æ®åˆ†æçš„æµç¨‹ã€‚ ä¸ºäº†å¿«é€Ÿå¾—åˆ°ç»“æœï¼Œè¿™é‡Œé€‰æ‹©äº†Gossypium hirsutumå››å€ä½“é™†åœ°æ£‰çš„ä¸¤æ¡æŸ“è‰²ä½“å‚è€ƒåºåˆ—ï¼Œå’Œä¸€éƒ¨åˆ†Hi-Cæµ‹åºç»“æœï¼ˆ50ä¸‡æ¡readsçš„åŒç«¯æµ‹åºç»“æœï¼‰è·‘ä¸‹æµç¨‹ã€‚åç»­åˆ¶ä½œHi-Cäº’ä½œçŸ©é˜µï¼Œå’Œåˆ†æCompartmentå’ŒTADçš„.bedåç¼€æ–‡ä»¶å’Œ.matrixåç¼€æ–‡ä»¶æ¥è‡ªå°¤å¸ˆå§ï¼ˆå‰é¢çš„è¿™ç‚¹æ•°æ®åšä¸å‡ºäº’ä½œå›¾ï¼Œå¤ªå°‘äº†ï¼Œè·‘å®Œæ‰€æœ‰æ•°æ®åˆå¾ˆæ…¢â€¦â€¦ï¼‰ã€‚ ä¸¤ä¸ªè½¯ä»¶å®‰è£…è¿‡ç¨‹å°±ä¸è¯´äº†ï¼Œå¯ä»¥å‚è€ƒgithubå®˜æ–¹ï¼Œå¦‚æœHiC-Proå¾ˆéš¾å®‰è£…ä¾èµ–çš„è¯å¯ä»¥ç”¨å®˜æ–¹æä¾›çš„singularityé•œåƒï¼š nservant&#x2F;HiC-Pro: HiC-Pro: An optimized and flexible pipeline for Hi-C data processing (github.com) å½“å‰è·¯å¾„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š 3.1 è·å¾—æŸ“è‰²è´¨äº’ä½œçŸ©é˜µï¼ˆHiC-Proï¼‰12345678# 1.å‡†å¤‡é…¶åˆ‡ç‰‡æ®µ## dpniiæ˜¯é€‰æ‹©çš„é™åˆ¶æ€§æ ¸é…¸å†…åˆ‡é…¶ï¼Œå¯ä»¥ç”¨åˆ«çš„ï¼ŒæŸ¥çœ‹digest_genome.pyæºç python digest_genome.py Gh_genome.fa â€“r dpnii â€“o Gh_dpnii.bed# 2.ç»Ÿè®¡é…¶åˆ‡ç‰‡æ®µå¤§å°awk â€™&#123;print $3-$2;&#125;â€™ Gh_dpnii.bed &gt; Gh_dpnii_size.txt# 3.æ„å»ºå‚è€ƒåŸºå› ç»„ç´¢å¼•ï¼Œç”ŸæˆåŸºå› ç»„å¤§å°çš„æ–‡ä»¶samtools faidx Gh_genome.faawk â€˜&#123;print $1â€\\tâ€$2;&#125;â€™ Gh_genome.fa.fai &gt; Gh_size.txt è¿™é‡Œé…¶åˆ‡å‚è€ƒåŸºå› ç»„ç”Ÿæˆçš„bedæ–‡ä»¶å¦‚ä¸‹æ‰€ç¤ºï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142# 4.ä¿®æ”¹configæ–‡ä»¶## ä¸»è¦ä¿®æ”¹åŸºå› ç»„ç´¢å¼•æ–‡ä»¶è·¯å¾„ã€åŸºå› ç»„å¤§å°æ–‡ä»¶è·¯å¾„ã€é…¶åˆ‡ç‰‡æ®µæ–‡ä»¶è·¯å¾„å’Œåˆ†è¾¨ç‡## BOWTIE2_IDX_PATHã€GENOME_SIZEã€GENOME_FRAGMENTã€BIN_SIZEvim config.txt######################################################################### Alignment options#######################################################################FORMAT = phred33MIN_MAPQ = 0BOWTIE2_IDX_PATH = /home/Bioinfor/Gh_indexBOWTIE2_GLOBAL_OPTIONS = --very-sensitive -L 30 --score-min L,-0.6,-0.2 --end-to-end --reorderBOWTIE2_LOCAL_OPTIONS = --very-sensitive -L 20 --score-min L,-0.6,-0.2 --end-to-end --reorder######################################################################### Annotation files#######################################################################REFERENCE_GENOME = GhGENOME_SIZE = /home/Bioinfor/Gh_size.txt######################################################################### Digestion Hi-C#######################################################################GENOME_FRAGMENT = /home/Bioinfor/Gh_dpnii.bedLIGATION_SITE = AAGCTAGCTTMIN_FRAG_SIZE = 100MAX_FRAG_SIZE = 160000MIN_INSERT_SIZE = 200MAX_INSERT_SIZE = 600######################################################################### Contact Maps#######################################################################BIN_SIZE = 5000 20000 100000MATRIX_FORMAT = upper ä¸»è¦æ˜¯ä¿®æ”¹ä»¥ä¸Šå†…å®¹ï¼Œä½†ä¹Ÿè¦æ³¨æ„ä¸‹Hi-CåŒç«¯æµ‹åºæ–‡ä»¶çš„åç¼€ï¼Œè¦è®©è½¯ä»¶èƒ½åŒ¹é…ä¸Šã€‚ 12# 5.è¿è¡ŒHiC-Proï¼Œè·å¾—æŸ“è‰²è´¨äº’ä½œçŸ©é˜µHiC-Pro -c config.txt -i Gh/ -o HiC_Pro_out HiC-Proçš„ä¸»è¦ç»“æœæ”¾ç½®åœ¨ç›®å½•HiC_Pro_out&#x2F; hic_results&#x2F;matrix&#x2F;Gh&#x2F;ä¸‹ï¼Œä¸º5000ã€20000ã€100000 åˆ†è¾¨ç‡ä¸‹çš„_abs.bed ä»¥åŠ_iced.matrixåç¼€æ–‡ä»¶ã€‚å…¶ä»–ç»“æœæ–‡ä»¶å’Œåˆ†æå›¾ç‰‡å¯ä»¥åœ¨hic_resultsæ–‡ä»¶å¤¹é‡ŒæŸ¥çœ‹ï¼Œè¿™é‡Œä¸å±•ç¤ºäº†ã€‚ ä¸»è¦å±•ç¤ºåç»­ç”¨çš„æ–‡ä»¶ï¼Œä»¥ä¸‹ä¸ºGh_5000_abs.bedæ–‡ä»¶ï¼š è¿™ä¸ªæ–‡ä»¶å°†æŸ“è‰²ä½“åˆ’åˆ†ä¸º5000 bpçš„binï¼Œå¹¶ä¸”åœ¨ç¬¬å››åˆ—è¿›è¡Œç¼–å·ã€‚ ä»¥ä¸‹ä¸ºGh_5000_iced.matrixæ–‡ä»¶ï¼š è¿™ä¸ªæ–‡ä»¶ç¬¬ä¸€åˆ—å’Œç¬¬äºŒåˆ—éƒ½æ˜¯binç¼–å·ï¼Œç¬¬ä¸‰åˆ—ä¸ºä¸¤ä¸ªbinä¹‹é—´å½’ä¸€åŒ–ä¹‹åçš„äº’ä½œå¼ºåº¦ã€‚ 3.2 ç»˜åˆ¶æŸ“è‰²è´¨äº’ä½œå›¾ï¼ˆHiCPlotterï¼‰è¿™é‡Œä½¿ç”¨çš„æ˜¯å°¤å¸ˆå§æä¾›çš„è·‘å®Œäº†A01æŸ“è‰²ä½“çš„Gh_20000_iced.matrixä¸Gh_20000_abs.bedæ–‡ä»¶ï¼ˆæˆ‘çš„ç¤ºä¾‹Hi-Cæ•°æ®é‡å¤ªå°‘ï¼‰ã€‚ 1234567891011# HiCPlotterç»˜åˆ¶æŸ“è‰²ä½“äº’ä½œå›¾python HiCPlotter.py -f Gh_20000_iced.matrix -o Ghir_A01 -r 20000 -tri 1 -bed Gh_20000_abs.bed -n Ghir_A01 -chr Ghir_A01## HiCPlotterç»˜åˆ¶æŸ“è‰²è´¨äº’ä½œå‡ ä¸ªå¸¸ç”¨å‚æ•°ï¼š-chr æŸ“è‰²ä½“åç§°ï¼Œå¦‚æœæŸ“è‰²ä½“åç§°ä¸æ˜¯Chr*ï¼Œ-chrå‚æ•°éœ€ä¼ å…¥å¯¹åº”çš„å€¼-o è¾“å‡ºæ–‡ä»¶å-tri é»˜è®¤å€¼ä¸º0ï¼Œ1ä»£è¡¨ç€ä¼ å…¥çš„matrixå’Œbedæ–‡ä»¶æ˜¯HiC-Proè¿è¡Œçš„ç»“æœ-r åˆ†è¾¨ç‡-n ä»»åŠ¡å# ZModemåè®®ä¼ è¾“æ–‡ä»¶sz Ghir_A01-Ghir_A01.ofBins\\(0-5887\\).20K.png æŸ“è‰²ä½“Ghir_A01å†…éƒ¨çš„äº’ä½œå›¾Ghir_A01-Ghir_A01.ofBins(0-5887).20K.pngå¦‚ä¸‹æ‰€ç¤ºã€‚ 3.3 é‰´å®šTADï¼ˆHiCPlotterï¼‰è¿™é‡Œä½¿ç”¨çš„æ•°æ®ä¸3.2ä¸€æ ·ã€‚ 12345678910# HiCPlotteré‰´å®šTADpython HiCPlotter.py -f Gh_20000_iced.matrix â€“bed Gh_20000_abs.bed â€“o TAD -r 20000 -n Ghir_A01 -chr Ghir_A01 -tri 1 -fh 0 -s 600 -e 900 -ptd 1 -pi 1## HiCPlotterç»˜åˆ¶TADå‡ ä¸ªå¸¸ç”¨å‚æ•°ï¼š-ptd é»˜è®¤0ï¼Œè¾“å…¥1ï¼Œè°ƒç”¨ç»˜åˆ¶TADç®—æ³•-fh è¾“å…¥æ–‡ä»¶ä¸­æŠ¬å¤´éœ€è¦åˆ é™¤çš„è¡Œæ•°ï¼Œæ²¡æœ‰header lineså°±æ˜¯0-s èµ·å§‹ä½ç‚¹ï¼ˆç¬¬å‡ ä¸ªbinï¼‰-e ç»“æŸä½ç‚¹ï¼ˆç¬¬å‡ ä¸ªbinï¼‰# ZModemåè®®ä¼ è¾“æ–‡ä»¶sz TAD-Ghir_A01.ofBins\\(600-900\\).20K.png æŸ“è‰²ä½“Ghir_A01çš„12Mbåˆ°18Mbä¹‹é—´TADé‰´å®šç»“æœå›¾TAD-Ghir_A01.ofBins(600-900).20K.pngå¦‚ä¸‹ï¼š 3.4 é‰´å®šæŸ“è‰²è´¨åŒºå®¤å’ŒTADï¼ˆHiTCåŒ…ï¼‰è¿™é‡Œä½¿ç”¨çš„æ•°æ®æ¥è‡ªå°¤å¸ˆå§æä¾›çš„LG02_50000_abs.bedä¸LG02_50000_iced.matrixæ–‡ä»¶ï¼Œä¹Ÿæ˜¯HiC-Proè·‘å‡ºæ¥çš„ç»“æœæ–‡ä»¶ã€‚ å› ä¸ºç”¨åˆ°äº†RåŒ…ï¼Œé›†ç¾¤Ræœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘æš‚æ—¶ä¼ åˆ°æœ¬åœ°ç”¨è‡ªå·±ç”µè„‘è·‘äº†ä¸‹ï¼š 12345678910111213141516# ä¸‹è½½å’ŒåŠ è½½HiTCåŒ…&gt; BiocManager::install(&quot;HiTC&quot;)&gt; setwd(&quot;D:/zhuomian/D5_50Kb/D5_50Kb&quot;)&gt; library(HiTC)# å¯¼å…¥æ•°æ®ï¼ˆimportCå‡½æ•°è¯»å–HiC-proçš„ç»“æœï¼‰&gt; mydata &lt;- importC(&quot;D:/zhuomian/D5_50Kb/D5_50Kb/LG02_50000_iced.matrix&quot;, xgi.bed = &quot;D:/zhuomian/D5_50Kb/D5_50Kb/LG02_50000_abs.bed&quot;)# ä¸»æˆåˆ†åˆ†æå’Œé‰´å®šCompartment&gt; pc &lt;- pca.hic(mydata$LG02LG02, npc = 1, asGRangesList = TRUE)&gt; write.csv(pc, file = &quot;D:/zhuomian/D5_50Kb/D5_50Kb/LG02_50k.csv&quot;)&gt; mydata2 &lt;- read.table(&quot;D:/zhuomian/D5_50Kb/D5_50Kb/LG03_50k.csv&quot;,header = TRUE,sep = &quot;,&quot;)&gt; barplot(mydata2$score)# çƒ­å›¾å±•ç¤º&gt; mapC(mydata$LG02LG02, trim.range = 0.94, col.pos = c(&quot;white&quot;, &quot;red&quot;)) è¿™é‡Œä¸»æˆåˆ†åˆ†æå¾—åˆ°çš„LG02_50k.csvï¼Œç»Ÿè®¡ç¬¬ä¸€ä¸»æˆåˆ†scoreåšæ¡å½¢å›¾å°±å¯ä»¥é‰´å®šæŸ“è‰²è´¨åŒºå®¤Compartment A&#x2F;Bäº†ï¼Œä»¥ä¸‹é“¾æ¥æ˜¯æå‡ºè€…çš„æ–‡ç« ã€‚ https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2858594/ è·‘å‡ºæ¥çš„äº’ä½œçƒ­å›¾å¦‚ä¸‹ï¼š ä¹Ÿå¯ä»¥é€‰å–æŸ“è‰²ä½“çš„ä¸€éƒ¨åˆ†ï¼ˆä¸€èˆ¬æ˜¯è‡ªå·±æ„Ÿå…´è¶£çš„éƒ¨åˆ†ï¼‰ï¼Œåšçƒ­å›¾ï¼š 12&gt; data1 &lt;- extractRegion(mydata$LG02LG02,chr = &quot;LG02&quot;, from = 1000, to = 5000000)&gt; mapC(data1, trim.range = 0.94,col.pos = c(&quot;white&quot;, &quot;red&quot;)) å…³äºå¦‚ä½•ç”¨HiTCåŒ…åˆ†æHi-Cæ•°æ®ï¼Œä¹Ÿå¯ä»¥çœ‹bioconductorçš„ä¸€ç¯‡æ–‡ç« ï¼š Analyzing Hi-C data with the HiTC BioC package (bioconductor.org)","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ä¸‰ç»´åŸºå› ç»„å­¦","slug":"ä¸‰ç»´åŸºå› ç»„å­¦","permalink":"http://www.shelven.com/categories/%E4%B8%89%E7%BB%B4%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"}],"tags":[{"name":"HiC-Pro","slug":"HiC-Pro","permalink":"http://www.shelven.com/tags/HiC-Pro/"},{"name":"HiCPlotter","slug":"HiCPlotter","permalink":"http://www.shelven.com/tags/HiCPlotter/"},{"name":"HiTC","slug":"HiTC","permalink":"http://www.shelven.com/tags/HiTC/"}]},{"title":"å•ç»†èƒè½¬å½•ç»„åˆ†æ","slug":"å•ç»†èƒè½¬å½•ç»„åˆ†æ","date":"2023-06-13T14:06:51.000Z","updated":"2023-06-16T08:50:07.000Z","comments":true,"path":"2023/06/13/a.html","link":"","permalink":"http://www.shelven.com/2023/06/13/a.html","excerpt":"æœ€è¿‘å› ä¸ºå­¦æ ¡ç½‘ç»œä¿¡æ¯ä¸­å¿ƒå‡çº§é˜²ç«å¢™ï¼Œå¯¼è‡´é›†ç¾¤æ— æ³•è®¿é—®å…¬ç½‘ï¼Œæˆ‘æ­å»ºçš„åå‘ä»£ç†æœåŠ¡å™¨ä¹Ÿæš‚æ—¶æ— æ³•ä½¿ç”¨ï¼ˆçœŸçš„æƒ³åæ§½å­¦æ ¡çš„ç½‘ç»œç®¡ç†å‘˜ï¼Œä¸‰ä¸ªæ˜ŸæœŸäº†è¿˜æ²¡èƒ½è§£å†³é›†ç¾¤çš„ç½‘ç»œé—®é¢˜ï¼‰â€¦â€¦è¿‘æœŸè¦è¿›è¡Œä¸­æœŸç­”è¾©ï¼Œå…ˆç”¨å‘æ—¥è‘µè¿œç¨‹ä¸€ä¸‹å®éªŒå®¤é—²ç½®çš„ç”µè„‘åº”æ€¥ï¼Œé¡ºä¾¿æŠŠæœ€è¿‘çš„å­¦ä¹ ç¬”è®°è¡¥ä¸Šã€‚ è¿™ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‹å•ç»†èƒç»„å­¦çš„å­¦ä¹ ï¼Œä»¥åŠå•ç»†èƒè½¬å½•ç»„ï¼ˆSingle-cell RNA-sequencingï¼ŒscRNA-seqï¼‰çš„åˆ†ææµç¨‹ã€‚","text":"æœ€è¿‘å› ä¸ºå­¦æ ¡ç½‘ç»œä¿¡æ¯ä¸­å¿ƒå‡çº§é˜²ç«å¢™ï¼Œå¯¼è‡´é›†ç¾¤æ— æ³•è®¿é—®å…¬ç½‘ï¼Œæˆ‘æ­å»ºçš„åå‘ä»£ç†æœåŠ¡å™¨ä¹Ÿæš‚æ—¶æ— æ³•ä½¿ç”¨ï¼ˆçœŸçš„æƒ³åæ§½å­¦æ ¡çš„ç½‘ç»œç®¡ç†å‘˜ï¼Œä¸‰ä¸ªæ˜ŸæœŸäº†è¿˜æ²¡èƒ½è§£å†³é›†ç¾¤çš„ç½‘ç»œé—®é¢˜ï¼‰â€¦â€¦è¿‘æœŸè¦è¿›è¡Œä¸­æœŸç­”è¾©ï¼Œå…ˆç”¨å‘æ—¥è‘µè¿œç¨‹ä¸€ä¸‹å®éªŒå®¤é—²ç½®çš„ç”µè„‘åº”æ€¥ï¼Œé¡ºä¾¿æŠŠæœ€è¿‘çš„å­¦ä¹ ç¬”è®°è¡¥ä¸Šã€‚ è¿™ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‹å•ç»†èƒç»„å­¦çš„å­¦ä¹ ï¼Œä»¥åŠå•ç»†èƒè½¬å½•ç»„ï¼ˆSingle-cell RNA-sequencingï¼ŒscRNA-seqï¼‰çš„åˆ†ææµç¨‹ã€‚ 1. å•ç»†èƒæµ‹åºå‘å±•æˆ‘ä»¬åšæ¤ç‰©é«˜é€šé‡æµ‹åºåšçš„æœ€å¤šçš„æ˜¯RNA-seqï¼Œæ¯”è¾ƒä¸åŒç»„ç»‡ã€ä¸åŒæ—¶æœŸæˆ–è€…ä¸åŒå¤„ç†ä¸‹åŒä¸€ä¸ªç»„ç»‡åŸºå› çš„å·®å¼‚è¡¨è¾¾ã€‚æˆ‘ä»¬åšRNA-seqæ˜¯å»ºç«‹åœ¨å¯¹ä¸€ä¸ªç»„ç»‡çš„ç»†èƒè¿›è¡Œæµ‹åºçš„åŸºç¡€ä¸Šï¼Œè€Œç»„ç»‡æ˜¯å‡ ç±»ç»†èƒçš„é›†åˆï¼Œå› æ­¤æˆ‘ä»¬å¾—åˆ°çš„åŸºå› è¡¨è¾¾é‡æ˜¯æ‰€æœ‰ç»†èƒçš„å¹³å‡å€¼ã€‚ å•ç»†èƒæµ‹åºå¯ä»¥åœ¨å•ä¸ªç»†èƒçš„æ°´å¹³ä¸Šæ„å»ºç»†èƒå›¾è°±ï¼Œè®©æˆ‘ä»¬æ›´æ·±å…¥äº†è§£æ¤ç‰©ç»„ç»‡çš„ç»†èƒç±»å‹ï¼Œè·å–æ¯ä¸ªç»†èƒçš„è½¬å½•æœ¬ä¿¡æ¯ï¼Œç ”ç©¶ç»†èƒçš„å‘è‚²åŠ¨æ€ï¼ˆæ¯”å¦‚ç»†èƒå¦‚ä½•è¿›è¡Œåˆ†åŒ–ï¼‰ç­‰ç­‰ã€‚ Natureæ‚å¿—æ¯å¹´éƒ½ä¼šæ€»ç»“æ¯ä¸ªé¢†åŸŸæœ€æœ‰ä»·å€¼çš„å¹´åº¦æŠ€æœ¯ï¼Œ2018å¹´æ˜¯å•ç»†èƒè½¬å½•ç»„æŠ€æœ¯ï¼Œ2019å¹´æ˜¯å•ç»†èƒå¤šç»„å­¦æŠ€æœ¯ï¼Œ2020å¹´æ˜¯ç©ºé—´è½¬å½•ç»„æŠ€æœ¯ï¼Œå¯ä»¥çœ‹å‡ºå¸¦æœ‰å•ç»†èƒå’Œç©ºé—´åˆ†è¾¨ç‡è½¬å½•ç»„æŠ€æœ¯åº”ç”¨çš„é‡è¦æ€§ã€‚ ä¸Šå›¾æ˜¯å•ç»†èƒæŠ€æœ¯åœ¨æ¤ç‰©ä¸­çš„ç ”ç©¶å†ç¨‹ï¼Œæœ€åä¸€ä¸ª2022å¹´çš„Stereo-seqä¹Ÿå°±æ˜¯åå¤§è‡ªç ”çš„æ—¶ç©ºç»„å­¦æŠ€æœ¯ï¼Œæ®åå¤§å‘è¡¨åœ¨cellä¸Šçš„æ–‡ç« Spatiotemporal transcriptomic atlas of mouse organogenesis using DNA nanoball-patterned arraysæè¿°ï¼ŒStereo-seqçš„æŠ€æœ¯å‚æ•°ä¼˜äºå½“å‰å…¶ä»–ç©ºé—´è½¬å½•ç»„æŠ€æœ¯ï¼Œå¯¹ç©ºé—´å¼‚è´¨æ€§çš„æè¿°æ›´ä¸ºçµæ•å’Œç›´è§‚ã€‚ å¯¹äºStereo-seqæˆ‘ä¸ªäººçš„ç†è§£æ˜¯è¡¥ä¸Šäº†éƒ¨åˆ†ç©ºé—´è½¬å½•ç»„æµ‹åºæ— æ³•åšåˆ°å•ä¸ªç»†èƒåˆ†è¾¨ç‡çš„çŸ­æ¿ï¼ŒçœŸæ­£åšåˆ°å¯¹åŠ¨æ¤ç‰©çš„ç»„ç»‡æˆ–è€…å™¨å®˜ä¸­çš„æ‰€æœ‰ç»†èƒè¿›è¡Œè½¬å½•ç»„ä¿¡æ¯åˆ†æï¼Œé‰´å®šä¸åŒç±»å‹ç»†èƒçš„å·®å¼‚åŸºå› è¡¨è¾¾ï¼Œæ„å»ºç©ºé—´å›¾è°±æ¥åˆ†è¾¨ä¸åŒç»†èƒçš„å‘è‚²è½¨è¿¹ã€‚æ„Ÿå…´è¶£å¯ä»¥çœ‹ä¸‹é¢åå¤§çš„è¿™ç¯‡scStereo-seqæŠ€æœ¯ç”¨äºæ‹Ÿå—èŠ¥çš„æ–‡ç« ï¼šThe single-cell stereo-seq reveals region-specific cell subtypes and transcriptome profiling in Arabidopsis leaves - ScienceDirect 2. å•ç»†èƒæµ‹åºå¹³å° 10x Genomics Chromium å¾®æµæ§èŠ¯ç‰‡æŠ€æœ¯è·å¾—å•ç»†èƒååº”ä½“ç³»ï¼Œå¹¶åœ¨ä¼ ç»Ÿæ–‡åº“æ„å»ºçš„åŸºç¡€ä¸Šå¼•å…¥æ ‡ç­¾ï¼Œé€šè¿‡è¿½æº¯æ ‡ç­¾åºåˆ—å°†ä¼—å¤šmRNAã€è¡¨é¢è›‹ç™½ä¿¡æ¯å®šä½å›åŸæ¥çš„å•ä¸ªç»†èƒã€‚æ•è·æ•ˆç‡æœ€é«˜è¾¾65% BD Rhapsodyâ„¢ Single-Cell Analysis System èƒ½ä¸ºå•ç»†èƒä¸­æ¯ä¸ªè½¬å½•æœ¬æ ‡è®°ç‰¹å¼‚æ€§åˆ†å­æ ‡ç­¾ï¼Œå®ç°å•ç»†èƒæ°´å¹³ä¸ŠåŸºå› è¡¨è¾¾è°±çš„ç»å¯¹å®šé‡ã€‚æ•è·æ•ˆç‡æœ€é«˜è¾¾80% IlluminaÂ® Bio-RadÂ® Single-Cell Sequencing Solution æ•è·æ•ˆç‡ä½ï¼Œä»…ä¸º3%ï¼Œä½†æµ‹åºæˆæœ¬ç›¸å¯¹è¾ƒä½ ICELL8 Single-Cell System æ•è·æ•ˆç‡ä¸º30%ï¼Œæˆæœ¬ç›¸å¯¹è¾ƒä½ C1â„¢ å•ç»†èƒå…¨è‡ªåŠ¨åˆ¶å¤‡ç³»ç»Ÿ é€šé‡ä½ã€æˆæœ¬é«˜ã€å‘¨æœŸæ…¢ã€å¯¹è¯•éªŒäººå‘˜è¦æ±‚é«˜ï¼Œæ“ä½œè¾ƒç¹çå’Œå›°éš¾ 3. å•ç»†èƒæµ‹åºåˆ†ææµç¨‹ è´¨æ§éƒ¨åˆ†å’ŒRNA-seqæ²¡æœ‰åŒºåˆ«ï¼Œå»æ‰ä½è´¨é‡çš„è¯»åºå’Œæµ‹åºæ¥å¤´ã€‚10X Genomicså¹³å°æµ‹çš„å•ç»†èƒæ•°æ®éœ€è¦é€šè¿‡Cell Rangerå›æ¯”åˆ°å‚è€ƒåŸºå› ç»„ï¼Œç¤ºä¾‹ç”¨æ³•å¦‚ä¸‹ï¼š 12345678 cellranger count --id=sample345 --transcriptome=/opt/refdata-cellranger-GRCh38-3.0.0 --fastqs=/home/jdoe/runs/HAWT7ADXX/outs/fastq_path --sample=mysample# --id æ–‡ä»¶å# --transcriptome å‚è€ƒåŸºå› ç»„# --fastqs è½¬å½•ç»„æ•°æ®æ‰€åœ¨çš„è·¯å¾„# --sample æŒ‡å®šè¦ä½¿ç”¨çš„æ ·æœ¬ è¿™é‡Œä¸»è¦è®°å½•ä¸‹ç»†èƒè¿‡æ»¤åˆ°äºšç¾¤å®šä¹‰å’Œæ ‡è®°åŸºå› ç­›é€‰æ‰€è¦ç”¨åˆ°çš„è½¯ä»¶Seurat4ã€‚å› ä¸ºæˆ‘è‡ªå·±æ²¡æœ‰è¿™æ–¹é¢çš„å®éªŒæ•°æ®ï¼Œä»…ä»…åªæ˜¯å°è¯•è·‘ä¸‹æµç¨‹ï¼Œä»¥ä¸‹åˆ†ææµç¨‹å’Œä»£ç æ¥è‡ªï¼š å•ç»†èƒè½¬å½•ç»„|Seurat 4.0 ä½¿ç”¨æŒ‡å— - çŸ¥ä¹ (zhihu.com) ã€ŠSeurat 4 RåŒ…æºç è§£æã€‹ æ€»ç›®å½• | å•ç»†èƒè½¬å½•ç»„åˆ†ææ ‡å‡†æµç¨‹ - çŸ¥ä¹ (zhihu.com) ç¤ºä¾‹æ•°æ®æ¥è‡ª10X Genomicså…è´¹æä¾›çš„å¤–å‘¨è¡€å•æ ¸ç»†èƒ(PBMC)æ•°æ®é›†ï¼šhttps://cf.10xgenomics.com/samples/cell/pbmc3k/pbmc3k_filtered_gene_bc_matrices.tar.gz å°†ç¤ºä¾‹æ•°æ®ä¸Šä¼ è‡³é›†ç¾¤ï¼Œè§£å‹ï¼Œå¾—åˆ°å¦‚ä¸‹æ–‡ä»¶ï¼š 123â”œâ”€â”€ barcodes.tsvï¼ˆ10X Genomicsæµ‹åºçš„ä¸ç»†èƒç›¸å…³çš„barcodeä¿¡æ¯ï¼Œç”¨äºæ ‡è¯†ç»†èƒï¼‰â”œâ”€â”€ genes.tsvï¼ˆåŸºå› ä¿¡æ¯ï¼ŒåŒ…æ‹¬äº†åŸºå› ç»„æ•°æ®åº“äººç±»ç™»è®°å·å’ŒåŸºå› åç§°ï¼‰â””â”€â”€ matrix.mtxï¼ˆåŸºå› è¡¨è¾¾é‡çŸ©é˜µï¼‰ è¿™ä¸‰ä¸ªæ–‡ä»¶å®é™…ä¸Šè¦é€šè¿‡è½¯ä»¶Cell Rangerå¯¹10X Genomicså•ç»†èƒæµ‹åºçš„ä¸‹æœºæ•°æ®è¿›è¡Œæ¯”å¯¹åŸºå› ç»„ï¼Œç»Ÿè®¡æ•è·çš„ç»†èƒæ•°ã€æµ‹åºé‡å¾—åˆ°ã€‚è¯¦ç»†å¯ä»¥å‚è€ƒå®˜æ–¹Cell Rangerè½¯ä»¶çš„ç”¨æ³•å’Œç»“æœåˆ†æï¼Œè¿™é‡Œç”¨çš„æ˜¯å®˜æ–¹æ•´ç†åçš„æ•°æ®ï¼Œåªè¿›è¡Œä¸‹ä¸€æ­¥Seuratåˆ†æçš„æ¼”ç¤ºã€‚ ä»¥æ‰€åœ¨ç›®å½•ä¸ºå·¥ä½œç›®å½•ï¼Œåœ¨linuxä¸­é”®å…¥Rè¿›å…¥äº¤äº’å‘½ä»¤è¡Œï¼Œè¿è¡ŒSeuratã€‚ 3.1 å¯¼å…¥æ•°æ®å’Œåˆæ­¥è¿‡æ»¤123456789101112# å®‰è£…å’ŒåŠ è½½Seuratå’Œdplyrï¼ˆç”¨äºæ•°æ®æ¸…æ´—ï¼‰RåŒ…BiocManager::install(&quot;Seurat&quot;) BiocManager::install(&quot;dplyr&quot;)library(dplyr)library(Seurat)# è¯»å…¥æ•°æ®å¹¶åˆæ­¥ç­›é€‰pbmc.data &lt;- Read10X(data.dir=&quot;/path/to/yourfile&quot;)# åˆ›å»ºSeuratå¯¹è±¡ï¼Œè¿‡æ»¤æ£€æµ‹å°‘äº200ä¸ªåŸºå› çš„ç»†èƒï¼Œå’Œå°‘äº3ä¸ªç»†èƒæ£€æµ‹å‡ºçš„åŸºå› pbmc &lt;- CreateSeuratObject(counts = pbmc.data, project = &quot;pbmc3k&quot;, min.cells = 3, min.features = 200)pbmc å¯ä»¥çœ‹åˆ°åˆæ­¥è¿‡æ»¤åï¼Œç°åœ¨çš„ä¸€ä¸ªæ•°æ®é›†åŒ…å«äº†2700ä¸ªç»†èƒçš„13714ä¸ªåŸºå› ã€‚ 3.2 ç»†èƒè¿‡æ»¤123456789101112131415161718# æ–°å¢ä¸€åˆ—percent.mtç”¨äºç»Ÿè®¡æ˜ å°„åˆ°çº¿ç²’ä½“åŸºå› ç»„çš„readsç™¾åˆ†æ¯”pbmc[[&quot;percent.mt&quot;]] &lt;- PercentageFeatureSet(pbmc, pattern = &quot;^MT-&quot;)# ç»˜åˆ¶ç»†èƒçš„ä¸‰ç§ç‰¹å¾ï¼ŒnFeature_RNAï¼ˆæ¯ä¸ªç»†èƒæµ‹åˆ°çš„ç‰¹å¼‚åŸºå› æ•°ç›®ï¼‰ã€nCount_RNAï¼ˆæ¯ä¸ªç»†èƒæµ‹åˆ°æ‰€æœ‰åŸºå› çš„è¡¨è¾¾é‡ä¹‹å’Œï¼‰ã€percent.mtçš„å°æç´å›¾png(&quot;fig01_cell_feature.png&quot;)VlnPlot(pbmc, features = c(&quot;nFeature_RNA&quot;, &quot;nCount_RNA&quot;, &quot;percent.mt&quot;), ncol = 3)dev.off()# ç»†èƒç‰¹å¾é—´çš„ç›¸å…³æ€§ç»˜å›¾png(&quot;fig02_cell_feature_correlation.png&quot;, width=1000, height=400) plot1 &lt;- FeatureScatter(pbmc, feature1 = &quot;nCount_RNA&quot;, feature2 = &quot;percent.mt&quot;)plot2 &lt;- FeatureScatter(pbmc, feature1 = &quot;nCount_RNA&quot;, feature2 = &quot;nFeature_RNA&quot;)CombinePlots(plots = list(plot1, plot2))dev.off()# æ ¹æ®ç‰¹æ®ŠåŸºå› çš„æ•°ç›®ä»¥åŠçº¿ç²’ä½“åŸºå› æ¯”ä¾‹è¿‡æ»¤ç»†èƒï¼Œè¿™é‡Œé€‰å–200 &lt; nFeature_RNA &lt; 2500 å’Œpercent.mt &lt; 5çš„æ•°æ®pbmc &lt;- subset(pbmc, subset = nFeature_RNA &gt; 200 &amp; nFeature_RNA &lt; 2500 &amp; percent.mt &lt; 5) pbmc fig01_cell_feature.pngå¦‚ä¸‹æ‰€ç¤ºï¼š è¿™é‡Œå¯ä»¥çœ‹åˆ°æœ‰çš„ç»†èƒæ£€æµ‹åˆ°çš„ç‰¹å¼‚åŸºå› æ•°ç‰¹åˆ«å¤šï¼Œå¯èƒ½æ˜¯å› ä¸ºå¤šä¸ªç»†èƒè¢«åŒæ—¶æ•è·äº†ï¼Œè€Œç‰¹å¼‚åŸºå› æ•°ç‰¹åˆ«å°‘çš„å¯èƒ½æ˜¯ä½è´¨é‡ç»†èƒã€‚è€Œçº¿ç²’ä½“åŸºå› æ¯”ä¾‹ç‰¹åˆ«é«˜çš„ç»†èƒï¼Œæœ‰å¯èƒ½æ˜¯ä¸€äº›å¿«è¦æ­»äº¡çš„ç»†èƒã€‚è¿™äº›ä½è´¨é‡çš„ç»†èƒéœ€è¦åœ¨è¿™ä¸€æ­¥è¢«è¿‡æ»¤ã€‚ fig02_cell_feature_correlation.pngå¦‚ä¸‹æ‰€ç¤ºï¼š è¿™ä¸¤ä¸ªå›¾åˆ†åˆ«è¡¨ç¤ºäº†æ¯ä¸ªç»†èƒæµ‹åˆ°æ‰€æœ‰åŸºå› çš„è¡¨è¾¾é‡ä¹‹å’Œä¸çº¿ç²’ä½“åŸºå› ç»„ç™¾åˆ†æ¯”å‘ˆè´Ÿç›¸å…³ï¼Œæ¯ä¸ªç»†èƒæµ‹åˆ°æ‰€æœ‰åŸºå› çš„è¡¨è¾¾é‡ä¹‹å’Œä¸æ¯ä¸ªç»†èƒæµ‹åˆ°çš„ç‰¹å¼‚åŸºå› æ•°ç›®å‘ˆæ­£ç›¸å…³ã€‚ è¿™ä¸€æ­¥è¿‡æ»¤åæ•°æ®é›†å‰©ä¸‹2638ä¸ªç»†èƒï¼Œå…±13714ä¸ªåŸºå› ã€‚ 3.3 ç»†èƒç¾¤ä½“èšç±»1234567891011121314151617# è¡¨è¾¾æ°´å¹³æ ‡å‡†åŒ–## normalization.method æ ‡å‡†åŒ–æ–¹æ³•ï¼Œé»˜è®¤ä¸ºâ€œLogNormalizeâ€## scale.factor æ¯”ä¾‹å› å­ï¼Œç”¨ä»¥è®¡ç®—æ ‡å‡†åŒ–å€¼ï¼Œé»˜è®¤ä¸ºâ€œ10000â€pbmc &lt;- NormalizeData(pbmc, normalization.method = &quot;LogNormalize&quot;, scale.factor = 10000)# é‰´å®šmarkåŸºå› ï¼ˆä¹Ÿå°±æ˜¯ç‰¹å¾åŸºå› ï¼‰## selection.method markåŸºå› ç­›é€‰æ–¹æ³•ï¼Œâ€œvstâ€ä¸ºé€šè¿‡æ–¹å·®ä¸å‡å€¼æ¯”è¿›è¡Œç­›é€‰## nfeatures è¦ç­›é€‰çš„markåŸºå› çš„æ•°ç›®pbmc &lt;- FindVariableFeatures(pbmc, selection.method = &quot;vst&quot;, nfeatures = 2000)top10 &lt;- head(VariableFeatures(pbmc), 10)# å±•ç¤ºmarkåŸºå› png(&quot;fig03_10marker_genes.png&quot;,width=1000,height=400)plot1 &lt;- VariableFeaturePlot(pbmc)plot2 &lt;- LabelPoints(plot = plot1, points = top10, repel = TRUE)CombinePlots(plots = list(plot1, plot2))dev.off() fig03_10marker_genes.pngå¦‚ä¸‹æ‰€ç¤ºï¼š è¿™é‡Œç­›é€‰å‡º2000ä¸ªmarkåŸºå› ç”¨äºåç»­çš„ä¸‹æ¸¸åˆ†æï¼Œå¹¶ä¸”å±•ç¤ºåŒºåˆ†èƒ½åŠ›æœ€å¼ºçš„å‰10ä¸ªmarkåŸºå›  123456789101112# MarkåŸºå› æƒé‡æ ‡å‡†åŒ–## ScaleData ç¼©æ”¾åŸºå› çš„è¡¨è¾¾ï¼Œç»™äºˆåŸºå› åŒç­‰çš„æƒé‡ï¼Œä½¿é«˜è¡¨è¾¾åŸºå› ä¸å æ®ä¸»å¯¼åœ°ä½all.genes &lt;- rownames(pbmc)pbmc &lt;- ScaleData(pbmc, features = all.genes) # PCAä¸»æˆåˆ†åˆ†æ## RunPCA è®¡ç®—ç‰¹å¾å€¼ï¼Œåœ¨ç»†èƒé—´å…·æœ‰é«˜åº¦è¡¨è¾¾å·®å¼‚çš„åŸºå› æœ‰åŠ©äºåŒºåˆ†ä¸åŒç±»å‹çš„ç»†èƒ## é‡‡ç”¨DimPlotæ–¹æ³•å¯è§†åŒ–pbmc &lt;- RunPCA(pbmc, features = VariableFeatures(object = pbmc))png(&quot;fig04_PCA.png&quot;)DimPlot(pbmc, reduction = &quot;pca&quot;)dev.off() fig04_PCA.pngå¦‚ä¸‹æ‰€ç¤ºï¼š 12345678910111213# è¯„ä¼°ä¸»æˆåˆ†ç»´åº¦## num.replicate é‡é‡‡æ ·æ¬¡æ•°## dims ç»´åº¦èŒƒå›´pbmc &lt;- JackStraw(pbmc, num.replicate = 100) pbmc &lt;- ScoreJackStraw(pbmc, dims = 1:20)## è¯„ä¼°ä¸»æˆåˆ†ç»´åº¦çš„æ–¹æ³•1png(&quot;fig05_PC_importance_01.png&quot;,width=700,height=400)JackStrawPlot(pbmc, dims = 1:15)dev.off()## è¯„ä¼°ä¸»æˆåˆ†ç»´åº¦çš„æ–¹æ³•2png(&quot;fig05_PC_importance_02.png&quot;,width=700,height=400)ElbowPlot(pbmc)dev.off() RåŒ… Seurat å‡½æ•° JackStraw ã€ScoreJackStrawè¿›è¡Œé‡é‡‡æ ·æµ‹è¯•ï¼Œè¯„ä¼°ç”¨ä»¥è¿›è¡Œç»†èƒèšç±»çš„ä¸»æˆåˆ†ç»´åº¦ã€‚ fig05_PC_importance_01.pngå¦‚ä¸‹æ‰€ç¤ºï¼š fig05_PC_importance_02.pngå¦‚ä¸‹æ‰€ç¤ºï¼š ä¸Šå›¾æ˜¯æ¯”è¾ƒä¸åŒä¸»æˆåˆ†ï¼ˆPCï¼‰çš„På€¼åˆ†å¸ƒä¸å‡åŒ€åˆ†å¸ƒï¼ˆè™šçº¿ï¼‰ï¼›æ˜¾è‘—çš„ä¸»æˆåˆ†å…·æœ‰è¾ƒä½çš„På€¼ï¼ˆä½äºè™šçº¿ä¸Šæ–¹ï¼‰ï¼›ä¼¼ä¹10-12ä¸ªä¸»æˆåˆ†åï¼Œä¸»æˆåˆ†çš„é‡è¦æ€§æ€¥å‰§ä¸‹é™ã€‚ ä¸‹å›¾æ˜¯è‚˜éƒ¨æ³•åˆ™ä»¥ç¡®å®šæœ€ä½³ä¸»æˆåˆ†æ•°é‡ï¼Œ9-10ä¸ªä¸»æˆåˆ†é™„è¿‘æœ‰ä¸ªæ‹ç‚¹ï¼Œè¡¨æ˜å¤§éƒ¨åˆ†çœŸå®ä¿¡å·æ˜¯åœ¨å‰10ä¸ªpcä¸­æ•è·çš„ã€‚ æ‰€ä»¥è¿™é‡Œé€‰æ‹©10ä¸ªä¸»æˆåˆ†ç”¨äºåç»­åˆ†æã€‚ 12345678# ç»†èƒç¾¤ä½“èšç°‡pbmc &lt;- FindNeighbors(pbmc, dims = 1:10) pbmc &lt;- FindClusters(pbmc, resolution = 0.5) ## ç»˜å›¾pbmc &lt;- RunUMAP(pbmc, dims = 1:10) png(&quot;fig06_cluster_UMAP.png&quot;,width=700,height=400) DimPlot(pbmc, reduction = &quot;umap&quot;)dev.off() fig06_cluster_UMAP.pngå¦‚ä¸‹æ‰€ç¤º å¯ä»¥çœ‹åˆ°ï¼Œæ ¹æ®markåŸºå› çš„è¡¨è¾¾ï¼Œæ‰€æœ‰ç»†èƒæœ€ç»ˆè¢«åˆ†ä¸ºäº†8ç§ç±»å‹ã€‚ åšå®Œä»¥ä¸Šåˆ†æä¹‹åï¼Œè¿˜å¯ä»¥æ ¹æ®è‡ªå·±çš„ç ”ç©¶ç›®æ ‡æ–°å‹ä¸åŒçš„ä¸‹æ¸¸åˆ†æï¼Œå…·ä½“æ¥è¯´å¯ä»¥ç­›é€‰äºšç¾¤çš„æ ‡è®°åŸºå› ï¼ˆä¸å…¶ä»–ç±»åˆ«ç»†èƒçš„å·®å¼‚è¡¨è¾¾åŸºå› ï¼‰ã€è¿›è¡Œç»†èƒçš„å‘è‚²è½¨è¿¹åˆ†æã€åšä¸åŒå“ç§é—´ç»†èƒç±»å‹çš„æ¯”è¾ƒç­‰ç­‰ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"å•ç»†èƒè½¬å½•ç»„","slug":"å•ç»†èƒè½¬å½•ç»„","permalink":"http://www.shelven.com/categories/%E5%8D%95%E7%BB%86%E8%83%9E%E8%BD%AC%E5%BD%95%E7%BB%84/"}],"tags":[{"name":"Seurat","slug":"Seurat","permalink":"http://www.shelven.com/tags/Seurat/"}]},{"title":"åŸºå› ç»„å…±çº¿æ€§åˆ†æâ€”â€”MCScanX","slug":"åŸºå› ç»„å…±çº¿æ€§åˆ†æâ€”â€”MCScanX","date":"2023-04-20T15:55:19.000Z","updated":"2023-05-08T13:55:51.000Z","comments":true,"path":"2023/04/20/a.html","link":"","permalink":"http://www.shelven.com/2023/04/20/a.html","excerpt":"å› ä¸ºè‡ªå·±çš„ç”Ÿä¿¡åŸºç¡€çŸ¥è¯†æ¯”è¾ƒè–„å¼±ï¼Œæœ€è¿‘åœ¨åå†œè·Ÿç€ç‹è€å¸ˆä¸Šäº†ä¸€äº›æ¤ç‰©åŸºå› ç»„è¯¾ç¨‹ï¼Œè®°å½•ä¸€ä¸‹ã€‚è¿™ä¸€æ¬¡ä¸»è¦ç»“åˆè¯¾å ‚å†…å®¹ã€MCScanXå®˜æ–¹æ–‡æ¡£ä»¥åŠè‡ªå·±çš„ç†è§£ï¼Œæ¼”ç¤ºåŸºå› ç»„å…±çº¿æ€§å·¥å…·MCScanXçš„ç”¨æ³•ã€‚","text":"å› ä¸ºè‡ªå·±çš„ç”Ÿä¿¡åŸºç¡€çŸ¥è¯†æ¯”è¾ƒè–„å¼±ï¼Œæœ€è¿‘åœ¨åå†œè·Ÿç€ç‹è€å¸ˆä¸Šäº†ä¸€äº›æ¤ç‰©åŸºå› ç»„è¯¾ç¨‹ï¼Œè®°å½•ä¸€ä¸‹ã€‚è¿™ä¸€æ¬¡ä¸»è¦ç»“åˆè¯¾å ‚å†…å®¹ã€MCScanXå®˜æ–¹æ–‡æ¡£ä»¥åŠè‡ªå·±çš„ç†è§£ï¼Œæ¼”ç¤ºåŸºå› ç»„å…±çº¿æ€§å·¥å…·MCScanXçš„ç”¨æ³•ã€‚ 1. å…±çº¿æ€§åˆ†æåœ¨æ¨Šé¾™æ±Ÿä¸»ç¼–çš„ã€Šæ¤ç‰©åŸºå› ç»„å­¦ã€‹ä¸­æåˆ°ï¼Œæ¤ç‰©èµ·æºäºæ°´ç”Ÿè—»ç±»ï¼Œä¸åŒæ¤ç‰©åœ¨åŸºå› æ°´å¹³ä¸Šå…·æœ‰ä¸€å®šä¿å®ˆæ€§ï¼ˆä¹Ÿå°±æ˜¯å…·æœ‰ä¸€å®šçš„ç›¸åŒåŸºå› ï¼‰ã€‚åœ¨ä¸€å®šçš„äº²ç¼˜å…³ç³»å†…ï¼Œè¿™ç§åŸºå› ç»„æ°´å¹³ä¸Šçš„ä¿å®ˆæ€§ï¼ˆåŸºå› ç»„åŒºå—æ’åˆ—é¡ºåºä¿å®ˆæ€§ï¼‰ï¼Œä¹Ÿå°±æ˜¯ä¸åŒæ¤ç‰©åŸºå› ç»„é—´çš„å…±çº¿æ€§ã€‚ å½“æˆ‘ä»¬æ‹¿åˆ°ä¸¤ä¸ªæ¤ç‰©åŸºå› ç»„æ•°æ®ï¼Œæƒ³è¦åˆ†æä¸¤ä¸ªç‰©ç§é—´æ˜¯å¦å­˜åœ¨åŸºå› è¿›åŒ–å†å²ã€æŸ“è‰²ä½“ç»“æ„å˜å¼‚ã€é‡è¦åŠŸèƒ½åŸºå› çš„æ’å…¥ç¼ºå¤±æˆ–è€…é‰´å®šå…¨åŸºå› ç»„å¤åˆ¶äº‹ä»¶çš„æ—¶å€™ï¼Œå°±å¯ä»¥åˆ©ç”¨ä¸€äº›åŸºå› ç»„å…±çº¿æ€§åˆ†æå·¥å…·è¿›è¡Œç›´è§‚çš„ä½œå›¾å’Œåˆ†æã€‚ åšå…±çº¿æ€§åˆ†æä¹‹å‰éœ€è¦åŒºåˆ†ä¸¤ä¸ªæè¿°åŸºå› ç»„å…±çº¿æ€§çš„åè¯ï¼š Syntenyï¼šä¸¤ä¸ªç‰©ç§çš„ä¸€ç»„åŸºå› ä½ç‚¹ï¼Œåœ¨æ¯ä¸ªç‰©ç§ä¸­ä½äºåŒä¸€æ¡æŸ“è‰²ä½“ï¼ˆé¡ºåºä¸ä¸€å®šç›¸åŒï¼‰ã€‚ Collinearityï¼šä¸¤ä¸ªç‰©ç§çš„ä¸€ç»„åŸºå› ä½ç‚¹ï¼Œåˆ†åˆ«ä½äºå„è‡ªçš„åŒä¸€æ¡æŸ“è‰²ä½“ä¸Šï¼Œå¹¶ä¸”é¡ºåºä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚ è¿™é‡ŒæŸ“è‰²ä½“æ‰“äº†ä¸ªé‡ç‚¹ï¼Œå› ä¸ºæ‰€æœ‰çš„å…±çº¿æ€§åˆ†æéƒ½æ˜¯åŸºäºæŸ“è‰²ä½“æ°´å¹³çš„åŸºå› ç»„è¿›è¡Œæ¯”è¾ƒçš„ï¼Œåªæœ‰contigæ•°æ®åˆ†æçš„è¯æ„ä¹‰ä¸å¤§ã€‚ç°åœ¨çš„å…±çº¿æ€§ç ”ç©¶ä»¥åŠå¼€å‘çš„å·¥å…·ä¸€èˆ¬ç”¨çš„æ˜¯collinearityï¼ˆåŒ…æ‹¬åé¢è¦è¯´çš„MCScanxï¼‰ã€‚ å…±çº¿æ€§åˆ†æçš„åŸç†ä¸»è¦éƒ½æ˜¯åˆ†ä¸ºä¸‰æ­¥ï¼š è·å¾—åŸºå› åœ¨æŸ“è‰²ä½“ä¸Šçš„ä½ç½®ï¼ˆå¦‚åŸºå› ç»„æ³¨é‡Šå¾—åˆ°çš„gffæ–‡ä»¶ï¼‰ã€‚ å°†åŸºå› çš„CDS&#x2F;è›‹ç™½åºåˆ—è¿›è¡Œæ¯”å¯¹ï¼Œå¾—åˆ°é«˜åº¦ç›¸ä¼¼çš„åŸºå› å¯¹ï¼ˆAnchoringï¼‰ã€‚ é‰´å®šç›¸åŒåŸºå› æ’åˆ—é¡ºåºçš„å…±çº¿æ€§åŒºå—ï¼ˆChainingï¼‰ï¼Œä¸åŒè½¯ä»¶ç®—æ³•ä¸ä¸€æ ·ï¼Œè¿™é‡Œä¸è®¨è®ºç®—æ³•åªè®¨è®ºå¦‚ä½•åº”ç”¨ã€‚ å…¶ä»–å°±ä¸è¿‡å¤šä»‹ç»äº†ï¼Œæ¥ä¸‹æ¥ä¸»è¦è®²è®²MCScanXè½¯ä»¶çš„ç”¨æ³•ã€‚ 2. ä¸‹è½½å’Œç¼–è¯‘MCScanXæŒ‰ç…§å®˜ç½‘å…‹éš†ä»“åº“ï¼Œç¼–è¯‘å³å¯ã€‚MCScanX githubå®˜ç½‘ 123git clone https://github.com/wyp1125/MCScanX.gitcd MCScanXmake ç¼–è¯‘ä¹‹åå¯ä»¥çœ‹åˆ°ä¸»æ–‡ä»¶çš„MCScanXã€MCScanX_hå’ŒDuplicate_gene_classifierä¸‰ä¸ªæ ¸å¿ƒåˆ†æç¨‹åºï¼Œä»¥åŠdownstream_analysesä¸‹æ¸¸åˆ†ææ–‡ä»¶å¤¹ä¸­çš„12ä¸ªä¸ä¸‹æ¸¸åˆ†ææœ‰å…³çš„javaå’Œperlæ–‡ä»¶ã€‚ 3. è¿è¡ŒMCScanX3.1 æ•°æ®é¢„å¤„ç†MCScanæ”¯æŒçš„è¾“å…¥æ–‡ä»¶æœ‰ä¸¤ä¸ªï¼š m8è¾“å‡ºæ ¼å¼çš„BLASTPæ¯”å¯¹ç»“æœæ–‡ä»¶ è®°å½•æŸ“è‰²ä½“ã€åŸºå› åç§°ä»¥åŠèµ·å§‹å’Œç»ˆæ­¢ä½ç‚¹4ä¸ªä¿¡æ¯çš„gffæ–‡ä»¶ è¿™é‡Œä»¥æ£‰èŠ±åŸºå› ç»„å’Œè¿‘ç¼˜ç‰©ç§å¯å¯åŸºå› ç»„ä¸ºä¾‹ï¼Œä¸¤è€…éƒ½å¯ä»¥åœ¨NCBIä¸Šæ‰¾åˆ°è›‹ç™½åºåˆ—å’Œæ³¨é‡Šçš„gff3æ–‡ä»¶ã€‚ç”±äºä¸Šæœºè¯¾ä¸­ç»™çš„è›‹ç™½åºåˆ—å’Œgffæ–‡ä»¶éƒ½æ˜¯å¤„ç†å¥½çš„ï¼Œå¦‚æœè‡ªå·±å¤„ç†gffæ–‡ä»¶ï¼Œæ€»ä½“æ€è·¯æ˜¯ä»gffæ–‡ä»¶çš„ç¬¬3åˆ—æå–â€™geneâ€™å…³é”®è¯ï¼Œä»ç¬¬9åˆ—åˆ†ç¦»åŸºå› åç§°ä¿¡æ¯ï¼Œä¿ç•™ç¬¬1åˆ—æŸ“è‰²ä½“ä¿¡æ¯ï¼Œä¿ç•™ç¬¬4åˆ—å’Œç¬¬5åˆ—ä¿ç•™startå’Œendä¿¡æ¯å³å¯ã€‚ è¿™é‡Œè¾“å…¥çš„gffæ–‡ä»¶ä¸æ˜¯æ ‡å‡†æ ¼å¼ï¼Œç®€å•å†™ä¸ªpythonè„šæœ¬å¤„ç†ï¼š 1234567891011import osimport pandas as pdfile_path = &#x27;./Theobroma_cacao.chr.gff3&#x27;with open(file_path, &quot;r&quot;) as file: temp = pd.read_csv(file, sep = &#x27;\\t&#x27;,comment = &#x27;#&#x27;, header = None) # åˆ¶è¡¨ç¬¦åˆ†éš”ï¼Œ#å·ä¸ºæ³¨é‡Šæ ‡è¯†ï¼Œæ— åˆ—å temp = temp.drop(temp[temp[2] != &#x27;gene&#x27;].index) # ç¬¬3åˆ—ä¸ä¸ºgeneçš„è¡Œçš„ç´¢å¼•ï¼Œdrop()åˆ é™¤ temp = temp[[0,8,3,4]] temp[8] = temp[8].map(lambda x: x.split(&#x27;;&#x27;)[0].split(&#x27;=&#x27;)[1].split(&#x27;:&#x27;)[1]) # å¯¹ç¬¬9åˆ—çš„å¤„ç†ï¼Œåªå–geneid temp.to_csv(&#x27;Tcacao.gff3&#x27;, header = None, index = None, sep = &#x27;\\t&#x27;) å½“ç„¶ï¼Œæ ¹æ®å®˜ç½‘çš„è¡¨è¿°ï¼Œæœ€å¥½å°†æŸ“è‰²ä½“åç§°æ”¹ä¸ºä¸¤ä¸ªå­—æ¯ï¼ˆç‰©ç§ç¼©å†™ï¼‰ + æ•°å­—ï¼ˆä»£è¡¨æŸ“è‰²ä½“ç¼–å·ï¼‰çš„å½¢å¼ã€‚ä¸æ”¹ä¹Ÿæ²¡å…³ç³»ï¼Œä¸¤ä¸ªåŸºå› ç»„çš„æŸ“è‰²ä½“åå­—ä¸è¦ä¸€æ ·å°±å¥½äº†ï¼Œä¸æ”¹çš„è¯åªæœ‰åœ¨ä¸‹æ¸¸åˆ†æå¯¹å…±çº¿æ€§åŒºå—åˆ†ç»„çš„æ—¶å€™æœ‰ç‚¹å½±å“ï¼ˆæ·»åŠ çš„ç‰©ç§é‚£åˆ—åªæ˜¾ç¤ºä¸¤ä¸ªå­—æ¯ï¼‰å®è´¨ä¸Šä¸ä¼šæœ‰ä»€ä¹ˆå½±å“ã€‚ è¿™æ­¥æ£€æŸ¥ä¸€ä¸‹geneæ•°é‡ä¸pepæ–‡ä»¶çš„è›‹ç™½è´¨æ¡æ•°æ˜¯å¦ä¸€æ ·ï¼Œä¸ä¸€æ ·çš„è¯å¯èƒ½æ˜¯pepä¸­æœ‰è½¬å½•æœ¬è›‹ç™½åºåˆ—ï¼Œé‡æ–°ç­›é€‰å®Œæ•´çš„gff3æ–‡ä»¶ï¼Œå†ç”¨gffreadæå–è›‹ç™½åºåˆ—ï¼Œè¿™é‡Œå°±ä¸èµ˜è¿°äº†ï¼Œå¦‚æœå¤„ç†æœ‰é—®é¢˜åç»­åœ¨æ›´æ–°ã€‚ æœ¬ä¾‹ä¸­ï¼Œæ£‰èŠ±Gossypium herbaceumç›¸å…³æ–‡ä»¶å‰ç¼€ä¸ºGhï¼›å¯å¯Theobroma cacaoç›¸å…³æ–‡ä»¶å‰ç¼€ä¸ºTcacaoã€‚ 12345678910# åˆå¹¶è›‹ç™½åºåˆ—ï¼ˆæ–¹ä¾¿åšåŸºå› ç»„ç»„å†…å’Œç»„é—´å…±çº¿æ€§åˆ†æï¼‰cat Gh.pep Tcacao.pep &gt; Gh_Tcacao.pep# blastå»ºåº“makeblastdb -in /public/home/wlxie/biosoft/MCScanX/Data/ExerciseData/Gh_Tcacao.pep -dbtype prot -input_type fasta -out Gh_Tcacao# è›‹ç™½åºåˆ—æ‹†åˆ†40ä»½ï¼ˆæ–¹ä¾¿æäº¤å¹¶è¡Œä»»åŠ¡åˆ°é›†ç¾¤ï¼‰perl fasta-splitter.pl --n-parts 40 Gh_Tcacao.pepmkdir Gh_Tcacaomv Gh_Tcacao.part* Gh_Tcacao ç”¨åˆ°çš„è›‹ç™½åºåˆ—æ‹†åˆ†perlè„šæœ¬æ¥è‡ªäºKirill Kryukovï¼Œå…·ä½“åœ¨å“ªä¸ªä»“åº“æ‰¾ä¸åˆ°äº†â€¦â€¦è¿™é‡Œæä¾›ä¸‹è½½ï¼Œæ‹†åˆ†åæ–‡ä»¶å¤¹åç§°å¦‚ä¸‹ï¼š ä¸Šé¢æ‹†åˆ†çš„40ä¸ªè›‹ç™½åºåˆ—åç§°æ•°å­—éƒ¨åˆ†æ˜¯ç­‰å®½çš„ï¼Œä¸æ–¹ä¾¿æäº¤å¹¶è¡Œä»»åŠ¡åˆ°é›†ç¾¤ï¼Œè¿™é‡Œç®€å•ä¿®æ”¹ä¸‹æ–‡ä»¶åç§°ã€‚ 12345678910111213141516171819import os # è·å–ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨path = &#x27;/public/home/wlxie/biosoft/MCScanX/Data/ExerciseData/Gh_Tcacao/&#x27;fileList = os.listdir(path)# è®¾ç½®å¾…ä¿®æ”¹çš„å‰ç¼€å’Œåç¼€prefix = &#x27;Gh_Tcacao_&#x27;suffix = &#x27;.pep&#x27;# æ‰¹é‡ä¿®æ”¹æ–‡ä»¶åm = 1for file in fileList: old_path = path + os.sep + file if os.path.isdir(old_path): continue new_path = path + os.sep + prefix + str(m) + suffix os.rename(old_path, new_path) m += 1 ä¿®æ”¹ä¹‹åæäº¤40ä¸ªblastpå¹¶è¡Œä»»åŠ¡ï¼Œæ¯ä¸ªä»»åŠ¡4æ ¸ï¼Œå¾ˆå¿«å°±å¯ä»¥è·‘å®Œã€‚ 1234567#!/bin/bash#SBATCH --array=1-40#SBATCH --cpus-per-task=4echo start on $(date)srun blastp -query Gh_Tcacao$&#123;SLURM_ARRAY_TASK_ID&#125;.pep -out Gh_Tcacao_$&#123;SLURM_ARRAY_TASK_ID&#125;.blast -db Gh_Tcacao -outfmt 6 -num_threads 4 -num_alignments 5 -evalue 1e-10echo end on $(date) æœ€ååˆå¹¶blastpç»“æœã€‚ 12cat Gh_Tcacao_*.blast &gt; Gh_Tcacao.blastrm Gh_Tcacao_*.blast 3.2 è¿è¡ŒMCScanXå’Œç»“æœè§£è¯»MCScanXæœ‰ä¸‰ä¸ªä¸»å‘½ä»¤ï¼š MCScanXå…±çº¿æ€§åˆ†æ MCScanX_hä¹Ÿæ˜¯å…±çº¿æ€§åˆ†æï¼Œè¾“å…¥ä¸æ˜¯BLASTPæ–‡ä»¶ï¼Œè€Œæ˜¯ç¬¬ä¸‰æ–¹æ£€æµ‹çš„ä»¥åˆ¶è¡¨ç¬¦åˆ†éš”çš„æˆå¯¹åŒæºå…³ç³»æ–‡ä»¶ Duplicate_gene_classifierä½¿ç”¨MCScanXçš„ç®—æ³•é‰´å®šsingletonï¼ˆå•åŸºå› ï¼‰å’Œé‡å¤åŸºå›  è¿™é‡Œç”¨MCScanXï¼Œå‰é¢å¤„ç†å¥½äº†çš„blastpç»“æœæ–‡ä»¶å’Œgffæ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè¾“å…¥çš„æ–‡ä»¶ç›¸å¯¹è·¯å¾„è¦åˆ°æ–‡ä»¶åçš„å‰ç¼€éƒ¨åˆ† 1./MCScanX Data/ExerciseData/Gh_Tcacao ç»“æœæ–‡ä»¶å¦‚ä¸‹ï¼š .collinearity æ˜¯ä¸¤ä¸ªåŸºå› ç»„å…±çº¿æ€§ç»“æœæ–‡ä»¶ï¼ˆé»˜è®¤åˆ†æcollinearityï¼‰ï¼ŒåŒ…å«äº†æœ¬æ¬¡è¿è¡Œçš„å‚æ•°ã€è®¡ç®—å‡ºçš„å…±çº¿æ€§åŒºå—ç­‰ã€‚è¿˜å¯ä»¥æ ¹æ®è¿™ä¸ªæ–‡ä»¶ç”¨grepçš„æ–¹æ³•æå–ä¸¤ä¸ªç‰©ç§ä¹‹é—´çš„åŒæºåŸºå› ï¼ˆæå–ç¬¬äºŒåˆ—ç¬¬ä¸‰åˆ—ç‰©ç§åå­—ä¸ä¸€æ ·çš„è¡Œï¼Œå»é‡å¤ï¼Œè®¡æ•°ï¼‰ï¼Œè¿™é‡Œä¹Ÿä¸èµ˜è¿°äº†ã€‚ .html è¿™ä¸ªæ–‡ä»¶å¤¹æ¯ä¸ªæ–‡ä»¶å¯¹åº”ä¸€æ¡æŸ“è‰²ä½“å…±çº¿æ€§åˆ†æç»“æœï¼ŒåŒ…æ‹¬åŸºå› åº§çš„å…±çº¿æ€§åŒºå—æ•°é‡ã€åŸºå› åç§°ï¼ˆä¸²è”é‡å¤åŸºå› ä¼šæ ‡çº¢ï¼‰å’Œå…·ä½“æ¯”å¯¹ä¸Šå“ªäº›å…±çº¿æ€§åŒºå—ï¼š .tandemæ–‡ä»¶æ˜¾ç¤ºåŸºå› ç»„å†…æ‰€æœ‰ä¸²è”é‡å¤åŸºå› å¯¹ï¼š 3.3 ä¸‹æ¸¸åˆ†æå’Œä½œå›¾å®˜æ–¹åœ¨downstream_analysesæ–‡ä»¶å¤¹ä¸­æä¾›äº†12ä¸ªä¸‹æ¸¸åˆ†æçš„perlå’Œjavaè„šæœ¬ã€‚æˆ‘ä¸ªäººå°†è¿™ä¸ªæ–‡ä»¶ä¸‹çš„åˆ†æå·¥å…·åˆ†ä¸ºä¸¤ç±»ï¼š åŠŸèƒ½ç›¸å…³ï¼ˆæ­¤éƒ¨åˆ†ä¸æ•°æ®å¤„ç†ç›¸å…³ï¼‰ 12345678910111213141516# Detect_syntenic_tandem_arrays æ£€æµ‹ä¸²è”é‡å¤åŸºå› ../../../downstream_analyses/detect_collinear_tandem_arrays -g Gh_Tcacao.gff -b Gh_Tcacao.blast -c Gh_Tcacao.collinearity -o tandem_arrays# Dissect_multiple_alignment å°†å…±çº¿æ€§åŒºå—åˆ†ä¸ºç‰©ç§å†…å’Œç‰©ç§é—´å…±çº¿æ€§åŒºå—../../../downstream_analyses/dissect_multiple_alignment -g Gh_Tcacao.gff -c Gh_Tcacao.collinearity -o dissect_multiple_alignment# add_ka_and_ks_to_collinearity.pl è®¡ç®—kaå’Œkså€¼ï¼ˆåœ¨collinearityç»“æœåé¢å¢åŠ ä¸¤åˆ—ï¼Œæ‰§è¡Œæ—¶é—´è¾ƒé•¿ï¼‰cat Gh.cds Tcacao.cds &gt; Gh_Tcacao.cds # éœ€è¦cdsåºåˆ—ï¼Œä¸”ä¸collinearityæ–‡ä»¶ä¸­çš„åºåˆ—åè¦ä¸€è‡´ï¼Œå¦åˆ™ç®—å‡ºæ¥å…¨éƒ¨éƒ½æ˜¯-2perl ../../../downstream_analyses/add_ka_and_ks_to_collinearity.pl -i Gh_Tcacao.collinearity -d Gh_Tcacao.cds -o add_kaks_to_synteny# group_collinear_genes.pl åŸºå› åˆ†ç»„ï¼Œæ„å»ºåŸºå› å®¶æ—ï¼ˆç»“æœæ–‡ä»¶éœ€è¦å»æ‰ç¬¬ä¸€è¡Œæ— æ•ˆä¿¡æ¯ï¼‰perl ../../../downstream_analyses/group_collinear_genes.pl -i Gh_Tcacao.collinearity -o group_collinear_genes# ä»¥åŠä»¥ä¸‹å‡ ç§åŠŸèƒ½å°±ä¸ä¸€ä¸€è¯•äº†# detect_collinearity_within_gene_families.pl æ£€æµ‹åŸºå› å®¶æ—çš„å…±çº¿æ€§åŸºå› å¯¹ï¼Œéœ€è¦ç”¨åˆ°å‰é¢æ„å»ºçš„åŸºå› å®¶æ—æ–‡ä»¶# origin_enrichment_analysis.pl æ ¹æ®Duplicate_gene_classifierçš„ç»“æœè¯†åˆ«è¾“å…¥åŸºå› å®¶æ—çš„é‡å¤åŸºå› èµ·æºçš„æ½œåœ¨å¯Œé›†ï¼Ÿä¸å¤ªæ‡‚ä»€ä¹ˆæ„æ€ ä½œå›¾ç›¸å…³ï¼ˆæ­¤éƒ¨åˆ†å‡æœ‰å¯¹åº”çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨downstream_analysesæ–‡ä»¶å¤¹æ“ä½œï¼Œå…¶ä»–æ–‡ä»¶è·¯å¾„javaä¼šå‘ç”ŸæœªçŸ¥é”™è¯¯ï¼‰ 1234567# dot_plotter ä¸¤ç»„æŸ“è‰²ä½“æ‰€æœ‰å…±çº¿æ€§åŒºå—åšç‚¹å›¾java dot_plotter -g ../Data/ExerciseData/Gh_Tcacao/Gh_Tcacao.gff -s ../Data/ExerciseData/Gh_Tcacao/Gh_Tcacao.collinearity -c dot.ctl -o dot.png# dot.ctlé…ç½®æ–‡ä»¶å†…å®¹å¦‚ä¸‹800 //xè½´ç»´åº¦ï¼ˆåƒç´ å¤§å°ï¼Œä¸‹åŒï¼Œä¸å†èµ˜è¿°ï¼‰800 //yè½´ç»´åº¦Ghir_A01,Ghir_A02,Ghir_A03,Ghir_A04,Ghir_A05,Ghir_A06,Ghir_A07,Ghir_A08,Ghir_A09,Ghir_A10,Ghir_A11,Ghir_A12,Ghir_A13 //xè½´æŸ“è‰²ä½“åç§°Chromosome_1,Chromosome_2,Chromosome_3,Chromosome_4,Chromosome_5,Chromosome_6,Chromosome_7,Chromosome_8,Chromosome_9 //yè½´æŸ“è‰²ä½“åç§° 1234567# dual_synteny_plotterjava dual_synteny_plotter -g ../Data/ExerciseData/Gh_Tcacao/Gh_Tcacao.gff -s ../Data/ExerciseData/Gh_Tcacao/Gh_Tcacao.collinearity -c dual_synteny.ctl -o dual_synteny.png# dual_synteny.ctl600 //å›¾å®½800 //å›¾é«˜Ghir_A01,Ghir_A02,Ghir_A03,Ghir_A04,Ghir_A05,Ghir_A06,Ghir_A07,Ghir_A08,Ghir_A09,Ghir_A10,Ghir_A11,Ghir_A12,Ghir_A13 //ä½äºå·¦è¾¹çš„æŸ“è‰²ä½“åç§°Chromosome_1,Chromosome_2,Chromosome_3,Chromosome_4,Chromosome_5,Chromosome_6,Chromosome_7,Chromosome_8,Chromosome_9 //ä½äºå³è¾¹çš„æŸ“è‰²ä½“åç§° 12345# circle_plotterjava circle_plotter -g ../Data/ExerciseData/Gh_Tcacao/Gh_Tcacao.gff -s ../Data/ExerciseData/Gh_Tcacao/Gh_Tcacao.collinearity -c circle.ctl -o circle.png# circle.ctl800 //å›¾å®½å’Œé«˜Ghir_A01,Ghir_A02,Ghir_A03,Ghir_A04,Ghir_A05,Ghir_A06,Ghir_A07,Ghir_A08,Ghir_A09,Ghir_A10,Ghir_A11,Ghir_A12,Ghir_A13,Chromosome_1,Chromosome_2,Chromosome_3,Chromosome_4,Chromosome_5,Chromosome_6,Chromosome_7,Chromosome_8,Chromosome_9 //ç¯çŠ¶å›¾çš„æŸ“è‰²ä½“åç§° 1234567# bar_plotterjava bar_plotter -g ../Data/ExerciseData/Gh_Tcacao/Gh_Tcacao.gff -s ../Data/ExerciseData/Gh_Tcacao/Gh_Tcacao.collinearity -c bar.ctl -o bar.png# bar.ctl800 //xè½´ç»´åº¦800 //yè½´ç»´åº¦Ghir_A01,Ghir_A02,Ghir_A03,Ghir_A04,Ghir_A05,Ghir_A06,Ghir_A07,Ghir_A08,Ghir_A09,Ghir_A10,Ghir_A11,Ghir_A12,Ghir_A13 //å‚è€ƒæŸ“è‰²ä½“Chromosome_1,Chromosome_2,Chromosome_3,Chromosome_4,Chromosome_5,Chromosome_6,Chromosome_7,Chromosome_8,Chromosome_9 //ç›®æ ‡æŸ“è‰²ä½“ 123# è¿˜æœ‰ä¸¤ä¸ªä½œå›¾çš„å·¥å…·ä¹Ÿä¸ä¸€ä¸€è¯•äº†ï¼Œä»¥åæœ‰éœ€è¦å†åš# family_circle_plotter åŸºå› å®¶æ—åŒæºåŸºå› åœ†å½¢å›¾ï¼Œçº¢çº¿è¿æ¥ä¸€ä¸ªåŸºå› å®¶æ—æ‰€æœ‰åŒæºåŸºå› # family_tree_plotter åŸºå› å®¶æ—æ ‘ï¼Œå…±çº¿æ€§åŸºå› å¯¹ç”¨çº¢çº¿è¿æ¥ï¼Œä¸²è”é‡å¤åŸºå› ç”¨è“çº¿è¿æ¥ å¯ä»¥çœ‹åˆ°è¿™ä¸ªè½¯ä»¶ç»˜å›¾è¿˜æ˜¯éå¸¸ç®€å•æ–¹ä¾¿çš„ï¼Œä¸è¿‡å›¾ç‰‡è´¨é‡ä¸æ˜¯å¾ˆå¥½ï¼Œä½œå›¾çš„åƒç´ ç‚¹å¤§å°éƒ½æ˜¯ç”±è‡ªå·±å®šä¹‰çš„ï¼Œå› æ­¤æ’ç‰ˆç¼©æ”¾ä¹Ÿå¾ˆå®¹æ˜“å¤±çœŸã€‚è¿˜æ˜¯æ¯”è¾ƒæ¨èJCVIä¸€ç±»çš„è½¯ä»¶ï¼Œå¼•å…¥å¤šç§è¿‡æ»¤å‚æ•°åŠŸèƒ½æ›´å¼ºå¤§ï¼Œä¸”åšçš„å›¾æ˜¯çŸ¢é‡å›¾ï¼Œæ¯”è¾ƒå¥½çœ‹â€¦â€¦è€Œä¸”æœ‰dockeré•œåƒï¼Œä¸æ€•å®‰è£…ä¾èµ–çš„é—®é¢˜ï¼š 1singularity -d build jcvi.sif docker://tanghaibao/jcvi ä»¥åæœ‰ç©ºå†æ›´æ–°å§~ 2023.5.8 æ›´æ–°ä¸Šé¢ä¾‹å­ä»…ä»…åªæ˜¯ä½œå›¾ï¼Œæ²¡æœ‰é˜æ˜å…·ä½“çš„ç”Ÿç‰©å­¦é—®é¢˜ã€‚è¿™é‡Œé€šè¿‡ä»¥ä¸Šçš„æ•°æ®è¡¥å……å‡ ä¸ªæ€è€ƒï¼š æ£‰èŠ±å’Œå¯å¯çš„WGDï¼ˆå…¨åŸºå› ç»„åŠ å€ï¼‰äº‹ä»¶åˆ†åˆ«åœ¨å¤šå°‘å¹´å‰ï¼Ÿ åœ¨å¤šå°‘å¹´å‰æ£‰èŠ±å’Œå¯å¯å‘ç”Ÿäº†ç‰©ç§åˆ†åŒ–ï¼Ÿ åœ¨è§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜å‰ï¼Œéœ€è¦çŸ¥é“ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µâ€”â€”ä¸­æ€§è¿›åŒ–è®ºã€‚ åœ¨ä¸­æ€§è¿›åŒ–ç†è®ºä¸­ï¼Œåˆ†å­æ°´å¹³çš„å˜å¼‚æ˜¯ä¸­æ€§çš„ï¼Œä¸å—è‡ªç„¶é€‰æ‹©çš„å½±å“ã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹äºä¸€ä¸ªåŸºå› åºåˆ—è€Œè¨€ï¼Œæ¯ä¸ªä½ç‚¹ä¸Šçš„æ¼”åŒ–ï¼ˆä¹Ÿå°±æ˜¯å‘ç”Ÿçªå˜ï¼‰é€Ÿç‡éƒ½æ˜¯æ’å®šçš„ï¼Œå¦‚æœä¸€ä¸ªåŸºå› ä½ç‚¹å‘ç”ŸåŒä¹‰çªå˜ï¼Œæ°¨åŸºé…¸åºåˆ—å¹¶æœªå‘ç”Ÿå˜åŒ–ï¼Œåˆ™è¿™ç§çªå˜ä¸ä¼šå½±å“ç‰©ç§çš„é€‚åº”æ€§ã€‚ åŒä¹‰çªå˜ç‡dsï¼ˆKsï¼‰æŒ‡å¹³å‡æ¯ä¸ªåŒä¹‰ä½ç‚¹ä¸Šå‘ç”ŸåŒä¹‰ç½®æ¢çš„æ•°ç›®ï¼Œåœ¨ç‰©ç§è¿›åŒ–ä¸­ä»£è¡¨äº†è¿›åŒ–è¿‡ç¨‹çš„èƒŒæ™¯ç¢±åŸºæ›¿æ¢ç‡ï¼Œä¸¤ä¸ªç‰©ç§æˆ–è€…åŒä¸ªç‰©ç§ä¹‹é—´çš„Kså€¼å¯ä»¥é€šè¿‡ä¸Šé¢çš„MCScanXçš„ä¸‹æ¸¸åˆ†æç¨‹åºadd_ka_and_ks_to_collinearity.plè®¡ç®—å¾—å‡ºã€‚ å¦‚æœä¸€ä¸ªç‰©ç§å‘ç”Ÿäº†å…¨åŸºå› ç»„åŠ å€äº‹ä»¶ï¼Œåˆ™ä¼šäº§ç”Ÿå¤§é‡çš„æ—ç³»åŒæºåŸºå› ï¼Œåæ˜ åœ¨Kså€¼ä¸Šå°±æ˜¯æœ‰å¤§é‡çš„Kså€¼æ¥è¿‘çš„åŒæºåŸºå› å¯¹äº§ç”Ÿï¼Œåœ¨Ksç»Ÿè®¡å›¾ä¸­ä¼šå‡ºç°ä¸€ä¸ªå³°ï¼ˆpeakï¼‰ï¼›å¦‚æœä¸¤ä¸ªç‰©ç§ä¹‹é—´å‘ç”Ÿäº†ç‰©ç§åˆ†åŒ–ï¼ŒåŒæ ·äº§ç”Ÿå¤§é‡çš„ç›´ç³»åŒæºåŸºå› ï¼ˆç‰©ç§å½¢æˆçš„ä¼´éšäº‹ä»¶ï¼‰ï¼ŒåŒæ ·æ˜¯Kså€¼æ¥è¿‘çš„åŒæºåŸºå› äº§ç”Ÿï¼Œå¹¶ä¸”åœ¨Ksç»Ÿè®¡å›¾å‡ºç°å³°å€¼ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®åŒä¸€ä¸ªç‰©ç§å†…ä»¥åŠä¸åŒç‰©ç§é—´çš„åŒæºåŸºå› Kså€¼æ¥åæ¨ç‰©ç§çš„WGDäº‹ä»¶å’Œç‰©ç§åˆ†æ­§äº‹ä»¶ï¼ŒKså³°å€¼å¤„å‘ç”Ÿçš„äº‹ä»¶å³ä¸ºæœ€è¿‘ä¸€æ¬¡çš„ç‰©ç§WGDäº‹ä»¶æˆ–ç‰©ç§åˆ†æ­§äº‹ä»¶ã€‚ è¿™äº›äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´ç‚¹ï¼Œå¦‚æœæœ‰å·²çŸ¥çš„åŒ–çŸ³è¯æ®åˆ™æœ€å‡†ç¡®ï¼ˆæ ¹æ®æ”¾å°„æ€§åŒä½ç´ è¡°å˜ï¼‰ï¼Œå¦‚æœæ²¡æœ‰å°±éœ€è¦æ ¹æ®åˆ†å­é’Ÿç†è®ºè®¡ç®—å¯¹åº”çš„æ—¶é—´ï¼Œæˆ‘ä»¬ç”¨æœ€åŸºç¡€çš„å…¬å¼T=Ks/2rã€‚Ksï¼Œå³åŒä¹‰çªå˜ç‡ï¼Œå¹³å‡æ¯ä¸ªä½ç‚¹çš„çªå˜æ¬¡æ•°ï¼›ræ˜¯æ ¸é…¸çªå˜é€Ÿåº¦ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªåˆ†ç±»çš„ç‰©ç§æ¯ä¸ªä½ç‚¹æ¯å¹´çš„çªå˜æ¦‚ç‡ã€‚ è§£é‡Šä¸€ä¸‹è¿™ä¸ªå…¬å¼æ€ä¹ˆæ¥çš„ï¼Œåœ¨ä¸¤ä¸ªç‰©ç§åˆ†åŒ–ä¸€å®šçš„æ—¶é—´Tåï¼Œä¸¤è€…éƒ½ä»¥ç›¸ä¼¼çš„é€Ÿåº¦rç´¯ç§¯çªå˜ï¼ˆåˆ†åŒ–åæ˜¯è¿‘ç¼˜ç‰©ç§ï¼Œæ ¸é…¸çªå˜é€Ÿåº¦ç±»ä¼¼ï¼‰ï¼Œåˆ™ä¸¤ä¸ªç‰©ç§ä¹‹é—´æ ¸é…¸æ›¿æ¢ç‡K=T*ï¼ˆr+rï¼‰ã€‚å®é™…ä¸Šä¸ºäº†é¿å…è¿›åŒ–é€‰æ‹©å¯¹çªå˜é€Ÿç‡çš„å½±å“ï¼Œè¿™é‡Œä¸€èˆ¬ç”¨åŒä¹‰çªå˜ç‡æ›¿ä»£æ ¸é…¸æ›¿æ¢ç‡ã€‚rå€¼æ˜¯æ€ä¹ˆè®¡ç®—çš„å‘¢ï¼ŸåŒæ ·è¦ä¾èµ–åŒ–çŸ³è¯æ®ï¼Œæ ¹æ®ä¸¤ä¸ªç‰©ç§å…±åŒç¥–å…ˆçš„åŒ–çŸ³æ—¶é—´åæ¨rå€¼ï¼Œå‡è®¾åŒä¸€ç±»ç‰©ç§æ ¸é…¸çªå˜ç‡ç±»ä¼¼ï¼Œåˆ™è¿™ä¸ªrå€¼è¿˜å¯ä»¥è¿›ä¸€æ­¥ç”¨äºåˆ«çš„è¿‘ç¼˜ç‰©ç§ã€‚ ä»¥ä¸Šç†è®ºä¾æ®å»ºç«‹åœ¨åŒä¸€ç±»ç‰©ç§æ ¸é…¸çªå˜ç‡ç±»ä¼¼çš„å‡è®¾ä¸­ï¼Œå®é™…ä¸ä¸€å®šå¦‚æˆ‘ä»¬æ‰€æ„¿ï¼Œä¸”åŒ–çŸ³ä¾æ®ä¹Ÿä¼šå­˜åœ¨ä¸€å®šè¯¯å·®ã€‚è¿™ä¸ªrå€¼ä¹Ÿåªæ˜¯ä¼°è®¡ä¸ªå¤§æ¦‚ï¼Œå®é™…ä¸Šåªè¦åœ¨10çš„-9æ¬¡æ–¹æ•°é‡çº§ï¼Œç®—å‡ºæ¥çš„æ—¶é—´èƒ½è‡ªåœ†å…¶è¯´å°±è¡Œã€‚ 12345# åˆ©ç”¨MCScanXè®¡ç®—ç‰©ç§å†…éƒ¨çš„å…±çº¿æ€§ç»“æœ./MCScanX -b 1 Data/ExerciseData/Gh_Tcacao_1# åˆ©ç”¨MCScanXè®¡ç®—ä¸¤ä¸ªç‰©ç§ä¹‹é—´çš„å…±çº¿æ€§ç»“æœ./MCScanX -b 2 Data/ExerciseData/Gh_Tcacao_2 åˆ†åˆ«æ•´ç†æ£‰èŠ±ä¸æ£‰èŠ±ã€å¯å¯ä¸å¯å¯ã€æ£‰èŠ±ä¸å¯å¯çš„åŸºå› ç»„å…±çº¿æ€§ç»“æœï¼Œåªé€‰å–æœ€åä¸€åˆ—kså€¼ï¼Œç”¨RåšKså¯†åº¦åˆ†å¸ƒå›¾ï¼Œå¯ä»¥å‚è€ƒç°æœ‰çš„æ•™ç¨‹ï¼š Kså¯†åº¦æ›²çº¿åˆ†å¸ƒå›¾ç»˜å›¾ - ç®€ä¹¦ (jianshu.com) Finding Peak Values For a Density Distribution (ianmadd.github.io) æ‰¾åˆ°Kså¯†åº¦åˆ†å¸ƒå›¾çš„å³°å€¼ï¼Œé€‰ä¸€ä¸ªå‚è€ƒæ–‡çŒ®é‡Œåˆé€‚çš„rå€¼ï¼Œå°±å¯ä»¥è®¡ç®—ä¸Šé¢ä¸¤ä¸ªé—®é¢˜äº†ã€‚ é¡ºä¾¿è¡¥å……ä¸€ä¸‹ï¼Œä¸‹é¢è¿™ç¯‡æ•™ç¨‹é‡Œæœ‰ä¸€ä¸ªpythonè„šæœ¬å¯ä»¥æå–æœ€é•¿è½¬å½•æœ¬ï¼Œå› ä¸ºåŸä½œè€…ç»™çš„æ˜¯å›¾ç‰‡æ‡’å¾—æ•²ä¸‹æ¥è¯•äº†ï¼Œçœ‹äº†ä¸‹ä»£ç é€»è¾‘æ˜¯å¤„ç†pepæ–‡ä»¶ï¼Œæ ¹æ®åºåˆ—åæ¯”è¾ƒåŒä¸€ä¸ªåŸºå› çš„ä¸åŒè½¬å½•æœ¬é•¿åº¦ï¼Œé€‰å–æœ€é•¿çš„é‚£ä¸ªã€‚é€»è¾‘æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºä¸æ˜¯åˆšéœ€ï¼Œæœ‰éœ€è¦è‡ªå·±å†å»å¤ç°ï¼Œå°±ä¸é‡å¤é€ è½®å­äº†ã€‚ WGDï¼ˆå…¨åŸºå› ç»„å¤åˆ¶ï¼‰åˆ†æâ€”â€”Ka&#x2F;KsåŠ4Dtvå€¼è®¡ç®— - ç®€ä¹¦ (jianshu.com)","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ¯”è¾ƒåŸºå› ç»„å­¦","slug":"æ¯”è¾ƒåŸºå› ç»„å­¦","permalink":"http://www.shelven.com/categories/%E6%AF%94%E8%BE%83%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"}],"tags":[{"name":"MCScanX","slug":"MCScanX","permalink":"http://www.shelven.com/tags/MCScanX/"},{"name":"å…±çº¿æ€§åˆ†æ","slug":"å…±çº¿æ€§åˆ†æ","permalink":"http://www.shelven.com/tags/%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/"}]},{"title":"åŸºå› ç»„æ³¨é‡Šï¼ˆ5ï¼‰â€”â€”é¢„æµ‹åŸºå› ç­›é€‰","slug":"åŸºå› ç»„æ³¨é‡Šï¼ˆ5ï¼‰â€”â€”é¢„æµ‹åŸºå› ç­›é€‰","date":"2023-04-11T14:58:20.000Z","updated":"2023-10-13T06:00:12.000Z","comments":true,"path":"2023/04/11/a.html","link":"","permalink":"http://www.shelven.com/2023/04/11/a.html","excerpt":"æ³¨é‡Šå¾—åˆ°çš„åŸºå› é›†ä¸­ï¼Œå¯èƒ½æŸäº›åŸºå› å­˜åœ¨è¢«è½¬åº§å­æ’å…¥çš„æƒ…å†µï¼Œè¯¥åŸºå› ä¼šåœ¨åç»­åŠŸèƒ½æ³¨é‡Šçš„æ—¶å€™è¢«æ³¨é‡Šä¸Šï¼Œä½†å®é™…åœ¨åŸºå› ç»„ä¸­è¯¥åŸºå› å¯èƒ½å·²ç»è¢«æ’å…¥å¤±æ´»ã€‚å› æ­¤åœ¨åŸºå› ç»„çš„åŠŸèƒ½æ³¨é‡Šå‰ï¼Œéœ€è¦ç”¨æ£€æµ‹è½¬åº§å­è½¯ä»¶ï¼ˆå¦‚TransposonPSIã€TEsorterç­‰ï¼‰å°†å«æœ‰è½¬åº§å­çš„åŸºå› æ‰¾å‡ºå¹¶å»é™¤ã€‚","text":"æ³¨é‡Šå¾—åˆ°çš„åŸºå› é›†ä¸­ï¼Œå¯èƒ½æŸäº›åŸºå› å­˜åœ¨è¢«è½¬åº§å­æ’å…¥çš„æƒ…å†µï¼Œè¯¥åŸºå› ä¼šåœ¨åç»­åŠŸèƒ½æ³¨é‡Šçš„æ—¶å€™è¢«æ³¨é‡Šä¸Šï¼Œä½†å®é™…åœ¨åŸºå› ç»„ä¸­è¯¥åŸºå› å¯èƒ½å·²ç»è¢«æ’å…¥å¤±æ´»ã€‚å› æ­¤åœ¨åŸºå› ç»„çš„åŠŸèƒ½æ³¨é‡Šå‰ï¼Œéœ€è¦ç”¨æ£€æµ‹è½¬åº§å­è½¯ä»¶ï¼ˆå¦‚TransposonPSIã€TEsorterç­‰ï¼‰å°†å«æœ‰è½¬åº§å­çš„åŸºå› æ‰¾å‡ºå¹¶å»é™¤ã€‚ è¿™é‡Œè®°å½•ä¸‹TEsorterè½¯ä»¶ç­›é€‰é¢„æµ‹åŸºå› çš„æ–¹æ³•ã€‚ 1. TEsorterå®‰è£…TEsorteråŸæœ¬æ˜¯ç”¨äºè°ƒç”¨LTR_retrieveré‰´åˆ«é•¿æœ«ç«¯é‡å¤åºåˆ—åè½¬åº§å­ï¼ˆLTR-RTsï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨äºå…¶ä»–ç±»å‹TEçš„é‰´åˆ«ï¼Œå…¶é‰´å®šåŸç†ä¸ºå°†å¾…æµ‹åºåˆ—ä¸æ•°æ®åº“REXdbï¼ˆæ•´åˆviridiplantae_v3.0 + metazoa_v3ï¼‰çš„TEåºåˆ—è¿›è¡Œæ¯”å¯¹ã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨GyDBæ•°æ®åº“è¿›è¡Œæ¯”å¯¹ï¼Œå®˜ç½‘ä¸Šæœ‰å…·ä½“çš„å‚æ•°ç”¨æ³•ã€‚ zhangrengang&#x2F;TEsorter: TEsorter: an accurate and fast method to classify LTR-retrotransposons in plant genomes (github.com) TEsorteræä¾›condaå®‰è£…ï¼Œä½†æ˜¯æˆ‘æ²¡æœ‰å®‰è£…æˆåŠŸï¼Œè¿™é‡Œè¿˜æ˜¯æ–°å»ºcondaç¯å¢ƒåæ‰‹åŠ¨å®‰è£…å„ç§ä¾èµ–ï¼š 1234567891011121314conda create -n &quot;TEs&quot;conda activate TEsconda install python==3.11 # å®˜æ–¹è¦æ±‚pythonç‰ˆæœ¬é«˜äº3ï¼Œå¦åˆ™è¿è¡Œä¼šæŠ¥é”™conda install biopythonconda install xopenconda install hmmerconda install blastgit clone https://ghproxy.com/https://github.com/zhangrengang/TEsorter.git # ä»githubé•œåƒç½‘ç«™ä¸‹è½½cd TEsorterpython setup.py installTEsorter TEsorter/test/rice6.9.5.liban # æµ‹è¯• 2. TEsorterè¿è¡Œè¿™é‡Œæœ‰ä¸€ä¸ªé—®é¢˜ï¼ŒBrakeré¢„æµ‹åŸºå› æœ‰gtfå’Œgff3ä¸¤ç§æ ¼å¼çš„è¾“å‡ºç»“æœï¼Œä½†æ˜¯ä¸¤è€…çš„è¡Œæ•°ä¸ä¸€æ ·ã€‚ è¡Œæ•°ä¸ä¸€è‡´æ˜¯å› ä¸ºBRAKER v3.0.2å­˜åœ¨bugï¼ŒGeneMark.hmm3é¢„æµ‹ç»“æœåœ¨è½¬gtfåˆ°gffçš„è¿‡ç¨‹ä¸­ä¸¢å¤±ï¼Œå·²äºBRAKER v3.0.3ç‰ˆæœ¬ä¿®å¤ï¼ˆæ¥è‡ªåŠå¹´åçš„æ³¨é‡Šï¼‰ã€‚ æ–¹ä¾¿èµ·è§æˆ‘è¿™é‡Œå¤„ç†äº†gtfç»“æœæ–‡ä»¶ã€‚ TEsorterè½¯ä»¶å¯ä»¥è¾“å…¥åŸºå› åºåˆ—æˆ–è€…è›‹ç™½åºåˆ—ï¼Œä»¥åŸºå› åºåˆ—ä¸ºä¾‹ï¼Œç®€å•ç¼–å†™è„šæœ¬å¦‚ä¸‹ï¼š 12345#!/bin/bash#SBATCH -n 8#SBATCH -t 7200TEsorter /public/home/wlxie/baima_pre_mydb/braker.codingseq -eval 1e-6 -p 8 å¤§çº¦åå‡ åˆ†é’Ÿè¿è¡Œå®Œæ¯•ã€‚ 3. ç»“æœæ–‡ä»¶å¤„ç†ç»“æœæ–‡ä»¶å¦‚ä¸‹ï¼š .tsvåç¼€çš„æ–‡ä»¶ä¸­ä»¥åˆ—è¡¨å½¢å¼åˆ—å‡ºäº†æ‰€æœ‰é¢„æµ‹çš„TEç±»å‹ï¼Œä¸€ä¸ªåŸºå› å¯èƒ½æœ‰å¤šç§ç±»å‹çš„TEæ’å…¥ï¼Œå› æ­¤éœ€è¦å¤„ç†ç»“æœæ–‡ä»¶ï¼Œç»Ÿè®¡å«æœ‰TEçš„åŸºå› ï¼Œå¹¶åœ¨gtfç»“æœæ–‡ä»¶ä¸­å°†è¯¥åŸºå› å»é™¤ã€‚ 12345678# ç­›é€‰å«æœ‰TEçš„åŸºå› grep -v &quot;^#&quot; braker.codingseq.rexdb.cls.tsv | cut -f1 | sort | uniq | cut -f1 -d &quot;_&quot; | sort | uniq &gt; TE-genes.txt# å»é™¤å«æœ‰TEçš„åŸºå› åºåˆ—grep -Fvf /public/home/wlxie/biosoft/TEsorter/baima_mydb/TE-genes.txt braker.gtf | awk &#x27;$3 ~ /gene/&#x27; &gt; baima_gene_only.gtf# å»é™¤å«æœ‰TEçš„è½¬å½•æœ¬åºåˆ—grep -Fvf /public/home/wlxie/biosoft/TEsorter/baima_mydb/TE-genes.txt braker.gtf | awk &#x27;$3 ~ /transcript/&#x27; &gt; baima_transcript.gtf å¯ä»¥çœ‹çœ‹å»é™¤TEåºåˆ—åçš„è½¬å½•æœ¬å’ŒåŸºå› æ•°é‡ï¼š 123456(base) wlxie 17:03:52 ~/baima_pre_mydb$ cat baima_transcript.gtf | wc -l23716(base) wlxie 17:04:05 ~/baima_pre_mydb$ cat baima_gene_only.gtf | wc -l20742 æœ¬æƒ³é€šè¿‡gffreadè½¯ä»¶æ ¹æ®å¤„ç†åçš„gtfæ–‡ä»¶é‡æ–°æå–åŸºå› ç»„çš„è›‹ç™½åºåˆ—ï¼Œä½†æ˜¯è¿è¡Œè¿‡ç¨‹ä¸­æ€»æ˜¯æŠ¥é”™no genomic sequence availableï¼ŒåŸå› æš‚æ—¶æœªçŸ¥ï¼ˆå¯èƒ½æ˜¯å› ä¸ºbrakeré¢„æµ‹ç»“æœbraker.gtfä¸æ˜¯æ ‡å‡†çš„gtfæ–‡ä»¶æ ¼å¼ï¼ŒåŒæ ·ç”¨gffreadåšgtf2gffè½¬æ¢çš„æ—¶å€™ä¼šæœ‰éƒ¨åˆ†ä¿¡æ¯ä¸¢å¤±ï¼‰ã€‚ å¯ä»¥ç›´æ¥å†™ä¸€ä¸ªè„šæœ¬å¤„ç†braker.aaæ–‡ä»¶ï¼Œæ ¹æ®å‰é¢ç­›é€‰çš„TE-genes.txtæ–‡ä»¶ï¼Œå»é™¤å«æœ‰TEçš„è›‹ç™½åºåˆ—ï¼Œè¿™é‡Œåç»­ç”¨åˆ°å†åšæ›´æ–°ã€‚ 2023.10.13 æ›´æ–°gffreadæŠ¥é”™çš„åŸå› å½’æ ¹åˆ°åº•è¿˜æ˜¯brakerçš„gtfä¸æ˜¯æ ‡å‡†gtfæ–‡ä»¶ï¼š gffæ–‡ä»¶æ ¼å¼æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å†…å®¹å­˜åœ¨ç¼ºå¤±ï¼Œéœ€è¦é‡æ–°è½¬æ¢ä¸€æ¬¡gffæ–‡ä»¶ï¼š 123cat braker.gtf | perl -ne &#x27;if(m/\\tAUGUSTUS\\t/ or m/\\tGeneMark.hmm\\t/ or m/\\tGeneMark.hmm3\\t/ or m/\\tgmst\\t/) &#123;print $_;&#125;&#x27; | perl gtf2gff.pl --gff3 --out=final.gff3# å…¶å®ç¬¬äºŒåˆ—ä¸€å…±å°±åªæœ‰AUGUSTUSã€GeneMark.hmm3å’Œgmstä¸‰ç§# perlæ–‡ä»¶æ¥è‡ªäºsingularityå®¹å™¨çš„/usr/share/augustus/scripts/gtf2gff.pl ä½œè€…è¯´è¯¥bugå·²ç»åœ¨v3.0.3ç‰ˆæœ¬ä¿®å¤ï¼Œæˆ‘ç”¨çš„v3.0.2ï¼Œåªèƒ½é€šè¿‡è¿™ç§æ–¹å¼é‡æ–°è½¬æ¢ã€‚ ä¹‹åç­›é€‰TEå’Œæå–è›‹ç™½ï¼š 1234567891011121314# ç­›é€‰å«æœ‰TEçš„åŸºå› grep -v &quot;^#&quot; braker.codingseq.rexdb.cls.tsv | cut -f1 | sort | uniq | cut -f1 -d &quot;_&quot; | sort | uniq &gt; TE-genes.txt# å»é™¤å«æœ‰TEçš„åºåˆ—grep -Fvf /public/home/wlxie/biosoft/TEsorter/Ap_mydb/TE-genes.txt final.gff3 &gt; Ap_rmTE.gff3# ä»åŸºå› ç»„é‡æ–°æå–å»é™¤äº†TEçš„CDSåºåˆ—å’Œè›‹ç™½åºåˆ—gffread Ap_rmTE.gff3 -g ~/Genome/Ap.fasta -x Ap_rmTE.codingseqgffread Ap_rmTE.gff3 -g ~/Genome/Ap.fasta -y Ap_rmTE.aa# è®¡ç®—åŸºå› æ€»é•¿åº¦ï¼ŒåŸºå› æ•°é‡å’Œå¹³å‡åŸºå› é•¿åº¦cat Ap_rmTE.gff3 | awk &#x27;&#123;if ($3==&quot;gene&quot;) print $0&#125;&#x27; | awk &#x27;&#123;sum+=($5 -$4)&#125; END &#123;print sum, NR, sum/NR&#125;&#x27;67389881 20094 3353.73","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"TEsorter","slug":"TEsorter","permalink":"http://www.shelven.com/tags/TEsorter/"}]},{"title":"åŸºå› ç»„æ³¨é‡Šï¼ˆ4ï¼‰â€”â€”åŸºå› é¢„æµ‹","slug":"åŸºå› ç»„æ³¨é‡Šï¼ˆ4ï¼‰â€”â€”åŸºå› é¢„æµ‹","date":"2023-04-03T14:09:26.000Z","updated":"2023-10-13T02:22:08.000Z","comments":true,"path":"2023/04/03/a.html","link":"","permalink":"http://www.shelven.com/2023/04/03/a.html","excerpt":"åœ¨å¯¹åŸºå› ç»„é‡å¤åºåˆ—å’ŒncRNAè¿›è¡Œæ³¨é‡Šåï¼Œæ¥ä¸‹æ¥æ˜¯åŸºå› é¢„æµ‹å’ŒåŠŸèƒ½æ³¨é‡Šï¼Œè¿™ä¹Ÿæ˜¯å¯»æ‰¾åŠŸèƒ½åŸºå› çš„åŸºç¡€å’Œå‰æã€‚è¿™é‡Œä¸»è¦è®°å½•ä¸‹æ€ä¹ˆç”¨Braker3è¿›è¡ŒåŸºå› ç»„çš„åŸºå› é¢„æµ‹ï¼ˆä¹Ÿå°±æ˜¯ç»“æ„æ³¨é‡Šï¼‰ã€‚","text":"åœ¨å¯¹åŸºå› ç»„é‡å¤åºåˆ—å’ŒncRNAè¿›è¡Œæ³¨é‡Šåï¼Œæ¥ä¸‹æ¥æ˜¯åŸºå› é¢„æµ‹å’ŒåŠŸèƒ½æ³¨é‡Šï¼Œè¿™ä¹Ÿæ˜¯å¯»æ‰¾åŠŸèƒ½åŸºå› çš„åŸºç¡€å’Œå‰æã€‚è¿™é‡Œä¸»è¦è®°å½•ä¸‹æ€ä¹ˆç”¨Braker3è¿›è¡ŒåŸºå› ç»„çš„åŸºå› é¢„æµ‹ï¼ˆä¹Ÿå°±æ˜¯ç»“æ„æ³¨é‡Šï¼‰ã€‚ åŸºå› é¢„æµ‹çš„æ–¹æ³•ä¸»è¦æœ‰ä¸‰ç§ï¼š åŸºäºéšé©¬å°”å¯å¤«æ¨¡å‹çš„è‡ªè®­ç»ƒå’Œè¿­ä»£ï¼Œè·å¾—ä»å¤´é¢„æµ‹çš„åŸºå› ç»“æ„æ¨¡å‹ï¼ˆè½¯ä»¶Augustusã€GeneMark-ESç­‰ï¼‰ åŸºäºå·²å‘è¡¨çš„è¿‘ç¼˜ç‰©ç§åŸºå› åºåˆ—ã€è›‹ç™½åºåˆ—çš„åŒæºé¢„æµ‹ï¼ˆè½¯ä»¶DIAMONDã€GeMoMaç­‰ï¼‰ åŸºäºæœ¬ç‰©ç§çš„RNA-Seqè½¬å½•ç»„æ•°æ®ï¼Œæ¯”å¯¹åŸºå› ç»„å†…å«å­ç»“æ„æ¨¡å‹å’ŒåŸºå› ä¾§ç¿¼åºåˆ—ä¿¡æ¯ï¼ˆè½¯ä»¶Hisat2ã€STARç­‰ï¼‰ ä¸€èˆ¬çš„æµç¨‹æ˜¯å°†ä»¥ä¸Šä¸‰ç§åŸºå› é¢„æµ‹ç»“æœé€šè¿‡è½¯ä»¶EvidenceModelerï¼ˆEVMï¼‰è¿›è¡Œæ•´åˆï¼Œæœ€ç»ˆå¾—åˆ°é¢„æµ‹ç»“æœgffæ–‡ä»¶ã€‚ç½‘ä¸Šå¯¹äºä¸Šé¢çš„æµç¨‹æœ‰å¾ˆå¤šæ•™ç¨‹ï¼Œé’ˆå¯¹ä¸åŒè½¯ä»¶æœ‰ä¸åŒçš„è®¾ç½®ï¼Œæ¯”å¦‚çŸ¥ä¹çš„è¿™ç¯‡æ–‡ç« ä½¿ç”¨AUGSTUS + Geneid + GeneMark + GeMoMa + GenomeThreader + Exonerate è¿›è¡ŒåŸºå› ç»“æ„é¢„æµ‹ - çŸ¥ä¹ (zhihu.com) ä¸ºäº†ç®€åŒ–æµç¨‹ï¼Œç°åœ¨ä¹Ÿæœ‰è¶Šæ¥è¶Šå¤šçš„åŸºå› é¢„æµ‹pipelineå·¥å…·å¾—ä»¥å¼€å‘ï¼Œæ¯”è¾ƒæœ‰åçš„å°±æ˜¯Brakerå’ŒMakerï¼Œæ„Ÿå…´è¶£çš„è¯å¯ä»¥åšä¸¤è€…é¢„æµ‹ç»“æœçš„æ¯”è¾ƒï¼Œæˆ‘è¿™é‡Œå°±ç”¨å‘è¡¨æ—¶é—´æ¯”è¾ƒè¿‘çš„Braker3ä¸ºä¾‹ã€‚ Brakeræœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç»“åˆäº†å¤šç§åŸºå› ç»„æ³¨é‡Šå·¥å…·çš„perlç¨‹åºï¼Œå…¶æ ¸å¿ƒä¸ºbraker.plæ–‡ä»¶ã€‚ 1. å®‰è£…Braker3ç›®å‰ä¸ºæ­¢ï¼ˆ2023å¹´4æœˆ3æ—¥ï¼‰Brakerçš„æœ€æ–°ç‰ˆæœ¬ä¸º3.0.2ï¼Œcondaä¸Šèƒ½æœåˆ°çš„æœ€æ–°ç‰ˆæœ¬åªæœ‰2.1.6ï¼Œå› æ­¤ä¸å»ºè®®ç”¨condaå®‰è£…ï¼Œå°¤å…¶æ˜¯æœ€æ–°çš„ç‰ˆæœ¬Brakerå¯ä»¥ç›´æ¥ä½¿ç”¨RNA-seqå’Œè›‹ç™½æ•°æ®ï¼Œæ•´åˆGeneMark-ETPå’ŒAUGUSTUSè®­ç»ƒå’Œé¢„æµ‹åŸºå› ï¼Œå¯¹äºé¢„æµ‹ç»“æœæœ‰è¾ƒé«˜çš„æ”¯æŒåº¦ã€‚ å› ä¸ºæ•´ä¸ªpipelineåŒ…å«äº†åå‡ ä¸ªæ³¨é‡Šç”¨çš„è½¯ä»¶ï¼Œç”¨åˆ°çš„perlæ¨¡å—ä¹Ÿéå¸¸å¤šï¼ˆæ•°äº†ä¸€ä¸‹é…ç½®ç¯å¢ƒéœ€è¦å®‰è£…20ä¸ªperlæ¨¡å—ï¼‰ï¼Œè¿˜æ˜¯æ¨èç”¨ç»™å®˜æ–¹ç»™çš„**container**ã€‚ 1.1 ç”³è¯·å’Œä¸‹è½½GeneMark-ETPå¯†é’¥åœ¨Braker3ä¸­ä½¿ç”¨RNA-seqæ•°æ®å’Œè›‹ç™½æ•°æ®é¢„æµ‹åŸºå› ï¼Œéƒ½è¦ç”¨åˆ°GeneMark-ETPè¿™ä¸ªè½¯ä»¶ã€‚ä½†æ˜¯è¿™ä¸ªè½¯ä»¶ä¸èƒ½ç›´æ¥ç”¨ï¼Œéœ€è¦åˆ°GeneMarkç½‘ç«™ç”³è¯·å’Œä¸‹è½½å¯¹åº”çš„å¯†é’¥æ–‡ä»¶æ”¾åœ¨é›†ç¾¤ç”¨æˆ·çš„å®¶ç›®å½•ä¸­ã€‚ ç”³è¯·å®Œæˆä¹‹åè·å¾—åç§°ä¸ºgm_key_64.gzçš„å¯†é’¥æ–‡ä»¶ï¼Œè§£å‹ä¹‹åå‘½åä¸º.gm_keyï¼ˆæ³¨æ„ç‚¹å·ï¼‰å¹¶ä¸Šä¼ åˆ°é›†ç¾¤ç”¨æˆ·çš„å®¶ç›®å½•ä¸‹å³å¯ã€‚ 12gunzip gm_key_64.gzmv gm_key_64 .gm_key 1.2 åˆ›å»ºBraker3é•œåƒè¿™ä¸€æ­¥åœ¨dockerhubç½‘ç«™çš„Braker3ä»“åº“ä¸­æœ‰è¯¦ç»†è¯´æ˜ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©åˆ›å»ºsingularityé•œåƒï¼š 1singularity build braker3.sif docker://teambraker/braker3:latest å¾—åˆ°çš„braker3.sifå°±æ˜¯Braker3çš„singularity image åˆ›å»ºbraker3é•œåƒæ–‡ä»¶çš„ç¯å¢ƒå˜é‡ï¼š 1export BRAKER_SIF=/your/path/to/braker3.sif å¯ä»¥å¤åˆ¶ä¸‰ä¸ªç¤ºä¾‹è„šæœ¬åˆ°å½“å‰ç›®å½•ï¼š 123singularity exec -B $PWD:$PWD braker3.sif cp /opt/BRAKER/example/singularity-tests/test1.sh .singularity exec -B $PWD:$PWD braker3.sif cp /opt/BRAKER/example/singularity-tests/test2.sh .singularity exec -B $PWD:$PWD braker3.sif cp /opt/BRAKER/example/singularity-tests/test3.sh . åœ¨æœ¬åœ°ç”³è¯·è®¡ç®—èµ„æºå¹¶è·‘ä¸€ä¸‹ä¸‰ä¸ªç¤ºä¾‹è„šæœ¬ï¼š 12345salloc -n 50 # ç”³è¯·50ä¸ªæ ¸è·‘test.shï¼Œæ³¨æ„ä¸è¦åœ¨ç™»å½•èŠ‚ç‚¹ç›´æ¥è¿è¡Œè®¡ç®—ç¨‹åºbash test1.sh # tests BRAKER1bash test2.sh # tests BRAKER2bash test3.sh # tests BRAKER3exit # é€€å‡ºå¹¶é‡Šæ”¾è®¡ç®—èµ„æº 2. è¿è¡ŒBraker3å®˜æ–¹æä¾›äº†4ç§BRAKER pipeline æ¨¡å¼ï¼š RNA-Seqæ•°æ®è·‘BRAKER è›‹ç™½æ•°æ®è·‘BRAKER æ•´åˆRNA-Seqæ•°æ®ä»¥åŠè›‹ç™½æ•°æ®è·‘BRAKER æ•´åˆçŸ­è¯»é•¿ä¸é•¿è¯»é•¿çš„RNA-Seqæ•°æ®ä»¥åŠè›‹ç™½æ•°æ®è·‘BRAKER 4ç§pipelineæ¨¡å¼åœ¨è°ƒç”¨è½¯ä»¶çš„æ–¹æ³•ä¸Šæœ‰åŒºåˆ«ï¼Œæ ¹æ®è‡ªå·±æ‰‹ä¸Šæœ‰çš„æ•°æ®é€‰æ‹©ç”¨å“ªç§ï¼Œæˆ‘è¿™é‡Œé€‰æ‹©ç¬¬ä¸‰ç§ã€‚ ä¸Šå›¾æ˜¯æ•´åˆRNA-Seqæ•°æ®å’Œè›‹ç™½æ•°æ®è·‘Brakerçš„æµç¨‹å›¾ï¼Œéœ€è¦æ³¨æ„åŸºå› ç»„æ–‡ä»¶genome.faåœ¨è¾“å…¥å‰éœ€è¦éœ€è¦è¿›è¡Œsoftmaskingï¼ˆé‡å¤åºåˆ—å±è”½ä¸ºå°å†™å­—æ¯ï¼‰ï¼Œå®˜æ–¹å»ºè®®ä¸è¦ç”¨hardmaskingï¼ˆé‡å¤åºåˆ—å±è”½ä¸ºNï¼‰ï¼Œhardmaskingåé¢„æµ‹çš„åŸºå› æ•°é‡ä¼šåå°‘ï¼Œå› ä¸ºé‡å¤åºåˆ—ä¸­å¯èƒ½ä¹Ÿæœ‰åŠŸèƒ½åŸºå› çš„éƒ¨åˆ†ä¿¡æ¯ï¼Œå±è”½ä¸ºNåå°±æ— æ³•æ£€æµ‹åˆ°äº†ã€‚ å¯¹RNA-Seqæ•°æ®çš„å¤„ç†ï¼Œé¦–å…ˆæ˜¯é€šè¿‡SRA tookitå°†SRA IDå¯¹åº”çš„fastqæ•°æ®ä¸‹è½½ä¸‹æ¥ï¼ˆå¦‚æœæœ¬æ¥å°±æ˜¯fastqæ ¼å¼å°±ä¸éœ€è¦è¿™ä¸€æ­¥ï¼‰ï¼Œç”¨Hisat2æ¯”å¯¹åˆ°softmaskingåçš„å‚è€ƒåŸºå› ç»„å¹¶ç”Ÿæˆbamæ–‡ä»¶ï¼Œå†ç”¨stringtieè¿›è¡Œè½¬å½•æœ¬ç»„è£…ã€‚ GeneMark-ETPä»¥ç»„è£…åçš„è½¬å½•æœ¬å’ŒåŒæºè›‹ç™½æ•°æ®åº“ä½œä¸ºè¾“å…¥æ•°æ®è¿›è¡Œè®­ç»ƒå’Œé¢„æµ‹ï¼Œä¹‹åå†ç”¨AUGUSTUSè½¯ä»¶ç»“åˆä¸Šä¸€æ­¥çš„é¢„æµ‹ç»“æœè¿›è¡Œè®­ç»ƒå’Œé¢„æµ‹ï¼Œæœ€åç”¨TSEBRAå¯¹é¢„æµ‹çš„åŸºå› é›†è¿›è¡Œæ•´åˆï¼Œå¾—åˆ°æœ€ç»ˆçš„gtfç»“æœæ–‡ä»¶ã€‚ barker.shè„šæœ¬å¯ä»¥å¦‚ä¸‹ç¼–å†™: 123456789101112#!/bin/bash#SBATCH -n 48#SBATCH -t 7200wd=baima_preif [ -d $wd ]; then rm -r $wdfisingularity exec -B $&#123;PWD&#125;:$&#123;PWD&#125; $&#123;BRAKER_SIF&#125; braker.pl --genome=/public/home/wlxie/biosoft/db_data/baima/RepeatMasker_soft/genome.nextpolish.fasta.masked --prot_seq=/public/home/wlxie/busco_soft/busco/test_data/eukaryota/busco_downloads/lineages/eudicots_odb10/refseq_db.faa --softmasking --threads 48 --workingdir=$&#123;wd&#125; --rnaseq_sets_dirs=/public/home/wlxie/RNAseq/BYT2022020901/rnaseq/baima --rnaseq_sets_ids=4-216031965_raw å‡ ä¸ªå‚æ•°çš„è§£é‡Šï¼š genome softmaskingåçš„åŸºå› ç»„æ–‡ä»¶ä½ç½® prot_seq åŒæºè›‹ç™½åº“çš„æ–‡ä»¶ä½ç½® â€“softmasking maskçš„æ–¹å¼ â€“threads è·‘ç¨‹åºç”¨çš„æ ¸æ•° â€“workingdir å·¥ä½œç›®å½•ä½ç½® rnaseq_sets_dirs RNA-Seqæ•°æ®æ‰€åœ¨ç›®å½• â€“rnaseq_sets_ids åŒç«¯æµ‹åºæ•°æ®æ–‡ä»¶å‰ç¼€ï¼ˆæ¯”å¦‚æˆ‘è¿™é‡Œæ˜¯4-216031965_raw_1.fqå’Œ4-216031965_raw_2.fqï¼‰ è¯´æ˜ä¸€ä¸‹åŒæºè›‹ç™½æ¥æºäºå‰é¢åšBUSCOè¯„ä¼°çš„çœŸåŒå­å¶æ¤ç‰©å•æ‹·è´ç›´ç³»åŒæºåº“ï¼Œæ€ä¹ˆæ¥çš„è¯¦æƒ…å¯è§è¿™ç¯‡åšå®¢ï¼ˆåŒæºè›‹ç™½åº“å»ºè®®ç”¨å®˜æ–¹æ¨èçš„OrthoDBæˆ–è€…æ‰¾å‡ ä¸ªæ¨¡å¼æ¤ç‰©çš„è›‹ç™½æ•°æ®åˆå¹¶ï¼Œè§åšå®¢æœ€ä¸‹æ–¹çš„æ›´æ–°ï¼‰ å‰é¢è¯´è¿‡å¡”å¤§é›†ç¾¤çš„è®¡ç®—èŠ‚ç‚¹æ²¡æœ‰å®‰è£…singularityï¼Œæ‰€ä»¥åœ¨è¿è¡Œè¯¥å®¹å™¨çš„æ—¶å€™è¦åœ¨ç”³è¯·æ ¸åœ¨æœ¬åœ°è·‘ç¨‹åºï¼Œå¹¶ä¸”ç”¨screenç»´æŒå½“å‰ä¼šè¯ï¼š 1234567screen -S singularity # åˆ›å»ºsingularityä¼šè¯salloc -n 48 -t 7200 # ç”³è¯·è®¡ç®—èµ„æºbash barker.shscreen -r singularity # è¿›å…¥singularityä¼šè¯exit # é€€å‡ºä¼šè¯exit # è¿è¡Œç»“æŸé‡Šæ”¾è®¡ç®—èµ„æº æ­£å¸¸è·‘å®ŒèŠ±è´¹äº†9ä¸ªå°æ—¶æ—¶é—´ï¼ˆ200Mbpå¤§å°çš„åŸºå› ç»„ï¼‰ï¼Œå¦‚æœä¸­é€”ä¸å¹¸å‡ºbugï¼Œbrakeræ”¯æŒæœ‰é™åº¦çš„æ–­ç‚¹é‡æ–°è¿è¡Œï¼Œä¸»è¦åˆ†ä¸ºä»¥ä¸‹ä¸‰ä¸ªé˜¶æ®µï¼š åªè¦æœ‰ä¸­é—´æ–‡ä»¶å­˜åœ¨ï¼Œå°±å¯ä»¥åœ¨è¿™ä¸‰ä¸ªé˜¶æ®µç»§ç»­åŠ å…¥å…¶ä»–å‚æ•°ï¼Œè·³è¿‡å·²ç»è¿è¡Œçš„é˜¶æ®µç»§ç»­è¿è¡Œï¼Œè¯¦æƒ…å¯ä»¥çœ‹å®˜æ–¹æ–‡æ¡£https://github.com/Gaius-Augustus/BRAKER#starting-braker-on-the-basis-of-previously-existing-braker-runs 3. ç»“æœæ–‡ä»¶å¯ä»¥åœ¨å‰é¢ç»™å®šçš„å·¥ä½œç›®å½•ä¸­çœ‹åˆ°å¦‚ä¸‹ç»“æœæ–‡ä»¶: braker.gtfâ€”â€”Brakeré¢„æµ‹çš„åŸºå› é›†ï¼ŒåŒ…æ‹¬äº†å„ç§ä¸åŒçš„åŸºå› ç»“æ„é¢„æµ‹ç»“æœ braker.codingseqâ€”â€”fastaæ ¼å¼çš„ç¼–ç åºåˆ—åŸºå› é›†ï¼ˆåŸºå› åºåˆ—ï¼‰ braker.aaâ€”â€”fastaæ ¼å¼çš„è›‹ç™½åºåˆ—åŸºå› é›†ï¼ˆè›‹ç™½åºåˆ—ï¼‰ braker.gff3â€”â€”éœ€è¦â€“gff3å‚æ•°æŒ‡å®šï¼Œè¿™é‡Œæˆ‘æ²¡æœ‰ï¼Œå°±æ˜¯åŸºå› é›†çš„gff3æ ¼å¼ Augustus&#x2F;*â€”â€”AUGUSTUSé¢„æµ‹çš„åŸºå› é›†ï¼ˆåŒ…æ‹¬gtfæ–‡ä»¶ã€åŸºå› åºåˆ—å’Œè›‹ç™½åºåˆ—ï¼‰ GeneMark-ETP&#x2F;*â€”â€”GeneMark-ETPé¢„æµ‹çš„åŸºå› é›†ä»¥åŠå…¶ä»–ä¸­é—´æ–‡ä»¶ hintsfile.gffâ€”â€”ä»RNA-Seqæ•°æ®å’Œè›‹ç™½åº“æ•°æ®ä¸­æå–çš„å¤–éƒ¨è¯æ®æ•°æ® å¯ä»¥é€šè¿‡awkå‘½ä»¤æŸ¥çœ‹gftæ–‡ä»¶çš„ç¬¬ä¸‰åˆ—ï¼ŒæŸ¥çœ‹é¢„æµ‹çš„ç¼–ç è›‹ç™½åŸºå› æ•°é‡å’Œè½¬å½•æœ¬æ•°é‡ï¼š 12345$ awk &#x27;$3==&quot;gene&quot;&#x27; braker.gtf | wc -l17869$ awk &#x27;$3==&quot;transcript&quot;&#x27; braker.gtf | wc -l20832 åç»­å°±å¯ä»¥å¯¹è¿™äº›é¢„æµ‹çš„åŸºå› åšè´¨é‡è¯„ä¼°ï¼Œç„¶åæ¯”å¯¹å„æ•°æ®åº“åšåŠŸèƒ½æ³¨é‡Šã€‚ 2023.4.7 æ›´æ–°1. OrthoDBè›‹ç™½æ•°æ®åº“ä¸‹è½½å®˜æ–¹æ¨èä½¿ç”¨OrthoDBæ•°æ®åº“ä½œä¸ºåŒæºè›‹ç™½æ¥æºã€‚ 123456789101112# çœŸèŒFungi: https://v100.orthodb.org/download/odb10_fungi_fasta.tar.gz# åç”ŸåŠ¨ç‰©Metazoa: https://v100.orthodb.org/download/odb10_metazoa_fasta.tar.gz # èŠ‚è‚¢åŠ¨ç‰© - Arthropoda: https://v100.orthodb.org/download/odb10_arthropoda_fasta.tar.gz # è„Šæ¤åŠ¨ç‰© - Vertebrata: https://v100.orthodb.org/download/odb10_vertebrata_fasta.tar.gz# å•ç»†èƒç”Ÿç‰©Protozoa: https://v100.orthodb.org/download/odb10_protozoa_fasta.tar.gz# ç»¿è‰²æ¤ç‰©Viridiplantae: https://v100.orthodb.org/download/odb10_plants_fasta.tar.gz æˆ‘è¿™é‡Œè¦åˆ†æçš„ç‰©ç§æ˜¯æ¤ç‰©ï¼Œæ‰€ä»¥ä¸‹è½½æœ€åä¸€ä¸ªç»¿è‰²æ¤ç‰©è›‹ç™½åº“ï¼š 123nohup wget https://v100.orthodb.org/download/odb10_plants_fasta.tar.gz &amp;tar zxvf odb10_plants_fasta.tar.gzcat plants/Rawdata/* &gt; plant_proteins.fasta ç»¿è‰²æ¤ç‰©è›‹ç™½åº“çº¦780Mbå¤§å°ï¼Œå»ºè®®ç”¨wgetä¸‹è½½ï¼Œå¦‚æœwindowsä¸‹è½½å†ftpæ‹–æ‹½ä¸Šä¼ åˆ°é›†ç¾¤å¯èƒ½ä¼šæŸåæ–‡ä»¶ï¼ˆå¹¶ä¸”æ²¡æœ‰md5æ•ˆéªŒç æ²¡åŠæ³•ç¡®è®¤æ˜¯å¦çœŸçš„æŸåï¼‰ã€‚ è§£å‹å¹¶å°†æ‰€æœ‰æ•°æ®åˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶plant_proteins.fastaä¸­ï¼Œæˆªè‡³ç›®å‰2023å¹´4æœˆ7æ—¥ä¸ºæ­¢ï¼Œè¿™ä¸ªæ•°æ®åº“å…±æœ‰3510742æ¡è›‹ç™½åºåˆ—ï¼Œæ€»æ–‡ä»¶å¤§å°ä¸º1.4Gbï¼Œæ¯”åŸæ¥æˆ‘æ¯”å¯¹çš„è›‹ç™½åº“å¤§äº†1500å€ã€‚è€Œè›‹ç™½æ¯”å¯¹æ˜¯ä¸€ä¸ªå¾ˆç¼“æ…¢çš„è¿‡ç¨‹ï¼Œå› æ­¤è¿™ä¸€æ­¥é¢„æµ‹åŸºå› çš„æ—¶é—´å°†ä¼šå¾ˆé•¿ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±è¦åšçš„ç‰©ç§ç¡®å®šç”¨å“ªäº›æ³¨é‡Šæ¯”è¾ƒå®Œå–„çš„æ¨¡å¼ç”Ÿç‰©çš„è›‹ç™½åº“ã€‚ 2. è‡ªå»ºè›‹ç™½æ•°æ®åº“åœ¨NCBIç½‘ç«™ä¸Šç›´æ¥æ‰¾ä¸€äº›ç»„è£…æ³¨é‡Šç»“æœè¾ƒå¥½çš„æ¨¡å¼ç”Ÿç‰©å’Œè¿‘ç¼˜ç‰©ç§è›‹ç™½ï¼š 12345678910111213# æ‹Ÿå—èŠ¥ï¼ˆTAIR10.1ï¼‰wget https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/000/001/735/GCF_000001735.4_TAIR10.1/GCF_000001735.4_TAIR10.1_protein.faa.gz# æ ½åŸ¹çƒŸè‰ï¼ˆNtab-TN90ï¼‰wget https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/000/715/135/GCF_000715135.1_Ntab-TN90/GCF_000715135.1_Ntab-TN90_protein.faa.gz# æ°´ç¨»ï¼ˆIRGSP-1.0ï¼‰wget https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/001/433/935/GCF_001433935.1_IRGSP-1.0/GCF_001433935.1_IRGSP-1.0_protein.faa.gz# è¿‘ç¼˜ç‰©ç§coffea arabicawget https://ftp.ncbi.nlm.nih.gov/genomes/all/GCF/003/713/225/GCF_003713225.1_Cara_1.0/GCF_003713225.1_Cara_1.0_protein.faa.gz# è¿‘ç¼˜ç‰©ç§coffea canephorawget https://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/900/059/795/GCA_900059795.1_AUK_PRJEB4211_v1/GCA_900059795.1_AUK_PRJEB4211_v1_protein.faa.gzgunzip *.gzcat *.faa &gt; mydb_proteins.fasta é¡ºä¾¿è®°å½•ä¸€ä¸‹è¿‘ç¼˜ç‰©ç§çš„åŒæºè›‹ç™½æ˜¯å¦‚ä½•æ‰¾åˆ°çš„ï¼š plant Biology - Usadel lab (plabipd.de)è¿™ä¸ªç½‘ç«™è®°å½•äº†å¤šç§å·²å‘è¡¨çš„æ¤ç‰©åŸºå› ç»„æ–‡ç« å’Œæ•°æ®ï¼Œç‚¹å‡»cladogram viewå¯ä»¥ç›´è§‚åœ°çœ‹åˆ°å·²æµ‹è¿‡åŸºå› ç»„çš„æ¤ç‰©å­¦åå’Œæ ‘çŠ¶å›¾ï¼Œæ¯”å¦‚æˆ‘è¦æ‰¾çš„ç‰©ç§æ˜¯å¤¹ç«¹æ¡ƒç§‘ï¼ˆApocynaceaeï¼‰ï¼Œç›´æ¥ctrl + F å°±å¯ä»¥å®šä½åˆ°å¤¹ç«¹æ¡ƒç§‘æ‰€å¤„çš„è¿›åŒ–èŠ‚ç‚¹ã€‚ ç„¶åç”¨Apocynaceaeç¥–å…ˆèŠ‚ç‚¹å’Œå­èŠ‚ç‚¹çš„å·²å‘è¡¨åŸºå› ç»„çš„æ¤ç‰©å­¦åï¼Œä¸€ä¸ªä¸€ä¸ªå»æœNCBIç½‘ç«™çš„Genomeåº“ï¼Œæœ‰proteinåºåˆ—çš„å°±å¯ä»¥ç›´æ¥ä¸‹è½½ã€‚ ä¸¤ç§åŒæºè›‹ç™½å»ºåº“æ–¹å¼é¢„æµ‹çš„åŸºå› æ•°é‡å’ŒèŠ±è´¹çš„æ—¶é—´ï¼š OrthoDB Plantæ•°æ®åº“ è‡ªå»ºè›‹ç™½æ•°æ®åº“ èŠ±è´¹æ—¶é—´ 13 h 12.5 h é¢„æµ‹åŸºå› æ•° 23746 23953 ç”¨è‡ªå»ºè›‹ç™½æ•°æ®åº“è·‘brakeré¢„æµ‹çš„åŸºå› æ•°æ›´å¤šï¼Œä¸”èŠ±è´¹æ—¶é—´æ›´çŸ­ã€‚åç»­ä»¥è¯¥é¢„æµ‹ç»“æœç»§ç»­åˆ†æã€‚ 2023.10.13 æ›´æ–°BRAKER v3.0.2 ä¸­å­˜åœ¨bugï¼Œæœ€åç”Ÿæˆçš„braker.gff3æ–‡ä»¶ä¸­ç¼ºå°‘GeneMark.hmm3é¢„æµ‹ç»“æœã€‚è¯¥bugåœ¨BRAKER v3.0.3ç‰ˆæœ¬ä¸­ä¿®å¤ï¼Œè¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Barker3","slug":"Barker3","permalink":"http://www.shelven.com/tags/Barker3/"}]},{"title":"Apptainer/Singularityä½¿ç”¨æ–¹æ³•è®°å½•","slug":"Apptainer-Singularityä½¿ç”¨æ–¹æ³•è®°å½•","date":"2023-03-28T16:05:34.000Z","updated":"2023-03-28T16:21:56.000Z","comments":true,"path":"2023/03/29/a.html","link":"","permalink":"http://www.shelven.com/2023/03/29/a.html","excerpt":"åœ¨åšç”Ÿä¿¡åˆ†æçš„æ—¶å€™ï¼Œéš¾å…ä¼šé‡åˆ°ä¸€ä¸ªpipelineä¸Šçš„è½¯ä»¶å­˜åœ¨å†²çªçš„æƒ…å†µï¼Œä¸€èˆ¬çš„è§£å†³æ–¹æ³•æ˜¯åˆ›å»ºä¸åŒçš„condaç¯å¢ƒï¼Œç„¶ååˆ†åˆ«åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹è·‘ä¸åŒçš„è½¯ä»¶ã€‚è¿™ç§æ“ä½œå¯ä»¥è§£å†³ç¯å¢ƒå†²çªçš„é—®é¢˜ä½†ä¸é€‚åˆå†™æµç¨‹åŒ–çš„è„šæœ¬ï¼ŒåŒæ—¶åˆéå¸¸å ç”¨ç©ºé—´ã€‚æœ‰çš„è½¯ä»¶æ•´åˆäº†pipelineæµç¨‹çš„æ‰€æœ‰è½¯ä»¶ï¼ŒæŒ‰ç…§é¡ºåºè¿›è¡Œè°ƒç”¨ï¼Œè¿™ç§è½¯ä»¶è™½ç„¶å¯ä»¥èŠ‚çœæ—¶é—´å®ç°è‡ªåŠ¨åŒ–åˆ†æï¼Œä½†æ˜¯ç¯å¢ƒä¾èµ–çš„é—®é¢˜æ›´åŠ å¤æ‚ï¼Œå› æ­¤è¿™ä¸€ç±»çš„è½¯ä»¶ä¹Ÿå¾€å¾€æä¾›å®¹å™¨æ¥æ–¹ä¾¿äººä»¬åœ¨ä¸€ä¸ªå°é—­çš„ç¯å¢ƒä¸­ä½¿ç”¨ã€‚","text":"åœ¨åšç”Ÿä¿¡åˆ†æçš„æ—¶å€™ï¼Œéš¾å…ä¼šé‡åˆ°ä¸€ä¸ªpipelineä¸Šçš„è½¯ä»¶å­˜åœ¨å†²çªçš„æƒ…å†µï¼Œä¸€èˆ¬çš„è§£å†³æ–¹æ³•æ˜¯åˆ›å»ºä¸åŒçš„condaç¯å¢ƒï¼Œç„¶ååˆ†åˆ«åœ¨ä¸åŒçš„ç¯å¢ƒä¸‹è·‘ä¸åŒçš„è½¯ä»¶ã€‚è¿™ç§æ“ä½œå¯ä»¥è§£å†³ç¯å¢ƒå†²çªçš„é—®é¢˜ä½†ä¸é€‚åˆå†™æµç¨‹åŒ–çš„è„šæœ¬ï¼ŒåŒæ—¶åˆéå¸¸å ç”¨ç©ºé—´ã€‚æœ‰çš„è½¯ä»¶æ•´åˆäº†pipelineæµç¨‹çš„æ‰€æœ‰è½¯ä»¶ï¼ŒæŒ‰ç…§é¡ºåºè¿›è¡Œè°ƒç”¨ï¼Œè¿™ç§è½¯ä»¶è™½ç„¶å¯ä»¥èŠ‚çœæ—¶é—´å®ç°è‡ªåŠ¨åŒ–åˆ†æï¼Œä½†æ˜¯ç¯å¢ƒä¾èµ–çš„é—®é¢˜æ›´åŠ å¤æ‚ï¼Œå› æ­¤è¿™ä¸€ç±»çš„è½¯ä»¶ä¹Ÿå¾€å¾€æä¾›å®¹å™¨æ¥æ–¹ä¾¿äººä»¬åœ¨ä¸€ä¸ªå°é—­çš„ç¯å¢ƒä¸­ä½¿ç”¨ã€‚ è¿™ç¯‡åšå®¢ä¸»è¦è®²ä¸€è®²å…³äºå®¹å™¨çš„ä¸€äº›åŸºæœ¬å¸¸è¯†ï¼Œä»¥åŠè®°å½•ä¸‹å­¦æ ¡é›†ç¾¤ä¸­singularityçš„ä½¿ç”¨æ–¹æ³•ã€‚ 1. å®¹å™¨ï¼ˆContainerï¼‰å‰é¢è¯´åˆ°ä¸ºäº†è§„é¿è½¯ä»¶ä¸ç°æœ‰ç¯å¢ƒä¾èµ–å†²çªï¼Œæˆ‘ä»¬å¾€å¾€ä¼šæŠŠä¸€ä¸ªpipelineçš„è½¯ä»¶å°è£…åˆ°ä¸€ä¸ªå®¹å™¨ä¸­ã€‚å®¹å™¨æ˜¯ä¸€ç§åœ¨Linuxç³»ç»Ÿä¸Šå¹¿æ³›é‡‡ç”¨çš„åº”ç”¨å°è£…æŠ€æœ¯ï¼Œå®ƒå°†å¯æ‰§è¡Œç¨‹åºä¸ä¾èµ–åº“æ‰“åŒ…æˆä¸€ä¸ªé•œåƒæ–‡ä»¶ï¼Œå¯åŠ¨æ—¶ä¸å®¿ä¸»èŠ‚ç‚¹å…±äº«æ“ä½œç³»ç»Ÿå†…æ ¸ã€‚ é•œåƒï¼ˆImageï¼‰ï¼šå¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨äºä¿å­˜ç¯å¢ƒ å®ä¾‹ï¼ˆInstanceï¼‰ï¼šåŸºäºé•œåƒå¯åŠ¨çš„è¿è¡Œå®ä¾‹ï¼Œè¿è¡Œå®é™…ä»»åŠ¡ï¼Œä¸åŒå®ä¾‹ä¹‹é—´äº’ç›¸éš”ç¦» ç”±äºè¿™ä¸ªé•œåƒæ–‡ä»¶è‡ªå¸¦äº†å¯æ‰§è¡Œæ–‡ä»¶å’Œä¾èµ–åº“ï¼Œå› æ­¤ä¸éœ€è¦ç”¨åˆ°å®¿ä¸»æœºçš„ä¾èµ–åº“ï¼Œä¹Ÿå°±ä»æºå¤´ä¸Šé¿å…äº†ç¯å¢ƒå†²çªçš„æƒ…å†µã€‚å¬èµ·æ¥è¿™ç§å®ç°æ–¹å¼ç±»ä¼¼äºè™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œä½†è¿˜æ˜¯æœ‰ä¸€äº›åŒºåˆ«çš„ï¼šå‰é¢è¯´è¿‡å®¹å™¨å¯åŠ¨æ—¶ä¸å®¿ä¸»æœºå…±äº«æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œæ²¡æœ‰è¿è¡Œç‹¬ç«‹çš„æ“ä½œç³»ç»Ÿä»»åŠ¡ï¼Œåœ¨èµ„æºçš„å ç”¨ä¸Šæ˜æ˜¾ä½äºè™šæ‹Ÿæœºã€‚è™šæ‹ŸåŒ–å¯ä»¥è®¤ä¸ºå®ƒæ›´å…¨é¢å’Œå½»åº•ä¸€äº›ï¼Œæ¯ä¸ªè™šæ‹Ÿæœºä»å®¿ä¸»æœºçš„ç‰©ç†æ¡†æ¶ä¸­åˆ†å‰²å‡ºæ¥ï¼Œæœ‰è‡ªå·±çš„ä¸€æ•´å¥—æ“ä½œç³»ç»Ÿï¼Œä¼šè¿è¡Œå„ç§ç‹¬ç«‹çš„æ“ä½œç³»ç»Ÿä»»åŠ¡ï¼Œå³ä½¿æ²¡æœ‰è¿è¡Œç¨‹åºä¹Ÿä¼šæ¶ˆè€—å†…å­˜å’Œç³»ç»Ÿèµ„æºã€‚ ä¸Šå›¾æ¥è‡ªMicrosoft Azureå®¹å™¨ä¸è™šæ‹Ÿæœºçš„æ¯”è¾ƒã€‚æ€»ç»“æ¥è¯´ï¼Œåœ¨å®‰å…¨æ€§å’Œéš”ç¦»æ€§ä¸Šè™šæ‹Ÿæœºä¼˜äºå®¹å™¨ï¼Œåœ¨èµ„æºå ç”¨ã€å¯ç§»æ¤æ€§å’Œè¿è¡Œé€Ÿåº¦ä¸Šï¼Œå®¹å™¨ä¼˜äºè™šæ‹Ÿæœºã€‚ ç°æœ‰çš„å®¹å™¨è½¯ä»¶æ¯”è¾ƒå¤šï¼ŒDockerï¼ˆ5.8k starï¼‰æ˜¯ä»£è¡¨æ€§çš„è½¯ä»¶ä¹‹ä¸€ï¼Œå…¶ä»–å¼€æºå®¹å™¨åŒ–å·¥å…·è¿˜æœ‰Podmanï¼ˆ17.4k starï¼Œæ— å®ˆæŠ¤è¿›ç¨‹çš„å®¹å™¨æŠ€æœ¯ï¼Œæ— éœ€rootæƒé™ï¼‰ã€LXDï¼ˆ3.8k starï¼Œå¯è¿è¡Œå¤šä¸ªè¿›ç¨‹ï¼‰ã€Apptainerï¼ˆä»¥å‰å«singularityï¼Œ2.4k starï¼Œæ— éœ€rootæƒé™ï¼‰ã€Containerdï¼ˆ13.5k starï¼‰å’ŒRunCï¼ˆ10.1k starï¼‰ç­‰ã€‚ è¿™äº›å¼€æºçš„å®¹å™¨åŒ–æŠ€æœ¯è½¯ä»¶å„æœ‰å…¶ç‰¹ç‚¹ï¼Œè¯¦æƒ…å¯ä»¥ç‚¹å„è‡ªçš„é“¾æ¥äº†è§£ï¼Œè¿™é‡Œå°±ä¸è¿‡å¤šä»‹ç»äº†ã€‚ä¸»è¦è¯´ä¸‹å¡”å¤§é›†ç¾¤éƒ¨ç½²çš„singularityï¼ˆç°åœ¨å·²æ”¹åä¸ºApptainerï¼Œå¾ˆå¤šäººä¸çŸ¥é“æ”¹åäº†ï¼Œä¸¤ä¸ªåå­—å°±æ”¾ä¸€å—å„¿è¯´ï¼‰çš„ä½¿ç”¨æ–¹æ³•ã€‚ 2. Apptainer&#x2F;Singularityé¦–å…ˆè¿˜æ˜¯è¦è¯´æ˜ä»¥ä¸€ä¸‹ä»€ä¹ˆæ—¶å€™é€‰æ‹©ç”¨å®¹å™¨ï¼Œå¹¶ä¸æ˜¯è¯´æ¯ä¸€ä¸ªè½¯ä»¶éƒ½è¦ç”¨å®¹å™¨å°è£…â€”â€”åè€Œè¿™æ ·æ˜¯å¯¹ç³»ç»Ÿèµ„æºçš„æµªè´¹ã€‚ä¸€èˆ¬æ˜¯åœ¨éœ€è¦æ‰¹é‡éƒ¨ç½²ç¯å¢ƒã€æˆ–è€…å¿«é€Ÿéƒ¨ç½²ä¸€ä¸ªpipelineç¯å¢ƒçš„æ—¶å€™é€‰æ‹©ç”¨å®¹å™¨ã€‚åœ¨HPCä¸Šè¿›è¡Œå¤§è§„æ¨¡è®¡ç®—çš„æ—¶å€™ï¼Œä¸€èˆ¬è€ƒè™‘å®‰å…¨æ€§ä¸ä¼šç”¨Dockerï¼ˆéœ€è¦rootæƒé™ï¼‰ï¼ŒApptainer&#x2F;Singularityè¿™ç§æ— éœ€rootæƒé™çš„å®¹å™¨å·¥å…·æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚ éœ€è¦è¯´æ˜ä¸€ä¸‹ï¼Œä¸¤å¹´å‰Singularityæ”¹åä¸ºApptainerï¼Œå¹¶ä¸”æ•´ä¸ªé¡¹ç›®å·²ç»è½¬ç§»æˆä¸ºäº†Linux Foundationçš„ä¸€éƒ¨åˆ†ã€‚Apptainerç”¨æ³•å’ŒSingularityå‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œå¯ä»¥å‚è€ƒhttps://apptainer.org/docs/user/latest/quick_start.htmlhttps://docs.sylabs.io/guides/latest/user-guide/quick_start.html#ä¸¤ä¸ªå®˜æ–¹æ‰‹å†Œã€‚å› ä¸ºå¡”å¤§è¶…ç®—é¢„è£…äº†singularityï¼Œä»¥ä¸‹ç»Ÿä¸€ç”¨Singularityå‘½ä»¤æ¥è®²è§£ã€‚ Singularityçš„é•œåƒæ–‡ä»¶ä»¥.sifä¸ºåç¼€ï¼ˆSingularity Image File, SIFï¼‰ï¼Œä¸”è¯¥æ–‡ä»¶æ˜¯åªè¯»çš„ï¼Œè¿™å’ŒDockeré•œåƒæ–‡ä»¶æœ‰æœ¬è´¨ä¸Šçš„åŒºåˆ«ã€‚ 2.1 ä½¿ç”¨é•œåƒåº“è·å–é•œåƒæ–‡ä»¶Singularity imageæ–‡ä»¶æ˜¯åŸºäºDocker imageåˆ›å»ºçš„ï¼š 1234567singularity -d build braker3.sif docker://teambraker/braker3:latest# å¯ä»¥è·å–çš„é•œåƒæ–‡ä»¶åº“ï¼ˆäº‘å¹³å°ï¼‰æœ‰ä»¥ä¸‹å‡ ç§# Sylabs cloud library library://# Docker docker://# Shub shub://# OCI registry oras://# åˆ›å»ºä¹‹åçš„æ–‡ä»¶åä¸ºbraker3.sif build&#x2F;pull è¿™ä¸¤ä¸ªå‘½ä»¤éƒ½å¯ä»¥æ‹‰å–é•œåƒæ–‡ä»¶å¹¶åˆ›å»ºä¸ºsingularityçš„sifæ–‡ä»¶ åˆ›å»ºçš„imageè·¯å¾„ã€åå­—éƒ½å¯ä»¥åœ¨-då‚æ•°åæ ¹æ®éœ€è¦è‡ªå·±æ”¹ å½“ä¸€ä¸ªè½¯ä»¶æä¾›dockeré•œåƒï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸Šé¢çš„æ–¹æ³•ä¸‹è½½å¹¶åˆ›å»ºä¸€ä¸ªsingularityé•œåƒï¼Œéœ€è¦æ³¨æ„è¿™ä¸ªé•œåƒæ–‡ä»¶æ˜¯åªè¯»çš„ã€‚ 2.2 åˆ›å»ºè‡ªå®šä¹‰é•œåƒæ–‡ä»¶è¿™é‡Œé¡ºå¸¦æä¸€ä¸‹å¦‚ä½•åˆ¶ä½œè‡ªå®šä¹‰çš„SIFé•œåƒæ–‡ä»¶ï¼š 12345678singularity -d build --sandbox ubuntu/ docker://ubuntu# ä»¥æ²™ç›’çš„å½¢å¼åˆ›å»ºä¸€ä¸ªç©ºçš„æ“ä½œç³»ç»Ÿï¼Œæ”¾åœ¨ubuntuè¿™ä¸ªæ–‡ä»¶å¤¹ä¸­singularity shell --writable ubuntu# --writableæˆ–è€…-wä»¥å¯ä¿®æ”¹æ¨¡å¼è¿›å…¥æ²™ç›’ã€‚ä¹Ÿå¯ä»¥ä¸ç”¨è¿™ç§æ–¹æ³•è¿›å…¥ï¼Œç›´æ¥è¿›å…¥å¯¹åº”çš„æ–‡ä»¶ä½ç½®ä¿®æ”¹å³å¯singularity build name.sif ubuntu# åˆ›å»ºsifé•œåƒæ–‡ä»¶ è¿›å…¥æ²™ç›’ï¼Œå°±å¯ä»¥å’Œæ­£å¸¸çš„linuxæ“ä½œç³»ç»Ÿä¸€æ ·è¿›è¡Œå®‰è£…è½¯ä»¶ï¼Œæœ€åbuildåˆ¶ä½œæˆåä¸ºname.sifçš„singularityé•œåƒï¼Œå’Œ2.1ä»é•œåƒåº“æ‹‰å–åˆ›å»ºçš„é•œåƒåç»­æ˜¯ä¸€æ ·çš„ç”¨æ³•ã€‚ ç¬¬äºŒæ­¥ä»¥å¯ä¿®æ”¹æ¨¡å¼è¿›å…¥æ²™ç›’æ—¶å¯èƒ½ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š 12WARNING: By using --writable, Singularity can&#x27;t create /public destination automatically without overlay or underlayFATAL: container creation failed: mount /var/singularity/mnt/session/public-&gt;/public error: while mounting /var/singularity/mnt/session/public: destination /public doesn&#x27;t exist in container æ— æ³•è‡ªåŠ¨åˆ›å»ºpublicè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œå¹¶ä¸”è¿›å…¥/var/singularity/mnt/session/è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹ä½ ä¼šå‘ç°æ˜¯ç©ºçš„ï¼Œæ­¤æ—¶éœ€è¦æ‰‹åŠ¨åœ¨ä½ åˆ›å»ºubuntuçš„æ–‡ä»¶å¤¹ä¸­åˆ›å»ºpublicæ–‡ä»¶å¤¹ mkdir publicï¼Œæç¤ºç¼ºå°‘å…¶ä»–æ–‡ä»¶ä¹Ÿæ˜¯ä¸€æ ·çš„å¤„ç†æ–¹æ³•ï¼Œç¼ºå•¥åˆ›å»ºå•¥ï¼Œå°±å¯ä»¥æ­£å¸¸è¿›å…¥äº†ã€‚ éœ€è¦æ³¨æ„ï¼Œå¡”å¤§é›†ç¾¤æ— æ³•åˆ¶ä½œsifé•œåƒæ–‡ä»¶ï¼ï¼ï¼ä¼šåœ¨æœ€åä¸€æ­¥buildçš„æ—¶å€™æç¤ºpermission deniedï¼Œå› æ­¤ï¼Œåˆ›å»ºè‡ªå®šä¹‰é•œåƒæ–‡ä»¶è¦åœ¨è‡ªå·±çš„è®¡ç®—æœºä¸Šï¼ˆæ‹¥æœ‰rootæƒé™ï¼‰ï¼Œåˆ¶ä½œå®Œæˆä¹‹åçš„sifé•œåƒæ–‡ä»¶å¯ä»¥ä¸Šä¼ åˆ°é›†ç¾¤ä¸­å†è¿è¡Œã€‚ 2.3 è¿è¡Œé•œåƒæ–‡ä»¶singularityä¸»è¦æœ‰ä¸¤ç§è¿è¡Œæ–¹å¼ï¼Œä¸€ç§æ˜¯æ‰§è¡Œé•œåƒæ–‡ä»¶ä¸­çš„å‘½ä»¤ singularity execï¼›ä¸€ç§æ˜¯è¿›å…¥äº¤äº’æ¨¡å¼singularity shell 12345singularity exec name.sif test/test.pl # è¿è¡Œname.sifé•œåƒæ–‡ä»¶ä¸­testæ–‡ä»¶å¤¹ä¸‹çš„test.plç¨‹åºsingularity shell name.sif# ä»¥äº¤äº’æ¨¡å¼è¿›å…¥name.sifé•œåƒæ–‡ä»¶ éœ€è¦æ³¨æ„ï¼Œè¿è¡Œé•œåƒæ–‡ä»¶åï¼Œsingularityä¼šè‡ªåŠ¨æŒ‚è½½å½“å‰ç›®å½•$PWDã€ç”¨æˆ·å®¶ç›®å½•$HOMEå’Œå®¿ä¸»æœºçš„/tmpç›®å½•ï¼Œå¯¹è¿™äº›ç›®å½•çš„æ–‡ä»¶è¿›è¡Œä¿®æ”¹ä¼šå½±å“åˆ°åŸæ–‡ä»¶ã€‚å¯¹äºä¸€èˆ¬çš„ç¨‹åºæ¥è¯´å·²ç»è¶³å¤Ÿäº†ï¼Œå¦‚æœéœ€è¦è®¿é—®å®¿ä¸»æœºçš„å…¶ä»–ç›®å½•ï¼Œéœ€è¦ç”¨--bindå°†å®¿ä¸»æœºç›®å½•æ˜ å°„åˆ°å®¹å™¨å†…ã€‚ 12345singularity exec --bind /pub/software:/mnt name.sif python test.py# --bindæŒ‚è½½å®¿ä¸»æœºçš„æ–‡ä»¶å¤¹ï¼Œå†’å·å‰ä¸ºå®¿ä¸»æœºçš„è·¯å¾„ï¼Œå†’å·åä¸ºå®¹å™¨ä¸­çš„è·¯å¾„ã€‚å†…å®¹æŒ‚è½½åˆ°/mntä¸­singularity exec --bind /pub/software name.sif python test.py# ä¸å†™æŒ‚è½½ç‚¹ï¼Œåˆ™ä¸å®¿ä¸»æœºçš„ç›®å½•ä¸€è‡´ã€‚å†…å®¹æŒ‚è½½åˆ°/pub/softwareä¸­ 2.4 åœ¨é›†ç¾¤ä¸­æäº¤singularityä½œä¸šä¸€èˆ¬æ¥è¯´ç™»å½•èŠ‚ç‚¹é¢„è£…äº†singularityï¼Œè®¡ç®—èŠ‚ç‚¹ä¹Ÿä¼šè£…singularityæ‰å¯¹ï¼Œä½†æ˜¯æ— è®ºæˆ‘ç›´æ¥ç”¨singularityå‘½ä»¤è¿˜æ˜¯æŒ‡å®šsingularityå‘½ä»¤çš„ç»å¯¹è·¯å¾„ï¼Œåœ¨sbatchæäº¤ä½œä¸šåéƒ½æ˜¯æç¤ºè¯¥å‘½ä»¤ä¸å­˜åœ¨ã€‚å¾ˆç–‘æƒ‘ï¼Œåˆå»æŸ¥äº†ä¸€äº›èµ„æ–™ï¼Œå‘ç°æœ‰çš„å¹³å°éœ€è¦åœ¨ä½œä¸šé‡Œmodule load singularityä¹‹åæ‰å¯ä»¥åŠ è½½ï¼Œä½†æ˜¯å¡”å¤§é›†ç¾¤ç”¨è¿™ä¸ªæŒ‡ä»¤ä»ç„¶è¡Œä¸é€šï¼Œåªæœ‰æœ¬åœ°ï¼ˆç™»å½•èŠ‚ç‚¹ï¼‰æ‰å¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ã€‚ ç™¾æ€ä¸å¾—å…¶è§£ï¼Œè¯¢é—®é›†ç¾¤ç®¡ç†å‘˜æš‚æ—¶æ²¡æœ‰ç­”å¤ï¼Œåç»­æœ‰æ–°æ¶ˆæ¯ä¼šæ›´æ–°ã€‚è¿™é‡Œè¯´ä¸€ä¸‹æˆ‘çš„è§£å†³æ–¹æ³•ï¼š æ—¢ç„¶å¯ä»¥åœ¨æœ¬åœ°è¿è¡Œsingularityï¼Œé‚£å°±å¯ä»¥ç”¨sallocç”³è¯·è®¡ç®—èµ„æºï¼Œåœ¨æœ¬åœ°è·‘ç¨‹åºã€‚ä½†æ˜¯æˆ‘åˆä¸å¯èƒ½ä¸€ç›´ååœ¨ç”µè„‘è·Ÿå‰ï¼Œå› æ­¤éœ€è¦ç”¨åˆ°screenè¿™ä¸ªå·¥å…·ç»´æŒå½“å‰ä¼šè¯ã€‚ 1234567891011screen -S test# åˆ›å»ºåä¸ºtestçš„sessionå¯¹è±¡salloc -n 50 -t 7200# ç”³è¯·50æ ¸çš„è®¡ç®—èµ„æºexport BRAKER_SIF=\\$PWD/braker3.sif# ç»™hostæ·»åŠ ç¯å¢ƒå˜é‡ï¼ˆéå¿…é¡»ï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼‰singularity esec braker3.sif braker.pl # è¿è¡Œå®¹å™¨ä¸­çš„ç¨‹åº è¿è¡Œä¹‹åå°±å¯ä»¥åŒæ‰‹ç¦»å¼€é”®ç›˜ï¼Œå…³ä¸Šç”µè„‘ï¼Œç­‰å¾…ç¬¬äºŒå¤©ç¨‹åºè¿è¡Œç»“æŸäº†ã€‚ å†æ¬¡æ‰“å¼€sessionçš„æ—¶å€™åªéœ€è¦è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š 12345678screen -r test# å†æ¬¡æ‰“å¼€sessionexit# é€€å‡ºsessionexit# é‡Šæ”¾è®¡ç®—èµ„æº æ³¨æ„éœ€è¦ä¸¤æ¬¡exitä¹‹åæ‰ä¼šå›åˆ°åŸæ¥çš„ç™»å½•èŠ‚ç‚¹ã€‚ singularityè¿˜æœ‰å¾ˆå¤šå…¶ä»–å‚æ•°ï¼Œå¯¹æˆ‘è€Œè¨€æš‚æ—¶ç”¨ä¸åˆ°ï¼Œéœ€è¦ç”¨çš„æ—¶å€™å†æ›´æ–°ã€‚ å¯ä»¥å‚è€ƒæ­¦å¤§è¶…ç®—ä¸­å¿ƒçš„æ–‡æ¡£è¿è¡Œ Singularity Â· GitBook (whu.edu.cn)å’ŒåŒ—é²²äº‘çš„ä»‹ç»æ–‡æ¡£https://www.cloudam.cn/helpce/docs/2030/about2/ã€‚ï¼ˆå¯æ¶ï¼Œæˆ‘ä»¬å­¦æ ¡é›†ç¾¤ä»€ä¹ˆæ—¶å€™èƒ½å‡ºä¸€ä¸ªè¯¦ç»†çš„æ–‡æ¡£å•Šã€‚å¥½æƒ³åæ§½ï¼Œslurmè°ƒåº¦ç³»ç»Ÿå’Œå„ç§è½¯ä»¶éƒ½è¦è‡ªå·±å­¦ï¼ŒåŠŸèƒ½è¿˜ä¸ä¸€å®šå…¨ï¼Œä¹Ÿä¸çŸ¥é“åˆ°åº•é¢„è£…äº†å“ªäº›ä¸œè¥¿ï¼Œä»¥åè¦æ˜¯æˆ‘æ¥ç®¡ç†é›†ç¾¤ä¸€å®šä¼šåšè¯¦ç»†çš„æ–‡æ¡£ä»‹ç»æ‰€æœ‰èŠ±é‡Œèƒ¡å“¨çš„åŠŸèƒ½ï¼Œè€Œä¸æ˜¯è—ç€ä¸å‘Šè¯‰ç”¨æˆ·ï¼‰ 2023.3.29æ›´æ–°ç ´æ¡ˆäº†ï¼Œè®¡ç®—èŠ‚ç‚¹ç¡®å®æ²¡è£…singularityï¼ˆå™ä½.jpgï¼‰","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"å®¹å™¨","slug":"å®¹å™¨","permalink":"http://www.shelven.com/tags/%E5%AE%B9%E5%99%A8/"},{"name":"singularity","slug":"singularity","permalink":"http://www.shelven.com/tags/singularity/"}]},{"title":"åŸºå› ç»„æ³¨é‡Šï¼ˆ3ï¼‰â€”â€”ncRNAæ³¨é‡Š","slug":"åŸºå› ç»„æ³¨é‡Šï¼ˆ3ï¼‰â€”â€”ncRNAæ³¨é‡Š","date":"2023-03-21T16:29:28.000Z","updated":"2023-03-21T16:31:39.000Z","comments":true,"path":"2023/03/22/a.html","link":"","permalink":"http://www.shelven.com/2023/03/22/a.html","excerpt":"éç¼–ç RNA(non-coding RNAï¼ŒncRNA)æŒ‡ä¸ç¼–ç è›‹ç™½è´¨çš„RNAï¼ŒåŒ…æ‹¬rRNAã€tRNAã€snRNAã€snoRNA å’Œ microRNA ç­‰å¤šç§å·²çŸ¥åŠŸèƒ½çš„ RNAï¼Œå’ŒæœªçŸ¥åŠŸèƒ½çš„RNAã€‚tRNAé¢„æµ‹å¯ä»¥ä½¿ç”¨ç»å…¸çš„tRNAscan-SEï¼Œå…¶ä»–ç±»å‹çš„RNAéƒ½å¯ä»¥ç”¨Infernal+Rfamæ•°æ®åº“æ–¹å¼é¢„æµ‹ã€‚","text":"éç¼–ç RNA(non-coding RNAï¼ŒncRNA)æŒ‡ä¸ç¼–ç è›‹ç™½è´¨çš„RNAï¼ŒåŒ…æ‹¬rRNAã€tRNAã€snRNAã€snoRNA å’Œ microRNA ç­‰å¤šç§å·²çŸ¥åŠŸèƒ½çš„ RNAï¼Œå’ŒæœªçŸ¥åŠŸèƒ½çš„RNAã€‚tRNAé¢„æµ‹å¯ä»¥ä½¿ç”¨ç»å…¸çš„tRNAscan-SEï¼Œå…¶ä»–ç±»å‹çš„RNAéƒ½å¯ä»¥ç”¨Infernal+Rfamæ•°æ®åº“æ–¹å¼é¢„æµ‹ã€‚ 1. tRNAscan-SEtRNAscan-SEçš„å®‰è£…éœ€è¦ä¾èµ–Infernalè½¯ä»¶ï¼Œå› æ­¤å¯ä»¥ç”¨condaç›´æ¥å®‰è£…tRNAscan-SEé¡ºå¸¦è§£å†³ä¾èµ–é—®é¢˜ï¼š 1conda install -c bioconda trnascan-se å†™ä¸€ä¸ªè„šæœ¬è¿è¡ŒtRNAscan-SEï¼š 12345#!/bin/bash#SBATCH -n 50#SBATCH -t 7200tRNAscan-SE --thread 50 -E -I -m tRNA_luobuma.stats -o tRNA_luobuma.out -f tRNA_luobuma.ss /public/home/wlxie/NextPolish/luobuma_rundir/genome.nextpolish.fasta å‚æ•°è§£é‡Šï¼š -E æœå¯»çœŸæ ¸ç”Ÿç‰©tRNA -I ä½¿ç”¨Infernalè½¯ä»¶è¿›è¡Œæœç´¢ -m ä¿å­˜ç»“æœç»Ÿè®¡æ–‡ä»¶ -o è¾“å‡ºtRNAé¢„æµ‹ç»“æœ -f ä¿å­˜tRNAçš„äºŒçº§ç»“æ„ ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨-jå‚æ•°ä¿å­˜gff3æ ¼å¼ï¼Œ-bå‚æ•°ä¿å­˜bedæ ¼å¼ï¼Œè¯¦æƒ…å¯ä»¥è§tRNAscan-SE -h ç”Ÿæˆçš„äºŒçº§ç»“æ„ç»“æœæ–‡ä»¶å¦‚ä¸‹ï¼š strä¸€è¡Œè®°å½•çš„äºŒçº§ç»“æ„ä¿¡æ¯ï¼Œæ¯ä¸ª&lt;&gt;æ˜¯äº’ç›¸é…å¯¹çš„ï¼Œä»£è¡¨åœ¨äºŒçº§ç»“æ„ä¸­è¿™ä¸¤ä¸ªç¢±åŸºè¿åœ¨ä¸€èµ·ã€‚å¯ä»¥é€šè¿‡å…¶ä»–è½¯ä»¶ï¼ˆå¦‚VARNAï¼‰ç»˜åˆ¶æˆå›¾ã€‚ è¾“å‡ºçš„outæ–‡ä»¶ä¹Ÿæ¨èè½¬æˆgffæ–‡ä»¶æ–¹ä¾¿åœ¨åŸºå› ç»„ä¸Šå¯è§†åŒ–ï¼Œå› ä¸ºæˆ‘è¿™é‡Œåªæ˜¯ç²—ç•¥ç»Ÿè®¡ä¸€ä¸‹tRNAæ•°é‡ï¼Œæ‰€ä»¥åªçœ‹statæ–‡ä»¶å°±å¯ä»¥äº†ï¼š å¯ä»¥çœ‹åˆ°ç¬¬ä¸€è½®é¢„æµ‹å‡º526ä¸ªtRNAï¼Œé€šè¿‡InfernaléªŒè¯çš„æœ‰479ä¸ªã€‚ 2. Infernal + RfamInfernalï¼ˆINFERence of RNA ALignmentï¼‰æ˜¯Sangerå®éªŒå®¤å¼€å‘çš„ncRNAé¢„æµ‹è½¯ä»¶ï¼Œä»–ä»¬å»ºç«‹äº†1600å¤šä¸ªRNAå®¶æ—ï¼Œæ¯ä¸ªå®¶æ—å»ºç«‹äº†ä¸€è‡´æ€§äºŒçº§ç»“æ„å’Œåæ–¹å·®æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯Rfamæ•°æ®åº“ã€‚æ€»ä½“çš„æ³¨é‡Šæ€è·¯æ˜¯åŸºå› ç»„ä¸ Rfamæ•°æ®åº“è¿›è¡Œæ¯”å¯¹ï¼ŒRfamæ˜¯ä¸€ä¸ªRNAåˆ†ç±»æ•°æ®åº“ï¼Œå…¶æ¯”å¯¹æ–¹æ³•æ˜¯è°ƒç”¨è½¯ä»¶Infernalä¸­çš„ç¨‹åºcmscanï¼Œå°†æäº¤çš„åºåˆ—åœ¨Rfam.cmæ•°æ®åº“ä¸­è¿›è¡Œæ£€ç´¢ï¼Œä»è€Œå¾—åˆ°å…¶æ¯”å¯¹çš„ç»“æœã€‚ cmscanï¼ˆsearch sequence(s) against a covariance model database, é’ˆå¯¹åæ–¹å·®æ¨¡å‹æ•°æ®åº“çš„åºåˆ—æœç´¢ï¼‰ï¼Œä¸»è¦å‚è€ƒå®˜æ–¹æ‰‹å†ŒUserguide.pdf (eddylab.org)ä¸­çš„Searching the Rfam CM database with a query sequenceæ­¥éª¤ã€‚ å‰é¢å·²ç»å®‰è£…äº†Infernalï¼Œè¿™é‡Œéœ€è¦å†ä¸‹è½½ä¸€ä¸ªRfamæ•°æ®åº“ã€‚ 1234567# ä¸‹è½½Rfamæ•°æ®åº“ï¼Œæ³¨æ„ä¸¤ä¸ªæ–‡ä»¶ç‰ˆæœ¬å¿…é¡»ä¸€è‡´wget ftp://ftp.ebi.ac.uk/pub/databases/Rfam/CURRENT/Rfam.cm.gzwget ftp://ftp.ebi.ac.uk/pub/databases/Rfam/CURRENT/Rfam.clanin# è§£å‹å»ºåº“gunzip Rfam.cm.gzcmpress Rfam.cm å®˜æ–¹æ‰‹å†Œè¿™é‡Œä½¿ç”¨é»˜è®¤å‚æ•°è¿è¡Œcmscanï¼Œç¨å¾®æ³¨æ„ä¸‹-Zï¼Œä»¥ä¸‹æ˜¯å®˜æ–¹å¯¹-Zå‚æ•°çš„å®šä¹‰ï¼š -Z Calculate E-values as if the search space size was megabases (Mb). Without the use of this option, the search space size changes for each query sequence, it is defined as the length of the current query sequence times 2 (because both strands of the sequence will be searched) times the number of CMs in . Zå€¼ä»£è¡¨æœç´¢æ•°æ®åº“çš„å¤§å°ï¼ˆdatabase sizeï¼‰ï¼Œæ˜¯å’ŒE-Valuesè®¡ç®—ç›¸å…³çš„ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ªquery sequenceçš„-Zå‚æ•°å€¼æ˜¯ä¸åŒçš„ï¼Œç­‰äºquery sequenceæœ¬èº«çš„ç¢±åŸºæ•°*2*CMæ•°æ®åº“ä¸­æ¨¡å‹çš„æ•°é‡ï¼Œåªæœ‰E-Valueså°äº10çš„hitsä¼šè¢«æŠ¥é“ã€‚ åœ¨ä½œè€…çš„åŸæ–‡ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°è¿™ä¹ˆä¸€å¥è¯ï¼š To manually set the database size used in the E-value calculation to megabases when running cmsearch or cmscan on the command line, use the -Z option. It makes sense to do this if, for example, a large sequence file has been split up into many smaller files, and searches have been performed in parallel on a compute cluster, with the results combined. In that scenario, if is set as the total number of models used times the total number of nucleotides in all sequence files times two (for both strands), then the combined results should have appropriate E-values. That is, the expectation is that in the collection of all hits between all sequences and models there will be about 1 hit with an E-value of 1 or below by chance (not due to homology), about 10 with an E-value of 10 or below by chance, etc. Non-coding RNA analysis using the Rfam database - PMC (nih.gov) ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªå¤§çš„åºåˆ—æ–‡ä»¶è¢«åˆ†å‰²æˆæ•°ä¸ªæ–‡ä»¶ï¼Œå¹¶åœ¨ä¸€ä¸ªé›†ç¾¤ä¸Šå¹¶è¡Œæœç´¢ï¼Œæœ€ç»ˆå°†ç»“æœæ–‡ä»¶æ•´åˆçš„æ—¶å€™ï¼Œè®¾ç½®Zå€¼ä¸ºä½¿ç”¨çš„CMæ¨¡å‹æ•°é‡*æ‰€æœ‰åºåˆ—æ–‡ä»¶çš„æ ¸è‹·é…¸æ€»æ•°*2ï¼Œåˆå¹¶çš„ç»“æœä¼šæœ‰ä¸€ä¸ªé€‚å½“çš„E-valueå€¼ã€‚ å‰é¢å»ºåº“çš„æ—¶å€™å¯ä»¥çœ‹åˆ°CMæ•°æ®åº“ä¸­æ¨¡å‹çš„æ•°é‡ï¼š CMæ¨¡å‹çš„æ•°é‡ä¸å¯ä»¥ç›´æ¥ç”¨cat Rfam.cm | grep &quot;ACC&quot; | wc -lè¿™ç§æ–¹å¼æŸ¥è¯¢ï¼Œä½ ä¼šå‘ç°è¿™ç§åªæœç´¢ACCæˆ–è€…NAMEå­—æ®µæŸ¥æ‰¾åˆ°çš„æ•°é‡æ˜¯å®é™…æ•°é‡çš„ä¸¤å€ï¼ˆåŒ…æ‹¬äº†HMM filterï¼‰ã€‚ Zå€¼&#x3D; åŸºå› ç»„æ ¸è‹·é…¸æ•°*2*æ•°æ®åº“ä¸­æ¨¡å‹æ•°é‡/1000000 1esl-seqstat my-genome.fa # HMMERæ’ä»¶ï¼Œç»Ÿè®¡åŸºå› ç»„å¤§å°ï¼Œè®¡ç®—Zå€¼ç”¨ å› æ­¤è¿™é‡Œçš„Zå€¼è®¡ç®—å¦‚ä¸‹ï¼š$$Z &#x3D; 22308888634108&#x2F;1000000&#x3D;1896982.90$$ä½†æ˜¯å¾ˆç¥å¥‡çš„æ˜¯ï¼Œåœ¨Rfamçš„å¸®åŠ©æ–‡æ¡£ä¸­ç»™äº†ä¸€ä¸ªå¯¹å¤èŒMethanobrevibacter ruminantiumæ³¨é‡ŠncRNAçš„ä¾‹å­ï¼Œå…¶ä¸­ä¹Ÿç”¨äº†Rfamæ•°æ®åº“çš„ï¼Œè®¡ç®—Zå€¼æ—¶æ²¡æœ‰ä¹˜ä»¥CMæ¨¡å‹çš„æ•°é‡ï¼Œæˆ‘ä¹Ÿæœ‰ç‚¹ç–‘æƒ‘ï¼Œä»¥ä¸‹æ˜¯é“¾æ¥åœ°å€ã€‚ Genome annotation â€” Rfam Help documentation For the purposes of Infernal, the total database size is the number of nucleotides that will be searched, in units of megabases (Mb, millions of nucleotides). So, it is the total number of nucleotides in all sequences that make up the genome, multiplied by two (because both strands will be searched), and divided by 1,000,000 (to convert to millions of nucleotides). å°± Infernal è€Œè¨€ï¼Œæ•°æ®åº“æ€»å¤§å°æ˜¯å°†è¦æœç´¢çš„æ ¸è‹·é…¸æ•°é‡ï¼Œä»¥å…†ç¢±åŸºï¼ˆMbï¼Œç™¾ä¸‡æ ¸è‹·é…¸ï¼‰ä¸ºå•ä½ã€‚å› æ­¤ï¼Œå®ƒæ˜¯æ„æˆåŸºå› ç»„çš„æ‰€æœ‰åºåˆ—ä¸­çš„æ ¸è‹·é…¸æ€»æ•°ä¹˜ä»¥2ï¼ˆå› ä¸ºå°†æœç´¢ä¸¤æ¡é“¾ï¼‰ï¼Œç„¶åé™¤ä»¥ 1,000,000ï¼ˆè½¬æ¢ä¸ºMbï¼‰ã€‚ ä¸¤ç§æ–¹æ³•è®¡ç®—Zå€¼ç›¸å·®4000å¤šå€ï¼Œæˆ‘æ— æ³•æ–­å®šå“ªç§æ˜¯æ­£ç¡®çš„ï¼Œåç»­æœ‰æ›´æ·±çš„ç†è§£å†æ›´æ–°ï¼ˆä¹Ÿè®¸æ˜¯ç‰ˆæœ¬é—®é¢˜ï¼Ÿï¼‰ã€‚ è¿™é‡Œæˆ‘æŒ‰ç…§æ–‡ç« ä½œè€…ç»™çš„é»˜è®¤å‚æ•°å¯¹åŸºå› ç»„è¿›è¡Œæ³¨é‡Šï¼ˆä¹Ÿå°±æ˜¯æ²¡æœ‰æŒ‡å®šZå€¼ï¼Œæ¯æ¡åºåˆ—çš„Zå€¼æ˜¯å˜åŠ¨çš„ï¼‰ã€‚ è¿è¡Œè„šæœ¬å¦‚ä¸‹ï¼š 12345#!/bin/bash#SBATCH -n 50#SBATCH -t 7200cmscan --cut_ga --rfam --nohmmonly --tblout luobuma.tblout --fmt 2 -o luobuma.out --clanin Rfam.clanin Rfam.cm /public/home/wlxie/NextPolish/luobuma_rundir/genome.nextpolish.fasta å‚æ•°è§£é‡Šï¼š â€“cut_ga æŒ‡å®šRfam GAé˜ˆå€¼ï¼Œå†³å®šå“ªäº›hitså¯ä»¥æŠ¥å‘Šã€‚æœ‰å¤šç§æ ‡å‡†ï¼Œå¯ä»¥è§Glossary â€” Rfam Help documentation â€“fram ä»¥å¿«é€Ÿæ¨¡å¼è¿è¡Œ â€“nohmmonly å†³å®šæ‰€æœ‰æ¨¡å‹éƒ½æ˜¯CMæ¨¡å‹ï¼ˆéHMMæ¨¡å‹ï¼‰ â€“tblout è¡¨æ ¼å½¢å¼è¾“å‡ºç»“æœ â€“fmt 2 è¾“å‡ºæ ¼å¼2ï¼ŒåŒ…æ‹¬overlapping hitçš„æ³¨é‡Š -o æ ‡å‡†è¾“å‡ºæ–‡ä»¶ â€“clanin Rfam.claninæ–‡ä»¶çš„ä½ç½®ï¼Œè¯¥æ–‡ä»¶è®°å½•å“ªäº›æ¨¡å‹å±äºåŒä¸€å®¶æ— æœ€ç»ˆè·å¾—luobuma.outçš„æ ‡å‡†è¾“å‡ºæ–‡ä»¶å’Œæ•´ç†æˆè¡¨æ ¼çš„luobuma.tbloutæ–‡ä»¶ï¼Œè¿™é‡Œæ•´ç†ä¸€ä¸‹è¡¨æ ¼æ–‡ä»¶ï¼š 27åˆ—å¯¹åº”é¢„æµ‹ncRNAç±»å‹å’Œä¿¡æ¯ï¼›å‰åéƒ½æœ‰#é”®æ³¨é‡Šçš„è¡Œï¼Œé™¤æ­¤ä¹‹å¤–æ¯ä¸€è¡Œæ˜¯é¢„æµ‹çš„ncRNAå…·ä½“å†…å®¹ éœ€è¦æ³¨æ„olpè¿™ä¸€åˆ—ï¼Œåœ¨infernal 1.1.4ç‰ˆæœ¬è¿™ä¸€åˆ—æœ‰ä»¥ä¸‹å››ä¸ªå€¼ï¼š * indicates this hit does not overlap with any other reported hits è¿™æ¡åºåˆ—ä¸å…¶ä»–å·²æŠ¥é“çš„åºåˆ—ä¹‹é—´æ— é‡å åŒºåŸŸï¼ˆä¿ç•™ï¼‰ Ë† indicates that this hit does overlap with at least one other hit, but none of the hits that overlap with it have a lower E-value (occur above it in the hit list) è¿™æ¡åºåˆ—ä¸è‡³å°‘ä¸€æ¡å·²æŠ¥é“çš„åºåˆ—ä¹‹é—´æœ‰é‡å åŒºåŸŸï¼Œä½†æ˜¯è¿™æ¡åºåˆ—çš„E-valueæœ€ä½ï¼ˆä¿ç•™ï¼‰ $ indicates that this hit does overlap with at least one other hit that does have a lower E-value (occurs above it in the hit list) but none of those higher scoring hits have Ë† in this column è¿™æ¡åºåˆ—ä¸è‡³å°‘ä¸€æ¡å·²æŠ¥é“åºåˆ—ä¹‹é—´æœ‰é‡å åŒºåŸŸï¼Œä¸”å…¶ä»–åºåˆ—E-valueæ›´ä½ä½†ä¸æ˜¯æœ€ä½çš„ï¼ˆè¿‡æ»¤ï¼Œ1.1.2ç‰ˆæœ¬çš„infernalä¸­æ²¡æœ‰ï¼‰ &#x3D; indicates that this hit does overlap with at least one other hit that has a lower E-value (occurs above it in the hit list) and does itself have a Ë† in this column è¿™æ¡åºåˆ—ä¸è‡³å°‘ä¸€æ¡å·²æŠ¥é“åºåˆ—ä¹‹é—´æœ‰é‡å åŒºåŸŸï¼Œä¸”å…¶ä»–åºåˆ—çš„E-valueå€¼æ›´ä½ä¸”æ˜¯æœ€ä½çš„ï¼ˆè¿‡æ»¤ï¼‰ æˆ‘ä»¬åªå…³æ³¨é¢„æµ‹ç»“æœä¸­å‡†ç¡®åº¦æœ€é«˜çš„ncRNAï¼Œè®°å½•ç§ç±»å’Œé•¿åº¦ï¼Œå› æ­¤å¯ä»¥å†™ä¸ªpythonè„šæœ¬å¤„ç†å¹¶ç»Ÿè®¡æ•°æ®ã€‚ å› ä¸ºè¿™é‡Œè¾“å‡ºçš„åˆ—è¡¨æ²¡æœ‰å…·ä½“ç»™å‡ºåˆ†ç±»ï¼Œå› æ­¤å¯¹æ•°æ®å¤„ç†å‰è¦å»Rfamå®˜ç½‘çš„Entry type searchæ ä¸‹æ‰¾åˆ°æ¯ä¸ªaccessionå·å¯¹åº”çš„ncRNAç±»å‹Rfam: Search Rfamï¼š æˆ‘è¿™é‡Œåªå…³å¿ƒä¸Šé¢çº¢æ¡†ä¸­çš„ncRNAï¼ˆæ ¹æ®æƒ…å†µè‡ªå·±é€‰æ‹©ï¼‰ï¼Œå‹¾é€‰ä¹‹åç‚¹å‡»submitï¼š æ‹‰åˆ°æœ€åº•ä¸‹çœ‹åˆ°å®˜ç½‘æä¾›æœªæ ¼å¼åŒ–çš„åˆ—è¡¨ï¼Œç‚¹å‡»showï¼Œå°†æ˜¾ç¤ºçš„åˆ—è¡¨å¤åˆ¶ç²˜è´´åˆ°ä¸€ä¸ªæ–°å»ºçš„accession.txtæ–‡æ¡£ï¼Œæ¥ä¸‹æ¥å°±æ˜¯å¯¹tbloutæ–‡ä»¶å’Œaccession.txtæ–‡ä»¶å¤„ç†ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&#x27;&#x27;&#x27;Infernalé¢„æµ‹ncRNAç»“æœæ–‡ä»¶ç»Ÿè®¡è„šæœ¬2023.3.22&#x27;&#x27;&#x27;# ç»“æœæ–‡ä»¶æ•°æ®è¿‡æ»¤ï¼Œè·å–æ¯æ¡é¢„æµ‹ncRNAçš„accessionå·å’Œé•¿åº¦loci_length = []accession = []with open(&#x27;./luobuma.tblout&#x27;, &#x27;r&#x27;) as input: for i in input.readlines(): if i.find(&#x27;#&#x27;) != -1 or i.find(&#x27;=&#x27;) != -1 or i.find(&#x27;$&#x27;) != -1: continue else: lst = i.strip().split() if len(lst) &lt; 1: continue length = abs(int(lst[10]) - int(lst[9])) loci_length.append(length) accession.append(lst[2])len_sum = 0for i in loci_length: len_sum += i# å¤„ç†accession.txt,æå–accessionå·å’ŒncRNAç±»å‹çš„å…³ç³»accession_num = []dicts = &#123;&#125;with open(&#x27;./accession.txt&#x27;, &#x27;r&#x27;) as ac: for i in ac.readlines(): m = i.strip().split(&#x27;\\t&#x27;) # ä»¥åˆ¶è¡¨ç¬¦åˆ†å‰² accession_num.append(m[0]) nc_type = m[2].split(&#x27;;&#x27;)[1].strip() # è·å–ç¬¬ä¸‰åˆ—ç¬¬äºŒä¸ªåˆ†å·å¤„çš„ncRNAç±»å‹ if m[0] not in dicts: dicts[m[0]] = nc_type# ç»Ÿè®¡ç»“æœæ–‡ä»¶accessionå·å¯¹åº”çš„ncRNAç±»å‹æ•°é‡mi = s = sn = lnc = t = r = other = 0mi_len = s_len = sn_len = lnc_len = t_len= r_len = other_len =0for i in range(len(accession)): item = accession[i] if item in dicts: if dicts[item] == &#x27;miRNA&#x27;: mi += 1 mi_len += int(loci_length[i]) elif dicts[item] == &#x27;sRNA&#x27;: s += 1 s_len += int(loci_length[i]) elif dicts[item] == &#x27;snRNA&#x27;: sn += 1 sn_len += int(loci_length[i]) elif dicts[item] == &#x27;lncRNA&#x27;: lnc += 1 lnc_len += int(loci_length[i]) elif dicts[item] == &#x27;tRNA&#x27;: t += 1 t_len += int(loci_length[i]) else: r += 1 r_len += int(loci_length[i]) else: other += 1 other_len += int(loci_length[i])outputlst = [(&#x27;miRNA&#x27;, mi, mi_len), (&#x27;sRNA&#x27;, s, s_len), (&#x27;snRNA&#x27;, sn, sn_len), (&#x27;lncRNA&#x27;, lnc, lnc_len), (&#x27;tRNA&#x27;, t, t_len), (&#x27;rRNA&#x27;, r, r_len), (&#x27;others&#x27;, other, other_len), (&#x27;total&#x27;, len(accession), len_sum)]# è¾“å‡ºç»“æœwith open(&#x27;./res.xls&#x27;, &#x27;w&#x27;) as output: output.write(&#x27;Type\\tCopy Number\\tTotal length(bp)\\n&#x27;) for i in outputlst: type = str(i[0]) number = str(i[1]) length = str(i[2]) output.write(type + &#x27;\\t&#x27; + number + &#x27;\\t&#x27; + length + &#x27;\\n&#x27;) æˆ‘å¯¹pythonæŒæ¡çš„ä¸å¥½ï¼Œç»Ÿè®¡çš„åœ°æ–¹å¯ä»¥å†™ä¸ªå¾ªç¯çš„ï¼Œæ€•è‡ªå·±ç»•ä¸æ¸…æ¥šè¿™é‡Œå°±ç”¨æœ€ç¬¨çš„æ–¹æ³•â€¦.. ç»“æœç»Ÿè®¡å¦‚ä¸‹ï¼š tRNAè¿™é‡Œé¢„æµ‹470ï¼Œä¸ä¸Šé¢çš„tRNAscan-SEé¢„æµ‹çš„479ä¸ªåŸºæœ¬æ²¡æœ‰å·®åˆ«ã€‚ é¡ºå¸¦è¯´ä¸€ä¸‹ï¼ŒRfamå®˜ç½‘ä¸Šä¹Ÿè¯´äº†è¿™ç§æ–¹æ³•å¯ä»¥ç»Ÿè®¡æ‰€æœ‰ç±»å‹çš„RNAï¼Œå¦‚æœé’ˆå¯¹ä¸åŒncRNAæœ‰ç‰¹æ®Šéœ€æ±‚çš„è¯ï¼Œå¯ä»¥ç”¨ä¸åŒè½¯ä»¶è¿›è¡Œåˆ†æï¼ˆä½†æ˜¯RNAMMERç°åœ¨ä¼¼ä¹å·²ç»ç”¨ä¸äº†äº†ï¼‰ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"tRNAscan-SE","slug":"tRNAscan-SE","permalink":"http://www.shelven.com/tags/tRNAscan-SE/"},{"name":"Rfam/Infernal","slug":"Rfam-Infernal","permalink":"http://www.shelven.com/tags/Rfam-Infernal/"}]},{"title":"SSLè¯ä¹¦ç”³è¯·å’Œéƒ¨ç½²","slug":"SSLè¯ä¹¦ç”³è¯·å’Œéƒ¨ç½²","date":"2023-03-17T10:00:39.000Z","updated":"2023-04-13T08:41:09.000Z","comments":true,"path":"2023/03/17/a.html","link":"","permalink":"http://www.shelven.com/2023/03/17/a.html","excerpt":"ä¸çŸ¥ä¸è§‰è¿™ä¸ªå°ç ´ç«™è¿è¡Œä¹Ÿå¿«è¦ä¸€å¹´æ•´äº†ï¼Œä¸€å¹´å‰ç½‘ç«™åˆšå¼€æ”¾ï¼Œæˆ‘å¤©å¤©ä¿®bugåˆ°å‡Œæ™¨ä¸¤ä¸‰ç‚¹çš„æƒ…æ™¯è¿˜å†å†åœ¨ç›®â€¦â€¦ä¸»è¦è¿˜æ˜¯è‡ªå·±å¯¹ç½‘ç«™æ­å»ºæ¡†æ¶ä¸ç†Ÿæ‚‰ï¼Œçœ‹ä¸æ‡‚ä»£ç æ•´ä¸æ¸…æ¥šlinuxæ“ä½œï¼ˆè™½ç„¶ç°åœ¨ä¹Ÿæ²¡å¥½åˆ°å“ªå„¿å»ï¼‰ã€‚ä¸€å¹´è¿‡å»äº†é€šè¿‡è‡ªå­¦ç¡®å®å­¦ä¹ äº†å¾ˆå¤šè®¡ç®—æœºæ–¹é¢çš„çŸ¥è¯†ï¼Œæœ‰ç©ºå†åšä¸ªæ€»ç»“å§~ ä¸€å¹´å‰æƒ³å†™å¦‚ä½•éƒ¨ç½²sslè¯ä¹¦çš„ï¼Œå¦‚ä»Šä¸€å¹´å¿«åˆ°äº†æ­£å¥½è¦ç»­ä¸Šsslè¯ä¹¦ï¼Œè¿™ç¯‡åšå®¢ç®—æ˜¯è¡¥æ¡£å§~è®°å½•ä¸‹è‡ªå·±çš„æ“ä½œ","text":"ä¸çŸ¥ä¸è§‰è¿™ä¸ªå°ç ´ç«™è¿è¡Œä¹Ÿå¿«è¦ä¸€å¹´æ•´äº†ï¼Œä¸€å¹´å‰ç½‘ç«™åˆšå¼€æ”¾ï¼Œæˆ‘å¤©å¤©ä¿®bugåˆ°å‡Œæ™¨ä¸¤ä¸‰ç‚¹çš„æƒ…æ™¯è¿˜å†å†åœ¨ç›®â€¦â€¦ä¸»è¦è¿˜æ˜¯è‡ªå·±å¯¹ç½‘ç«™æ­å»ºæ¡†æ¶ä¸ç†Ÿæ‚‰ï¼Œçœ‹ä¸æ‡‚ä»£ç æ•´ä¸æ¸…æ¥šlinuxæ“ä½œï¼ˆè™½ç„¶ç°åœ¨ä¹Ÿæ²¡å¥½åˆ°å“ªå„¿å»ï¼‰ã€‚ä¸€å¹´è¿‡å»äº†é€šè¿‡è‡ªå­¦ç¡®å®å­¦ä¹ äº†å¾ˆå¤šè®¡ç®—æœºæ–¹é¢çš„çŸ¥è¯†ï¼Œæœ‰ç©ºå†åšä¸ªæ€»ç»“å§~ ä¸€å¹´å‰æƒ³å†™å¦‚ä½•éƒ¨ç½²sslè¯ä¹¦çš„ï¼Œå¦‚ä»Šä¸€å¹´å¿«åˆ°äº†æ­£å¥½è¦ç»­ä¸Šsslè¯ä¹¦ï¼Œè¿™ç¯‡åšå®¢ç®—æ˜¯è¡¥æ¡£å§~è®°å½•ä¸‹è‡ªå·±çš„æ“ä½œ 1. SSLéƒ¨ç½²çš„æ„ä¹‰å‰é¢åœ¨httpåŸç†éƒ¨åˆ†è¯´è¿‡ï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯sslï¼Œéƒ¨ç½²sslä¹‹åæœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š å»ºç«‹æ•°æ®ä¿¡æ¯å®‰å…¨é€šé“ï¼Œä¿éšœä¿¡æ¯å®‰å…¨ æœ‰httpsåè®®çš„ç½‘ç«™æ›´å®¹æ˜“è¢«googleã€baiduæ”¶å½• ç”¨æˆ·æµè§ˆhttpsåè®®çš„ç½‘ç«™åœ°å€æœ‰é”å¤´æ ‡å¿—ï¼Œä¸ä¼šæ˜¾ç¤ºä¿¡æ¯å®‰å…¨æé†’é¡µé¢ 2. ç”³è¯·SSLè¯ä¹¦æˆ‘æ˜¯åœ¨è…¾è®¯äº‘ä¸Šè´­ä¹°çš„è½»é‡äº‘æœåŠ¡å™¨ï¼Œåœ¨å“ªä¸ªæœåŠ¡å™¨ä¾›åº”å•†ä¹°çš„æœåŠ¡å™¨å°±åˆ°å¯¹åº”çš„å¹³å°ï¼Œæœç´¢SSLè¯ä¹¦ï¼Œç‚¹å‡»ç”³è¯·å…è´¹è¯ä¹¦ é€‰æ‹©ç¬¬ä¸€ä¸ªå…è´¹ç‰ˆå³å¯ï¼Œå¡«å†™ä½ è¦ç»‘å®šçš„åŸŸåï¼ŒéªŒè¯æ–¹æ³•é€‰æ‹©æ‰‹åŠ¨DNSéªŒè¯ï¼Œæäº¤ç”³è¯· è¿™ä¸€æ­¥éœ€è¦åˆ°å¯¹åº”çš„åŸŸåä¾›åº”å•†é‚£é‡Œè¿›è¡ŒDNSè§£æ æˆ‘æ˜¯åœ¨é˜¿é‡Œäº‘ä¹°çš„åŸŸåï¼Œå› æ­¤åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°æ‰¾åˆ°ä½ è¦ç»‘å®šçš„åŸŸåï¼Œæ·»åŠ è®°å½•ï¼Œè¾“å…¥ä¸Šé¢å›¾çº¢æ¡†é‡Œçš„å¯¹åº”ä¿¡æ¯ å›åˆ°è…¾è®¯äº‘ï¼Œç‚¹å‡»éªŒè¯åŸŸåå³å¯ï¼Œåç»­æ ¹æ®è‡ªå·±çš„æœåŠ¡å™¨ç±»å‹ï¼ˆæˆ‘æ˜¯Apache æœåŠ¡å™¨ï¼‰é€‰æ‹©å¯¹åº”çš„è¯ä¹¦ã€‚ç¬¬ä¸€æ¬¡ç”³è¯·çš„è¯å¯èƒ½ä¼šè®©ä½ å®Œå–„èº«ä»½ä¿¡æ¯ã€‚éœ€è¦æ³¨æ„ï¼Œå¦‚æœåŸŸåè¢«æ‰˜ç®¡åˆ°å…¶ä»–å¹³å°ï¼Œéœ€è¦åˆ°å¯¹åº”çš„æ‰˜ç®¡å¹³å°è¿›è¡ŒDNSè§£æï¼Œå¦åˆ™ä¼šæŸ¥è¯¢ä¸åˆ°è§£æè®°å½•ã€‚ 3. éƒ¨ç½²SSLè¯ä¹¦ç”³è¯·æˆåŠŸåï¼Œè¿›å…¥SSLè¯ä¹¦ç®¡ç†å¹³å°ï¼Œç‚¹å‡»å·²ç­¾å‘ï¼Œå°±å¯ä»¥çœ‹åˆ°åˆšåˆšç”³è¯·çš„SSLè¯ä¹¦äº†ï¼Œé¦–å…ˆæŠŠè¯ä¹¦ä¸‹è½½åˆ°æœ¬åœ° è§£å‹å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å››ä¸ªæ–‡ä»¶ï¼Œ.crtåç¼€çš„æ˜¯è¯ä¹¦é“¾å’Œè¯ä¹¦æ–‡ä»¶ï¼Œ.csråç¼€çš„æ˜¯æä¾›ç»™CAçš„æ–‡ä»¶ï¼Œ.keyåç¼€æ˜¯ç§é’¥æ–‡ä»¶ å†æ¬¡å¼ºè°ƒä¸€ä¸‹ApacheæœåŠ¡å™¨ã€NginxæœåŠ¡å™¨ç­‰ç­‰çš„éƒ¨ç½²ç›®å½•æ˜¯ä¸åŒçš„ï¼Œæˆ‘è¿™é‡Œæ˜¯apacheæœåŠ¡å™¨ï¼Œéœ€è¦å°†ä¸Šé¢çš„å››ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°æœåŠ¡å™¨/etc/httpd/ssl/ç›®å½•ä¸‹ã€‚ å¦‚æœä¹‹å‰éƒ¨ç½²è¿‡sslè¯ä¹¦ï¼Œåˆ°è¿™ä¸€æ­¥ä»¥åç›´æ¥service network restarté‡å¯httpæœåŠ¡å°±è¡Œäº†ã€‚ å¦‚æœæ˜¯ç¬¬ä¸€æ¬¡å®‰è£…ï¼Œè¿›å…¥/etc/httpd/confç›®å½•ï¼Œä¿®æ”¹ httpd.conf é…ç½®æ–‡ä»¶ï¼š 1Include conf.modules.d/*.conf # ç¬¬56è¡Œç¡®ä¿è¯¥å‘½ä»¤æœªè¢«æ³¨é‡Šï¼Œç”¨äºåŠ è½½SSLçš„é…ç½®ç›®å½• è¿›å…¥/etc/httpd/conf.modules.dç›®å½•ï¼Œä¿®æ”¹00-ssl.conf é…ç½®æ–‡ä»¶ï¼š 1LoadModule ssl_module modules/mod_ssl.so # ç¬¬1è¡Œç¡®ä¿è¯¥å‘½ä»¤æœªè¢«æ³¨é‡Šï¼Œç”¨äºåŠ è½½SSLæ¨¡å— è¿›å…¥/etc/httpd/conf.dç›®å½•ï¼Œä¿®æ”¹ssl.confé…ç½®æ–‡ä»¶ï¼š 123456DocumentRoot &quot;/var/www/html&quot; # é…ç½®è™šæ‹Ÿä¸»æœºçš„ä½ç½®ï¼Œè·¯å¾„å¯ä»¥æ”¹ï¼Œå»ºè®®è¿˜æ˜¯ç”¨é»˜è®¤çš„ServerName xxxxx.com # å¡«å†™è¯ä¹¦ç½‘ç«™åç§°SSLEngine on # ç¡®ä¿SSLåŠŸèƒ½æ‰“å¼€SSLCertificateFile /etc/httpd/ssl/xxxxx.com.crt # ç¡®å®šè¯ä¹¦è·¯å¾„SSLCertificateKeyFile /etc/httpd/ssl/xxxxx.com.key # ç¡®å®šç§é’¥è·¯å¾„SSLCertificateChainFile /etc/httpd/ssl/root_bundle.crt # ç¡®å®šè¯ä¹¦é“¾è·¯å¾„ ä»¥ä¸Šé…ç½®å®Œæˆåï¼Œé‡å¯ç½‘ç»œæœåŠ¡service network restartï¼Œè¿™ä¸ªæ—¶å€™å†è®¿é—®ç½‘ç«™å°±æ˜¯httpsåè®®äº†ã€‚ å‚è€ƒè‡ªSSL è¯ä¹¦ Apache æœåŠ¡å™¨ SSL è¯ä¹¦å®‰è£…éƒ¨ç½²ï¼ˆLinuxï¼‰-è¯ä¹¦å®‰è£…-æ–‡æ¡£ä¸­å¿ƒ-è…¾è®¯äº‘ (tencent.com) éœ€è¦æ³¨æ„ä¸‹ï¼Œè¯ä¹¦åˆ°æœŸä¹‹åä¸ä¼šè‡ªåŠ¨éƒ¨ç½²â€¦ä¸€èˆ¬è¿™ç§å…è´¹çš„SSLè¯ä¹¦æ—¶é—´éƒ½æ˜¯1å¹´ï¼Œåœ¨åˆ°æœŸå‰ä¸€ä¸ªæœˆä¼šæœ‰æé†’ï¼Œç”³è¯·å®Œæˆä¹‹åç›´æ¥è¦†ç›–å¿«åˆ°æœŸçš„åŸè¯ä¹¦å³å¯ã€‚ï¼ˆçœä¸‹äº†ä¸€ç¬”è‡ªåŠ¨éƒ¨ç½²çš„90å—é’±ï¼‰ ç‰¹åˆ«æ³¨æ„SSLè¯ä¹¦éƒ¨ç½²åéƒ½æ˜¯ç«‹å³ç”Ÿæ•ˆçš„ï¼Œå¦‚æœä½ å‘ç°ç½‘ç«™ä»ç„¶æç¤ºéå®‰å…¨è¿æ¥ï¼Œå¯ä»¥çœ‹çœ‹è‡ªå·±æ˜¯å¦ç”¨äº†å…¶ä»–ç¬¬ä¸‰æ–¹åŠ é€Ÿã€‚ æ¯”å¦‚ä½ çš„ç½‘ç«™ç”¨äº†CDNåŠ é€Ÿï¼Œéœ€è¦åŒæ—¶åœ¨ç¬¬ä¸‰æ–¹åŠ é€Ÿå¹³å°ä¸Šè¿›è¡ŒHTTPSé…ç½®æ›´æ”¹ï¼Œå¦åˆ™SSLè¯ä¹¦æ— æ³•ç”Ÿæ•ˆï¼ æ¯”å¦‚æˆ‘è¿™é‡Œç”¨äº†åˆæ‹äº‘çš„CDNåŠ é€Ÿï¼Œä¸”è®¾ç½®äº†HTTPSè®¿é—®ï¼Œä¸æ›´æ”¹æˆæ–°ç”³è¯·çš„è¯ä¹¦å°±æ— æ³•ç”Ÿæ•ˆã€‚æ¯ä¸ªCDNåŠ é€Ÿå¹³å°è®¾ç½®HTTPSæ–¹æ³•ä¸ä¸€æ ·ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è¯´äº†ã€‚","categories":[{"name":"ä¸ªäººä¸»é¡µ","slug":"ä¸ªäººä¸»é¡µ","permalink":"http://www.shelven.com/categories/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/"}],"tags":[{"name":"å»ºç«™","slug":"å»ºç«™","permalink":"http://www.shelven.com/tags/%E5%BB%BA%E7%AB%99/"}]},{"title":"åŸºå› ç»„æ³¨é‡Šï¼ˆ2ï¼‰â€”â€”æ•£åœ¨é‡å¤åºåˆ—æ³¨é‡Š","slug":"åŸºå› ç»„æ³¨é‡Šï¼ˆ2ï¼‰â€”â€”æ•£åœ¨é‡å¤åºåˆ—æ³¨é‡Š","date":"2023-03-16T15:13:10.000Z","updated":"2023-07-10T14:40:07.000Z","comments":true,"path":"2023/03/16/a.html","link":"","permalink":"http://www.shelven.com/2023/03/16/a.html","excerpt":"å‰é¢æˆ‘ä»¬æ³¨é‡Šäº†ä¸²è”é‡å¤åºåˆ—ï¼ˆTandem repeatï¼ŒTRï¼‰ï¼Œæ¥ä¸‹æ¥æ˜¯å¯¹æ•£åœ¨é‡å¤åºåˆ—ï¼ˆä¹Ÿç§°è½¬åº§å­ï¼Œtransposable elementï¼ŒTEï¼‰è¿›è¡Œæ³¨é‡Šã€‚æ³¨é‡Šä¹‹åæˆ‘ä»¬å¯¹æ‰€æœ‰é‡å¤åºåˆ—åœ¨åŸºå› ç»„ä¸Šè¿›è¡Œå±è”½ï¼Œå°±å¯ä»¥è¿›è¡Œåé¢çš„ç»“æ„åŸºå› é¢„æµ‹å’Œæ³¨é‡Šäº†ã€‚","text":"å‰é¢æˆ‘ä»¬æ³¨é‡Šäº†ä¸²è”é‡å¤åºåˆ—ï¼ˆTandem repeatï¼ŒTRï¼‰ï¼Œæ¥ä¸‹æ¥æ˜¯å¯¹æ•£åœ¨é‡å¤åºåˆ—ï¼ˆä¹Ÿç§°è½¬åº§å­ï¼Œtransposable elementï¼ŒTEï¼‰è¿›è¡Œæ³¨é‡Šã€‚æ³¨é‡Šä¹‹åæˆ‘ä»¬å¯¹æ‰€æœ‰é‡å¤åºåˆ—åœ¨åŸºå› ç»„ä¸Šè¿›è¡Œå±è”½ï¼Œå°±å¯ä»¥è¿›è¡Œåé¢çš„ç»“æ„åŸºå› é¢„æµ‹å’Œæ³¨é‡Šäº†ã€‚ 1. æ•£åœ¨é‡å¤åºåˆ—æ•£åœ¨é‡å¤åºåˆ—å¯ä»¥åˆ†ä¸ºåè½¬å½•è½¬åº§å­ï¼ˆclass-I TEsï¼‰å’ŒDNAè½¬åº§å­ï¼ˆclass-II TEsï¼‰ åè½¬å½•è½¬åº§å­ï¼šé€šè¿‡RNAä»‹å¯¼çš„copy and pasteæœºåˆ¶è¿›è¡Œè½¬åº§ï¼Œä¸»è¦ç”±LTRï¼ˆlong terminal repeatï¼‰æ„æˆï¼Œè€Œnon-LTRæ ¹æ®é•¿åº¦åˆåˆ†ä¸ºLINEsï¼ˆlong interspersed nuclear elementsï¼‰å’ŒSINEsï¼ˆshort interspersed elementsï¼‰ã€‚ DNAè½¬åº§å­ï¼šé€šè¿‡DNAä»‹å¯¼çš„cut and pasteæœºåˆ¶è¿›è¡Œè½¬åº§ã€‚ è¿™é‡Œæˆ‘ä»¬ç”¨RepeatModelerå’ŒRepeatMaskerä¸¤ä¸ªè½¯ä»¶è·‘ä¸€éåŸºå› ç»„æ•£åœ¨é‡å¤åºåˆ—æ³¨é‡Šçš„æµç¨‹ï¼Œéœ€è¦æ³¨æ„ä¸‹å› ä¸ºå‰é¢åšäº†TRFæ³¨é‡Šä¸²è”é‡å¤åºåˆ—ï¼Œæˆ‘ä»¬è¿è¡ŒRepeatMaskerçš„æ—¶å€™è¦æ”¹ä¸‹ä¸‹å‚æ•°è®¾ç½®ã€‚ 2. RepeatModelerå’ŒRepeatMaskerå®‰è£…ä¸å»ºè®®ç”¨condaå®‰è£…ä¸¤æ¬¾è½¯ä»¶çš„æœ¬ä½“ï¼ˆä½†æ˜¯å¯ä»¥å®‰è£…å…¶ä»–ä¾èµ–ï¼‰ RepeatMaskeré…ç½®æˆåŠŸè¿‡æ˜¯RepeatModeleré…ç½®çš„å‰ææ¡ä»¶ï¼Œä¸”ä¸¤è€…ä¹‹é—´æœ‰ç‰ˆæœ¬å…³è”ï¼ˆæ¯”å¦‚æœ€æ–°çš„RepeatModelerç‰ˆæœ¬ä¸º2.0.4ï¼Œéœ€è¦æœ€æ–°çš„RepeatMaskerç‰ˆæœ¬4.1.4å®‰è£…ä¸ºå‰æï¼‰ï¼Œcondaç›´æ¥å®‰è£…RepeatMaskerä¼šå¯¼è‡´RepeatModeleræ— æ³•æ‰¾åˆ°RepeatMaskerçš„è·¯å¾„ï¼Œä¸”è¾“å…¥æ­£ç¡®è·¯å¾„ä¹Ÿä¼šæç¤ºæ‰¾ä¸åˆ°ï¼ˆä¸çŸ¥é“æ˜¯ä¸æ˜¯æˆ‘çš„åŸå› ï¼‰ã€‚ ä¸‹è½½æºç åŒ…ç¼–è¯‘ï¼Œå¯ä»¥çœ‹å®˜ç½‘RepeatMasker Home Pageã€‚ æœ¬ç¯‡åšå®¢æ‰€ä½¿ç”¨RepeatMaskerç‰ˆæœ¬ä¸º4.1.2ï¼ŒRepeatModelerç‰ˆæœ¬ä¸º2.0.3 2.1 RepeatMaskerå®‰è£…æœ¬ä½“å®‰è£…è¿‡ç¨‹ä¸å¤šè¯´ï¼Œä¸»è¦è¯´ä¸€ä¸‹åŠ è½½Repbaseæ•°æ®åº“ï¼š RepeatMaskerè‡ªå¸¦çš„é‡å¤åºåˆ—æ•°æ®åº“æ˜¯Dfamæ•°æ®åº“ï¼Œè¿™æ˜¯ä¸€ä¸ªè½¬åº§å­ï¼ˆTEï¼‰åºåˆ—æ•°æ®åº“ï¼Œæ”¶å½•çš„ç‰©ç§æ¯”è¾ƒå°‘ã€‚Repbaseæ˜¯é‡å¤åºåˆ—å‚è€ƒæ•°æ®åº“ï¼Œå…¶ä¸­æ”¶å½•äº†å¤§éƒ¨åˆ†çœŸæ ¸ç‰©ç§ï¼Œé€‚ç”¨äºé‡å¤åºåˆ—çš„åŒæºé¢„æµ‹ã€‚ç„¶è€ŒRepbaseä¸æ˜¯RepeatMaskerè‡ªå¸¦çš„ï¼Œéœ€è¦é¢å¤–ä¸‹è½½ï¼Œæˆ‘è¿™é‡Œæä¾›20181026ç‰ˆæœ¬çš„Repbaseä¸‹è½½åœ°å€ï¼šç‚¹å‡»è¿™é‡Œ ä¸‹è½½Repbaseæ•°æ®åº“åç”¨tar -xvfè§£å‹ï¼Œå°†RMRBSeqs.emblå’ŒREADME.RMRBSeqsä¸¤ä¸ªæ•°æ®åº“æ–‡ä»¶æ”¾åœ¨RepeatMaskerå®‰è£…ç›®å½•çš„Librariesç›®å½•ä¸‹ï¼Œæ³¨æ„ä¸è¦ä¿®æ”¹åç¼€åã€‚ åœ¨RepeatMaskerå®‰è£…ç›®å½•ä¸‹è¿è¡Œperl ./configureï¼Œä¸€è·¯å›è½¦ç¡®å®šè·¯å¾„ï¼Œå¦‚æœæœ‰ç¼ºå¤±çš„ä¾èµ–å°±ç”¨condaä¸‹è½½ï¼Œä¸€ç›´åˆ°æœ€åé€‰æ‹©åºåˆ—æœç´¢æ¯”å¯¹çš„è½¯ä»¶ï¼Œæˆ‘è¿™é‡Œè¾“å…¥3å›è½¦ï¼Œä¹‹åçš„ç•Œé¢å†è¾“å…¥5å›è½¦ç¡®è®¤ï¼š å½“çœ‹åˆ°æç¤ºä¿¡æ¯Dfamå’ŒRBRMï¼ˆä¹Ÿå°±æ˜¯RepBaseæ•°æ®åº“ï¼‰ä¸¤ä¸ªæ•°æ®åº“ç‰ˆæœ¬çš„æ—¶å€™ï¼Œå°±è¯´æ˜åŠ è½½Repbaseæ•°æ®åº“æˆåŠŸäº†ã€‚ ç”¨RepeatMasker -hæŸ¥çœ‹æ˜¯å¦å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œå¦‚æœæç¤ºDevel::Sizeè¿™ä¸ªperlæ¨¡å—ç¼ºå¤±ï¼Œå¯ä»¥ç”¨condaå®‰è£…ï¼š 1conda install -c bioconda perl-devel-size æœ€åéœ€è¦ä¿®æ”¹ä¸€ä¸‹ç¯å¢ƒå˜é‡ï¼ˆä¸ä¿®æ”¹è¿è¡Œçš„æ—¶å€™æ‰¾ä¸åˆ°pmæ–‡ä»¶ï¼‰ï¼Œå°†RepeatMasker å®‰è£…è·¯å¾„æ·»åŠ åˆ°PERL5LIBç¯å¢ƒå˜é‡ä¸­ï¼š 12# æ‰“å¼€ ~/.bashrcexport PERL5LIB=&quot;/public/home/wlxie/miniconda3/envs/biosoft/share/RepeatMasker:$PERL5LIB&quot; 2.2 RepeatModelerå®‰è£…å®‰è£…è¿‡ç¨‹ä¸RepeatMaskerå·®ä¸å¤šï¼Œæœ‰ä¸€ä¸ªæ¯”è¾ƒå‘çš„åœ°æ–¹æ˜¯å®˜æ–¹å¯é€‰çš„ä¸€éƒ¨åˆ†è½¯ä»¶ï¼ˆæ¯”å¦‚CD-HITï¼‰åœ¨configureè¿‡ç¨‹ä¸­æ˜¯å¿…é¡»æŒ‡å®šçš„ï¼Œæ‰€ä»¥è¿˜æ˜¯æŒ‰ç…§githubä¸Šçš„è¯´æ˜å°†æ‰€æœ‰ä¾èµ–éƒ½ç”¨condaå®‰è£…å¥½ã€‚Dfam-consortium&#x2F;RepeatModeler: De-Novo Repeat Discovery Tool (github.com) æ¥ä¸‹æ¥åœ¨RepeatModelerå®‰è£…çš„ç›®å½•ä¸‹è¿è¡Œperl ./configureï¼ŒåŒæ ·æ˜¯ä¸€è·¯å›è½¦åˆ°åº•ç¡®å®šè·¯å¾„ï¼Œæœ€åä¼šè¯¢é—®æ˜¯å¦éœ€è¦é¢„æµ‹LTRç»“æ„ï¼Œå› ä¸ºæˆ‘åœ¨ä¹‹å‰çš„æ±‚LAIæŒ‡æ•°çš„åšå®¢ä¸­å·²ç»åšè¿‡LTRé¢„æµ‹ï¼Œå› æ­¤è¿™ä¸€æ­¥é€‰æ‹©nè·³è¿‡ï¼Œåç»­æˆ‘ä¼šè¯´æ˜å¦‚ä½•åˆ©ç”¨LTRé¢„æµ‹æ•°æ®ï¼š 3. TEæ³¨é‡Šç­–ç•¥å› ä¸ºæˆ‘è¦æ³¨é‡Šçš„ç”Ÿç‰©æ˜¯éæ¨¡å¼ç”Ÿç‰©ï¼Œåœ¨Dfamåº“å’ŒRepbaseåº“ä¸­å‡æ²¡æœ‰è¯¥ç‰©ç§ä¿¡æ¯ï¼ˆæ— æ³•åœ¨RepeatMaskerè½¯ä»¶ä¸­æŒ‡å®šç‰¹å®šçš„ç‰©ç§ï¼Œ-species å’Œ -libçš„å‚æ•°æ˜¯å†²çªçš„ï¼Œéœ€è¦è‡ªå»ºæ•°æ®åº“ï¼‰ï¼Œå› æ­¤æ³¨é‡Šæ‰€ç”¨çš„æ•°æ®åº“å°†ç”±ä»¥ä¸‹ä¸‰ç§æ•°æ®åº“ç»„æˆï¼š LTR_retrieveræ•´åˆçš„LTRé¢„æµ‹æ•°æ®åº“ï¼ˆè§è¿™ç¯‡åšå®¢ï¼‰ åŒæºçš„ï¼ˆæŒ‡è¯¥ç±»ç¾¤ç¥–å…ˆå’Œè¡ç”ŸèŠ‚ç‚¹ï¼‰é‡å¤åºåˆ—æ•°æ®åº“ ä½¿ç”¨RepeatModelerä»å¤´é¢„æµ‹åºåˆ—ï¼Œè®­ç»ƒè¯¥ç‰©ç§çš„é‡å¤åºåˆ—æ¨¡å‹ï¼Œæ„å»ºé¢„æµ‹çš„é‡å¤åºåˆ—æ•°æ®åº“ éœ€è¦æ³¨æ„è¿™ä¸‰ç§æ•°æ®åº“éƒ½éœ€è¦fastaæ ¼å¼ï¼Œå°†ä¸‰ç§æ•°æ®åº“åˆå¹¶ä¹‹åï¼Œä½¿ç”¨RepeatMasker -libæŒ‡å®šè‡ªå»ºæ•°æ®åº“ï¼Œé¢„æµ‹TEåºåˆ—ã€‚ 4. æ³¨é‡Šæµç¨‹4.1 å¯¼å‡ºåŒæºç‰©ç§é‡å¤åºåˆ—åº“å‰é¢2.1æ­¥éª¤å°†Repbaseå’ŒDfamæ•°æ®åº“æ•´åˆä¹‹åï¼ŒRepeatMasker/Librariesç›®å½•ä¸‹RepeatMaskerLib.h5è¿™ä¸ªæ–‡ä»¶ä¸ºæ•´åˆåæ„å»ºçš„æ•°æ®åº“æ–‡ä»¶ï¼Œæˆ‘ä»¬è¦åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å¯¼å‡ºåŒæºç‰©ç§çš„é‡å¤åºåˆ—ã€‚ åœ¨RepeatMaskerç›®å½•ä¸‹æä¾›äº†famdb.pyè¿™ä¸ªç¨‹åºæŸ¥è¯¢ç›®æ ‡è¿‘ç¼˜ç‰©ç§ã€‚å¦‚æœä½ ä¸çŸ¥é“è‡ªå·±çš„ç‰©ç§åœ¨ä»€ä¹ˆåˆ†æ”¯ä¸Šï¼Œæˆ‘è¿™é‡Œæ¨èä¸€ä¸ªæŸ¥æ‰¾å·²å‘è¡¨çš„æ¤ç‰©åŸºå› ç»„çš„ç½‘ç«™Published Plant Genomes (plabipd.de)ï¼Œå¯ä»¥ä¸€çº§ä¸€çº§æŸ¥çœ‹å“ªäº›è¿‘ç¼˜ç‰©ç§æœ‰äººåšè¿‡äº†ã€‚ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ç‰©ç§é‡å¤åºåˆ—å¦æ”¶å½•åˆ°åº“ä¸­ï¼š 1python famdb.py -i Libraries/RepeatMaskerLib.h5 lineage -ad lamiids # lamiidsæ˜¯æˆ‘èƒ½æŸ¥æ‰¾åˆ°çš„æœ€è¿‘çš„åˆ†æ”¯ æ‰¾åˆ°æœ€è¿‘çš„åˆ†æ”¯åï¼Œå¯¼å‡ºæœ€è¿‘åˆ†æ”¯çš„ç¥–å…ˆèŠ‚ç‚¹å’Œè¡ç”ŸèŠ‚ç‚¹ç‰©ç§çš„é‡å¤åºåˆ—åº“ï¼Œä½¿ç”¨å†…ç½®çš„perlè½¯ä»¶è½¬æ¢æˆfastaæ ¼å¼ï¼š 1234python famdb.py -i Libraries/RepeatMaskerLib.h5 families -f embl -a -d lamiids &gt; lamiids.embl # æŸ¥æ‰¾è¿‘ç¼˜ç‰©ç§åŠå…¶ä¸Šç¥–å…ˆèŠ‚ç‚¹ï¼Œå…¶ä¸‹æ‰€æœ‰ç±»ç¾¤repeat famliesï¼Œè¾“å‡ºæ ¼å¼emblã€‚ -a ancestorï¼Œ-d descendentbuildRMLibFromEMBL.pl lamiids.embl &gt; lamiids.fasta # è½¬æ¢æ ¼å¼ä¸ºfastaï¼Œæ–¹ä¾¿åç»­åˆå¹¶ 4.2 RepeatModelerä»å¤´é¢„æµ‹æ–°å»ºä¸€ä¸ªç›®å½•ï¼Œç”¨äºå­˜æ”¾RepeatModelerçš„é¢„æµ‹ç»“æœï¼Œå†™ä¸€ä¸ªrepeatmodeler.slurmè„šæœ¬ï¼š 1234567#!/bin/bash#SBATCH -n 100#SBATCH -t 7200BuildDatabase -name luobuma -engine ncbi /public/home/wlxie/NextPolish/luobuma_rundir/genome.nextpolish.fasta # ç”¨åŸºå› ç»„ç»„è£…ç»“æœæ„å»ºæ•°æ®åº“RepeatModeler -pa 25 -database luobuma -engine ncbi # è‡ªè®­ç»ƒ RepeatModelerä»¥è‡ªèº«åŸºå› ç»„æ•°æ®åšè®­ç»ƒé›†ï¼Œç”¨ä¸‰ç§é‡å¤åºåˆ—åˆ†æè½¯ä»¶ï¼ˆ RECON, RepeatScout å’Œ LtrHarvest&#x2F;Ltr_retrieverï¼‰è¿›è¡Œé¢„æµ‹ï¼Œæœ€åç»™å‡ºde novoé¢„æµ‹ç»“æœã€‚éœ€è¦iè¯´æ˜ä¸€ä¸‹ï¼Œç¨‹åºç»“æŸä¹‹åä¼šç»™å‡ºå¦‚ä¸‹å››ä¸ªæ–‡ä»¶ï¼š sample-families.fa de novoé¢„æµ‹é‡å¤åºåˆ—å®¶æ—æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯é¢„æµ‹çš„é‡å¤åºåˆ—åº“ sample-familes.stk Seed alignments RM_123456.XXXXXXXXX ä¸­é—´æ–‡ä»¶ï¼ˆè®°å½•æ¯ä¸€è½®è®­ç»ƒçš„æµç¨‹å’Œç»“æœï¼Œä»…ç”¨äºä¸­é—´ç¨‹åºå´©äº†ä»¥åå¯ä»¥è¯†åˆ«å¹¶ç»§ç»­è·‘æµç¨‹ï¼‰ sample-rmod.log logæ–‡ä»¶ æœ€ç»ˆå¾—åˆ°çš„luobuma-families.faæ–‡ä»¶æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œé‡Œé¢è®°å½•äº†å„ç§de novoé¢„æµ‹çš„é‡å¤åºåˆ—å®¶æ—ã€‚ä¸­é—´æ–‡ä»¶å…·ä½“æœ‰ä»€ä¹ˆå¯ä»¥å‚è€ƒå®˜æ–¹çš„githubæ–‡æ¡£ï¼Œè¿™é‡Œä»…ä»…æ˜¯èµ·åˆ°Recover from a failureçš„ä½œç”¨ï¼Œä¸­é—´ç¨‹åºæ²¡æœ‰å´©å°±ä¸ç”¨ç®¡å®ƒã€‚ æ³¨æ„ä¸‹RepeatModeler -paå‚æ•°ï¼Œ1 paå¯ä»¥è¿è¡Œ4ä¸ªçº¿ç¨‹ï¼Œæˆ‘ç”³è¯·äº†100ä¸ªæ ¸ï¼Œè¿™é‡Œå°±æ˜¯25 paå¯ä»¥ç”¨å®Œæ‰€æœ‰èµ„æºã€‚ è¿™ä¸€æ­¥è¿è¡Œæ—¶é—´æœ€ä¹…ï¼Œ100ä¸ªæ ¸å¯¹200Mbpå¤§å°çš„æ¤ç‰©åŸºå› ç»„è¿›è¡Œde novoé¢„æµ‹é‡å¤åºåˆ—ï¼Œè·‘äº†17ä¸ªå°æ—¶ã€‚ 4.3 æ•´åˆæ•°æ®åº“å°†4.1ã€4.2æ­¥éª¤çš„ç»“æœï¼Œä»¥åŠå‰é¢åšçš„LTRé¢„æµ‹ç»“æœè¿›è¡Œæ•´åˆï¼ˆéƒ½æ˜¯fastaæ ¼å¼ï¼‰ï¼š 1cat lamiids.fasta luobuma-families.fa luobuma.fasta.mod.LTRlib.fa &gt; final_luobuma_repeat.fasta # åˆå¹¶åŒæºæ•°æ®åº“ã€RepeatModelerè®­ç»ƒç»“æœå’ŒLTRé¢„æµ‹ç»“æœ æ­¤æ—¶å¾—åˆ°çš„final_luobuma_repeat.fastaå°±æ˜¯åä¸€æ­¥è¿è¡ŒRepeatMarskeréœ€è¦æŒ‡å®šçš„è‡ªå»ºæ•°æ®åº“ã€‚ 4.4 RepeatMaskeræœç´¢é‡å¤åºåˆ—æ ¹æ®éœ€æ±‚ç¡®å®šå‚æ•°ï¼Œå†™ä¸€ä¸ªrepeatmasker.slurmè„šæœ¬ï¼š 12345#!/bin/bash#SBATCH -n 100#SBATCH -t 7200RepeatMasker -nolow -no_is -pa 25 -lib final_luobuma_repeat.fasta -engine ncbi -gff -norna -dir luobuma /public/home/wlxie/NextPolish/luobuma_rundir/luobuma.fasta RepeatMaskerçš„å‚æ•°éå¸¸å¤šï¼Œä»‹ç»ä¸€ä¸‹è¿™é‡Œç”¨åˆ°çš„ï¼š -nolow Does not mask low_complexity DNA or simple repeats ä¸å±è”½ä½å¤æ‚åº¦DNAæˆ–ç®€å•é‡å¤åºåˆ—ï¼ˆæœ‰çš„å­¦è€…è®¤ä¸ºsimple repeatä¸ç®—ä¸¥æ ¼æ„ä¹‰ä¸Šçš„é‡å¤åºåˆ—ç±»å‹ï¼‰ -norna Does not mask small RNA (pseudo) genes ä¸å±è”½sRNA -no_is Skips bacterial insertion element check è·³è¿‡ç»†èŒæ’å…¥å…ƒä»¶æ£€æŸ¥ -pa å’ŒRepeatModelerä¸€æ ·ï¼Œ1 paæ˜¯4ä¸ªçº¿ç¨‹ -lib æŒ‡å®šè‡ªå»ºæ•°æ®åº“ï¼ˆä¸-specieså†²çªï¼‰ -gff ç”Ÿæˆgffæ–‡ä»¶ -dir æŒ‡å®šè¾“å‡ºç›®å½• åœ¨è¾“å‡ºç›®å½•ä¸‹å¯ä»¥æ‰¾åˆ°ä»¥ä¸‹å‡ ç§æ ¼å¼çš„æ–‡ä»¶: sample.fasta.cat.gz åŸºå› ç»„å’Œæ•°æ®åº“ä¸­å‚è€ƒé‡å¤åºåˆ—æ¯”å¯¹è¯¦æƒ…ï¼Œiä»£è¡¨ç¢±åŸºè½¬æ¢ï¼Œvä»£è¡¨ç¢±åŸºé¢ æ¢ sample.fasta.masked é‡å¤åºåˆ—å±è”½æˆ‘iNåçš„åºåˆ— sample.fasta.out é¢„æµ‹çš„é‡å¤åºåˆ—è¯¦ç»†ä¿¡æ¯ï¼ŒSmith-Waterman ç®—æ³•å¾—åˆ†ç­‰ç­‰ sample.fasta.out.gff ä¸Šä¸€ä¸ªæ–‡ä»¶çš„gffæ ¼å¼ sample.fasta.tbl RepeatMaskerçš„ç»“æœæŠ¥å‘Š ä¸»è¦çœ‹ä¸€ä¸‹ç»“æœæŠ¥å‘Šï¼š TEçš„é¢„æµ‹ç»“æœè¢«åˆ†ä¸ºé€†è½¬å½•è½¬åº§å­ã€DNAè½¬åº§å­å’ŒUnclassifiedä¸‰ç±»ï¼Œæ€»çš„è½¬åº§å­åºåˆ—æ•°é‡å’Œåœ¨åŸºå› ç»„çš„å æ¯”è§Total interspersed repeatsç»Ÿè®¡ç»“æœã€‚åšåˆ°è¿™é‡Œå¯ä»¥å†ç»“åˆå‰é¢åšçš„TRåˆ†æï¼Œåšä¸€ä¸ªåŸºå› ç»„é‡å¤åºåˆ—æ³¨é‡Šæ±‡æ€»è¡¨ï¼Œæˆ‘è¿™é‡Œå°±ä¸å†æ¼”ç¤ºäº†ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"RepeatModeler","slug":"RepeatModeler","permalink":"http://www.shelven.com/tags/RepeatModeler/"},{"name":"RepeatMasker","slug":"RepeatMasker","permalink":"http://www.shelven.com/tags/RepeatMasker/"}]},{"title":"åŸºå› ç»„æ³¨é‡Šï¼ˆ1ï¼‰â€”â€”ä¸²è”é‡å¤åºåˆ—æ³¨é‡Š","slug":"åŸºå› ç»„æ³¨é‡Šï¼ˆ1ï¼‰â€”â€”ä¸²è”é‡å¤åºåˆ—æ³¨é‡Š","date":"2023-03-12T15:14:40.000Z","updated":"2023-03-12T15:18:13.000Z","comments":true,"path":"2023/03/12/a.html","link":"","permalink":"http://www.shelven.com/2023/03/12/a.html","excerpt":"æœ¬ç³»åˆ—ç¬”è®°å¼€å§‹è®°å½•å¦‚ä½•å¯¹ç»„è£…çš„æ¤ç‰©åŸºå› ç»„è¿›è¡Œæ³¨é‡Šã€‚å‰é¢é€šè¿‡ä¸€ç³»åˆ—ç»„è£…è¿‡ç¨‹ï¼Œæˆ‘ä»¬æ‹¿åˆ°äº†ç»„è£…å¥½çš„åŸºå› ç»„è‰å›¾ï¼Œè€Œè¿™ä¸ªåŸºå› ç»„è‰å›¾åªæ˜¯ç ”ç©¶çš„å¼€å§‹ï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯åŸºå› ç»„ä¸­æœ‰å“ªäº›æˆ‘ä»¬æ„Ÿå…´è¶£çš„åŠŸèƒ½åŸºå› æˆ–è€…ç»“æ„åŸºå› ï¼Œä»¥åŠæ€ä¹ˆç”¨è¿™äº›åŸºå› é˜è¿°ç”Ÿç‰©å­¦é—®é¢˜ç­‰ç­‰ï¼Œè¿™ä¸ªæ—¶å€™ä¸€ä¸ªé«˜å‡†ç¡®åº¦çš„åŸºå› ç»„æ³¨é‡Šç»“æœå°±éå¸¸é‡è¦äº†ã€‚","text":"æœ¬ç³»åˆ—ç¬”è®°å¼€å§‹è®°å½•å¦‚ä½•å¯¹ç»„è£…çš„æ¤ç‰©åŸºå› ç»„è¿›è¡Œæ³¨é‡Šã€‚å‰é¢é€šè¿‡ä¸€ç³»åˆ—ç»„è£…è¿‡ç¨‹ï¼Œæˆ‘ä»¬æ‹¿åˆ°äº†ç»„è£…å¥½çš„åŸºå› ç»„è‰å›¾ï¼Œè€Œè¿™ä¸ªåŸºå› ç»„è‰å›¾åªæ˜¯ç ”ç©¶çš„å¼€å§‹ï¼Œæˆ‘ä»¬å…³æ³¨çš„æ˜¯åŸºå› ç»„ä¸­æœ‰å“ªäº›æˆ‘ä»¬æ„Ÿå…´è¶£çš„åŠŸèƒ½åŸºå› æˆ–è€…ç»“æ„åŸºå› ï¼Œä»¥åŠæ€ä¹ˆç”¨è¿™äº›åŸºå› é˜è¿°ç”Ÿç‰©å­¦é—®é¢˜ç­‰ç­‰ï¼Œè¿™ä¸ªæ—¶å€™ä¸€ä¸ªé«˜å‡†ç¡®åº¦çš„åŸºå› ç»„æ³¨é‡Šç»“æœå°±éå¸¸é‡è¦äº†ã€‚ åŸºå› ç»„æ³¨é‡Šå¯ä»¥åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šåŸºå› ç»„çš„ç»“æ„æ³¨é‡Šï¼ˆé‡å¤åºåˆ—è¯†åˆ«ã€éç¼–ç åŸºå› é¢„æµ‹ã€ç¼–ç åŸºå› é¢„æµ‹ï¼‰å’ŒåŸºå› åŠŸèƒ½æ³¨é‡Šï¼Œç»“æ„æ³¨é‡Šæ˜¯åŠŸèƒ½æ³¨é‡Šçš„åŸºç¡€ã€‚ è¿™é‡Œå…ˆä»ç»“æ„æ³¨é‡Šä¸­çš„é‡å¤åºåˆ—æ³¨é‡Šå¼€å§‹ã€‚æˆ‘ä»¬çŸ¥é“æ¤ç‰©åŸºå› ç»„å¤šå€åŒ–é¢‘ç¹ï¼Œä¸”åŸºå› ç»„ä¸­å­˜åœ¨å¤§é‡çš„é‡å¤åºåˆ—ï¼ˆæœ‰çš„æ¤ç‰©åŸºå› ç»„ä¸­é‡å¤åºåˆ—ç”šè‡³èƒ½è¾¾åˆ°80%ï¼‰ï¼Œè¿™äº›é‡å¤åºåˆ—æ§åˆ¶æ¤ç‰©è¡¨å‹è°ƒæ§ä¸­æœ‰éå¸¸é‡è¦çš„ä½œç”¨ã€‚åŸºå› ç»„ä¸­çš„é‡å¤åºåˆ—å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ç§ï¼š 1. ä¸²è”é‡å¤åºåˆ—æ³¨é‡Šä¸²è”é‡å¤ï¼ˆTandem Repeat, TRï¼‰æŒ‡DNAä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªæ ¸è‹·é…¸å‰åç›¸è¿æ¥çš„é‡å¤ã€‚ä¸²è”é‡å¤åˆåˆ†ä¸ºå«æ˜ŸDNA(Satellite DNA)ã€å°å«æ˜Ÿï¼ˆMinisatelliteï¼‰ã€å¾®å«æ˜Ÿï¼ˆMicrosatelliteï¼‰ã€‚å¾®å«æ˜Ÿåœ¨æ¤ç‰©ä¸­ä¸€èˆ¬ç§°ä¸ºSSRï¼ˆSimple Sequence Repeatsï¼‰SSRåœ¨æ¤ç‰©åŸºå› ç»„å¸¸è¢«ç”¨åšé—ä¼ æ ‡è®°ä½¿ç”¨ã€‚ä¸‹é¢æˆ‘ç”¨ä¸¤æ¬¾è½¯ä»¶è·‘ä¸‹ä¸²è”é‡å¤åºåˆ—æ³¨é‡Šã€‚ 1.1 GMATAè¿™ä¸ªè½¯ä»¶ä¸»è¦ç”¨æ¥æœç´¢é‡å¤å•å…ƒè¾ƒçŸ­çš„ç®€å•é‡å¤åºåˆ—ï¼Œä¹Ÿå°±æ˜¯å¾®å«æ˜ŸSSRåºåˆ—ã€‚è¿™è½¯ä»¶è¿è¡Œé€Ÿåº¦æ¯”è¾ƒå¿«ï¼Œè€Œä¸”å¯ä»¥åŒæ—¶è®¾è®¡SSRå¼•ç‰©ï¼Œè¿˜å¯ä»¥é¢„æµ‹elect-PCRç»“æœï¼Œæˆ–è€…å°†é¢„æµ‹ç»“æœæ˜¾ç¤ºåœ¨åŸºå› ç»„æµè§ˆå™¨ä¸Šï¼Œå¯ä»¥åœ¨githubä¸Šæ‰¾åˆ°é¡¹ç›®åœ°å€ï¼šXuewenWangUGA&#x2F;GMATA: software GMATA (github.com) éœ€è¦æ³¨æ„å¦‚æœæ˜¯åœ¨linuxç³»ç»Ÿä¸Šè·‘ä¸€é”®æµç¨‹çš„è¯ï¼Œéœ€è¦å•ç‹¬å®‰è£…primer3å’Œe-pcrï¼ˆå¯ä»¥ç›´æ¥ç”¨condaå®‰è£…ï¼‰ï¼Œåˆ†åˆ«æ˜¯è®¾è®¡SSRå¼•ç‰©å’Œæ¨¡æ‹ŸPCRçš„æ—¶å€™éœ€è¦è°ƒç”¨ã€‚å¦‚æœæ²¡æœ‰è¿™æ–¹é¢éœ€è¦ï¼Œå¯ä»¥åœ¨è®¾ç½®æ–‡ä»¶default_cfg.txtä¿®æ”¹ä¸ºä¸å¯ç”¨åé¢çš„æ¨¡å—ã€‚æˆ‘è¿™é‡Œç»Ÿä¸€ç”¨linuxç³»ç»Ÿæ¼”ç¤ºï¼Œåªæ¼”ç¤ºå‘½ä»¤è¡Œæ“ä½œï¼Œè¿™ä¸ªè½¯ä»¶åœ¨windowsä¸Šè¿è¡Œæœ‰UIç•Œé¢ï¼Œè¿˜æ˜¯æ¯”è¾ƒç›´è§‚çš„ã€‚ 12345#!/bin/bash#SBATCH -n 50#SBATCH -t 7200perl gmata.pl -c default_cfg.txt -i /public/home/wlxie/NextPolish/luobuma_rundir/genome.nextpolish.fasta æˆ‘è¿™é‡Œç›´æ¥ç”¨äº†ä¸€é”®æµç¨‹ï¼Œä¿®æ”¹é»˜è®¤çš„è®¾ç½®æ–‡ä»¶ä¸­ä¸‰ä¸ªæ¨¡å—[set]:doprimer_smtã€[set]:elctPCRå’Œ[set]:mk2gff3çš„ModulRun = Nï¼Œè™½ç„¶å¯ä»¥æ‰¹é‡è®¾è®¡å¼•ç‰©ï¼Œä½†æ˜¯æˆ‘è¿™é‡Œç”¨ä¸ç€â€¦.. é¢„æµ‹çš„SSRç»“æœåœ¨åŸfastaæ–‡ä»¶è·¯å¾„ä¸‹ï¼Œä»¥.ssrå’Œ.ssr.sat2ä¸ºåç¼€ï¼š åœ¨satç»“æœæ–‡ä»¶ä¸­ï¼Œæœ€ç»ˆç»“æœä»¥4ä¸ªè¡¨æ ¼çš„æ–¹å¼å‘ˆç°ï¼Œåˆ†åˆ«ç»Ÿè®¡motif k-merã€motifå’Œæˆå¯¹çš„motifä¿¡æ¯ä»¥åŠæœ€åæ¯ä¸ªcontigçš„SSRç»Ÿè®¡ä¿¡æ¯ã€‚ä»¥ä¸Šæ˜¯å…¶ä¸­ä¸¤ä¸ªè¡¨æ ¼ã€‚ 1.2 TRFè¿™ä¸ªè½¯ä»¶å’Œä¸Šé¢è½¯ä»¶ç±»ä¼¼ï¼Œå¯ä»¥ç»Ÿè®¡æ•´ä¸ªåŸºå› ç»„ä¸Šçš„ä¸²è”é‡å¤åºåˆ—ï¼Œåœ¨ä¸Šé¢ä¸€ä¸ªè½¯ä»¶è¾“å‡ºç»“æœä¸Šç¨å¾®æœ‰äº›ä¸åŒã€‚ 12345#!/bin/bash#SBATCH -n 50#SBATCH -t 7200trf /public/home/wlxie/NextPolish/luobuma_rundir/genome.nextpolish.fasta 2 7 7 80 10 50 500 -f -d -m -r -h è¯´æ˜ä¸€ä¸‹è¿™ä¸ªè½¯ä»¶ä½¿ç”¨è¿‡ç¨‹ä¸­ä¼ å‚çš„ä¸€å †æ•°å­—ä»£è¡¨ä»€ä¹ˆï¼š 12345678910111213Match = matching weight # åŒ¹é…ä¸Šçš„æƒé‡ï¼Œç¼ºçœå€¼2Mismatch = mismatching penalty # æœªåŒ¹é…ä¸Šçš„æƒé‡ï¼Œç¼ºçœå€¼7Delta = indel penalty # æ’å…¥ç½šåˆ†ï¼Œç¼ºçœå€¼7PM = match probability (whole number) # æ¯”å¯¹ä¸Šçš„æ¦‚ç‡ï¼Œå¯é€‰å€¼ä¸º80å’Œ75PI = indel probability (whole number) # æ’å…¥çš„æ¦‚ç‡ï¼Œå¯é€‰å€¼ä¸º10å’Œ20Minscore = minimum alignment score to report # ä¸²è”é‡å¤åºåˆ—çš„æ¯”å¯¹å¿…é¡»è¾¾åˆ°æˆ–è¶…è¿‡è¦æŠ¥å‘Šçš„æ¯”å¯¹åˆ†æ•°MaxPeriod = maximum period size to report # æœ€å¤§é‡å¤å•å…ƒçš„bpæ•°ï¼Œä¸æŒ‡å®šçš„è¯ä»1åˆ°2000å…¶ä»–ä¸»è¦å¯é€‰å‚æ•°ï¼ˆåˆ—ä¸€éƒ¨åˆ†ï¼‰:-m è¾“å‡ºå±è”½é‡å¤åºåˆ—åçš„åŸºå› ç»„-f è®°å½•æ¯ä¸ªé‡å¤åºåˆ—ä¾§ç¿¼çš„500ä¸ªæ ¸è‹·é…¸ï¼Œä¸»è¦ç”¨äºPCRå¼•ç‰©è®¾è®¡-d ç”Ÿæˆå±è”½æ•°æ®æ–‡ä»¶ï¼Œä¸æ±‡æ€»è¡¨æœ‰ç›¸åŒçš„ä¿¡æ¯ï¼Œä¸åŒ…å«æ ‡ç­¾ï¼Œä¸»è¦æ–¹ä¾¿åšå…¶ä»–å¤„ç†-h ä¸ç”Ÿæˆhtmlç»“æœæ–‡ä»¶ï¼ˆcontigæ•°é‡å¤šçš„è¯å»ºè®®ä½¿ç”¨ï¼Œå¦åˆ™æœ‰å¤§é‡çš„æ–‡ä»¶ç”Ÿæˆï¼‰ è¿è¡Œç»“æŸåå¯ä»¥ç”Ÿæˆ.maskåç¼€çš„å±è”½åçš„åºåˆ—æ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€ä¸ª.datåç¼€çš„ç»“æœæ–‡ä»¶ï¼ŒåŒ…å«äº†é‡å¤åºåˆ—çš„è¯¦ç»†ä¿¡æ¯ã€‚ ä¸»è¦è®²è§£ä¸‹è¿™ä¸ªdatæ–‡ä»¶ï¼Œå…ˆless -Sæ‰“å¼€çœ‹çœ‹ï¼š ä¸Šé¢è®°å½•çš„å‚æ•°å’Œå…¶ä»–ä¿¡æ¯å°±ä¸è¯´äº†ï¼Œä¸»è¦æ˜¯åº•ä¸‹çš„æ•°æ®ï¼Œæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªé‡å¤åºåˆ—çš„ä¿¡æ¯ï¼Œæ¯è¡Œåˆ†ä¸º15åˆ—ï¼š ç¬¬1åˆ—å’Œç¬¬2åˆ—æ˜¯é¢„æµ‹åˆ°çš„é‡å¤åºåˆ—çš„èµ·å§‹å’Œç»“æŸä½ç‚¹ï¼› ç¬¬3åˆ—æ˜¯é‡å¤å•å…ƒçš„é•¿åº¦ï¼› ç¬¬4åˆ—æ˜¯é‡å¤å•å…ƒçš„æ‹·è´æ•°ï¼Œä¸ä¸€å®šæ˜¯æ•´æ•°ï¼Œå› ä¸ºå¯èƒ½å­˜åœ¨æ’å…¥ç¼ºå¤±ï¼› ç¬¬5åˆ—æ˜¯ä¸€è‡´æ€§åºåˆ—çš„é•¿åº¦ï¼› ç¬¬6åˆ—æ˜¯åŒ¹é…çš„ç™¾åˆ†ç‡ï¼› ç¬¬7åˆ—æ˜¯æ’å…¥ç¼ºå¤±çš„ç™¾åˆ†ç‡ï¼› ç¬¬8åˆ—æ˜¯TRFè½¯ä»¶ç»™çš„åˆ†å€¼ï¼Œè¶Šé«˜è¶Šå¯é ï¼› ç¬¬9-12åˆ—åˆ†åˆ«ä¸ºACGTç¢±åŸºçš„ä¸ªæ•°ï¼› ç¬¬13åˆ—è¡¨ç¤ºæ¯”å¯¹çš„ç†µå€¼ï¼› ç¬¬14åˆ—æ˜¯ä¸€è‡´æ€§åºåˆ—çš„å…·ä½“ç¢±åŸºæ’åˆ—ï¼› ç¬¬15åˆ—æ˜¯æ•´ä¸ªé‡å¤åºåˆ—çš„å…·ä½“ç¢±åŸºæ’åˆ—é¡ºåºã€‚ å¯¹äºç»“æœæ–‡ä»¶çš„å¤„ç†æœ‰ä¸¤ç§æ–¹æ³•ï¼Œä¸€ç§æ˜¯å°†.datåç¼€çš„ç»“æœæ–‡ä»¶è½¬æ¢æˆæ ‡å‡†çš„.gff3æ–‡ä»¶æ ¼å¼ï¼Œç„¶åç”¨bedtoolsæå–trfç‰¹å¾ã€‚è½¬åŒ–gffçš„çš„æ–¹æ³•githubä¸Šæœ‰ä¸å°‘å¼€æºçš„é¡¹ç›®ï¼Œè¿™é‡Œæ¨èä¸€ä¸ªAdamtaranto&#x2F;TRF2GFF: Convert Tandem Repeat Finder dat file output into gff3 format (github.com) è¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯è‡ªå·±å†™ä¸ªè„šæœ¬ï¼Œå¯ä»¥çœ‹åˆ°åŒä¸€ä½ç‚¹å¤„å¯èƒ½æœ‰å¤šæ¡é¢„æµ‹çš„ä¸²è”é‡å¤åºåˆ—ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›ä¸²è”é‡å¤åºåˆ—ä¹‹é—´å¯èƒ½å­˜åœ¨äº¤å ï¼Œæ€è·¯æ˜¯å°†åŒä¸€ä½ç‚¹é¢„æµ‹çš„é‡å¤åºåˆ—åªä¿ç•™æœ€çŸ­çš„ä¸€æ¡ï¼ˆèµ·å§‹ä½ç‚¹ç›¸åŒä¿ç•™å‰ä¸€æ¡ï¼Œç»“æŸä½ç‚¹ç›¸åŒä¿ç•™åä¸€æ¡ï¼‰ï¼Œç„¶åç»Ÿè®¡ç¬¬3åˆ—é‡å¤åºåˆ—k-meræ•°é‡å’Œç±»å‹ï¼Œæ ¹æ®ç¬¬1åˆ—å’Œç¬¬2åˆ—è®¡ç®—é•¿åº¦ï¼Œç»Ÿè®¡æ€»é•¿åº¦å’Œå æ¯”å³å¯ã€‚ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091929394&#x27;&#x27;&#x27;è‡ªç¼–TFR datæ ¼å¼ç»“æœæ–‡ä»¶ç»Ÿè®¡è„šæœ¬2023.3.12&#x27;&#x27;&#x27;from collections import Counter# æ•°æ®è¿‡æ»¤loci_start = []loci_finish = []total_line = []with open(&#x27;./genome.baima.fasta.2.7.7.80.10.50.500.dat&#x27;, &#x27;r&#x27;) as input: for i in input.readlines()[15:]: if i.find(&#x27;Sequence&#x27;) != -1 or i.find(&#x27;Parameters&#x27;) != -1: continue else: lst = i.strip().split(&#x27; &#x27;) if len(lst) &lt; 15: continue if len(loci_start) &lt; 1 and len(loci_finish) &lt; 1: # å¤„ç†åˆ—è¡¨ä¸ºç©ºçš„æƒ…å†µ loci_start.append(lst[0]) loci_finish.append(lst[1]) total_line.append(lst) else: if lst[0] != loci_start[-1] and lst[1] != loci_finish[-1]: # å¼€å§‹ç»“æŸä½ç‚¹éƒ½ä¸åŒï¼Œåˆ™è®°å½•æ•°æ® loci_start.append(lst[0]) loci_finish.append(lst[1]) total_line.append(lst) elif lst[0] == loci_start[-1]: # å¼€å§‹ä½ç‚¹ç›¸åŒï¼Œè·³è¿‡ continue elif lst[1] == loci_finish[-1]: # ç»“æŸä½ç‚¹ç›¸åŒï¼Œåˆ é™¤åˆ—è¡¨æœ€åä¸€ä¸ªå…ƒç´ å¹¶åŠ å…¥æ–°å…ƒç´  del loci_start[-1] del loci_finish[-1] del total_line[-1] loci_start.append(lst[0]) loci_finish.append(lst[1]) total_line.append(lst)# æå–motifé•¿åº¦å’Œé‡å¤åºåˆ—é•¿åº¦motif_lst = []leng_lst = []for i in total_line: motif_lst.append(i[2]) leng = int(i[1]) - int(i[0]) + 1 leng_lst.append(leng)# ç»Ÿè®¡ç›¸åŒmotifçš„æ€»é•¿åº¦å’Œæ‰€æœ‰é‡å¤åºåˆ—æ€»é•¿åº¦total_leng = &#123;&#125;motif_sum = 0for i in range(len(motif_lst)): item = motif_lst[i] motif_sum += leng_lst[i] if item in total_leng: total_leng[item] += leng_lst[i] else: total_leng[item] = leng_lst[i]# ç»Ÿè®¡motif-meræ•°é‡ï¼Œæ€»æ•°ï¼Œå æ¯”count_motif = Counter(motif_lst)count_lst = list(count_motif.items())count_lst.sort(key = lambda x : x[1], reverse = True)lst_ = []hit_num = 0for i in count_lst: hit_num += i[1] for i in count_lst: ls = i[0] lst1 = list(i) if ls in total_leng: lst1.append(total_leng[ls]) precentage = &#x27;%.2f%%&#x27;%(100 * i[1] / hit_num) lst1.append(precentage) lst_.append(lst1)# ç»Ÿè®¡ç»“æœè¿‡æ»¤ï¼ˆå–å‰äºŒåï¼‰lst_filted = []hit_ = 0motif_ = 0for i in range(1, 20): lst_filted.append(lst_[i]) hit_ += lst_[i][1] motif_ += lst_[i][2]lst_filted.append([&#x27;Other&#x27;, int(hit_num - hit_), int(motif_sum - motif_), &#x27;%.2f%%&#x27;%(100 - 100 * hit_ / hit_num)])lst_filted.append([&#x27;Total&#x27;, int(hit_num), int(motif_sum), &#x27;100%&#x27;])# è¾“å‡ºç»“æœwith open(&#x27;./stastics.xls&#x27;, &#x27;w&#x27;) as output: output.write(&#x27;Motif(-mer)\\tNumber\\tLength(bp)\\tPrecentage\\n&#x27;) for i in lst_filted: motif = i[0] number = i[1] length = i[2] pre = i[3] output.write(motif + &#x27;\\t&#x27; + str(number) + &#x27;\\t&#x27; + str(length) + &#x27;\\t&#x27; + str(pre) + &#x27;\\n&#x27;) **å†™çš„æœ‰ç‚¹å†—é•¿ï¼Œèƒ½å®ç°ç»Ÿè®¡åŠŸèƒ½å°±è¡Œâ€¦..**å®ç°çš„ç»“æœå¦‚ä¸‹ï¼š å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªè½¯ä»¶ç»Ÿè®¡ç»“æœè¿˜æ˜¯æœ‰æ¯”è¾ƒå¤§çš„å‡ºå…¥çš„ï¼Œå¯èƒ½æ˜¯åœ¨ç®—æ³•ä¸Šæœ‰ä¸åŒã€‚åœ¨å•ç‹¬åˆ†æSSRåºåˆ—çš„æ—¶å€™è¿˜æ˜¯ç”¨GMATAå‡†ç¡®ä¸€äº›ï¼Œå¦‚æœæ˜¯ç»Ÿè®¡å…¨åŸºå› ç»„ä¸Šçš„ä¸²è”é‡å¤åºåˆ—åˆ™ä½¿ç”¨è€ç‰Œçš„TRFæ›´ä¸ºåˆé€‚ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"GMATA","slug":"GMATA","permalink":"http://www.shelven.com/tags/GMATA/"},{"name":"TRF","slug":"TRF","permalink":"http://www.shelven.com/tags/TRF/"}]},{"title":"ç»•è¿‡åŒé‡å°é”éƒ¨ç½²ChatGPTåˆ°zhenxun_bot","slug":"ç»•è¿‡åŒé‡å°é”éƒ¨ç½²ChatGPTåˆ°zhenxun-bot","date":"2023-03-08T13:54:56.000Z","updated":"2023-03-08T14:01:24.000Z","comments":true,"path":"2023/03/08/a.html","link":"","permalink":"http://www.shelven.com/2023/03/08/a.html","excerpt":"ä½œä¸ºä¸€ä¸ªä»ChatGPTå…¬æµ‹ç”¨åˆ°ç°åœ¨çš„ç”¨æˆ·ï¼Œæœ‰äº›æ— å¥ˆå¾ˆéš¾è¨€è¯´ã€‚æœ¬æ¥OpenAIå°±ä¸å¯¹å’±ä»¬è¿™ä¸ªåŒºåŸŸå¼€æ”¾ï¼Œä½¿ç”¨å®˜æ–¹çš„APIæ­å»ºåº”ç”¨å¯ä»¥ä¸å€ŸåŠ©VPNè®¿é—®ï¼Œç®—æ˜¯è§£é™¤äº†åŒºåŸŸé™åˆ¶ã€‚ä½†æ˜¯ï¼Œä»2023å¹´3æœˆ2æ—¥å‚æ™šå¼€å§‹ï¼ŒAPIæ¥å£å°±å¼€å§‹æ²¡æœ‰å“åº”äº†ï¼Œå®˜ç½‘æ²¡æœ‰é—®é¢˜ï¼Œå››å¤„æŸ¥è¯¢å‘ç°å¯èƒ½æ˜¯APIçš„åŸŸåä¸Šäº†GFWåå•ï¼ˆæš‚ä¸ç¡®å®šï¼Œæœ‰å¯èƒ½é‡å¤§ä¼šè®®è¿‡å»åä¼šæ¢å¤ï¼Ÿï¼‰ã€‚","text":"ä½œä¸ºä¸€ä¸ªä»ChatGPTå…¬æµ‹ç”¨åˆ°ç°åœ¨çš„ç”¨æˆ·ï¼Œæœ‰äº›æ— å¥ˆå¾ˆéš¾è¨€è¯´ã€‚æœ¬æ¥OpenAIå°±ä¸å¯¹å’±ä»¬è¿™ä¸ªåŒºåŸŸå¼€æ”¾ï¼Œä½¿ç”¨å®˜æ–¹çš„APIæ­å»ºåº”ç”¨å¯ä»¥ä¸å€ŸåŠ©VPNè®¿é—®ï¼Œç®—æ˜¯è§£é™¤äº†åŒºåŸŸé™åˆ¶ã€‚ä½†æ˜¯ï¼Œä»2023å¹´3æœˆ2æ—¥å‚æ™šå¼€å§‹ï¼ŒAPIæ¥å£å°±å¼€å§‹æ²¡æœ‰å“åº”äº†ï¼Œå®˜ç½‘æ²¡æœ‰é—®é¢˜ï¼Œå››å¤„æŸ¥è¯¢å‘ç°å¯èƒ½æ˜¯APIçš„åŸŸåä¸Šäº†GFWåå•ï¼ˆæš‚ä¸ç¡®å®šï¼Œæœ‰å¯èƒ½é‡å¤§ä¼šè®®è¿‡å»åä¼šæ¢å¤ï¼Ÿï¼‰ã€‚ å› æ­¤ï¼Œç°åœ¨æ‘†åœ¨çœ¼å‰çš„é—®é¢˜æ˜¯å¦‚ä½•ç»•è¿‡åŒé‡å°é”è°ƒç”¨OpenAIçš„APIæ¥å£ï¼Ÿæœ€ç¨³å¦¥çš„æ–¹å¼å½“ç„¶æ˜¯ç»™æœåŠ¡å™¨æŒ‚ä¸ªå…¨å±€ä»£ç†ï¼Œä½†æ˜¯æˆ‘çš„æœåŠ¡å™¨æœ¬èº«å°±åœ¨ä½œä»£ç†æœåŠ¡å™¨ï¼Œç»™æœåŠ¡å™¨å†ä¸Šä¸ªä»£ç†ä¼šæ¯”è¾ƒéº»çƒ¦â€¦â€¦è¿™é‡Œè®°å½•ä¸‹è‡ªå·±å®ç°çš„æ–¹å¼ï¼Œé¡ºä¾¿è®°å½•ä¸‹æ˜¯å¦‚ä½•éƒ¨ç½²ChatGPTåˆ°zhenxun_botï¼ˆè¿™ä¸ªbotçœŸçš„è¶…çº§å¥½ç”¨ï¼ï¼‰ä¸Šçš„ã€‚ æœ¬äººåœ¨è¿™æ–¹é¢æ˜¯å°ç™½ï¼Œåªæ˜¯è®°å½•å®ç°è¿‡ç¨‹ã€‚ æ­¤éƒ¨åˆ†å†…å®¹éœ€è¦ä»¥éƒ¨ç½²zhenxun_botä¸ºå‰æã€æœ‰ä¸€ä¸ªæœªä¸ŠGFWåå•çš„åŸŸåï¼ˆå›½å†…éœ€è¦å®åï¼‰ã€‚ 1. éƒ¨ç½²ChatGPTåˆ°zhenxun_botæ—¶é—´è¿‡å»å¤ªä¹…ï¼Œå·²ç»æ‰¾ä¸åˆ°å†™æ’ä»¶çš„åŸä½œè€…äº†â€¦æˆ‘æ˜¯åœ¨åŸæ’ä»¶çš„åŸºç¡€ä¸Šcopyå’Œä¿®æ”¹äº†ä¸€éƒ¨åˆ†ä»£ç ï¼Œå®é™…ä¸Šå°±æ˜¯åœ¨zhenxun_botçš„AIæ’ä»¶åŸºç¡€ä¸Šåšçš„ä¸€ç‚¹åˆ æ”¹ï¼ˆå¯èƒ½æœ‰äº›æ²¡åˆ å¹²å‡€ï¼Œæ‡’å¾—æŸ¥äº†ï¼‰ã€‚å¦‚æœæ²¡æœ‰ä¿®æ”¹è·¯å¾„çš„è¯ï¼ŒåŸæ–‡ä»¶è·¯å¾„æ˜¯/zhenxun_bot/plugins/ai/data_source.pyï¼Œä¸‹é¢ä»£ç æ›¿ä»£åŸæ–‡ä»¶å†…å®¹ï¼ˆåŸæ–‡ä»¶æœ€å¥½å¦å­˜ä»¥é˜²ä¸‡ä¸€ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238import osimport randomimport refrom utils.http_utils import AsyncHttpxfrom configs.path_config import IMAGE_PATH, DATA_PATHfrom services.log import loggerfrom utils.message_builder import image, facefrom configs.config import Config, NICKNAMEfrom .utils import ai_message_managerfrom copy import deepcopyfrom transformers import GPT2TokenizerFastimport openaiopenai.api_key = &quot;xxxxxxxxxxxxxx&quot;try: import ujson as jsonexcept ModuleNotFoundError: import jsonsession_config = &#123; &#x27;preset&#x27;: &#x27;ä½ æ˜¯ä¸€ä¸ªå¤§å‹è¯­è¨€æ¨¡å‹ï¼Œå¯ä»¥å›ç­”æˆ‘çš„é—®é¢˜ã€‚å¦‚æœæˆ‘æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å‘Šè¯‰ä½ ï¼Œä½ ä¼šå°½åŠ›ä¸ºæˆ‘è§£ç­”ã€‚&#x27;, &#x27;context&#x27;: &#x27;&#x27;&#125;sessions = &#123;&#125;tokenizer = GPT2TokenizerFast.from_pretrained(&quot;gpt2-large&quot;)check_url = &quot;https://v2.alapi.cn/api/censor/text&quot;index = 0anime_data = json.load(open(DATA_PATH / &quot;anime.json&quot;, &quot;r&quot;, encoding=&quot;utf8&quot;))# è·å–å¯¹è¯sessiondef get_chat_session(sessionid): if sessionid not in sessions: config = deepcopy(session_config) config[&#x27;id&#x27;] = sessionid sessions[sessionid] = config return sessions[sessionid] def chat_with_gpt(prompt): try: resp = openai.Completion.create( model = &quot;text-davinci-003&quot;, temperature = 0.9, max_tokens=3000, top_p=1, presence_penalty=0, frequency_penalty=0, prompt=prompt) resp = resp[&#x27;choices&#x27;][0][&#x27;text&#x27;] except openai.OpenAIError as e: print(&#x27;openai æ¥å£æŠ¥é”™: &#x27; + str(e)) resp = str(e) return respasync def get_chat_result(text: str, img_url: str, user_id: int, nickname: str) -&gt; str: &quot;&quot;&quot; è·å– AI è¿”å›å€¼ï¼Œé¡ºåºï¼š ç‰¹æ®Šå›å¤ -&gt; GPT3 -&gt; é’äº‘å®¢ :param text: é—®é¢˜ :param img_url: å›¾ç‰‡é“¾æ¥ :param user_id: ç”¨æˆ·id :param nickname: ç”¨æˆ·æ˜µç§° :return: å›ç­” &quot;&quot;&quot; global index ai_message_manager.add_message(user_id, text) special_rst = await ai_message_manager.get_result(user_id, nickname) if special_rst: ai_message_manager.add_result(user_id, special_rst) return special_rst if index == 5: index = 0 if len(text) &lt; 6 and random.random() &lt; 0.6: keys = anime_data.keys() for key in keys: if text.find(key) != -1: return random.choice(anime_data[key]).replace(&quot;ä½ &quot;, nickname) rst = await GPT_3(text, user_id) if not rst: rst = await xie_ai(text) if not rst: return no_result() if nickname: if len(nickname) &lt; 5: if random.random() &lt; 0.5: nickname = &quot;~&quot;.join(nickname) + &quot;~&quot; if random.random() &lt; 0.2: if nickname.find(&quot;å¤§äºº&quot;) == -1: nickname += &quot;å¤§~äºº~&quot; rst = str(rst).replace(&quot;å°ä¸»äºº&quot;, nickname).replace(&quot;å°æœ‹å‹&quot;, nickname) ai_message_manager.add_result(user_id, rst) return rst# GPT3æ¥å£async def GPT_3(msg: str, sessionid: int) -&gt; str: &quot;&quot;&quot; è·å–GPT3æ¥å£çš„å›å¤ æŒ‡ä»¤å¦‚ä¸‹(ç¾¤å†…éœ€@æœºå™¨äºº)ï¼š1.[é‡ç½®ä¼šè¯] è¯·å‘é€ é‡ç½®ä¼šè¯2.[è®¾ç½®äººæ ¼] è¯·å‘é€ è®¾ç½®äººæ ¼+äººæ ¼æè¿°3.[é‡ç½®äººæ ¼] è¯·å‘é€ é‡ç½®äººæ ¼ã€‚ æ³¨æ„ï¼šé‡ç½®ä¼šè¯ä¸ä¼šæ¸…ç©ºäººæ ¼,é‡ç½®äººæ ¼ä¼šé‡ç½®ä¼šè¯!è®¾ç½®äººæ ¼åäººæ ¼å°†ä¸€ç›´å­˜åœ¨ï¼Œé™¤éé‡ç½®äººæ ¼æˆ–é‡å¯é€»è¾‘ç«¯! &quot;&quot;&quot; try: if msg.strip() == &#x27;&#x27;: return &#x27;æ‚¨å¥½ï¼Œæˆ‘æ˜¯äººå·¥æ™ºèƒ½åŠ©æ‰‹ï¼Œå¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·éšæ—¶å‘Šè¯‰æˆ‘ï¼Œæˆ‘å°†å°½åŠ›å›ç­”ã€‚\\nå¦‚æœæ‚¨éœ€è¦é‡ç½®æˆ‘ä»¬çš„ä¼šè¯ï¼Œè¯·å›å¤`é‡ç½®ä¼šè¯`&#x27; # è·å¾—å¯¹è¯session session = get_chat_session(sessionid) if &#x27;é‡ç½®ä¼šè¯&#x27; == msg.strip(): session[&#x27;context&#x27;] = &#x27;&#x27; return &quot;ä¼šè¯å·²é‡ç½®&quot; if &#x27;é‡ç½®äººæ ¼&#x27; == msg.strip(): session[&#x27;context&#x27;] = &#x27;&#x27; session[&#x27;preset&#x27;] = session_config[&#x27;preset&#x27;] return &#x27;äººæ ¼å·²é‡ç½®&#x27; if msg.strip().startswith(&#x27;è®¾ç½®äººæ ¼&#x27;): session[&#x27;preset&#x27;] = msg.strip().replace(&#x27;è®¾ç½®äººæ ¼&#x27;, &#x27;&#x27;) session[&#x27;context&#x27;] = &#x27;&#x27; # å¤„ç†ä¸Šä¸‹æ–‡é€»è¾‘ token_limit = 4096 - 3000 - len(tokenizer.encode(session[&#x27;preset&#x27;])) - 3 session[&#x27;context&#x27;] = session[&#x27;context&#x27;] + &quot;\\n\\nQ:&quot; + msg + &quot;\\nA:&quot; ids = tokenizer.encode(session[&#x27;context&#x27;]) tokens = tokenizer.decode(ids[-token_limit:]) # è®¡ç®—å¯å‘é€çš„å­—ç¬¦æ•°é‡ char_limit = len(&#x27;&#x27;.join(tokens)) session[&#x27;context&#x27;] = session[&#x27;context&#x27;][-char_limit:] # ä»æœ€æ—©çš„æé—®å¼€å§‹æˆªå– pos = session[&#x27;context&#x27;].find(&#x27;Q:&#x27;) session[&#x27;context&#x27;] = session[&#x27;context&#x27;][pos:] # è®¾ç½®é¢„è®¾ msg = session[&#x27;preset&#x27;] + &#x27;\\n\\n&#x27; + session[&#x27;context&#x27;] print(msg) # ä¸ChatGPTäº¤äº’è·å¾—å¯¹è¯å†…å®¹ message = chat_with_gpt(msg) print(&quot;ä¼šè¯ID: &quot; + str(sessionid)) print(&quot;ChatGPTè¿”å›å†…å®¹: &quot;) print(message) return message except Exception as error: traceback.print_exc() return str(&#x27;å¼‚å¸¸: &#x27; + str(error)) # å±‘ AIasync def xie_ai(text: str) -&gt; str: &quot;&quot;&quot; è·å–é’äº‘å®¢å›å¤ :param text: é—®é¢˜ :return: é’äº‘å¯å›å¤ &quot;&quot;&quot; res = await AsyncHttpx.get(f&quot;http://api.qingyunke.com/api.php?key=free&amp;appid=0&amp;msg=&#123;text&#125;&quot;) content = &quot;&quot; try: data = json.loads(res.text) if data[&quot;result&quot;] == 0: content = data[&quot;content&quot;] if &quot;è²è²&quot; in content: content = content.replace(&quot;è²è²&quot;, NICKNAME) if &quot;è‰³å„¿&quot; in content: content = content.replace(&quot;è‰³å„¿&quot;, NICKNAME) if &quot;å…¬ä¼—å·&quot; in content: content = &quot;&quot; if &quot;&#123;br&#125;&quot; in content: content = content.replace(&quot;&#123;br&#125;&quot;, &quot;\\n&quot;) if &quot;æç¤º&quot; in content: content = content[: content.find(&quot;æç¤º&quot;)] if &quot;æ·˜å®&quot; in content or &quot;taobao.com&quot; in content: return &quot;&quot; while True: r = re.search(&quot;&#123;face:(.*)&#125;&quot;, content) if r: id_ = r.group(1) content = content.replace( &quot;&#123;&quot; + f&quot;face:&#123;id_&#125;&quot; + &quot;&#125;&quot;, str(face(int(id_))) ) else: break return ( content if not content and not Config.get_config(&quot;ai&quot;, &quot;ALAPI_AI_CHECK&quot;) else await check_text(content) ) except Exception as e: logger.error(f&quot;Ai xie_ai å‘ç”Ÿé”™è¯¯ &#123;type(e)&#125;ï¼š&#123;e&#125;&quot;) return &quot;&quot;def hello() -&gt; str: &quot;&quot;&quot; ä¸€äº›æ‰“æ‹›å‘¼çš„å†…å®¹ &quot;&quot;&quot; result = random.choice( ( &quot;å“¦è±ï¼Ÿï¼&quot;, &quot;ä½ å¥½ï¼Ov&lt;&quot;, f&quot;åº“åº“åº“ï¼Œå‘¼å”¤&#123;NICKNAME&#125;åšä»€ä¹ˆå‘¢&quot;, &quot;æˆ‘åœ¨å‘¢ï¼&quot;, &quot;å‘¼å‘¼ï¼Œå«ä¿ºå¹²å˜›&quot;, ) ) img = random.choice(os.listdir(IMAGE_PATH / &quot;zai&quot;)) if img[-4:] == &quot;.gif&quot;: result += image(img, &quot;zai&quot;) else: result += image(img, &quot;zai&quot;) return result# æ²¡æœ‰å›ç­”æ—¶å›å¤å†…å®¹def no_result() -&gt; str: &quot;&quot;&quot; æ²¡æœ‰å›ç­”æ—¶çš„å›å¤ &quot;&quot;&quot; return ( random.choice( [ &quot;ä½ åœ¨è¯´å•¥å­ï¼Ÿ&quot;, f&quot;çº¯æ´çš„&#123;NICKNAME&#125;æ²¡å¬æ‡‚&quot;, &quot;ä¸‹æ¬¡å†å‘Šè¯‰ä½ (ä¸‹æ¬¡ä¸€å®š)&quot;, &quot;ä½ è§‰å¾—æˆ‘å¬æ‡‚äº†å—ï¼Ÿå—¯ï¼Ÿ&quot;, &quot;æˆ‘ï¼ä¸ï¼çŸ¥ï¼é“ï¼&quot;, ] ) + image(random.choice(os.listdir(IMAGE_PATH / &quot;noresult&quot;)), &quot;noresult&quot;) )async def check_text(text: str) -&gt; str: &quot;&quot;&quot; ALAPIæ–‡æœ¬æ£€æµ‹ï¼Œä¸»è¦é’ˆå¯¹é’äº‘å®¢APIï¼Œæ£€æµ‹ä¸ºæ¶ä¿—æ–‡æœ¬æ”¹ä¸ºæ— å›å¤çš„å›ç­” :param text: å›å¤ &quot;&quot;&quot; if not Config.get_config(&quot;alapi&quot;, &quot;ALAPI_TOKEN&quot;): return text params = &#123;&quot;token&quot;: Config.get_config(&quot;alapi&quot;, &quot;ALAPI_TOKEN&quot;), &quot;text&quot;: text&#125; try: data = (await AsyncHttpx.get(check_url, timeout=2, params=params)).json() if data[&quot;code&quot;] == 200: if data[&quot;data&quot;][&quot;conclusion_type&quot;] == 2: return &quot;&quot; except Exception as e: logger.error(f&quot;æ£€æµ‹è¿è§„æ–‡æœ¬é”™è¯¯...&#123;type(e)&#125;ï¼š&#123;e&#125;&quot;) return text openai.api_keyéœ€è¦ä¸Šå®˜ç½‘è·å–åå¡«å…¥ å®é™…ä¸Šå°±æ˜¯æŠŠåŸæ¥çš„å›¾çµæ¥å£æ›¿æ¢æˆGPT3æ¥å£ã€‚å¼•å…¥openaiåº“å’Œtransformersåº“ï¼Œä½¿ç”¨äº†å‰è€…çš„openai.Completion.create()æ–¹æ³•å’Œåè€…GPT2TokenizerFast.from_pretrained()é¢„è®­ç»ƒçš„GPT2æ¨¡å‹å’Œåˆ†è¯å™¨ã€‚ å…³é”®åœ¨äºå‰è€…ï¼Œå› ä¸ºOpenAIçš„APIç½‘ç«™å·²ç»ä¸Šäº†GFWåå•ï¼Œæ‰€ä»¥æˆ‘ä»¬ç°åœ¨å°±ç®—æœ‰api_keyä¹Ÿæ— æ³•è°ƒç”¨APIæ¥å£ï¼ˆä¼šæ˜¾ç¤ºè¶…æ—¶ï¼‰ã€‚ä»¥ä¸‹æ˜¯è§£å†³æ–¹æ³•ã€‚ 2. æ‰˜ç®¡åŸŸååˆ°CLOUDFLAREåé¢æˆ‘ä»¬è¦ç”¨åˆ°CLOUDFLAREï¼Œæ²¡æœ‰è´¦æˆ·çš„è¯æ³¨å†Œä¸€ä¸ªï¼šhttps://dash.cloudflare.com/ æ³¨å†Œä¹‹åç‚¹å‡»å³è¾¹çš„Websitesï¼ŒæŒ‰ç…§æ“ä½œæµç¨‹æ·»åŠ ä¸»åŸŸåï¼Œä¿®æ”¹ä¸¤ä¸ªDNSæœåŠ¡å™¨åå­—ã€‚ æ¯”å¦‚æˆ‘è¿™é‡Œç”¨é˜¿é‡Œäº‘ä¹°äº†ä¸€ä¸ªåŸŸåï¼Œéœ€è¦ç™»å½•é˜¿é‡Œäº‘çš„åŸŸåæ§åˆ¶å°ï¼Œç‚¹å‡»ç®¡ç†ï¼Œè¿›å…¥å³è¾¹DNSä¿®æ”¹é¡µé¢ ä¿®æ”¹åŸæ¥é»˜è®¤çš„DNSæœåŠ¡å™¨ä¸ºlorna.ns.cloudflare.comå’Œram.ns.cloudflare.comã€‚ ä¸­é—´å¯èƒ½è¿˜éœ€è¦ä½ é‚®ä»¶ç¡®è®¤ï¼ŒæŒ‰ç…§æç¤ºæ“ä½œå°±å¯ä»¥ã€‚ 3. åˆ›å»ºCLOUDFLARE Workersè¯¥æ­¥éª¤å‚è€ƒæ¥è‡ªgithub [noobnooc]ï¼Œæ„Ÿè°¢å¤§ä½¬æä¾›çš„è§£å†³æ–¹æ¡ˆï¼ å›åˆ°CLOUDFLAREï¼Œç‚¹å‡»å³è¾¹çš„åˆ›å»ºWorkersâ€”â€”Create a Serviceï¼Œè¿™é‡Œç›´æ¥ç¡®è®¤åˆ›å»ºä¸€ä¸ªæœåŠ¡ã€‚ åˆ›å»ºä¹‹åç‚¹å‡»Quick editä¿®æ”¹workersä»£ç å¦‚ä¸‹ï¼ˆèµ·åˆ°ä»£ç†api.openai.comçš„ä½œç”¨ï¼‰ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156// Website you intended to retrieve for users.const upstream = &#x27;api.openai.com&#x27;// Custom pathname for the upstream website.const upstream_path = &#x27;/&#x27;// Website you intended to retrieve for users using mobile devices.const upstream_mobile = upstream// Countries and regions where you wish to suspend your service.const blocked_region = []// IP addresses which you wish to block from using your service.const blocked_ip_address = [&#x27;0.0.0.0&#x27;, &#x27;127.0.0.1&#x27;]// Whether to use HTTPS protocol for upstream address.const https = true// Whether to disable cache.const disable_cache = false// Replace texts.const replace_dict = &#123; &#x27;$upstream&#x27;: &#x27;$custom_domain&#x27;,&#125;addEventListener(&#x27;fetch&#x27;, event =&gt; &#123; event.respondWith(fetchAndApply(event.request));&#125;)async function fetchAndApply(request) &#123; const region = request.headers.get(&#x27;cf-ipcountry&#x27;).toUpperCase(); const ip_address = request.headers.get(&#x27;cf-connecting-ip&#x27;); const user_agent = request.headers.get(&#x27;user-agent&#x27;); let response = null; let url = new URL(request.url); let url_hostname = url.hostname; if (https == true) &#123; url.protocol = &#x27;https:&#x27;; &#125; else &#123; url.protocol = &#x27;http:&#x27;; &#125; if (await device_status(user_agent)) &#123; var upstream_domain = upstream; &#125; else &#123; var upstream_domain = upstream_mobile; &#125; url.host = upstream_domain; if (url.pathname == &#x27;/&#x27;) &#123; url.pathname = upstream_path; &#125; else &#123; url.pathname = upstream_path + url.pathname; &#125; if (blocked_region.includes(region)) &#123; response = new Response(&#x27;Access denied: WorkersProxy is not available in your region yet.&#x27;, &#123; status: 403 &#125;); &#125; else if (blocked_ip_address.includes(ip_address)) &#123; response = new Response(&#x27;Access denied: Your IP address is blocked by WorkersProxy.&#x27;, &#123; status: 403 &#125;); &#125; else &#123; let method = request.method; let request_headers = request.headers; let new_request_headers = new Headers(request_headers); new_request_headers.set(&#x27;Host&#x27;, upstream_domain); new_request_headers.set(&#x27;Referer&#x27;, url.protocol + &#x27;//&#x27; + url_hostname); let original_response = await fetch(url.href, &#123; method: method, headers: new_request_headers, body: request.body &#125;) connection_upgrade = new_request_headers.get(&quot;Upgrade&quot;); if (connection_upgrade &amp;&amp; connection_upgrade.toLowerCase() == &quot;websocket&quot;) &#123; return original_response; &#125; let original_response_clone = original_response.clone(); let original_text = null; let response_headers = original_response.headers; let new_response_headers = new Headers(response_headers); let status = original_response.status; if (disable_cache) &#123; new_response_headers.set(&#x27;Cache-Control&#x27;, &#x27;no-store&#x27;); &#125; new_response_headers.set(&#x27;access-control-allow-origin&#x27;, &#x27;*&#x27;); new_response_headers.set(&#x27;access-control-allow-credentials&#x27;, true); new_response_headers.delete(&#x27;content-security-policy&#x27;); new_response_headers.delete(&#x27;content-security-policy-report-only&#x27;); new_response_headers.delete(&#x27;clear-site-data&#x27;); if (new_response_headers.get(&quot;x-pjax-url&quot;)) &#123; new_response_headers.set(&quot;x-pjax-url&quot;, response_headers.get(&quot;x-pjax-url&quot;).replace(&quot;//&quot; + upstream_domain, &quot;//&quot; + url_hostname)); &#125; const content_type = new_response_headers.get(&#x27;content-type&#x27;); if (content_type != null &amp;&amp; content_type.includes(&#x27;text/html&#x27;) &amp;&amp; content_type.includes(&#x27;UTF-8&#x27;)) &#123; original_text = await replace_response_text(original_response_clone, upstream_domain, url_hostname); &#125; else &#123; original_text = original_response_clone.body &#125; response = new Response(original_text, &#123; status, headers: new_response_headers &#125;) &#125; return response;&#125;async function replace_response_text(response, upstream_domain, host_name) &#123; let text = await response.text() var i, j; for (i in replace_dict) &#123; j = replace_dict[i] if (i == &#x27;$upstream&#x27;) &#123; i = upstream_domain &#125; else if (i == &#x27;$custom_domain&#x27;) &#123; i = host_name &#125; if (j == &#x27;$upstream&#x27;) &#123; j = upstream_domain &#125; else if (j == &#x27;$custom_domain&#x27;) &#123; j = host_name &#125; let re = new RegExp(i, &#x27;g&#x27;) text = text.replace(re, j); &#125; return text;&#125;async function device_status(user_agent_info) &#123; var agents = [&quot;Android&quot;, &quot;iPhone&quot;, &quot;SymbianOS&quot;, &quot;Windows Phone&quot;, &quot;iPad&quot;, &quot;iPod&quot;]; var flag = true; for (var v = 0; v &lt; agents.length; v++) &#123; if (user_agent_info.indexOf(agents[v]) &gt; 0) &#123; flag = false; break; &#125; &#125; return flag;&#125; ä¿®æ”¹ä¹‹åç‚¹å‡»å³ä¸‹è§’Save and deployï¼Œæ­¤æ—¶workeråœ°å€è¿˜ä¸èƒ½ç›´æ¥ä»£æ›¿openaiçš„APIåœ°å€ï¼Œéœ€è¦è¿›ä¸€æ­¥ç»‘å®šå‰é¢çš„åŸŸåï¼ˆCLOUDFLARE Workersåªèƒ½ç»‘å®šæ‰˜ç®¡åˆ°CLOUDFLAREçš„åŸŸåï¼Œæ‰€ä»¥æœ‰äº†å‰é¢ä¸€æ­¥ï¼‰ã€‚ 4. ç»‘å®šåŸŸåç‚¹å‡»Workersè¿›å…¥ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»Triggersâ€”â€”Add Custom Domainï¼Œå°†å‰é¢æ‰˜ç®¡çš„åŸŸåå¡«è¿›å»ï¼Œå¯ä»¥ç”¨è‡ªå·±å–œæ¬¢çš„äºŒçº§åŸŸåï¼š å¤§çº¦è¿‡å‡ åˆ†é’Ÿï¼Œcustom domainsæ˜¾ç¤ºCertificate ä¸º Activateå³å¯ã€‚ è¿™ä¸ªæ—¶å€™å°±å¯ä»¥é€šè¿‡ä½ ç»‘å®šçš„åŸŸåæ¥è®¿é—®api.openai.comäº†ï¼Œå¯ä»¥é€šè¿‡å…¶ä»–POSTå·¥å…·è°ƒè¯•æ¥å£ï¼Œå°±ä¸å¤šè¯´äº†ã€‚ 5. ä¿®æ”¹openaiåº“å‰é¢åšçš„ä¸€ç³»åˆ—æ­¥éª¤æ˜¯è®©ä½ å¯ä»¥é€šè¿‡å…¶ä»–åŸŸåè®¿é—®openaiçš„APIç½‘ç«™ï¼Œä½†æ˜¯å‰é¢ç¬¬ä¸€æ­¥å†™çš„æ’ä»¶è°ƒç”¨äº†openai.Completion.create()æ–¹æ³•å‡½æ•°ï¼Œæ­¤æ—¶ä»ç„¶ä¼šç›´æ¥è®¿é—®api.openai.comï¼Œè¿™ä¸ªæ—¶å€™å°±æ˜¯æ‰’æºä»£ç ä¿®æ”¹äº†ã€‚ locate openaiå…ˆæ‰¾åˆ°æœåŠ¡å™¨ä¸Šopenaiä¸‹è½½çš„ä½ç½®ï¼Œåœ¨å¯¹åº”çš„è·¯å¾„ä¿®æ”¹ï¼Œæ¯”å¦‚æˆ‘çš„æ–‡ä»¶è·¯å¾„æ˜¯/root/anaconda3/lib/python3.9/site-packages/openaiï¼Œä¿®æ”¹è¯¥è·¯å¾„ä¸‹çš„__init__.pyæ–‡ä»¶ï¼š ç¬¬34è¡Œapi_baseåé¢çš„ç½‘å€æ”¹ä¸ºåˆšåˆšç»‘å®šçš„ç½‘å€ï¼ˆ&#x2F;v1çš„éƒ¨åˆ†ä¸è¦åŠ¨ï¼‰ã€‚ ä¸Šè¿°æ­¥éª¤å®Œæˆåï¼Œé‡å¯zhenxun_botå°±å¯ä»¥åœ¨ä¸å¯¹è‡ªå·±æœåŠ¡å™¨åšä»»ä½•ä»£ç†çš„æƒ…å†µä¸‹æ­£å¸¸è°ƒç”¨OpenAIçš„APIæ¥å£äº†ã€‚ é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œ2022å¹´12æœˆç”³è¯·çš„openAIè´¦å·æ¯ä¸ªè´¦æˆ·æœ‰18ç¾å…ƒçš„é¢åº¦ï¼Œç°åœ¨ï¼ˆ2023å¹´3æœˆï¼‰ç”³è¯·çš„è´¦å·å°±åªæœ‰5ç¾å…ƒé¢åº¦äº†ï¼Œemmmmmmmâ€¦ ä¸è¿‡ä¸Šé¢çš„é‚£ä¸ªæ’ä»¶ç”¨çš„æ˜¯text-davinci-003æ¨¡å‹ï¼Œå’ŒChatGPTç”¨çš„æ¨¡å‹ç¨æœ‰ä¸åŒï¼Œå°±åœ¨å‰å‡ å¤©ChatGPTå…¬å¼€äº†APIï¼Œæ‰€ä½¿ç”¨çš„æ¨¡å‹ä¸ºgpt-3.5-turboã€‚å¹¶ä¸”æˆ‘å‰é¢ç”¨çš„æ–¹æ³•æ˜¯Create completionï¼Œå’ŒChatGPTåˆ›å»ºå®ä¾‹çš„æ–¹æ³•Create chat completionæ˜¯ä¸åŒçš„ï¼Œä¸”æ”¶è´¹ä¹Ÿä¸ä¸€æ ·ï¼Œç°åœ¨ChatGPT APIæ”¶è´¹æ ‡å‡†æ˜¯0.002ç¾å…ƒ&#x2F;1000 tokensï¼Œtokenæ•°å’Œå­—æ•°æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¦çœ‹åˆ†è¯å™¨æ€ä¹ˆåˆ†ï¼Œä¸è¿‡ç°åœ¨APIè¾“å‡ºä¸Šé™å‡ä¸º4096 tokenã€‚æœ‰ç©ºå†æ›´æ–°ä¸€ä¸‹æ¨¡å‹æ–¹æ³•ï¼Œè¿™é‡Œåªæ˜¯åšä¸ªè®°å½•ã€‚ è¯¦ç»†çš„APIè°ƒç”¨æ–¹æ³•éœ€è¦å‚è€ƒå®˜ç½‘API Reference - OpenAI API","categories":[{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"},{"name":"QQæœºå™¨äºº","slug":"QQæœºå™¨äºº","permalink":"http://www.shelven.com/categories/QQ%E6%9C%BA%E5%99%A8%E4%BA%BA/"}],"tags":[{"name":"ChatGPT","slug":"ChatGPT","permalink":"http://www.shelven.com/tags/ChatGPT/"}]},{"title":"0åŸºç¡€å­¦ä¹ ä¸‰ä»£åŸºå› ç»„æµ‹åºç»„è£…ï¼ˆ9ï¼‰â€”â€”GATKæ£€æµ‹æ¤ç‰©åŸºå› ç»„SNPå’ŒINDELå˜å¼‚","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ9ï¼‰â€”â€”GATKæ£€æµ‹æ¤ç‰©åŸºå› ç»„SNPå’ŒINDELå˜å¼‚","date":"2023-03-07T09:53:32.000Z","updated":"2023-03-07T09:56:00.000Z","comments":true,"path":"2023/03/07/a.html","link":"","permalink":"http://www.shelven.com/2023/03/07/a.html","excerpt":"åŸºå› ç»„ç»„è£…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹åŸºå› ç»„è¿›è¡Œå˜å¼‚åˆ†æäº†ã€‚è¿™é‡Œä¸»è¦ä»‹ç»ç”± Broad Instituteå¼€å‘çš„ä¸€æ¬¾åŸºå› ç»„åˆ†æå·¥å…·GATKï¼Œè¿™æ¬¾å·¥å…·è®¾è®¡ä¹‹åˆæ˜¯ç”¨äºå¤„ç†åˆ†æIlluminaäºŒä»£æµ‹åºæŠ€æœ¯äº§ç”Ÿçš„äººç±»å…¨å¤–æ˜¾å­å’Œå…¨åŸºå› ç»„æ•°æ®ï¼Œç»è¿‡å¤šä¸ªç‰ˆæœ¬çš„ä¼˜åŒ–è¿­ä»£ï¼ŒGATKé›†åˆäº†å¤šç§é«˜é€šé‡æµ‹åºæ•°æ®å¤„ç†å’Œè´¨æ§çš„è½¯ä»¶ï¼Œå¦‚ä»ŠGATKå¯ä»¥è¯´æ˜¯å¯¹DNAå’ŒRNA-seqæ•°æ®æ£€æµ‹SNPå’ŒIndelçš„æ ‡å‡†ã€‚","text":"åŸºå› ç»„ç»„è£…å®Œæˆä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¯¹åŸºå› ç»„è¿›è¡Œå˜å¼‚åˆ†æäº†ã€‚è¿™é‡Œä¸»è¦ä»‹ç»ç”± Broad Instituteå¼€å‘çš„ä¸€æ¬¾åŸºå› ç»„åˆ†æå·¥å…·GATKï¼Œè¿™æ¬¾å·¥å…·è®¾è®¡ä¹‹åˆæ˜¯ç”¨äºå¤„ç†åˆ†æIlluminaäºŒä»£æµ‹åºæŠ€æœ¯äº§ç”Ÿçš„äººç±»å…¨å¤–æ˜¾å­å’Œå…¨åŸºå› ç»„æ•°æ®ï¼Œç»è¿‡å¤šä¸ªç‰ˆæœ¬çš„ä¼˜åŒ–è¿­ä»£ï¼ŒGATKé›†åˆäº†å¤šç§é«˜é€šé‡æµ‹åºæ•°æ®å¤„ç†å’Œè´¨æ§çš„è½¯ä»¶ï¼Œå¦‚ä»ŠGATKå¯ä»¥è¯´æ˜¯å¯¹DNAå’ŒRNA-seqæ•°æ®æ£€æµ‹SNPå’ŒIndelçš„æ ‡å‡†ã€‚ 1. GATKå®‰è£…GATKçš„è¿è¡Œä¾èµ–äºJAVAç¯å¢ƒï¼Œç›®å‰ï¼ˆ2023å¹´3æœˆ6æ—¥ï¼‰GATKæ›´æ–°åˆ°ç‰ˆæœ¬4.3.0ï¼Œå¯ä»¥ç›´æ¥ç”¨condaä¸‹è½½ã€‚ä¸ºäº†é¿å…ç¯å¢ƒå†²çªï¼Œæœ€å¥½åˆ›å»ºä¸€ä¸ªæ–°ç¯å¢ƒä¸“é—¨ç”¨äºGATKå’Œç›¸å…³å˜å¼‚æ£€æµ‹å·¥å…·è¿è¡Œã€‚ 12345conda create -n GATKconda install -c bioconda gatkconda install bwa-mem2conda install samtools bwa-mem2å’Œsamtoolsç”¨äºåŒç«¯åºåˆ—æ¯”å¯¹å›åŸºå› ç»„ï¼Œéœ€è¦å•ç‹¬ä¸‹è½½è¿™ä¸¤ä¸ªè½¯ä»¶ï¼Œåé¢å†è¯´ã€‚ å®‰è£…å®Œæˆä¹‹åå¯ä»¥é€šè¿‡gatk --helpæŸ¥çœ‹æ˜¯å¦æ­£å¸¸ã€‚ 2. æµç¨‹è¯¦è§£æµç¨‹å†…å®¹ä¸»è¦å‚è€ƒå®˜ç½‘Best Practices Workflowsçš„æ–‡ç« ã€‚ GATKå·¥å…·çš„å˜å¼‚æ³¨é‡Šä¸»è¦åŒ…æ‹¬3ä¸ªéƒ¨åˆ†ï¼šæ•°æ®é¢„å¤„ç†ï¼ˆData Pre-processingï¼‰ã€å˜å¼‚æ£€æµ‹ï¼ˆVariant Discoveryï¼‰å’Œå˜å¼‚ä¼˜åŒ–ï¼ˆCallset Refinementï¼‰ã€‚ ä»¥Germline short variant discovery (SNPs + Indels) ï¼Œå³èƒšç³»çŸ­å˜å¼‚çš„å‘ç°ä¸ºä¾‹ï¼Œå®˜ç½‘å¯¹å¤šä¸ªæ ·æœ¬ï¼ˆç¾¤ç»„æ•°æ®ï¼ŒCohort Dataï¼‰çš„å˜å¼‚æ£€æµ‹åˆ†ææµç¨‹å¦‚ä¸‹ï¼š å•ä¸ªæ ·æœ¬ï¼ˆSingle-Sample Dataï¼‰çš„å˜å¼‚æ£€æµ‹æ ‡å‡†æµç¨‹å¦‚ä¸‹ï¼š åˆ†ææµç¨‹åŸºæœ¬ç±»ä¼¼ï¼Œä»¥æˆ‘å‰é¢ç»„è£…çš„ä¸‰ä»£æ¤ç‰©åŸºå› ç»„ä¸ºä¾‹è·‘ä¸€ä¸‹è¿™ä¸¤ä¸ªæµç¨‹ï¼Œå¼ºè°ƒä¸€ä¸‹æˆ‘ç”¨çš„æ˜¯æ¤ç‰©åŸºå› ç»„ï¼Œåç»­æ— æ³•ç”¨Germlineçš„æ³¨é‡Šæ•°æ®èµ„æºå¯¹å˜å¼‚é›†è¿›è¡ŒåŠŸèƒ½æ³¨é‡Šï¼å› æ­¤è¿™é‡Œåªè·‘åˆ°å˜å¼‚é›†è¿‡æ»¤çš„æ­¥éª¤ï¼Œæ‹¿åˆ°SNPå’ŒINDELã€‚ 2.1 æ•°æ®é¢„å¤„ç† æ„å»ºå‚è€ƒåŸºå› ç»„ç´¢å¼•ï¼šç»„è£…çš„åŸºå› ç»„ä½œä¸ºreferenceå‚è€ƒåŸºå› ç»„ï¼Œé¦–å…ˆéœ€è¦å¯¹å‚è€ƒåŸºå› ç»„å»ºç«‹ç´¢å¼•ï¼Œæ–¹ä¾¿åç»­è¿›è¡Œæ¯”å¯¹å’Œå¯¹å‚è€ƒåŸºå› ç»„è¿›è¡ŒæŸ¥è¯¢ã€‚æ³¨æ„ä¸‰ä¸ªè½¯ä»¶çš„ç´¢å¼•æ–‡ä»¶ä¸åŒï¼Œæ¯ä¸ªè½¯ä»¶éƒ½å¿…é¡»å»ºç«‹ç´¢å¼•ã€‚ 1234567#!/bin/bashref=$1bwa-mem2 index $refsamtools faidx $refreferencename=`basename $ref | sed &quot;s/fasta/dict/&quot; ` # .fastaæ–‡ä»¶åç¼€æ”¹ä¸º.dictgatk CreateSequenceDictionary -R $ref -O $referencename fastaæ–‡ä»¶è½¬åŒ–uBAMæ–‡ä»¶ï¼Œæ ‡è®°adapter åºåˆ—ï¼šç»„è£…å¥½çš„åŸºå› ç»„æ ¼å¼æ˜¯fastaæ ¼å¼ï¼Œéœ€è¦è½¬æ¢æˆuBAMæ ¼å¼ï¼ˆumappedçš„BAMæ–‡ä»¶ï¼‰ï¼Œæ¥ç€æ ‡è®°illuminaäºŒä»£æµ‹åºçš„adapteråºåˆ—ã€‚æœ¬è´¨ä¸Šéƒ½æ˜¯è°ƒç”¨äº†Picardå·¥å…·ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨javaå†™è„šæœ¬ã€‚ 123456#!/bin/bashsampleName=$1gatk FastqToSam -F1 raw_fastq/$&#123;sampleName&#125;_1.fq.gz -F2 raw_fastq/$&#123;sampleName&#125;_2.fq.gz -RG $sampleName -SM $sampleName -O ubam/$&#123;sampleName&#125;.bamgatk MarkIlluminaAdapters -I ubam/$&#123;sampleName&#125;.bam -O markadapeters/$&#123;sampleName&#125;.markadapeters.bam -M markadapeters/$&#123;sampleName&#125;.metrics.txt æ ‡è®°åçš„åºåˆ—è½¬åŒ–æˆfastqæ ¼å¼ï¼Œå›æ¯”å‚è€ƒåŸºå› ç»„ï¼Œå¾—åˆ°å¹²å‡€çš„BAMæ–‡ä»¶ï¼šç¬¬äºŒå’Œç¬¬ä¸‰æ­¥æ¥è‡ªå®˜æ–¹çš„æ–‡ç« (How to) Map and clean up short read sequence data efficientlyï¼Œé€šè¿‡è”åˆSamToFastqã€BWA - MEMå’ŒMergeBamAlignmentä¸‰ä¸ªç¨‹åºï¼ŒèŠ‚çœæ¯”å¯¹æ—¶é—´ï¼Œç»•è¿‡å ç”¨ç©ºé—´è¿‡å¤§çš„SAMæ–‡ä»¶ï¼ŒMergeBamAlignmentå¯ä»¥å°†å·²æ’åºçš„SAMä¸­çš„å®šä¹‰ä¿¡æ¯ï¼ˆæˆ‘è¿™é‡Œå°†SAMæ–‡ä»¶è½¬æ¢æˆBAMæ–‡ä»¶ï¼‰ä¸uBAMä¸­çš„å®šä¹‰ä¿¡æ¯è¿›è¡Œåˆå¹¶ï¼Œå¾—åˆ°å¹²å‡€çš„BAMå¹¶è¿›è¡Œæ’åºå’Œæ„å»ºç´¢å¼•ã€‚ 123456789101112#!/bin/bashsampleName=$1threads=50ref=/public/home/wlxie/biosoft/GATK_file/gatk/ref/luobuma.fastagatk SamToFastq -I markadapeters/$&#123;sampleName&#125;.markadapeters.bam -F interleaved_fq/$&#123;sampleName&#125;_1.interleaved.fq.gz -F2 interleaved_fq/$&#123;sampleName&#125;_2.interleaved.fq.gz -CLIP_ATTR XT -CLIP_ACT 2bwa-mem2 mem -M -t $threads $ref interleaved_fq/$&#123;sampleName&#125;_1.interleaved.fq.gz interleaved_fq/$&#123;sampleName&#125;_2.interleaved.fq.gz | samtools view -Sb - &gt; raw_bam/$&#123;sampleName&#125;.bamgatk MergeBamAlignment -R $ref -UNMAPPED ubam/$&#123;sampleName&#125;.bam -O align_bam/$&#123;sampleName&#125;.bam -ALIGNED raw_bam/$&#123;sampleName&#125;.bam -MC true --CREATE_INDEX truerm -rf markadapeters/$&#123;sampleName&#125;.markadapeters.ba interleaved_fq/$&#123;sampleName&#125;_1.interleaved.fq.gz interleaved_fq/$&#123;sampleName&#125;_2.interleaved.fq.gz raw_bam/$&#123;sampleName&#125;.bam # åˆ é™¤ä¸­é—´æ–‡ä»¶ æ ‡è®°é‡å¤åºåˆ—ï¼šåšSNPåˆ†æå‰æœ€é‡è¦çš„ä¸€ç‚¹å°±æ˜¯æ ‡è®°é‡å¤åºåˆ—ï¼ˆmark duplicateï¼‰ï¼ŒäºŒä»£æµ‹åºæ˜¯åœ¨PCRæ‰©å¢çš„åŸºç¡€ä¸Šè¿›è¡Œçš„ï¼Œå› æ­¤PCRæ‰©å¢äº§ç”Ÿçš„å¤šæ‹·è´ä¼šç»“åˆåˆ°flowcellçš„ä¸åŒä½ç½®ï¼Œç”Ÿæˆå®Œå…¨ç›¸åŒçš„æµ‹åºclusterï¼Œæœ€åå¾—åˆ°é‡å¤åºåˆ—ã€‚è¿™ä¸€æ­¥å°±æ˜¯æ ‡è®°è¿™äº›é‡å¤åºåˆ—ï¼ˆä½†æ˜¯æ²¡æœ‰åˆ é™¤ï¼Œå¯¹ç»“æœåº”è¯¥ä¸å½±å“ï¼‰ï¼Œæœ€åå¾—åˆ°ä¸€ä¸ªmetricsæ–‡ä»¶ï¼ˆduplicateçš„ç»Ÿè®¡ä¿¡æ¯ï¼‰å’Œä¸€ä¸ªbamæ–‡ä»¶ï¼ˆduplicateçš„è¯¦ç»†ä¿¡æ¯ï¼Œæ³¨æ„è¦åˆ›å»ºç´¢å¼•ï¼‰ã€‚ 123456#!/bin/bashsampleName=$1gatk MarkDuplicates -I align_bam/$&#123;sampleName&#125;.bam -O markdup/$&#123;sampleName&#125;.markdup.bam -M markdup/$&#123;sampleName&#125;.markdup_metrics.txt --CREATE_INDEX truerm -rf align_bam/$&#123;sampleName&#125;.bam # åˆ é™¤ä¸­é—´æ–‡ä»¶ æœ€ç»ˆç”Ÿæˆçš„bamæ–‡ä»¶è¿›è¡Œä¸‹ä¸€æ­¥å˜å¼‚æ£€æµ‹ï¼Œå¯ä»¥ç”¨samtools -view æŸ¥çœ‹bamæ–‡ä»¶çš„å†…å®¹ï¼ˆä¹Ÿæ²¡å•¥å¥½çœ‹çš„ï¼Œæ„Ÿå…´è¶£å¯ä»¥çœ‹çœ‹ä¹‹å‰åšå®¢å†™çš„samæ–‡ä»¶æ ¼å¼è§£è¯»ï¼‰ã€‚ æ³¨æ„ï¼šå®˜ç½‘çš„æ•°æ®é¢„å¤„ç†åç»­è¿˜æœ‰ä¸€æ­¥ç¢±åŸºè´¨é‡é‡æ ¡æ­£BQSRï¼ˆBase Quality Scores Recallbrateï¼‰ï¼Œå®˜æ–¹æä¾›äº†ä¸¤ä¸ªå·¥å…·BaseRecalibratorå’ŒApplyBQSRã€‚ç¬¬ä¸€ä¸ªå·¥å…·è®¡ç®—éœ€è¦æ ¡æ­£çš„readså’Œç‰¹å¾å€¼ï¼Œè¾“å‡ºæ ¡å‡†è¡¨æ–‡ä»¶ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸ªå·¥å…·éœ€è¦ä¸€ä¸ªæˆ–è€…å¤šä¸ªå·²çŸ¥ä¸”å¯é çš„ç‰©ç§å˜å¼‚ä½ç‚¹æ•°æ®åº“ï¼Œæ¯”å¦‚äººç±»å°±æœ‰åƒäººåŸºå› ç»„è®¡åˆ’çš„å„ç§å˜å¼‚ä½ç‚¹æ•°æ®åº“ï¼Œ1000G_omni2.5.hg38.vcf.gzã€dbsnp_146.hg38.vcf.gzç­‰ç­‰ï¼›ç¬¬äºŒä¸ªå·¥å…·æ ¹æ®ç¬¬ä¸€ä¸ªå·¥å…·ç”Ÿæˆæ ¡å‡†è¡¨ï¼Œé‡æ–°è°ƒæ•´åŸæ¥BAMæ–‡ä»¶ä¸­çš„ç¢±åŸºè´¨é‡å€¼ï¼Œé‡æ–°è¾“å‡ºåˆ°ä¸€ä¸ªæ–°çš„BAMæ–‡ä»¶ä¸­ã€‚ å› ä¸ºæˆ‘è¿™ä¸ªæ¤ç‰©æ²¡æœ‰å·²çŸ¥çš„å¯é å˜å¼‚ä½ç‚¹æ•°æ®ï¼Œå› æ­¤ä¸ç”¨åšæœ€åè¿™ä¸€æ­¥ã€‚ æœ¬éƒ¨åˆ†ç¨‹åºéœ€è¦è¿è¡Œ10å°æ—¶ã€‚ 2.2 å˜å¼‚æ£€æµ‹å› ä¸ºæˆ‘åªæœ‰ä¸€ä¸ªæ ·æœ¬ï¼Œæ‰€ä»¥å¯ä»¥æŒ‰ç…§å•ä¸ªæ ·æœ¬ï¼ˆSingle-Sample Dataï¼‰çš„æ ‡å‡†æµç¨‹æ¥åšï¼Œä¹Ÿå¯ä»¥æŒ‰ç…§å¤šæ ·æœ¬ï¼ˆCohort Dataï¼‰çš„æµç¨‹åšã€‚è¯¥éƒ¨åˆ†ä¸»è¦ç”¨åˆ°çš„å·¥å…·æ˜¯HaplotypeCallerï¼Œä¸¤ä¸ªæµç¨‹åªæ˜¯å¯¹HaplotypeCallerå·¥å…·äº§ç”Ÿçš„ç»“æœåšäº†ä¸åŒçš„å¤„ç†ï¼Œæœ€åéƒ½æ˜¯å¾—åˆ°åŒ…å«SNPå’ŒIndelçš„VCFæ–‡ä»¶ã€‚æˆ‘ä¹Ÿå°†åˆ†åˆ«è·‘ä¸¤ä¸ªæµç¨‹æ¥å¯¹æ¯”ä¸‹å·®å¼‚ã€‚ é¦–å…ˆè¦æ˜ç™½HaplotypeCallerè¿™ä¸ªå·¥å…·å…·ä½“åšäº†ä»€ä¹ˆï¼Œæ˜¯æ€ä¹ˆæ‰¾å‡ºå•ç¢±åŸºå˜å¼‚çš„ï¼š 1.å®šä¹‰æ´»è·ƒåŒºåŸŸï¼ˆDefine active regionsï¼‰ï¼šæ ¹æ®æ˜¯å¦å­˜åœ¨å˜å¼‚æ¥ç¡®å®šéœ€è¦æ“ä½œçš„åŸºå› ç»„çš„æ´»è·ƒåŒºåŸŸã€‚ 2.é€šè¿‡ç»„è£…æ´»è·ƒåŒºåŸŸç¡®å®šå•å€å‹ï¼ˆDetermine haplotypes by assembly of the active regionï¼‰ï¼šå¯¹äºæ¯ä¸ªæ´»è·ƒåŒºåŸŸï¼Œæ„å»ºä¸€ä¸ªç±»ä¼¼De Bruijnå›¾æ¥é‡æ–°ç»„è£…æ´»æ€§åŒºåŸŸï¼Œè¯†åˆ«å¯èƒ½çš„å•å€å‹ï¼Œç„¶åç”¨Smith-Watermanç®—æ³•å°†æ¯ä¸ªå•å€å‹ä¸å‚è€ƒåŸºå› ç»„å•å€å‹é‡æ–°æ¯”å¯¹ï¼Œå‘ç°æ½œåœ¨çš„å˜å¼‚ä½ç‚¹ã€‚ 3.ç¡®å®šreadå•å€å‹ä¼¼ç„¶å€¼ï¼ˆDetermine likelihoods of the haplotypes given the read dataï¼‰ï¼šå¯¹æ¯ä¸ªæ´»è·ƒåŒºåŸŸä½¿ç”¨PairHMMç®—æ³•å¯¹æ¯ä¸ªreadä¸æ¯ä¸ªå•å€å‹è¿›è¡Œä¸¤ä¸¤æ¯”å¯¹ï¼Œç”Ÿæˆå•å€å‹ä¼¼ç„¶çŸ©é˜µï¼Œå°†ä¼¼ç„¶å€¼è¾¹ç¼˜åŒ–ï¼Œä»¥è·å¾—æ¯ä¸ªæ½œåœ¨å˜å¼‚ä½ç‚¹çš„ç­‰ä½åŸºå› çš„å¯èƒ½æ€§ã€‚ 4.æŒ‡å®šæ ·æœ¬åŸºå› å‹ï¼ˆAssign sample genotypesï¼‰ï¼šå¯¹æ¯ä¸ªæ½œåœ¨çš„å˜å¼‚ä½ç‚¹ä½¿ç”¨è´å¶æ–¯ç®—æ³•ï¼Œè½¬åŒ–æ¯ä¸ªä½ç‚¹çš„åŸºå› å‹çš„ä¼¼ç„¶å€¼ã€‚ç„¶åå°†æœ€å¯èƒ½çš„åŸºå› å‹æŒ‡å®šä¸ºæ ·æœ¬åŸºå› å‹ã€‚ ä»¥ä¸Šæµç¨‹ç¿»è¯‘è‡ªHaplotypeCaller â€“ GATK (broadinstitute.org)ï¼Œè¿™ä¸ªå·¥å…·å¯ç”¨å‚æ•°éå¸¸ä¹‹å¤šï¼Œä¸‹é¢è·‘çš„æµç¨‹å°±å±•ç¤ºä¸€äº›å¸¸ç”¨çš„ã€‚ 2.2.1 å¤šæ ·æœ¬çš„SNPå’ŒINDELæ£€æµ‹ ä½¿ç”¨HaplotypeCallerçš„GVCFæ¨¡å¼ï¼Œæ‰¾åˆ°æ¯ä¸ªæ ·æœ¬SNPå’ŒINDELå˜å¼‚ã€‚åœ¨GVCFæ¨¡å¼ä¸‹ï¼Œæ¯ä¸ªæ ·æœ¬çš„ç»“æœæ–‡ä»¶ä»¥gvcfï¼ˆgenomic vcfï¼‰æ ¼å¼æ–‡ä»¶å‘ˆç°ï¼Œå®é™…ä¸Šgvcfæ ¼å¼å’Œvcfæ ¼å¼ç±»ä¼¼ï¼Œgvcfè®°å½•æ‰€æœ‰ä½ç‚¹çš„çªå˜æƒ…å†µï¼Œå¹¶ä¸”æä¾›è¿™äº›ä½ç‚¹æ˜¯å¦æ˜¯çº¯å’Œçš„ç½®ä¿¡åº¦ï¼Œä¸»è¦è¿˜æ˜¯æ–¹ä¾¿å°†æ‰€æœ‰æ ·æœ¬çš„gvcfè”åˆèµ·æ¥æ–¹ä¾¿åˆ†æã€‚ 123456#!/bin/bashsampleName=$1threads=50ref=/public/home/wlxie/biosoft/GATK_file/gatk/ref/luobuma.fastagatk HaplotypeCaller -R $ref --native-pair-hmm-threads $&#123;threads&#125; --emit-ref-confidence GVCF -I ../../pre_processing/markdup/$&#123;sampleName&#125;.markdup.bam -O $&#123;sampleName&#125;.g.vcf.gz è¿™ä¸€æ­¥æ˜¯æ•´ä¸ªSNPå’ŒIDELæ£€æµ‹ä¸­è¿è¡Œæ—¶é—´æœ€é•¿ï¼Œéœ€è¦ç®—åŠ›æœ€å¤šçš„ä¸€æ­¥ï¼ˆä¸»è¦æ˜¯Pair-HMMç®—æ³•èŠ±æ—¶é—´ï¼‰ï¼ŒPair-HMMç®—æ³•åœ¨æœ¬åœ°è°ƒç”¨çš„çº¿ç¨‹æ•°æ˜¯å¯ä»¥æ›´æ”¹çš„ï¼Œå®˜æ–¹æ˜¯ç»™å®šé»˜è®¤å€¼ä¸º4ã€‚GATK4.0ç‰ˆæœ¬å¼€å§‹æ”¾å¼ƒäº†å¤šçº¿ç¨‹ä»»åŠ¡ï¼Œè¿™ä¸ªå‚æ•°å¯èƒ½æ˜¯æ›´æ–°åé—æ¼çš„ï¼Œå› ä¸ºæˆ‘è¿™é‡Œç”¨çš„50çº¿ç¨‹å’Œé»˜è®¤çš„4çº¿ç¨‹è·‘å‡ ä¹æ²¡æœ‰åŒºåˆ«ï¼Œéƒ½æ˜¯åœ¨28å°æ—¶å·¦å³å®Œæˆï¼Œæ­¤å¤„å‚æ•°å­˜ç–‘ã€‚ å»ºåº“åˆå¹¶æ‰€æœ‰æ ·æœ¬çš„GVCFæ–‡ä»¶ï¼ˆå•æ ·æœ¬ä¸ç”¨åšè¿™æ­¥ï¼‰ï¼Œå¹¶å°†GVCFæ–‡ä»¶è½¬åŒ–ä¸ºVCFæ–‡ä»¶ã€‚å¯¹äºå¤šæ ·æœ¬çš„GVCFåˆå¹¶ï¼Œç°åœ¨å®˜æ–¹å»ºè®®ç”¨GenomicsDBImportè¿™ä¸ªå·¥å…·è¿›è¡Œå»ºåº“åˆå¹¶ï¼Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚ 12345678#!/bin/bashsampleName=$1threads=50ref=/public/home/wlxie/biosoft/GATK_file/gatk/ref/luobuma.fasta# gatk GenomicsDBImport $(for file in `ls *.g.vcf.gz`; do echo &quot;-V $file&quot;; done) --genomicsdb-workspace-path database -L chr01 # å•æ ·æœ¬ä¸ç”¨åšè¿™æ­¥ï¼Œå› ä¸ºå°±ä¸€ä¸ªGVCFã€‚å¤šæ ·æœ¬æ³¨æ„-Lå‚æ•°æ˜¯å»ºåº“å¿…é¡»çš„,æ ¹æ®fastaå‚è€ƒåŸºå› ç»„çš„æŸ“è‰²ä½“åç§°å‘½åï¼Œæ‹†åˆ†gatk GenotypeGVCFs -R $ref -V $&#123;sampleName&#125;.g.vcf.gz -O raw_variants.vcf.gz # å¤šæ ·æœ¬ä½¿ç”¨å‚æ•°-V gendb://database ä¹Ÿå°±æ˜¯ä¸Šä¸€æ­¥å»ºçš„æ•°æ®åº“åï¼Œå•æ ·æœ¬ç›´æ¥ç”¨gvcfæ–‡ä»¶ å¯ä»¥çœ‹çœ‹æœ€åç”Ÿæˆçš„VCFæ–‡ä»¶ï¼š æ–‡ä»¶è§£è¯»æ”¾åœ¨æœ€åè¿‡æ»¤å’Œæ‹†åˆ†SNPå’ŒINDELçš„æ—¶å€™å†è¯´ï¼Œè¿™é‡Œæ˜¯åˆæ­¥å¾—åˆ°å˜å¼‚ä¿¡æ¯ï¼Œéœ€è¦ç»è¿‡è¿‡æ»¤å’Œç­›é€‰ã€‚ æœ¬éƒ¨åˆ†ç¨‹åºéœ€è¦è¿è¡Œ28å°æ—¶ã€‚ 2.2.2 å•ä¸ªæ ·æœ¬çš„SNPå’ŒINDELæ£€æµ‹ä½¿ç”¨HaplotypeCalleré»˜è®¤çš„single-sampleæ¨¡å¼ï¼Œç›´æ¥ç”Ÿæˆç»Ÿè®¡SNPå’ŒINDELå˜å¼‚çš„VCFæ–‡ä»¶ã€‚ 123456#!/bin/bashsampleName=$1threads=50ref=/public/home/wlxie/biosoft/GATK_file/gatk/ref/baima.fastagatk HaplotypeCaller -R $ref --native-pair-hmm-threads $&#123;threads&#125; -I ../../pre_processing/markdup/$&#123;sampleName&#125;.markdup.bam -O $&#123;sampleName&#125;.vcf.gz åŒä¸Šä¸€ä¸ªæ­¥éª¤ï¼Œæ­¤å¤„å‚æ•°--native-pair-hmm-threadså¯¹è¿ç®—é€Ÿåº¦çš„æå‡å­˜ç–‘ï¼Œæœ€ååŒæ ·æ˜¯ç”ŸæˆVCFæ–‡ä»¶ï¼Œè¿è¡Œæ—¶é—´åŒæ ·ä¸º28å°æ—¶ã€‚ 2.3 å˜å¼‚è¿‡æ»¤ï¼ˆä¼˜åŒ–ï¼‰å˜å¼‚é›†è¿‡æ»¤æ–¹æ³•ä¸»è¦æœ‰ä¸¤ç§ï¼š 1.è½¯è¿‡æ»¤ï¼šåŸºäºæœºå™¨å­¦ä¹ çš„æ–¹æ³•ï¼Œå¯¹åŸå§‹vcfæ–‡ä»¶è¿›è¡Œå˜å¼‚è´¨é‡é‡çŸ«æ­£å’Œè¿‡æ»¤ã€‚æ¯”å¦‚æœ‰åŸºäºå·ç§¯ç¥ç»ç½‘ç»œCNNçš„CNNVariantTrainï¼ˆæœ‰é¢„è®­ç»ƒçš„æ¨¡å‹1Då’Œ2Dï¼‰ï¼ŒVariantRecalibratorã€ApplyVQSRç­‰å¯ä»¥ç”¨å·²çŸ¥çš„äººç±»å˜å¼‚æ•°æ®é›†ä½œä¸ºè®­ç»ƒé›†ï¼Œæ£€æµ‹å¾—åˆ°çš„SNPå’ŒINDELçš„å‡†ç¡®æ€§ï¼ˆå®˜æ–¹æ¨èç”¨äºäººç±»å˜å¼‚è¿‡æ»¤çš„æ–¹æ³•ï¼ŒVariant Quality Score Recalibrationï¼ŒVQSRï¼‰ã€‚ç¼ºç‚¹æ˜¾è€Œæ˜“è§ï¼Œéœ€è¦å·²çŸ¥çš„çœŸå®å˜å¼‚æ•°æ®é›†ï¼Œé™¤äººç±»ä»¥å¤–å¤§å¤šæ•°ç”Ÿç‰©éƒ½æ²¡æœ‰è¿™æ–¹é¢çš„æ•°æ®é›†ã€‚å¦‚æœæ˜¯ç ”ç©¶äººç±»åŸºå› ç»„çš„è¯ï¼Œå¯ä»¥ä»GATKå®˜ç½‘èµ„æºå¤„ä¸‹è½½ã€‚ 2.ç¡¬è¿‡æ»¤ï¼šé€šè¿‡å¯¹6ä¸ªæŒ‡æ ‡çš„ç¡¬æ€§é˜ˆå€¼ç­›é€‰è´¨é‡åˆæ ¼çš„SNPå’ŒINDELã€‚ è®°å½•ä¸‹ç¡¬è¿‡æ»¤çš„6ä¸ªæŒ‡æ ‡ï¼Œæœ‰äº›è¯´æ˜çœ‹ä¸æ‡‚å¹²è„†éƒ½æ”¾è‹±æ–‡äº†ï¼Œå‚è€ƒè‡ªå®˜ç½‘Hard-filtering germline short variantsï¼š ï¼ˆ1ï¼‰QualByDepth (QD)ï¼šThis is the variant confidence (from the QUAL field) divided by the unfiltered depth of non-hom-ref samples. å˜å¼‚ç½®ä¿¡åº¦ï¼Œå®˜æ–¹å»ºè®®è¿‡æ»¤è¯¥å€¼å°äº2çš„å˜å¼‚ã€‚ ï¼ˆ2ï¼‰FisherStrand (FS)ï¼šThis is the Phred-scaled probability that there is strand bias at the site. ï¼ˆ3ï¼‰StrandOddsRatio (SOR)ï¼šThis is another way to estimate strand bias using a test similar to the symmetric odds ratio test. ï¼ˆ4ï¼‰RMSMappingQuality (MQ)ï¼šThis is the root mean square mapping quality over all the reads at the site.æ¯”å¯¹readsè´¨é‡çš„å¹³æ–¹æ ¹ã€‚ ï¼ˆ5ï¼‰MappingQualityRankSumTest (MQRankSum)ï¼šThis is the u-based z-approximation from the Rank Sum Test for mapping qualities. ï¼ˆ6ï¼‰ReadPosRankSumTest (ReadPosRankSum)ï¼šThis is the u-based z-approximation from the Rank Sum Test for site position within reads. çœ‹ä¸æ‡‚æ²¡å…³ç³»ï¼Œå®˜æ–¹ç»™å‡ºäº†6ä¸ªç¡¬è¿‡æ»¤æŒ‡æ ‡åœ¨SNPå’ŒINDELä¸­çš„é˜ˆå€¼è®¾ç½®ï¼Œè¯¦æƒ…å¯ä»¥çœ‹Hard-filtering germline short variants â€“ GATK (broadinstitute.org)ã€‚ä»¥ä¸‹ä¾‹å­å‡ä»¥å®˜æ–¹çš„ç¡¬è¿‡æ»¤æŒ‡æ ‡ä¸ºå‡†ï¼Œæ„Ÿå…´è¶£å¯ä»¥å»å®˜ç½‘çœ‹å„ä¸ªå‚æ•°çš„ä½œç”¨æˆ–è€…è‡ªå·±å¾®è°ƒã€‚ SelectVariantså·¥å…·ç”¨äºä»vcfæ–‡ä»¶ä¸­æå–SNPå’ŒINDELä¿¡æ¯ï¼ŒVariantFiltrationå·¥å…·ç”¨äºç¡¬è¿‡æ»¤ç­›é€‰ï¼š 123456789101112131415161718#!/bin/bashsampleName=$1threads=50VARIANTS=/public/home/wlxie/biosoft/GATK_file/gatk/variants_discover/luobuma/raw_variants.vcf.gz# SNPç­›é€‰ã€è¿‡æ»¤å’Œæå–gatk SelectVariants -select-type SNP -V $VARIANTS --restrict-alleles-to BIALLELIC -O $&#123;sampleName&#125;_SNP.vcf.gz # BIALLELIC é™åˆ¶åŒç­‰ä½åŸºå› ï¼Œä¸è€ƒè™‘å…¶ä»–ç­‰ä½å¤šæ€æ€§gatk VariantFiltration -V $&#123;sampleName&#125;_SNP.vcf.gz --filter-expression &quot;QD &lt; 2.0 || MQ &lt; 40.0 || FS &gt; 60.0 || SOR &gt; 3.0 || MQRankSum &lt; -12.5 || ReadPosRankSum &lt; -8.0&quot; --filter-name &quot;Filter&quot; -O $&#123;sampleName&#125;_SNP.filter.vcf.gzgatk SelectVariants -V $&#123;sampleName&#125;_SNP.filter.vcf.gz --exclude-filtered true -O final.$&#123;sampleName&#125;_SNP.vcf.gz # åªæ˜¾ç¤ºé€šè¿‡è¿‡æ»¤çš„å˜å¼‚ï¼ˆpassï¼‰rm -rf $&#123;sampleName&#125;_SNP.vcf.gz*rm -rf $&#123;sampleName&#125;_SNP.filter.vcf.gz*# INDELç­›é€‰ã€è¿‡æ»¤å’Œæå–gatk SelectVariants -select-type INDEL -V $VARIANTS --restrict-alleles-to BIALLELIC -O $&#123;sampleName&#125;_INDEL.vcf.gz # BIALLELIC é™åˆ¶åŒç­‰ä½åŸºå› ï¼Œä¸è€ƒè™‘å…¶ä»–ç­‰ä½å¤šæ€æ€§gatk VariantFiltration -V $&#123;sampleName&#125;_INDEL.vcf.gz --filter-expression &quot;QD &lt; 2.0 || FS &gt; 200.0 || SOR &gt; 10.0 || MQRankSum &lt; -12.5 || ReadPosRankSum &lt; -8.0&quot; --filter-name &quot;Filter&quot; -O $&#123;sampleName&#125;_INDEL.filter.vcf.gzgatk SelectVariants -V $&#123;sampleName&#125;_INDEL.filter.vcf.gz --exclude-filtered true -O final.$&#123;sampleName&#125;_INDEL.vcf.gz # åªæ˜¾ç¤ºé€šè¿‡è¿‡æ»¤çš„å˜å¼‚ï¼ˆpassï¼‰rm -rf $&#123;sampleName&#125;_INDEL.vcf.gz*rm -rf $&#123;sampleName&#125;_INDEL.filter.vcf.gz* å¾—åˆ°çš„final.sampleName_SNP.vcf.gzå’Œfinal.sampleName_INDEL.vcf.gzä¸ºæœ€ç»ˆçš„å˜å¼‚é›†ç»“æœæ–‡ä»¶ã€‚ 3. ç»“æœæ–‡ä»¶è§£è¯»å› ä¸ºç»“æœæ–‡ä»¶æ—¶ä¸€ä¸ªå‹ç¼©è¿‡åçš„vcfæ–‡ä»¶ï¼Œä¸”vcfæ–‡ä»¶ä¸­å‰é¢å¸¦#éƒ¨åˆ†çš„æ³¨é‡Šå†…å®¹æ˜¯ç”¨ä¸åˆ°çš„ï¼Œåé¢æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªå˜å¼‚ä½ç‚¹ä¿¡æ¯ï¼Œå› æ­¤å¯ä»¥ç›´ç›´æ¥ç»Ÿè®¡è¡Œæ•°æ¥å¾—åˆ°æœ€ç»ˆçš„SNPå’ŒINDELçš„æ•°é‡ã€‚ 1zcat final.luobuma_SNP.vcf.gz | grep -v -P &quot;^#&quot; -c ç”¨2.2.1å¤šæ ·æœ¬æµç¨‹çš„SNPå’ŒINDELç»“æœæ–‡ä»¶ä¸ºfinal.luobuma_SNP.vcf.gzå’Œfinal.luobuma_INDEL.vcf.gzï¼›ç”¨2.2.2å•ä¸ªæ ·æœ¬æµç¨‹çš„SNPå’ŒINDELç»“æœä¸ºfinal.luobuma_sm_SNP.vcf.gzå’Œfinal.luobuma_sm_INDEL.vcf.gzã€‚å¯ä»¥çœ‹åˆ°ä¸¤è€…åœ¨ç»Ÿè®¡SNPå’ŒINDELæ•°é‡ä¸Šçš„å·®è·éå¸¸å°ï¼Œè¯´æ˜è¿™ä¸¤ä¸ªæµç¨‹å¯¹å•æ ·æœ¬æ¥è¯´éƒ½æ˜¯å¯ä»¥ç”¨çš„ã€‚ ä»¥final.luobuma_SNP.vcf.gzæ–‡ä»¶è¿›è¡Œè§£è¯»ï¼Œé€šè¿‡less -Så‘½ä»¤ä¸€è¡Œä¸€æ¡ä¿¡æ¯æŸ¥çœ‹æ–‡ä»¶å†…å®¹ï¼š æ¯åˆ—ä¿¡æ¯å¦‚ä¸‹ï¼š 1.CHROMï¼šæŸ“è‰²ä½“ä¿¡æ¯ 2.POSï¼šå˜å¼‚æ‰€åœ¨å‚è€ƒåŸºå› ç»„çš„ä½ç½® 3.IDï¼šå˜å¼‚çš„IDï¼Œå¦‚æœæœ‰å‚è€ƒå˜å¼‚é›†ï¼Œä¼šç»™å‡ºidï¼Œå¦åˆ™ä¸º.è¡¨ç¤ºæ–°å‘ç°çš„å˜å¼‚ 4.REFï¼šå˜å¼‚åœ¨å‚è€ƒåŸºå› ç»„ä¸Šçš„ä¿¡æ¯ï¼Œå¿…é¡»ä¸ºATCGNäº”ä¸ªä¹‹ä¸€ 5.ALTï¼šçªå˜ä¹‹åçš„æƒ…å†µï¼Œç±»å‹åŒä¸Šï¼Œ.è¡¨ç¤ºç¼ºå¤± 6.QUALï¼šçªå˜åçš„è´¨é‡å€¼ï¼Œè´¨é‡å€¼è¶Šé«˜è¶Šå¯é ï¼Œé€šå¸¸åªç”¨passçš„æ•°æ® 7.FILTERï¼šæ˜¯å¦é€šè¿‡è¿‡æ»¤ 8.INFOï¼šæ¯ä¸ªä½ç‚¹çš„è¯¦ç»†ä¿¡æ¯ï¼ˆåŒ…æ‹¬ç¡¬è¿‡æ»¤çš„æŒ‡æ ‡ï¼Œè¯¦ç»†å¯ä»¥åˆ°headeré‡Œæ‰¾ï¼‰ 9.FORMATï¼šæ ¼å¼ 10.æ ·æœ¬åï¼ˆå®é™…æ˜¯å‰é¢æ ¼å¼çš„å…·ä½“å€¼ï¼‰ ä¸»è¦è§£é‡Šä¸€ä¸‹ç¬¬ä¹åˆ—å’Œç¬¬ååˆ—ï¼Œå°±æ˜¯ä¸Šå›¾ä¸­çº¢è‰²æ¡†æ¡†èµ·æ¥çš„éƒ¨åˆ†ï¼Œä¸¤åˆ—å€¼æ˜¯ç”¨å†’å·åˆ†éš”ä¸”ä¸€ä¸€å¯¹åº”çš„ï¼Œéœ€è¦æ³¨æ„çš„å€¼æ˜¯GTï¼š GTï¼š0è¡¨ç¤ºå’Œå‚è€ƒåºåˆ—ä¸€è‡´ï¼ˆREF alleleï¼‰ï¼Œ1è¡¨ç¤ºå’Œæ ·æœ¬åºåˆ—ä¸€è‡´ï¼ˆALT alleleï¼‰ï¼ŒåŒç­‰ä½åŸºå› åªæœ‰0å’Œ1ï¼Œ0&#x2F;1å’Œ0|1è¡¨ç¤ºæ‚åˆï¼Œ1&#x2F;1å’Œ1|1è¡¨ç¤ºçº¯å’Œã€‚â€œ|â€å’Œâ€œ&#x2F;â€åŒºåˆ«æ˜¯å‰è€…æ˜¯phased genotypeï¼Œå°±æ˜¯çŸ¥é“REF&#x2F;ALT alleleæ˜¯æ¥è‡ªäºçˆ¶æœ¬è¿˜æ˜¯æ¯æœ¬ï¼Œåœ¨è¿™é‡Œå¯¹æˆ‘è¿™ä¸ªæ¤ç‰©åŸºå› ç»„æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œå…¨éƒ½ç»Ÿè®¡è¿›æ‚åˆå’Œçº¯å’ŒSNPä¸ªæ•°å°±è¡Œã€‚ ADï¼šREFå’ŒALT alleleçš„è¦†ç›–åº¦ï¼Œåœ¨äºŒå€ä½“æ˜¯æ˜¯ç”¨é€—å·åˆ†å‰²çš„ä¸¤ä¸ªå€¼è¡¨ç¤ºï¼Œå‰ä¸€ä¸ªä»£è¡¨å‚è€ƒåŸºå› ç»„çš„åŸºå› å‹ï¼Œåè€…ä»£è¡¨æ ·æœ¬åŸºå› å‹ã€‚ DPï¼šæ ·æœ¬ä¸­è¯¥ä½ç‚¹è¦†ç›–åº¦ï¼ŒADä¸¤ä¸ªæ•°å­—çš„å’Œã€‚ 3.1 æ‚åˆç‡ç»Ÿè®¡åˆ†åˆ«ç»Ÿè®¡SNPå’ŒINDELæ–‡ä»¶ä¸­æ‚åˆå•ç¢±åŸºå˜å¼‚çš„ä¸ªæ•°ï¼š 1234zcat final.luobuma_SNP.vcf.gz | grep -c &quot;0/1&quot;zcat final.luobuma_SNP.vcf.gz | grep -c &quot;0|1&quot;zcat final.luobuma_INDEL.vcf.gz | grep -c &quot;0/1&quot;zcat final.luobuma_INDEL.vcf.gz | grep -c &quot;0|1&quot; æ‚åˆç‡ &#x3D; (æ‚åˆSNPæ•° + æ‚åˆINDELæ•°) &#x2F; åŸºå› ç»„å¤§å° æ‚åˆSNPæ•°(Hetero SNP) æ‚åˆINDELæ•°(Hetero Indel) åŸºå› ç»„å¤§å°(bp) æ‚åˆç‡ 1,233,471 287,207 230,888,863 0.66% æ­¤å¤„è®¡ç®—çš„æ‚åˆç‡å¯ä»¥å’Œå‰é¢åšçš„åŸºå› ç»„Surveyåšä¸ªæ¯”è¾ƒï¼Œè¯´æ˜åŸºå› ç»„Surveyçš„å¯é æ€§ã€‚ 3.2 å•ç¢±åŸºå‡†ç¡®åº¦è®¡ç®—æˆ‘ä»¬çŸ¥é“æµ‹åºè¿‡ç¨‹ä¸­ä¸å¯é¿å…åœ°å­˜åœ¨é”™è¯¯ï¼Œä¸‰ä»£æµ‹åºæ•°æ®å•ç¢±åŸºå˜å¼‚çš„æ¥æºï¼ŒåŒ…æ‹¬çœŸå®çš„å•ç¢±åŸºå˜å¼‚å’Œæµ‹åºé”™è¯¯å¯¼è‡´çš„å•ç¢±åŸºå˜å¼‚ã€‚å½“æµ‹åºé”™è¯¯å¯¼è‡´çš„å•ç¢±åŸºå˜å¼‚å­˜åœ¨äºå‚è€ƒåŸºå› ç»„ä¸Šæ—¶ï¼Œåˆ©ç”¨äºŒä»£æµ‹åºæ•°æ®è¿›è¡Œå•ç¢±åŸºå˜å¼‚çš„æ£€æµ‹æ—¶ï¼Œä¼šå°†å…¶è¯†åˆ«ä¸ºçº¯åˆå•ç¢±åŸºå˜å¼‚ã€‚å› æ­¤ï¼Œå¯ä»¥å°†ä¸‰ä»£æ•°æ®ç»„è£…çš„æœ€ç»ˆç‰ˆåŸºå› ç»„ä½œä¸ºå‚è€ƒåŸºå› ç»„ï¼Œåˆ©ç”¨äºŒä»£æ•°æ®å°†çº¯åˆå­å•ç¢±åŸºå˜å¼‚ç‡ä½œä¸ºç»„è£…ç»“æœçš„é”™è¯¯ç‡ï¼Œå³: ç»„è£…ç»“æœçš„å‡†ç¡®ç‡ &#x3D; 1 - çº¯åˆå­å•ç¢±åŸºå˜å¼‚ç‡ 1234zcat final.luobuma_SNP.vcf.gz | grep -c &quot;1/1&quot;zcat final.luobuma_SNP.vcf.gz | grep -c &quot;1|1&quot;zcat final.luobuma_INDEL.vcf.gz | grep -c &quot;1/1&quot;zcat final.luobuma_INDEL.vcf.gz | grep -c &quot;1|1&quot; çº¯å’ŒSNPæ•°(Homo SNP) çº¯å’ŒINDELæ•°(Homo Indel) åŸºå› ç»„å¤§å°(bp) çº¯å’Œå­å•ç¢±åŸºå˜å¼‚ç‡ ç»„è£…ç»“æœå‡†ç¡®ç‡ 4,176 8,580 230,888,863 0.005525% 99.994475% è¿™ç§å•ç¢±åŸºå‡†ç¡®åº¦çš„è®¡ç®—ç»“æœä¹Ÿå¯ä»¥ä½œä¸ºåŸºå› ç»„ç»„è£…è´¨é‡çš„è¯„ä¼°æŒ‡æ ‡ä¹‹ä¸€ï¼Œå³åºåˆ—ä¸€è‡´æ€§è¯„ä¼°â€”â€”åˆ©ç”¨é«˜è´¨é‡çš„äºŒä»£æµ‹åºæ•°æ®æ¥è¯„ä¼°ä¸‰ä»£æµ‹åºæ•°æ®ç»„è£…ç»“æœåœ¨å•ç¢±åŸºæ°´å¹³ä¸Šçš„å‡†ç¡®æ€§ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"GATK","slug":"GATK","permalink":"http://www.shelven.com/tags/GATK/"}]},{"title":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ8ï¼‰â€”â€”åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼°ï¼ˆQUASTï¼‰","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ8ï¼‰â€”â€”åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼°ï¼ˆQUASTï¼‰","date":"2023-03-02T15:24:41.000Z","updated":"2023-03-04T02:58:11.000Z","comments":true,"path":"2023/03/02/a.html","link":"","permalink":"http://www.shelven.com/2023/03/02/a.html","excerpt":"æ¥ä¸Šä¸€ç¯‡åšå®¢ï¼Œè¿™ä¸€ç¯‡åšå®¢ç»§ç»­ä»‹ç»ä¸€ä¸ªå¸¸ç”¨çš„è¯„ä¼°åŸºå› ç»„ç»„è£…è´¨é‡çš„è½¯ä»¶â€”â€”QUAST","text":"æ¥ä¸Šä¸€ç¯‡åšå®¢ï¼Œè¿™ä¸€ç¯‡åšå®¢ç»§ç»­ä»‹ç»ä¸€ä¸ªå¸¸ç”¨çš„è¯„ä¼°åŸºå› ç»„ç»„è£…è´¨é‡çš„è½¯ä»¶â€”â€”QUAST 1. QUASTä»‹ç»QUASTï¼ˆQuality Assessment Tool for Genome Assembliesï¼‰æ˜¯ä¸€ä¸ªæ¯”è¾ƒç»¼åˆçš„è¯„ä¼°åŸºå› ç»„ç»„è£…è´¨é‡çš„è½¯ä»¶ï¼Œä¸»è¦åŒ…æ‹¬å››ç§åˆ†æå·¥å…·ï¼š QUASTï¼šå¸¸è§„åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼° MetaQUASTï¼šå®åŸºå› ç»„ï¼ˆå…ƒåŸºå› ç»„ï¼‰ç»„è£…è´¨é‡è¯„ä¼° QUAST-LGï¼šå¤§å‹åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼° Icarusï¼šContigæ¯”å¯¹å¯è§†åŒ–å·¥å…·ï¼ˆç±»ä¼¼IGVæµè§ˆå™¨çš„æ„Ÿè§‰ï¼‰ QUASTç”¨åˆ°çš„è½¯ä»¶å¦‚ä¸‹ï¼ˆå‚è€ƒè‡ªå›½å®¶å¾®ç”Ÿç‰©ç§‘å­¦æ•°æ®ä¸­å¿ƒï¼‰ï¼š åºåˆ—æ¯”å¯¹ï¼šMinimap2 åŸºå› å’ŒåŠŸèƒ½ï¼šGeneMarkSã€GeneMark-ESã€GlimmerHMMã€Barrnapå’ŒBUSCO æŸ¥æ‰¾ç»“æ„å˜å¼‚ï¼šBWAã€Sambamba è¦†ç›–åº¦è®¡ç®—ï¼šbedtools MetaQUASTï¼šMetaGeneMarkã€Krona toolsã€BLASTå’ŒSILVAæ•°æ®åº“ QUAST-LGï¼šKMCå’ŒRed è¿™ä¸ªè½¯ä»¶ä¼˜ç‚¹æ˜¯å¯ä»¥ä½¿ç”¨å‚è€ƒåŸºå› ç»„æˆ–è€…æ— å‚è€ƒåŸºå› ç»„æƒ…å†µå¯¹ç»„è£…çš„åŸºå› ç»„è¿›è¡Œè¯„ä¼°ï¼Œå¯ä»¥å¿«é€Ÿè¿›è¡Œå¤§æ‰¹é‡çš„åŸºå› ç»„ç»„è£…è´¨é‡æ¯”è¾ƒï¼Œæœ€ç»ˆçš„ç»“æœæœ‰å›¾è¡¨ã€excelå’Œlatexç­‰å¤šç§è¡¨ç°å½¢å¼ï¼Œä¹Ÿæœ‰ä¸ªå¯ä»¥äº¤äº’çš„ç½‘é¡µç»“æœï¼Œéå¸¸ç›´è§‚å’Œæ–¹ä¾¿ã€‚ 2. å®‰è£…å¦‚æœä»å®˜ç½‘ä¸‹è½½çš„è¯ï¼Œéœ€è¦å®‰è£…éå¸¸å¤šçš„ä¾èµ–è½¯ä»¶ï¼Œå¥½æ¶ˆæ¯æ˜¯ï¼šå¯ä»¥condaå®‰è£… 12345conda install -c bioconda quastquast-download-busco quast-download-gridss # æ£€æµ‹åŸºå› ç»„é‡æ’çš„è½¯ä»¶quast-download-silva # è‘—åçš„16sæ•°æ®åº“ï¼Œæä¾›æœ€æ–°çš„æ ¸ç³–ä½“å¤§å°äºšåŸºrRNAæ³¨é‡Šä¿¡æ¯ æˆªè‡³2023å¹´3æœˆ2æ—¥ï¼Œæœ€æ–°ç‰ˆæœ¬ä¸º5.2.0 åç»­éœ€è¦å®‰è£…ä»€ä¹ˆè½¯ä»¶éƒ½å¯ä»¥conda searchä¸€ä¸‹ï¼Œèƒ½çœå¥½å¤šåŠŸå¤«ã€‚æ³¨æ„ä¸€ä¸‹condaå®‰è£…ä¹‹åä¼šæé†’ç¼ºä¸¤ä¸ªå·¥å…·å’Œä¸€ä¸ªæ•°æ®åº“ï¼Œç›´æ¥è¿è¡Œå‘½ä»¤ä¸‹è½½å³å¯ã€‚ 3. è¿è¡Œå®ä¾‹ä»¥æˆ‘çš„æ¤ç‰©åŸºå› ç»„è·‘ä¸€ä¸ªå¸¸è§„åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼°çš„ä¾‹å­ï¼š 1234#!/bin/bash#SBATCH -n 50quast -t 50 -o quast_baima -1 /public/home/wlxie/clean_data/1.fq -2 /public/home/wlxie/2.fq /public/home/wlxie/NextPolish/baima_rundir/genome.nextpolish.fasta QUASTè¾“å…¥æ–‡ä»¶åªæœ‰ç»„è£…çš„åŸºå› ç»„æ˜¯å¿…é¡»çš„ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒä¸‰ä»£æµ‹åº--pacbioã€--nanoporeæ•°æ®ï¼Œä¹Ÿæ”¯æŒäºŒä»£æ•°æ®è¾“å…¥ã€‚æˆ‘è¿™é‡ŒåŒæ—¶è¾“å…¥äº†äºŒä»£æ•°æ®ï¼Œå› æ­¤ç»“æœæ–‡ä»¶ä¸­æœ‰ç»„è£…åŸºå› ç»„çš„è´¨é‡è¯„ä¼°ï¼Œä¹Ÿæœ‰äºŒä»£æ•°æ®å›è´´ç»„è£…åŸºå› ç»„çš„åˆ†ææ•°æ®ã€‚ 4. ç»“æœå±•ç¤ºè¿è¡Œç»“æŸåçš„è¾“å‡ºæ—¥å¿—å¦‚ä¸‹ï¼š æœ€ç»ˆç”Ÿæˆå›¾è¡¨ç»“æœå¯ä»¥åœ¨report.pdfä¸­æ‰¾åˆ°ï¼Œä¹Ÿå¯ä»¥çœ‹report.htmlï¼Œä¸€æ¬¡è¿è¡Œæ—¶å¸¸å¤§çº¦ä¸º6å°æ—¶ï¼š å·¦è¾¹çº¢æ¡†æ¡†èµ·æ¥çš„éƒ¨åˆ†å°±æ˜¯äºŒä»£æ•°æ®å›æ¯”åŸºå› ç»„çš„ç»“æœï¼Œmappingç‡é«˜äº100%è¯´æ˜æœ‰å¤šæ¯”å¯¹ï¼Œå®Œç¾æ¯”å¯¹ç‡ï¼ˆé…å¯¹readsä¸­ä¸¤æ¡åºåˆ—æ¯”å¯¹ä¸ŠåŒä¸€ä¸ªå‚è€ƒåŸºå› ç»„åºåˆ—çš„æ¯”ä¾‹ï¼ŒProperly Pairedï¼‰93.45%ï¼Œè¦†ç›–åº¦ï¼ˆcoverageï¼‰98.63%ã€‚è¿™ä¸ªæ¯”å¯¹ç‡è¯´æ˜äºŒä»£æµ‹åºreadsä¸ç»„è£…çš„åŸºå› ç»„æœ‰è¾ƒé«˜çš„ä¸€è‡´æ€§ï¼ˆProperly paired 90%ä»¥ä¸Šï¼Œcoverage 95%ä»¥ä¸Šï¼‰ï¼Œå¯ä»¥è¿›è¡Œåç»­çš„åˆ†æã€‚ å³è¾¹æ˜¯contigé•¿åº¦ç´¯ç§¯å›¾ï¼Œæ¨ªåæ ‡ä»å·¦åˆ°å³contigé•¿åº¦ä¾æ¬¡å‡å°ï¼Œæ›²çº¿è¶Šé™¡è¡¨æ˜å¤§ç‰‡æ®µè¶Šé•¿ã€æ•°é‡è¶Šå¤šï¼Œä¹Ÿå¯ä»¥çœ‹åˆ°åŸºå› ç»„ç»„è£…çš„è¿ç»­æ€§è‰¯å¥½ã€‚ å·¦ä¸Šè§’contigçš„å…·ä½“æ•°æ®ï¼Œä»¥åŠN50ã€GCå«é‡å¯ä»¥åœ¨transposed_report.txtä¸­æŸ¥çœ‹ï¼ŒåŒæ—¶ä¹Ÿæä¾›äº†latexå’Œexcelæ ¼å¼çš„ç»“æœæ–‡ä»¶ï¼Œéå¸¸è´´å¿ƒ~æˆ–è€…å¯ä»¥åœ¨basic_statsæ–‡ä»¶å¤¹ä¸­æŸ¥çœ‹ç›¸åº”çš„pdfå›¾è¡¨ï¼š Nxå›¾æ¨ªè½´æ˜¯Nxç™¾åˆ†æ¯”ï¼Œæ¯”å¦‚50å°±æ˜¯N50ï¼›çºµè½´æ˜¯contigé•¿åº¦ã€‚è¿™å¼ å›¾ä¹Ÿå¯ä»¥åæ˜ ç»„è£…ç»“æœçš„è¿ç»­æ€§ã€‚ æœ€åæ˜¯icarusç½‘é¡µç»“æœï¼Œå‰é¢è¯´è¿™ä¸ªç•Œé¢æœ‰ç‚¹åƒIGVã€‚ã€‚ã€‚æ€»ä¹‹å°±æ˜¯å°†å„ä¸ªcontigä»é•¿åˆ°çŸ­ç»„è£…æƒ…å†µå¯è§†åŒ–çš„å·¥å…·ï¼Œå¯ä»¥æ‹–åŠ¨åº•ä¸‹çš„é»„è‰²æ¡†å·¦å³ç§»åŠ¨æ¥æŸ¥çœ‹å¯¹åº”çš„contigæƒ…å†µã€‚ åœ¨åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼°æ–¹é¢ï¼Œè¿™ä¸ªè½¯ä»¶å°±å¯ä»¥ä¸€æ¬¡ç»™å‡ºåºåˆ—ä¸€è‡´æ€§ã€ç»„è£…å®Œæ•´æ€§å’Œæµ‹åºè¦†ç›–å‡åŒ€æ€§è¯„ä¼°ï¼Œè¿˜æ˜¯éå¸¸æ–¹ä¾¿çš„~å½“ç„¶ï¼Œå¦‚æœä½ æœ‰å‚è€ƒåŸºå› ç»„çš„è¯ï¼Œå°±å¯ä»¥å¾—åˆ°æ›´å¤šæœ‰æ•ˆçš„è¯„ä¼°ä¿¡æ¯ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"QUAST","slug":"QUAST","permalink":"http://www.shelven.com/tags/QUAST/"}]},{"title":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ7ï¼‰â€”â€”åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼°ï¼ˆBUSCOã€LAIæŒ‡æ•°ï¼‰","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ7ï¼‰â€”â€”åŸºå› ç»„ç»„è£…è´¨é‡è¯„ä¼°ï¼ˆBUSCOã€LAIæŒ‡æ•°ï¼‰","date":"2023-03-01T12:39:05.000Z","updated":"2023-03-03T06:30:24.000Z","comments":true,"path":"2023/03/01/a.html","link":"","permalink":"http://www.shelven.com/2023/03/01/a.html","excerpt":"é€šè¿‡å‰é¢çš„çº é”™å’Œæ ¡æ­£æ­¥éª¤ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ç»„è£…å®Œæˆçš„åŸºå› ç»„åºåˆ—ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¿›è¡ŒåŸºå› ç»„çš„ç»„è£…è´¨é‡è¯„ä¼°ã€‚è´¨é‡è¯„ä¼°çš„è½¯ä»¶å’Œæ–¹æ³•æ¯”è¾ƒå¤šï¼Œè¿™é‡Œåˆ†ä¸¤ç¯‡åšå®¢è®°å½•ï¼Œæœ¬ç¯‡ä¸»è¦æ¼”ç¤ºå¦‚ä½•ç”¨BUSCOå’ŒLAIæŒ‡æ•°è¯„ä»·åŸºå› ç»„ç»„è£…è´¨é‡ã€‚","text":"é€šè¿‡å‰é¢çš„çº é”™å’Œæ ¡æ­£æ­¥éª¤ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ç»„è£…å®Œæˆçš„åŸºå› ç»„åºåˆ—ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¿›è¡ŒåŸºå› ç»„çš„ç»„è£…è´¨é‡è¯„ä¼°ã€‚è´¨é‡è¯„ä¼°çš„è½¯ä»¶å’Œæ–¹æ³•æ¯”è¾ƒå¤šï¼Œè¿™é‡Œåˆ†ä¸¤ç¯‡åšå®¢è®°å½•ï¼Œæœ¬ç¯‡ä¸»è¦æ¼”ç¤ºå¦‚ä½•ç”¨BUSCOå’ŒLAIæŒ‡æ•°è¯„ä»·åŸºå› ç»„ç»„è£…è´¨é‡ã€‚ å¤ä¹ ä¸€ä¸‹å‰é¢è¯´åˆ°çš„contig N50ï¼ŒæŒ‰ç…§contigä»çŸ­åˆ°é•¿çš„é¡ºåºä¾æ¬¡ç›¸åŠ ï¼Œå½“ç›¸åŠ çš„é•¿åº¦è¾¾åˆ°Contigæ€»é•¿åº¦çš„ä¸€åŠï¼Œæœ€åä¸€ä¸ªContigé•¿åº¦å³ä¸ºcontig N50. contig N50æ˜¯åŸºå› ç»„ç»„è£…è´¨é‡çš„ç¬¬ä¸€æŒ‡æ ‡ï¼Œä¸€èˆ¬æ¥è¯´è¶Šé«˜è¶Šå¥½ï¼Œä½†æ˜¯contig N50ä¸èƒ½å®Œå…¨ä»£è¡¨ä¸€ä¸ªåŸºå› ç»„ç»„è£…è´¨é‡çš„é«˜ä½ï¼Œæ¯”å¦‚readsçš„é”™è¯¯è¿æ¥ä¹Ÿä¼šä½¿contig N50å˜é«˜ã€‚æ¥ä¸‹æ¥ä»‹ç»å‡ ä¸ªç°åœ¨å¸¸ç”¨çš„è¯„ä¼°åŸºå› ç»„ç»„è£…è´¨é‡çš„è½¯ä»¶å’Œæ–¹æ³•ã€‚ 1. ä¿å®ˆå‹åŸºå› è¯„ä¼°BUSCOï¼ˆBenchmarking Universal Single-Copy Orthologsï¼‰è¯„ä¼°æ˜¯åœ¨åŸºå› å«é‡å±‚é¢ä¸Šè¯„ä¼°åŸºå› ç»„å®Œæ•´æ€§ã€‚ç®€å•æ¥è¯´ï¼Œé€šè¿‡å·²æœ‰çš„ç›´ç³»åŒæºæ•°æ®åº“è¿›è¡ŒåŸºå› ç»„æ¯”å¯¹ï¼ŒåŒæºçš„ç”Ÿç‰©ä¹‹é—´æœ‰ä¿å®ˆåŸºå› åºåˆ—ï¼Œèƒ½æ¯”å¯¹ä¸Šçš„åŸºå› æ•°è¶Šå¤šè¯´æ˜ç»„è£…çš„ç»“æœè¶Šé è°±ã€‚ å®‰è£…è¿‡ç¨‹ï¼š 1234567891011121314151617181920# 1. æºç å®‰è£…ï¼ˆéœ€è¦å®‰è£…å‰ç½®è½¯ä»¶ï¼‰git clone https://gitlab.com/ezlab/busco.gitcd busco/python setup.py install# å‰ç½®è½¯ä»¶ï¼šhttps://biopython.org/https://pandas.pydata.org/https://jgi.doe.gov/data-and-tools/software-tools/bbtools/https://ftp.ncbi.nlm.nih.gov/blast/executables/blast+/LATESThttp://bioinf.uni-greifswald.de/augustus/https://github.com/soedinglab/metaeukhttps://github.com/hyattpd/Prodigalhttp://hmmer.org/https://github.com/smirarab/sepp/https://www.r-project.org/# 2. condaå®‰è£…ï¼ˆæ¨èï¼‰conda install -c conda-forge -c bioconda busco=5.3.2 condaå®‰è£…å¯èƒ½ä¼šæ¯”è¾ƒæ…¢ï¼Œéœ€è¦å¤šè¯•å‡ æ¬¡ã€‚å®åœ¨ä¸è¡Œå°±æºç ä¸‹è½½ç¼–è¯‘ï¼Œä¸è¿‡éœ€è¦ä¸‹è½½éå¸¸å¤šçš„å‰ç½®è½¯ä»¶ï¼Œä¸åŒè½¯ä»¶å¯èƒ½ä¼šæœ‰ç¯å¢ƒå†²çªé—®é¢˜ã€gccç‰ˆæœ¬é—®é¢˜ç­‰ç­‰ï¼ˆæˆ‘èŠ±äº†å¤§åŠå¤©æ—¶é—´åœ¨æŠ˜è…¾ç¯å¢ƒï¼‰ã€‚å®‰è£…ä¹‹åé€šè¿‡busco -hæŸ¥çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼Œå¦‚æœæç¤ºç¼ºä»€ä¹ˆè½¯ä»¶å°±ç”¨condaè¡¥ä¸Šï¼ˆæˆ‘å½“å‰ç¯å¢ƒä¸­æ²¡æœ‰å®‰è£…pandaså°±ä¼šæœ‰æç¤ºï¼‰ã€‚ é€šè¿‡busco --list-datasetså¯ä»¥æŸ¥çœ‹å½“å‰æœ‰å“ªäº›ç‰©ç§çš„æ•°æ®åº“ï¼Œæˆ‘çš„æ¤ç‰©æ˜¯åŒå­å¶é¾™èƒ†ç›®ï¼Œè¿™é‡Œçš„æ•°æ®åº“åªæœ‰çœŸåŒå­å¶æ¤ç‰©ï¼ˆeudicotsï¼‰åˆ†æ”¯ç¦»çš„æœ€è¿‘ï¼Œå› æ­¤é€‰æ‹©è¿™ä¸ªæ•°æ®åº“ï¼Œv5ç‰ˆæœ¬æ‰€æœ‰å•æ‹·è´ç›´ç³»åŒæºæ•°æ®åº“ç½‘å€https://busco-data.ezlab.org/v5/data/lineages/ ä¸‹è½½çš„æ•°æ®åº“æ”¾åœ¨busco_downloadsæ–‡ä»¶å¤¹ä¸­ï¼Œè§£å‹å³å¯ä½¿ç”¨ï¼š 12nohup wget https://busco-data.ezlab.org/v5/data/lineages/eudicots_odb10.2020-09-10.tar.gz &amp;tar -zxvf eudicots_odb10.2020-09-10.tar.gz buscoçš„è¯¦ç»†å‚æ•°å¯ä»¥çœ‹å®˜ç½‘çš„user guide User guide BUSCO v5.4.4 (ezlab.org) ç®€å•è®²ä¸€è®²æ ¼å¼å’Œèƒ½ç”¨åˆ°çš„å‚æ•°ï¼š 123456789101112busco -i [SEQUENCE_FILE] -l [LINEAGE] -o [OUTPUT_NAME] -m [MODE] [OTHER OPTIONS]&#x27;&#x27;&#x27;ä¸»è¦å‚æ•°ï¼š -i åºåˆ—æ–‡ä»¶ä½ç½® -l ä¸‹è½½çš„åŒæºç‰©ç§ä¿å®ˆåŸºå› æ•°æ®åº“ä½ç½® -o è¾“å‡ºæ–‡ä»¶å -m æ¨¡å¼ï¼Œåˆ†ä¸ºgenome,proteins,transcriptomeä¸‰ç§ å…¶ä»–å‚æ•°ï¼š --cpu è®¾ç½®cpuæ•°é‡ --download åœ¨çº¿ä¸‹è½½æ•°æ®åº“ï¼Œæ ¹æ®åˆ†ç±»æœ‰&quot;all&quot;ã€&quot;prokaryota&quot;ã€&quot;eukaryota&quot;å’Œ&quot;virus&quot; ï¼ˆä¸æ¨èï¼Œé€Ÿåº¦æ…¢ï¼‰ --offline ç¦»çº¿æ¨¡å¼ï¼Œä¸ä¼šæ›´æ–°æ•°æ®åº“&#x27;&#x27;&#x27; ä»¥ä¸‹æ˜¯æˆ‘è·‘çš„ç¨‹åºï¼Œå¤§çº¦ç”¨äº†1ä¸ªå°æ—¶ï¼š 1busco -i /public/home/wlxie/NextPolish/01_rundir/genome.nextpolish.fasta -l /public/home/wlxie/busco_soft/busco/test_data/eukaryota/busco_downloads/lineages/eudicots_odb10 -o baima -m genome --cpu 8 --offline æˆªè‡³2023&#x2F;02&#x2F;28ï¼ŒçœŸåŒå­å¶æ¤ç‰©åº“æœ‰2326ä¸ªä¿å®ˆBUSCOåŸºå› åºåˆ—ï¼Œæ¯”å¯¹ç»“æœæ–‡ä»¶åœ¨short_summary.specific.xxx.xxx.txtä¸­ï¼Œå¦‚ä¸‹ï¼š Complete BUSCOs (C) å¤šå°‘ä¸ªåŸºå› å®Œå…¨æ¯”å¯¹ä¸ŠBUSCOs Complete and single-copy BUSCOs (S) å¤šå°‘ä¸ªåŸºå› æ¯”å¯¹ä¸Šå•æ‹·è´çš„BUSCOs Complete and duplicated BUSCOs (D) å¤šå°‘ä¸ªåŸºå› æ¯”å¯¹ä¸Šå¤šæ‹·è´çš„BUSCOs Fragmented BUSCOs (F) å¤šå°‘ä¸ªåŸºå› éƒ¨åˆ†æ¯”å¯¹ä¸ŠBUSCOsï¼Œå¯èƒ½åŸºå› åªæ˜¯éƒ¨åˆ†å­˜åœ¨ Missing BUSCOs (M) å¤šå°‘ä¸ªåŸºå› æ²¡æœ‰æ¯”å¯¹ä¸ŠBUSCOsï¼Œå¯èƒ½è¿™äº›ç›´ç³»åŒæºåŸºå› æ˜¯ç¼ºå¤±çš„ ä»ä¸Šé¢çš„æ•°æ®çœ‹ï¼Œç»„è£…ç»“æœè¿˜æ˜¯ä¸é”™çš„ã€‚ä»ä¸­ä¹Ÿå¯ä»¥çœ‹åˆ°BUSCOè¿è¡Œçš„ä¸¤ä¸ªæ­¥éª¤ï¼šç”¨metaeukè¿›è¡ŒåŸºå› é¢„æµ‹ï¼ˆçœŸæ ¸ç”Ÿç‰©å¯ä»¥ç”¨tBLASTnä¸å¯¹åº”çš„BUSCOæ•°æ®åº“åºåˆ—è¿›è¡Œæ¯”å¯¹ä»è€Œç¡®å®šå€™é€‰åŒºåŸŸï¼Œç„¶åä½¿ç”¨ Augustus è½¯ä»¶è¿›è¡ŒåŸºå› ç»“æ„é¢„æµ‹ï¼Œä¸¤ä¸ªè½¯ä»¶å¯ä»¥æ›¿ä»£metaeukï¼Œè¯¦ç»†å‚æ•°è§å®˜ç½‘ï¼‰ï¼Œä»¥åŠHMMERè¿›è¡ŒåŒæºåŸºå› çš„æ¯”å¯¹ï¼Œä»è€Œè¯„ä¼°åŸºå› ç»„ç»„è£…çš„å®Œæ•´æ€§ã€‚ å®˜æ–¹è¿˜æä¾›äº†ç›¸åº”çš„pythonç¨‹åºç»˜åˆ¶ç»“æœå›¾ï¼ˆè°ƒç”¨äº†RåŒ…ggplot2ï¼‰ï¼Œå…ˆå°†BUSCOç»“æœæ–‡ä»¶æ”¾åˆ°æ–°å»ºçš„æ–‡ä»¶å¤¹ï¼Œè¿è¡Œç›¸åº”çš„pyç¨‹åºï¼ŒæŒ‡å®šå·¥ä½œç›®å½•å³å¯ï¼š 12345mkdir summariescp baima/short_summary.specific.eudicots_odb10.baima.txt summariesgenerate_plot.py -wd summaries ç»“æœå›¾å¦‚ä¸‹ï¼š å½“ç„¶ï¼Œæœ‰ç»“æœæ•°æ®å°±å¯ä»¥è‡ªå·±åšæ›´å¥½çœ‹çš„å›¾äº†ï¼Œä¸ä¸€å®šè¦ç”¨å®˜æ–¹çš„ã€‚ 2. é•¿æœ«ç«¯é‡å¤åºåˆ—è¯„ä¼°2018å¹´å‘è¡¨åœ¨Nucleic Acids Researchä¸Šçš„ä¸€ç¯‡æ–‡ç« Assessing genome assembly quality using the LTR Assembly Index (LAI)ï¼Œç ”ç©¶è€…æå‡ºäº†ä¸€ç§å¯¹é•¿æœ«ç«¯é‡å¤åºåˆ—ï¼ˆlong terminal repeats,LTRsï¼‰è¯„ä¼°ä»è€Œè¯„ä»·åŸºå› ç»„å®Œæ•´åº¦çš„æ–¹æ³•ï¼Œå¹¶ä¸”å¼€å‘äº†å¯¹åº”çš„åˆ†æå·¥å…·LTR_retriever å…·ä½“çš„LTRæ³¨é‡Šæˆ‘ä¼šåœ¨åç»­çš„åŸºå› ç»„æ³¨é‡Šç¬”è®°ä¸­æ›´æ–°ï¼Œè¿™é‡Œæš‚æ—¶è·³è¿‡åŸç†å’ŒèƒŒæ™¯éƒ¨åˆ†ï¼Œä»‹ç»ä¸‹æ–‡ç« ä¸­æå‡ºçš„è¯„ä¼°æ ¸å¿ƒâ€”â€”LAIæŒ‡æ•°ï¼ˆLTR Assembly Indexï¼ŒLAIï¼‰ï¼Œä¹Ÿå°±æ˜¯é•¿æœ«ç«¯é‡å¤åºåˆ—ç»„è£…æŒ‡æ•°ã€‚raw LAI = (å®Œæ•´LTR-RTsé•¿åº¦/æ€»LTRé•¿åº¦)*100ï¼Œä¿®æ­£åï¼ŒLAI = raw LAI + 2.8138 Ã— (94 â€“ æ•´ä¸ªåŸºå› ç»„LTR identity)ã€‚ ä»¥ä¸‹æ˜¯ä¸€ä¸ªå®Œæ•´çš„LTR-RTsçš„ç»“æ„ç¤ºæ„å›¾ï¼š æ–‡ç« è¿˜é˜æ˜LAIç‹¬ç«‹äºåŸºå› ç»„å¤§å°ã€LTR-RTå«é‡ä»¥åŠåŸºå› ç©ºé—´è¯„ä¼°æŒ‡æ ‡ï¼ˆå¦‚BUSCOå’ŒCEGMAï¼‰ç­‰å‚æ•°ï¼Œå¯ä»¥ç”¨äºé‰´å®šä½è´¨é‡çš„åŸºå› ç»„åŒºåŸŸã€‚ä½¿ç”¨è¿™ä¸ªæŒ‡æ ‡è¦æ±‚**åŸºå› ç»„ä¸­å®Œæ•´çš„LTR-RTsåº”è‡³å°‘å åŸºå› ç»„0.1%ä¸”æ€»LTR-RTsé•¿åº¦è‡³å°‘å 5%**ã€‚ æ–‡ç« æœ€åç»™å‡ºäº†LAIè¯„ä»·åŸºå› ç»„å®Œæ•´åº¦çš„ä¸‰ä¸ªæŒ‡æ ‡ï¼š åˆ†ç±» LAI ä¸¾ä¾‹ Draft 0 â‰¤ LAI &lt; 10 Apple (v1.0), Cacao (v1.0) Reference 10 â‰¤ LAI &lt; 20 Arabidopsis (TAIR10), Grape (12X) Gold 20 â‰¤ LAI Rice (MSUv7), Maize (B73 v4) 2.1 LTRåºåˆ—é¢„æµ‹LTR_retrieveréœ€è¦ä»¥LTR_finderå’Œ&#x2F;æˆ–ltrharvestçš„LTRé¢„æµ‹ç»“æœæ–‡ä»¶ä¸ºè¾“å…¥ï¼Œä¹Ÿå¯ä»¥æ•´åˆä¸¤ä¸ªè½¯ä»¶çš„é¢„æµ‹ç»“æœä½œä¸ºè¾“å…¥ï¼ˆæˆ–è€…å…¶ä»–ç¬¦åˆæ ¼å¼çš„LTRç»“æœæ–‡ä»¶ï¼‰ï¼Œå› æ­¤éœ€è¦å…ˆå®‰è£…å¹¶è¿è¡Œä»¥ä¸Šè½¯ä»¶ï¼Œæˆ‘è¿™é‡Œä»¥æ–‡ç« ä¸­æåˆ°çš„è½¯ä»¶å’Œå‚æ•°è¿è¡Œã€‚ 12345# LTR_finderã€ltrharvestå’ŒLTR_retrieverå®‰è£…ï¼ˆltrharvestæ˜¯genometoolsè½¯ä»¶çš„ä¸€éƒ¨åˆ†ï¼‰conda install -c bioconda ltr_finderconda install -c bioconda genometools-genometoolsconda install -c bioconda ltr_retriever LTR_finderé¢„æµ‹LTRåºåˆ—ï¼ˆå‚æ•°å‡ç”±ä½œè€…ç»™å‡ºï¼Œåªæœ‰æ–‡ä»¶æ˜¯è‡ªå·±çš„ï¼‰ï¼š 1234#!/bin/bash#SBATCH -n 10ltr_finder -D 15000 -d 1000 -L 7000 -l 100 -p 20 -C -M 0.85 /public/home/wlxie/NextPolish/01_rundir/genome.nextpolish.fasta &gt; baima_ltrfinder.scn å‚æ•°è§£é‡Šï¼š -D NUM Max distance between 5â€™&amp;3â€™LTR, default is 20000 # 5â€™å’Œ3â€™LTRä¹‹é—´çš„æœ€å¤§è·ç¦» -d NUM Min distance between 5â€™&amp;3â€™LTR, default is 1000 -L NUM Max length of 5â€™&amp;3â€™LTR, default is 3500 # 5â€™å’Œ3â€™LTRæœ€å¤§é•¿åº¦ -l NUM Min length of 5â€™&amp;3â€™LTR, default is 100 -p NUM min length of exact match pair, default is 20 # å®Œå…¨åŒ¹é…æœ€å°é•¿åº¦ -C detect Centriole, delete highly repeat regions # æ£€æµ‹ä¸­å¿ƒç²’ï¼Œåˆ é™¤é«˜åº¦é‡å¤åŒºåŸŸ -M NUM min LTR similarity threshold, default is 0.00, [0,1] #æœ€å°LTRç›¸ä¼¼åº¦ ltrharvesté¢„æµ‹LTRåºåˆ—ï¼ˆltrharvestå‚æ•°å‡ç”±ä½œè€…ç»™å‡ºï¼Œåªæœ‰æ–‡ä»¶æ˜¯è‡ªå·±çš„ï¼‰ï¼š 12345678#!/bin/bash#SBATCH -n 10mkdir indexgt suffixerator -db /public/home/wlxie/NextPolish/01_rundir/genome.nextpolish.fasta -indexname index/baima -tis -suf -lcp -des -ssp -sds -dnagt ltrharvest -index index/baima -minlenltr 100 -maxlenltr 7000 -mintsd 4 -maxtsd 6 -motif TGCA -motifmis 1 -similar 85 -vic 10 -seed 20 -seqids yes &gt; baima_ltrharvest.scn è¿™é‡Œè¦æ³¨æ„ä¸‹è¦å…ˆä½¿ç”¨genome toolsé‡Œçš„suffixeratoråˆ›å»ºåŸºå› ç»„ç´¢å¼•æ–‡ä»¶ï¼Œç„¶åæ‰å¯ä»¥ä½¿ç”¨ltrharvestè¿›è¡ŒLTRé¢„æµ‹ã€‚ åˆ›å»ºåŸºå› ç»„ç´¢å¼•çš„å‚æ•°ä¸åšè§£é‡Šäº†ï¼Œå¯ä»¥ gt suffixerator -help æŸ¥çœ‹ã€‚ç¨å¾®è®°å½•ä¸‹ltrharvestå‚æ•°ï¼š -minlenltr specify minimum length for each LTRï¼Œdefault: 100 -mintsd specify minimum length for each TSDï¼Œdefault: 4 -motif specify 2 nucleotides startmotif + 2 nucleotides endmotif: **** -motifmis specify maximum number of mismatches in motif [0,3]ï¼Œdefault: 4 -similar specify similaritythreshold in range [1..100%]ï¼Œdefault: 85.00 -vic specify the number of nucleotides (to the left and to the right) that will be searched for TSDs and&#x2F;or motifs around 5â€™ and 3â€™boundary of predicted LTR retrotransposons, default: 60 -seed specify minimum seed length for exact repeatsï¼Œdefault: 30 -seqids use sequence descriptions instead of sequence numbers in GFF3 outputï¼Œdefault: no ä»¥ä¸Šä¸¤ä¸ªè½¯ä»¶ä»¥åŒæ ·çš„LTRæœ€å°ç›¸ä¼¼åº¦0.85é¢„æµ‹LTRï¼Œå¾—åˆ°ä¸¤ä¸ªç»“æœæ–‡ä»¶baima_ltrfinder.scnå’Œbaima_ltrharvest.scnã€‚ 2.2 LAIæŒ‡æ•°è®¡ç®—ç”¨ä¸Šä¸€æ­¥çš„è¾“å‡ºçš„ä¸¤ä¸ªç»“æœæ–‡ä»¶ï¼Œè¿è¡ŒLTR_retrieveré‰´å®šLTRå’Œè®¡ç®—LAIæŒ‡æ•°ã€‚ 1234#!/bin/bash#SBATCH -n 20LTR_retriever -genome /public/home/wlxie/NextPolish/01_rundir/genome.nextpolish.fasta -inharvest baima_ltrharvest.scn -infinder baima_ltrfinder.scn -threads 20 è¿™ä¸€æ­¥è¿è¡Œç»“æœå¦‚ä¸‹ï¼š å…¶ä»–æ–‡ä»¶å¯ä»¥åç»­åšLTRåˆ†æç”¨åˆ°ï¼Œè¿™é‡Œæˆ‘ä»¬åªè¦çœ‹æœ€åä¸€ä¸ªLAIçš„è®¡ç®—ç»“æœæ–‡ä»¶ï¼š å¯ä»¥çœ‹åˆ°è¿™ä¸ªç»“æœæ–‡ä»¶ä¸­åŒ…å«äº†æ•´ä¸ªgenomeå’Œå„ä¸ªcontigçš„raw LAIå’ŒLAIæŒ‡æ•°ï¼Œè¿™é‡Œå°±åªçœ‹æ•´ä¸ªgenomeçš„LAIæŒ‡æ•°15.37ï¼Œæ ¹æ®ä¸Šé¢æ–‡ç« ä½œè€…æåˆ°çš„åˆ†ç±»ï¼Œå±äºReferenceçº§åˆ«ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥è®¤ä¸ºè¾¾åˆ°å‚è€ƒåŸºå› ç»„çº§åˆ«ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"BUSCO","slug":"BUSCO","permalink":"http://www.shelven.com/tags/BUSCO/"},{"name":"LAI","slug":"LAI","permalink":"http://www.shelven.com/tags/LAI/"}]},{"title":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ6ï¼‰â€”â€”åŸºå› ç»„polish","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ6ï¼‰â€”â€”åŸºå› ç»„polish","date":"2023-02-27T03:02:16.000Z","updated":"2023-02-27T03:05:01.000Z","comments":true,"path":"2023/02/27/a.html","link":"","permalink":"http://www.shelven.com/2023/02/27/a.html","excerpt":"ä¸‰ä»£åŸºå› ç»„de novoç»„è£…åå¾—åˆ°ä¸€ç³»åˆ—contigï¼Œç”±äºä¸‰ä»£æµ‹åºçš„é”™è¯¯ç‡è¾ƒé«˜ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç»„è£…ç»“æœè¿›è¡Œæ‰“ç£¨ï¼ˆä»¥ä¸‹å‡ç”¨polishè¡¨ç¤ºï¼‰ä»¥æé«˜åŸºå› ç»„çš„æ‹¼æ¥æŒ‡æ ‡å¦‚Contig N50ï¼ŒScaffold N50ã€‚","text":"ä¸‰ä»£åŸºå› ç»„de novoç»„è£…åå¾—åˆ°ä¸€ç³»åˆ—contigï¼Œç”±äºä¸‰ä»£æµ‹åºçš„é”™è¯¯ç‡è¾ƒé«˜ï¼Œæˆ‘ä»¬éœ€è¦å¯¹ç»„è£…ç»“æœè¿›è¡Œæ‰“ç£¨ï¼ˆä»¥ä¸‹å‡ç”¨polishè¡¨ç¤ºï¼‰ä»¥æé«˜åŸºå› ç»„çš„æ‹¼æ¥æŒ‡æ ‡å¦‚Contig N50ï¼ŒScaffold N50ã€‚ å¸¸ç”¨è½¯ä»¶ä¸»è¦æœ‰Pilonã€Raconï¼Œé’ˆå¯¹PacBioçš„æœ‰Quiver &amp; Arrowï¼Œé’ˆå¯¹Nanoporeçš„æœ‰NanoPolishï¼Œä»¥åŠæ­¦æ±‰å¸Œæœ›ç»„ä¸ºNextDenovoé…å¥—å¼€å‘çš„NextPolishç­‰ç­‰ã€‚è¦æ³¨æ„ä¸‹å…ˆè¿›è¡Œä¸‰ä»£æµ‹åºæ•°æ®çŸ«æ­£ï¼Œå†è¿›è¡ŒäºŒä»£æµ‹åºæ•°æ®çŸ«æ­£ï¼Œé¡ºåºä¸èƒ½åï¼Œå› ä¸ºä¸‰ä»£æ•°æ®è¯»é•¿é•¿å‡†ç¡®ç‡ä½ï¼ŒäºŒä»£è¯»é•¿çŸ­å‡†ç¡®ç‡é«˜ï¼Œåˆ©ç”¨äºŒä»£æµ‹åºæµ‹åºæ•°æ®å¯¹ä¸‰ä»£æµ‹åºæ•°æ®è¿›è¡Œçº é”™å¯ä»¥å°†ä¸‰ä»£æµ‹åºé”™è¯¯ç‡é™ä½åˆ°äºŒä»£æµ‹åºçš„æ°´å¹³ã€‚å¦‚æœä¸å…ˆè¿›è¡Œä¸‰ä»£åºåˆ—çº é”™ï¼Œç”±äºåŸºå› ç»„ä¸Šå­˜åœ¨è¿‡é«˜é”™è¯¯ç‡ï¼Œå¯¼è‡´äºŒä»£åºåˆ—çš„é”™è¯¯æ¯”å¯¹ï¼Œå½±å“æœ€ç»ˆpolishæ•ˆæœã€‚ è¿™é‡Œä»¥å‰é¢ç”¨NextDenovoç»„è£…çš„æ¤ç‰©ä¸‰ä»£åŸºå› ç»„ä¸ºä¾‹ï¼Œä»‹ç»ä¸‹Raconå’ŒNextPolishç”¨æ³•ã€‚ 1. Raconraconçš„åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ 1racon [options ...] &lt;sequences&gt; &lt;overlaps&gt; &lt;target sequences&gt; éœ€è¦ç”¨åˆ°ä¸‰ç§è¾“å…¥æ–‡ä»¶ï¼šsequencesæ˜¯æŒ‡ç”¨æ¥çº é”™çš„ä¸‰ä»£åŸºå› ç»„æµ‹åºæ•°æ®ï¼ˆåé¢ä»¥åŸå§‹æ•°æ®ç§°å‘¼ï¼‰ï¼›target sequencesæŒ‡éœ€è¦æ ¡æ­£çš„ç»„è£…åçš„åŸºå› ç»„æ•°æ®ï¼ˆåé¢ä»¥ç»„è£…åŸºå› ç»„ç§°å‘¼ï¼‰ï¼›overlapsæŒ‡å›æ¯”åˆ°ç»„è£…åŸºå› ç»„çš„åŸå§‹æ•°æ®æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰çš„overlapsï¼Œå…¶æ–‡ä»¶æ ¼å¼ä¸ºMHAP&#x2F;PAF&#x2F;SAMä¸‰ç§ä¹‹ä¸€ã€‚ å› æ­¤åœ¨ä½¿ç”¨Raconä¹‹å‰éœ€è¦ä½¿ç”¨å…¶ä»–æ¯”å¯¹å·¥å…·å°†ä¸‰ä»£æ•°æ®å›è´´åˆ°ç»„è£…åŸºå› ç»„ä¸Šï¼Œåœ¨è½¬å½•ç»„åˆ†æç¬”è®°ä¸­æœ‰ä»‹ç»è¿‡ç›¸å…³è½¯ä»¶ï¼Œæˆ‘è¿™é‡Œç”¨minimap2è¿›è¡Œæ¯”å¯¹ï¼Œè¿™æ˜¯ä¸“é—¨é’ˆå¯¹ä¸‰ä»£æµ‹åºæ•°æ®å¼€å‘çš„æ¯”å¯¹å·¥å…·ï¼Œè¿è¡Œé€Ÿåº¦è¾ƒå¿«ã€‚ 1minimap2 -a -t 20 &lt;target sequences&gt; &lt;sequences&gt; &gt; minimap_1.sam -aè¡¨ç¤ºç»“æœä¸ºsamæ ¼å¼ï¼Œ&lt;target sequences&gt;å¤„ä¼ å…¥ç»„è£…åŸºå› ç»„çš„ç»å¯¹è·¯å¾„ï¼Œ&lt;sequences&gt;å¤„ä¼ å…¥åŸå§‹æ•°æ®çš„ç»å¯¹è·¯å¾„ï¼Œæ¯”å¯¹ç»“æœçš„samæ–‡ä»¶å‘½åä¸ºminimap_1.sam 1racon -t 50 &lt;sequences&gt; minimap_1.sam &lt;target sequences&gt; &gt; racon_minimap_1.fasta å¦‚ä¸Šä¸€æ¬¡å¾ªç¯ä¸‹æ¥ï¼ˆå¤§çº¦3å°æ—¶ï¼‰ï¼Œå¾—åˆ°çš„racon_minimap_1.fastaå°±æ˜¯ç»è¿‡ä¸€æ¬¡ä¸‰ä»£æ•°æ®æ ¡æ­£çš„ç»„è£…åŸºå› ç»„ã€‚ ä¸€èˆ¬è¦ç”¨ä¸‰ä»£æ•°æ®polish 2-4æ¬¡ï¼Œä¹‹åç”¨äºŒä»£æ•°æ®ç»§ç»­æ ¡æ­£4æ¬¡å·¦å³ï¼Œå¯ä»¥å†™è„šæœ¬å¾ªç¯ï¼Œéœ€è¦æ³¨æ„raconå› ä¸ºè¦ä¸€æ¬¡è¯»å…¥ä¸‰ä»£åŸå§‹æ•°æ®å’Œå›æ¯”çš„samæ•°æ®ï¼Œå†…å­˜éœ€æ±‚é‡éå¸¸å¤§ï¼Œç”³è¯·çš„å†…æ ¸æ•°éœ€è¦è‡ªå·±è®¡ç®—ä¸€ä¸‹ï¼Œå¦åˆ™ä¼šæŠ¥å†…å­˜æº¢å‡ºçš„é”™è¯¯ï¼ˆ220Mbçš„åŸºå› ç»„ï¼Œ100Xæµ‹åºæ·±åº¦ï¼Œç”³è¯·50ä¸ªæ ¸æ‰èƒ½è·‘åŠ¨ï¼‰ã€‚ è„šæœ¬æ–‡ä»¶racon.shå¦‚ä¸‹ï¼š 1234567#!/bin/bashminimap2 -a -t 50 $1 $2 &gt; minimap_1.samracon -t 50 $2 minimap_1.sam $1 &gt; racon_minimap_1.fastaminimap2 -a -t 50 racon_minimap_1.fasta $2 &gt; minimap_2.samracon -t 50 $2 minimap_2.sam racon_minimap_1.fasta &gt; racon_minimap_2.fasta recon.slurmï¼š 123456789#!/bin/bash#SBATCH -J recon#SBATCH -N 1#SBATCH -n 50#SBATCH -t 7200datebash racon.sh /public/home/wlxie/NextDenovo/03_rundir/03.ctg_graph/nd.asm.fasta /public/home/wlxie/luobuma/luobuma/baima_rawdata/Third_generation_sequencing/clean_filter.fqdate 1sbatch recon.slurm å¯ä»¥ä»è¾“å‡ºæ—¥å¿—ä¸­çœ‹åˆ°ï¼Œraconè¿è¡Œä¸»è¦åˆ†ä¸¤æ­¥ï¼Œåˆ†åˆ«æ˜¯æ ¡å‡†overlapå’Œç”Ÿæˆå…±æœ‰åºåˆ—ï¼ˆä¹Ÿå°±æ˜¯å»é‡ï¼‰ï¼Œåœ¨ç”Ÿæˆå…±æœ‰åºåˆ—ï¼ˆconsensus sequenceï¼‰ä¹‹åå†è¿›è¡ŒäºŒä»£æ•°æ®çš„çº é”™ã€‚ è¿™ä¸€æ­¥çš„Raconæ£€æµ‹å‡ºä¸¤ä¸ªcontigå¯èƒ½æ˜¯åµŒåˆä½“ï¼ˆchimericï¼‰ï¼Œæ‰€è°“åµŒåˆcontigï¼Œè¯¥contigçš„æŸæ®µåŒºåŸŸå¯èƒ½å¯ä»¥æ¯”å¯¹ä¸Šä¸åŒçš„æŸ“è‰²ä½“ï¼Œæˆ–è€…å¤´å°¾éƒ¨åˆ†å¯èƒ½åˆ†åˆ«å±äºä¸åŒçš„æŸ“è‰²ä½“ã€‚ç¬¬ä¸€éraconçš„æ—¶å€™æ²¡æœ‰æ£€æµ‹åˆ°ï¼Œç¬¬äºŒéraconæ‰å‡ºç°è¿™ä¸ªæç¤ºï¼Œæˆ‘ä¸ç¡®å®šè¿™ä¸¤ä¸ªcontigæ˜¯å¦çœŸçš„æ˜¯åµŒåˆä½“ï¼Œæœ€ç»ˆè¿˜æ˜¯éœ€è¦Hi-Cæ•°æ®æ¥éªŒè¯ã€‚ æˆ‘è¿™é‡Œä¸¤æ¬¡å¾ªç¯å¾—åˆ°polishçš„ç»“æœæ–‡ä»¶racon_minimap_2.fastaï¼Œæ¥ä¸‹æ¥ç”¨NextPolishè½¯ä»¶ç»§ç»­ç”¨äºŒä»£æ•°æ®polishã€‚ 2. NextPolishNextPolishæ˜¯æ­¦æ±‰é‚£å¸Œæœ›ç»„å¼€å‘çš„ä¸NextDenovoé…å¥—çš„åŸºå› ç»„polishè½¯ä»¶ï¼Œæ”¯æŒäºŒä»£çŸ­è¯»é•¿ã€ä¸‰ä»£é•¿è¯»é•¿å’ŒHiFiæ•°æ®è¿›è¡Œçº é”™ã€‚ å’Œä¹‹å‰çš„NextDenovoæ“ä½œæ–¹æ³•ç±»ä¼¼ï¼Œé¦–å…ˆéœ€è¦å‡†å¤‡ä¸€ä¸ªinputæ–‡ä»¶ï¼Œå†™å…¥äºŒä»£æ•°æ®çš„ç»å¯¹è·¯å¾„åˆ°sgs.fofnï¼š 1realpath ./1.fq ./2.fq &gt; sgs.fofn ä»docæ–‡ä»¶å¤¹ä¸­copyä¸€ä»½é…ç½®æ–‡ä»¶run.cfgï¼Œä¿®æ”¹å‚æ•°ï¼š 1234567891011121314151617[General]job_type = slurm # local, slurm, sge, pbs, lsfå¡”å¤§å­¦æ ¡é›†ç¾¤é€‰æ‹©slurmjob_prefix = nextPolishtask = best # all, default, best, 1, 2, 5, 12, 1212â€¦ 1ï¼Œ2æ˜¯ä¸¤ä¸ªä¸åŒçš„çŸ­è¯»é•¿ç®—æ³•æ¨¡å—ï¼Œ5æ˜¯é•¿è¯»é•¿ç®—æ³•æ¨¡å—ï¼Œé»˜è®¤bestrewrite = yesdeltmp = yes # åˆ é™¤ä¸´æ—¶ç»“æœæ–‡ä»¶rerun = 3 # é‡å¤æ‰§è¡Œpolishæ¬¡æ•°parallel_jobs = 20 # æ¯ä¸ªjobçº¿ç¨‹æ•°multithread_jobs = 5 # jobæ•°genome = /public/home/wlxie/baima_polish/racon_minimap_2.fastagenome_size = autoworkdir = ./01_rundirpolish_options = -p &#123;multithread_jobs&#125;[sgs_option] #optionalsgs_fofn = ./sgs.fofn # è¾“å…¥æ–‡ä»¶ä½ç½®ï¼ˆä¸€è¡Œä¸€æ¡ï¼‰sgs_options = -max_depth 100 -bwa # ä½¿ç”¨bwaè¿›è¡Œæ¯”å¯¹ é•¿readså’ŒHiFiçš„ä¸¤æ®µé…ç½®ä¿¡æ¯åˆ é™¤ï¼Œåªç•™ä¸‹çŸ­è¯»é•¿sgs_optionsã€‚ è¿™ä¸ªè½¯ä»¶çš„ä¼˜ç‚¹æ˜¯é€Ÿåº¦å¿«ï¼ˆ100çº¿ç¨‹ï¼Œ4æ¬¡polishï¼Œ220Mbçš„åŸºå› ç»„ï¼Œ72Gçš„äºŒä»£æ•°æ®é‡ä»…ä»…ç”¨äº†8å°æ—¶ï¼‰ï¼Œè€Œä¸”åªéœ€è¦æä¾›é…ç½®å’Œè¾“å…¥æ–‡ä»¶å°±å¯ä»¥åˆ°polishç»“æŸå‡ºç»“æœï¼Œç»è¿‡4æ¬¡Polishç»“æœçš„è¿­ä»£ï¼Œæœ€ç»ˆç»“æœå¦‚ä¸‹: Contig N50æ¯”ä¸€å¼€å§‹NextDenovoç»„è£…ç»“æœå¤§ï¼Œä¹Ÿå°±æ˜¯ç»„è£…æ•ˆæœæ›´å¥½ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"NextPolish","slug":"NextPolish","permalink":"http://www.shelven.com/tags/NextPolish/"},{"name":"Racon","slug":"Racon","permalink":"http://www.shelven.com/tags/Racon/"}]},{"title":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ5ï¼‰â€”â€”ä¸‰ä»£æ•°æ®ç»„è£…","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ5ï¼‰â€”â€”ä¸‰ä»£æ•°æ®ç»„è£…","date":"2023-02-23T14:22:00.000Z","updated":"2023-02-28T13:07:16.000Z","comments":true,"path":"2023/02/23/a.html","link":"","permalink":"http://www.shelven.com/2023/02/23/a.html","excerpt":"å‰æ®µæ—¶é—´æ¯”è¾ƒå¿™ï¼Œç°åœ¨ç»§ç»­æ•´ç†åŸºå› ç»„æµ‹åºç»„è£…ç³»åˆ—çš„å­¦ä¹ ç¬”è®°ã€‚ç¬¬å››ç¯‡ç¬”è®°å†™çš„äºŒä»£æµ‹åºåŸºå› ç»„ç»„è£…ï¼Œä¸»è¦æ˜¯æ¼”ç¤ºäºŒä»£æµ‹åºæ•°æ®ç»„è£…çš„ä¸»æµå·¥å…·SOAPdenovo 2.0æ˜¯å¦‚ä½•åº”ç”¨çš„ã€‚æˆ‘è¿™é‡Œæœ‰äº†äºŒä»£å’Œä¸‰ä»£çš„æµ‹åºæ•°æ®ï¼Œåç»­ç»„è£…è¿˜æ˜¯ä»¥ä¸‰ä»£æ•°æ®ä¸ºä¸»ï¼Œè¿™é‡Œå°±ç»§ç»­è®°å½•ä¸‹å‡ æ¬¾ä¸‰ä»£æµ‹åºæ•°æ®ç»„è£…çš„ä¸»æµå·¥å…·å’Œç”¨æ³•ã€‚","text":"å‰æ®µæ—¶é—´æ¯”è¾ƒå¿™ï¼Œç°åœ¨ç»§ç»­æ•´ç†åŸºå› ç»„æµ‹åºç»„è£…ç³»åˆ—çš„å­¦ä¹ ç¬”è®°ã€‚ç¬¬å››ç¯‡ç¬”è®°å†™çš„äºŒä»£æµ‹åºåŸºå› ç»„ç»„è£…ï¼Œä¸»è¦æ˜¯æ¼”ç¤ºäºŒä»£æµ‹åºæ•°æ®ç»„è£…çš„ä¸»æµå·¥å…·SOAPdenovo 2.0æ˜¯å¦‚ä½•åº”ç”¨çš„ã€‚æˆ‘è¿™é‡Œæœ‰äº†äºŒä»£å’Œä¸‰ä»£çš„æµ‹åºæ•°æ®ï¼Œåç»­ç»„è£…è¿˜æ˜¯ä»¥ä¸‰ä»£æ•°æ®ä¸ºä¸»ï¼Œè¿™é‡Œå°±ç»§ç»­è®°å½•ä¸‹å‡ æ¬¾ä¸‰ä»£æµ‹åºæ•°æ®ç»„è£…çš„ä¸»æµå·¥å…·å’Œç”¨æ³•ã€‚ ç°åœ¨ä¸»æµçš„ä¸‰ä»£æµ‹åºå…¬å¸æ˜¯Pacbioå’ŒNanoporeï¼Œä¸¤å®¶æµ‹åºå…¬å¸æµ‹åºåŸç†ä¸åŒï¼Œäº§ç”Ÿçš„æ•°æ®ç±»å‹ä¹Ÿæœ‰åŒºåˆ«ã€‚ 1. ä¸»æµä¸‰ä»£æµ‹åºå¹³å°1.1 Pacbioæµ‹åºå¹³å°Pacbioæµ‹åºå¹³å°æ˜¯å•åˆ†å­å®æ—¶æµ‹åºï¼ˆsingle molecule real time sequencingï¼ŒSMRTï¼‰ï¼ŒåŸç†æ˜¯å½“DNAä¸èšåˆé…¶å½¢æˆçš„å¤åˆç‰©è¢«ZMWï¼ˆé›¶æ¨¡æ³¢å¯¼å­”ï¼‰æ•è·åï¼Œ4ç§ä¸åŒè§å…‰æ ‡è®°çš„dNTPéšæœºè¿›å…¥æ£€æµ‹åŒºåŸŸå¹¶ä¸èšåˆé…¶ç»“åˆï¼Œä¸æ¨¡æ¿åŒ¹é…çš„ç¢±åŸºç”ŸæˆåŒ–å­¦é”®å¹¶æ¿€å‘è§å…‰ï¼Œç”ŸæˆåŒ–å­¦é”®æ¿€å‘çš„è§å…‰å­˜åœ¨çš„æ—¶é—´è¿œè¿œé•¿äºå…¶ä»–ç¢±åŸºè¢«æ¿€å‘è§å…‰çš„æ—¶é—´ï¼Œä»è€Œå®ç°å•ç¢±åŸºçš„å®æ—¶æ£€æµ‹ã€‚ ç°åœ¨Pacbioæœ‰ä¸¤ç§æµ‹åºæ¨¡å¼ï¼Œä¸€ç§æ˜¯CLRæµ‹åºæ¨¡å¼ï¼ˆè¶…é•¿æµ‹åºæ¨¡å¼ï¼‰ï¼Œäº§ç”Ÿæ•°æ®åŸºäºå•å¾ªç¯æµ‹åºç»“æœï¼›ä¸€ç§æ˜¯HiFiæµ‹åºæ¨¡å¼ï¼Œä¹Ÿå°±æ˜¯é«˜ä¿çœŸæµ‹åºæ¨¡å¼ï¼Œäº§ç”Ÿæ•°æ®åŸºäºæ»šç¯ä¸€è‡´åºåˆ—ï¼ˆCircular Consensus Sequencing ï¼ŒCCSï¼‰ã€‚å…·ä½“åŸç†å°±ä¸è¯´äº†ï¼Œä¸¤ç§æµ‹åºæ¨¡å¼ä¸­HiFiæ•°æ®ç›¸å¯¹æ¥è¯´å‡†ç¡®ç‡ä¼šé«˜ä¸€äº›ï¼Œæ‰€ä»¥ä¸åŒè½¯ä»¶å¯¹ä¸¤ç§æµ‹åºæ¨¡å¼çš„æ•°æ®ä¹Ÿä¼šæœ‰ä¸åŒçš„å¤„ç†ã€‚ 1.2 Nanoporeæµ‹åºå¹³å°Nanoporeæµ‹åºå¹³å°å‰é¢ç¬¬ä¸€ç¯‡åšå®¢ä»‹ç»è¿‡äº†ï¼Œå¯ä»¥ç‚¹å‡»è¿™é‡Œã€‚éœ€è¦äº†è§£ONTæµ‹åºå¹³å°æµ‹åºäº§ç”Ÿçš„åŸå§‹æ•°æ®æ˜¯ç”µä¿¡å·ï¼Œç»è¿‡basecallingä¹‹åæ‰å¯ä»¥è½¬åŒ–æˆæˆ‘ä»¬è¦çš„æµ‹åºæ•°æ®ã€‚ 2. ä¸‰ä»£åŸºå› ç»„æµ‹åºç»„è£…è½¯ä»¶2.1 NextDenovoNextDenovoæ˜¯æ­¦æ±‰å¸Œæœ›ç»„å¼€å‘çš„é›†æ ¡æ­£ã€æ¯”å¯¹å’Œç»„è£…ä¸€ä½“çš„ï¼ŒåŸºäºå­—ç¬¦ä¸²å›¾ï¼ˆstring graph-basedï¼‰çš„ä¸‰ä»£æµ‹åºåŸºå› ç»„ç»„è£…è½¯ä»¶ã€‚å®ƒçš„å®ç°è¿‡ç¨‹å’Œå¦ä¸€æ¬¾ç»å…¸çš„ä¸‰ä»£åŸºå› ç»„ç»„è£…è½¯ä»¶Canuç±»ä¼¼ï¼Œç»è¿‡é•¿è¯»é•¿æ•°æ®çš„çº é”™æ ¡æ­£åå†è¿›è¡Œç»„è£…ã€‚ å®˜ç½‘ä¸Šä»‹ç»åŸæ¥å¯ä»¥å¯¹CLRã€HiFiå’ŒONTæ•°æ®éƒ½å¯ä»¥ç»„è£…ï¼ŒHiFiæ•°æ®å¯ä»¥è·³è¿‡æ•°æ®çš„è‡ªæˆ‘çº é”™è¿‡ç¨‹ï¼Œå¦‚ä»ŠHiFiæ•°æ®è¢«åˆ’æ‰äº†ï¼Œä¹Ÿè®¸å·²ç»ä¸å†é€‚ç”¨ï¼Œä½†æ˜¯å¯¹Pabioçš„CLRå’ŒNanoporeçš„ONTæµ‹åºæ•°æ®ä»æœ‰è¾ƒå¥½çš„ç»„è£…æ•ˆæœï¼Œå…¶ä»‹ç»æ˜¯ç»„è£…çš„å‡†ç¡®ç‡æœ‰98%-99.8%ã€‚ NextDenovoä¸»è¦æœ‰ä¸¤ä¸ªæ ¸å¿ƒæ¨¡å— NextCorrectå’ŒNextGraphã€‚NextCorrectç”¨äºåŸå§‹æ•°æ®çº é”™ï¼ŒNextGraphç”¨äºçº é”™åæ•°æ®çš„ç»„è£…ã€‚æ®ä½œè€…ä»‹ç»ï¼Œä¸å…¶ä»–å·¥å…·ç›¸æ¯”ï¼ŒNextDenovoåœ¨è£…é…ä¸€è‡´æ€§å’Œå•ç¢±åŸºè£…é…ç²¾åº¦æ–¹é¢è¡¨ç°å‡ºè¾ƒé«˜çš„æ°´å¹³ã€‚æˆ‘ä¸ªäººç”¨èµ·æ¥æ˜¯è§‰å¾—è¿™ä¸ªè½¯ä»¶è¿è¡Œæ—¶é—´ç›¸å¯¹Canuè¾ƒçŸ­ï¼Œéœ€è¦çš„ç®—åŠ›èµ„æºè¾ƒå°ï¼Œå¯ä»¥å¾ˆå¿«åœ°ç»„è£…å‡ºç»“æœï¼ˆåé¢å¯ä»¥è¿›è¡Œæ¯”è¾ƒï¼‰ã€‚ å®‰è£…å¹¶æµ‹è¯•é€šè¿‡åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹ä½¿ç”¨è¿™ä¸ªå·¥å…·äº†ã€‚ é¦–å…ˆå‡†å¤‡inputæ–‡ä»¶ï¼Œå°†å‰é¢è´¨æ§åçš„ä¸‰ä»£æµ‹åºæ•°æ®çš„ç»å¯¹è·¯å¾„å†™åœ¨input.fofnæ–‡ä»¶é‡Œï¼š 1/public/home/wlxie/luobuma/luobuma/baima_rawdata/Third_generation_sequencing/clean_filter.fq æ¥ä¸‹æ¥ä¹Ÿæ˜¯æœ€é‡è¦çš„ï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼š 123456789101112131415161718192021222324[General]job_type = slurm # local, slurm, sge, pbs, lsfå¡”å¤§å­¦æ ¡é›†ç¾¤é€‰æ‹©slurmjob_prefix = nextDenovotask = all # all, correct, assembleé€‰æ‹©åªè¿›è¡Œcorrectè¿˜æ˜¯åªè¿›è¡Œassembleï¼Œæˆ–è€…ä¸¤è€…éƒ½è¿›è¡Œï¼ŒåŸºå› ç»„å°çš„è¯å¯ä»¥ç›´æ¥allrewrite = yes # yes/noè¦†å†™deltmp = yes parallel_jobs = 20 # number of tasks used to run in parallelçº¿ç¨‹æ•°ï¼Œå’±å­¦æ ¡çš„é›†ç¾¤20å‹‰å¼ºå¤Ÿinput_type = raw # raw, correctedè¾“å…¥çš„æ•°æ®æƒ…å†µread_type = ont # clr, ont, hifiæ•°æ®ç±»å‹input_fofn = input.fofn # è¾“å…¥æ•°æ®çš„ä½ç½®ä¿¡æ¯workdir = 03_rundir # è¾“å‡ºçš„æ–‡ä»¶å¤¹åå­—[correct_option]read_cutoff = 1k # è¿›è¡Œcorrectçš„æ—¶å€™æˆªå–çš„æœ€å°readgenome_size = 230m # estimated genome sizeé¢„ä¼°çš„åŸºå› ç»„å¤§å°sort_options = -m 20g -t 15minimap2_options_raw = -t 8pa_correction = 3 # number of corrected tasks used to run in parallel, each corrected task requires ~TOTAL_INPUT_BASES/4 bytes of memory usage.correction_options = -p 15 -dbuf # éå¸¸é‡è¦ï¼-dbufè®©æ¯ä¸€æ­¥ä½œä¸šé‡Šæ”¾å†…å­˜ï¼Œé˜²æ­¢èŠ‚ç‚¹å¡æ­»ï¼[assemble_option]minimap2_options_cns = -t 8 nextgraph_options = -a 1 ä»¥ä¸Šæ˜¯æˆ‘çš„é…ç½®æ–‡ä»¶ä¿¡æ¯ï¼Œä¸­æ–‡æ ‡æ³¨çš„åœ°æ–¹éƒ½å¾ˆé‡è¦ï¼Œæ ¹æ®æƒ…å†µä¿®æ”¹ã€‚å…¶ä»–å‚æ•°å¯ä»¥ç”¨é»˜è®¤ã€‚å…¶ä¸­é¢„ä¼°çš„åŸºå› å¤§å°ä¹Ÿæ˜¯å¾ˆæœ‰å¿…è¦çš„ï¼Œå‰é¢åœ¨åšåŸºå› ç»„Surveyçš„æ—¶å€™é¢„æµ‹è¿‡ï¼Œè¿™é‡Œå°±ç›´æ¥å†™é¢„æµ‹çš„åŸºå› ç»„å¤§å°ã€‚ å…¶ä»–å‚æ•°çš„è®¾å®šå’Œä½¿ç”¨å¯ä»¥å‚è€ƒè¿™ç¯‡åšå®¢ä½¿ç”¨NextDenovoç»„è£…Nanoporeæ•°æ®ï¼Œä»¥åŠå®˜æ–¹çš„å‚æ•°è¯´æ˜æ‰‹å†ŒNextDenovo Parameter Reference â€” NextDenovo latest documentation éœ€è¦å¼ºè°ƒä¸€ç‚¹ï¼Œcorrection_options = -p 15 -dbufè¿™é¡¹å‚æ•°æ˜¯æˆ‘åœ¨åå†œçš„é›†ç¾¤å¹³å°æ‰‹å†Œä¸Šçœ‹åˆ°çš„ï¼Œä¹‹å‰ç¡®å®ä¸€ç›´ä¼šå¡æ­»åœ¨æŸä¸€æ­¥ç›´åˆ°24håå°å¼ºæ€è¿™ä¸ªè¿›ç¨‹ï¼Œç›®å‰æœªçŸ¥åŸå› ï¼ŒåŠ ä¸Šä¹‹åè¿è¡Œæ­£å¸¸ã€‚ä»¥æˆ‘çš„æ•°æ®æ¥çœ‹ï¼Œä¸€ä¸ª200å¤šMbçš„æ¤ç‰©åŸºå› ç»„ï¼Œæµ‹åºæ·±åº¦100Xå·¦å³ï¼Œä¸€æ¬¡ç»„è£…è¿è¡Œç»“æŸéœ€è¦12å°æ—¶å·¦å³ï¼Œå·²ç»éå¸¸å¿«äº†ã€‚ æœ€åæ˜¯è¿è¡Œç¨‹åºï¼Œæˆ‘å†™äº†ä¸€ä¸ªrun.slurmæ–‡ä»¶ï¼š 1234#!/bin/bash#SBATCH -n 40./nextDenovo run.cfg 1sbatch run.slurm åŸºå› ç»„æ¯”è¾ƒå¤§çš„è¯ï¼Œå»ºè®®åˆ†æ­¥è¿è¡Œï¼Œå…ˆcorrectï¼Œå†assembleã€‚ å› ä¸ºæ˜¯åœ¨é›†ç¾¤ä¸­è¿è¡Œï¼Œæ‰€æœ‰è¾“å‡ºéƒ½ä¼šåœ¨slurm-xxxx.outçš„æ–‡ä»¶å¤¹ä¸­æ˜¾ç¤ºï¼Œæ‰“å¼€ä»¥åå¯ä»¥çœ‹åˆ°æ¯ä¸ªæ—¶é—´èŠ‚ç‚¹å®Œæˆäº†ä»€ä¹ˆä»»åŠ¡ï¼Œå½“æœ‰ä»»åŠ¡å¡ä½å‡ ä¸ªå°æ—¶éƒ½æ²¡åŠ¨çš„æ—¶å€™ï¼Œå°±è¦æ£€æŸ¥æ˜¯å¦æ˜¯é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®ã€‚ æœ€åç»„è£…çš„åŸºå› ç»„åœ¨03.ctg_graphç›®å½•ä¸‹ï¼Œæ–‡ä»¶åç§°nd.asm.fastaã€‚æœ€åº•ä¸‹è¾“å‡ºäº†ç»„è£…ç»“æœæ¦‚å†µï¼Œcontig N50ä¸º9Mbï¼Œæ€»å…±ç»„è£…å‡º225Mbçš„åŸºå› ç»„åºåˆ—ï¼Œcontigæ€»æ•°ä¸º59ï¼Œç»„è£…ç»“æœè¿˜ç®—ä¸é”™ã€‚ 2.2 CanuCanuæ˜¯ä¸‰ä»£æµ‹åºæ•°æ®ç»„è£…çš„ç»å…¸å·¥å…·ï¼Œä¹Ÿæ˜¯ä¸»è¦ç”¨äºPacbioå’ŒNanoporeå…¬å¸çš„æµ‹åºç»“æœç»„è£…ã€‚ è¿™ä¸ªè½¯ä»¶åœ¨å®‰è£…è¿‡ç¨‹ä¸­æœ‰ç‚¹æ›²æŠ˜ï¼Œä»å®˜ç½‘ä¸‹æ•°æ®åŒ…ï¼Œæœ€åä¸€æ­¥ç¼–è¯‘çš„è¿‡ç¨‹ä¼šæŠ¥é”™ã€‚ç›®å‰æˆ‘æš‚æ—¶æ²¡åŠæ³•è§£å†³ï¼Œä½†æ˜¯å¯ä»¥ç”¨condaå®‰è£…ï¼ˆè™½ç„¶å®˜ç½‘ä¸å»ºè®®è¿™ä¹ˆåšï¼‰ã€‚ 1conda install -c conda-forge -c bioconda -c defaults canu å¦‚æœæŠ¥é”™åŠ¨æ€åº“å‡ºé—®é¢˜ï¼Œå¯ä»¥å‚è€ƒç¬¬ä¸‰ç¯‡åšå®¢ä¸­çš„æ–¹æ³•ï¼Œå¯»æ‰¾æ ¹ç›®å½•ä¸‹çš„åŠ¨æ€åº“ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„ç‰ˆæœ¬æ–‡ä»¶ï¼Œå¦‚æœæœ‰ï¼Œç›´æ¥ä¿®æ”¹è½¯é“¾æ¥åˆ°å¯¹åº”çš„åŠ¨æ€åº“ä¸‹ã€‚ Canuè¿è¡Œåˆ†ä¸ºä¸‰ä¸ªæ­¥éª¤ï¼šçº é”™ï¼ˆCorrectï¼‰ã€ä¿®å‰ªï¼ˆTrimï¼‰å’Œç»„è£…ï¼ˆAssembleï¼‰ã€‚å¯ä»¥æ¯ä¸€ä¸ªæ­¥éª¤åˆ†å¼€è·‘ï¼Œæ¯”å¦‚çº é”™ä¿®å‰ªä¹‹åçš„æ•°æ®å¯ä»¥æ”¾åˆ°åˆ«çš„è½¯ä»¶ä¸­ç»„è£…ï¼Œæˆ–è€…ç”¨åˆ«çš„è½¯ä»¶çº é”™ä¹‹åä½œä¸ºè¾“å…¥åˆ°Canuä¸­ç»„è£…ã€‚è€ƒè™‘åˆ°å¡”å¤§é›†ç¾¤24å°æ—¶è‡ªåŠ¨æ€ç¨‹åºï¼Œä¿é™©èµ·è§è¿˜æ˜¯ä¸‰ä¸ªæ­¥éª¤åˆ†å¼€è·‘æ¯”è¾ƒå®‰å…¨ã€‚ ä¸‹é¢æ˜¯å®˜æ–¹çš„å¸®åŠ©æ–‡æ¡£ï¼Œå†™çš„éå¸¸è¯¦ç»†ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960usage: canu [-version] [-citation] \\ [-haplotype | -correct | -trim | -assemble | -trim-assemble] \\ [-s &lt;assembly-specifications-file&gt;] \\ -p &lt;assembly-prefix&gt; \\ # è¾“å‡ºæ–‡ä»¶å‰ç¼€ -d &lt;assembly-directory&gt; \\ # è¾“å‡ºç›®å½• genomeSize=&lt;number&gt;[g|m|k] \\ # é¢„æµ‹åŸºå› ç»„å¤§å° [other-options] \\ [-haplotype&#123;NAME&#125; illumina.fastq.gz] \\ [-corrected] \\ [-trimmed] \\ [-pacbio | -nanopore | -pacbio-hifi] file1 file2 ...example: canu -d run1 -p godzilla genomeSize=1g -nanopore-raw reads/*.fasta.gz To restrict canu to only a specific stage, use: # æè¿°canuè¦æ‰§è¡Œçš„ä¸»ç¨‹åº -haplotype - generate haplotype-specific reads -correct - generate corrected reads -trim - generate trimmed reads -assemble - generate an assembly -trim-assemble - generate trimmed reads and then assemble them Reads can be either FASTA or FASTQ format, uncompressed, or compressed with gz, bz2 or xz. Reads are specified by the technology they were generated with, and any processing performed. [processing] # æè¿°readsçŠ¶æ€ -corrected -trimmed [technology] # æè¿°æµ‹åºå¹³å°ï¼ˆæ•°æ®ç±»å‹ï¼‰ -pacbio &lt;files&gt; -nanopore &lt;files&gt; -pacbio-hifi &lt;files&gt; Some common options: useGrid=string - Run under grid control (true), locally (false), or set up for grid control but don&#x27;t submit any jobs (remote) rawErrorRate=fraction-error # é™ä½è¿™ä¸ªå‚æ•°ä¼šæé«˜ç¬¬ä¸€æ­¥çš„é€Ÿåº¦ - The allowed difference in an overlap between two raw uncorrected reads. For lower quality reads, use a higher number. The defaults are 0.300 for PacBio reads and 0.500 for Nanopore reads. correctedErrorRate=fraction-error # é™ä½è¿™ä¸ªå‚æ•°å¯ä»¥æé«˜ç»„è£…æ•ˆç‡ - The allowed difference in an overlap between two corrected reads. Assemblies of low coverage or data with biological differences will benefit from a slight increase in this. Defaults are 0.045 for PacBio reads and 0.144 for Nanopore reads. gridOptions=string - Pass string to the command used to submit jobs to the grid. Can be used to set maximum run time limits. Should NOT be used to set memory limits; Canu will do that for you. minReadLength=number - Ignore reads shorter than &#x27;number&#x27; bases long. Default: 1000. minOverlapLength=number - Ignore read-to-read overlaps shorter than &#x27;number&#x27; bases long. Default: 500. A full list of options can be printed with &#x27;-options&#x27;. All options can be supplied in an optional sepc file with the -s option. # å¯ä»¥ç”¨-sæ¥æä¾›è‡ªå·±ä¿®æ”¹çš„å‚æ•°æ–‡ä»¶Complete documentation at http://canu.readthedocs.org/en/latest/ ä¹Ÿå¯ä»¥ç‚¹å‡»è¿™é‡Œï¼Œè¿›å®˜æ–¹æ‰‹å†Œçœ‹åŸæ–‡ã€‚ä¸‹é¢ç”¨æˆ‘è‡ªå·±çš„ä¸‰ä»£æ•°æ®è·‘ä¸€ä¸ªæ¡ˆä¾‹ã€‚ 2.2.1 çº é”™ï¼ˆCorrectï¼‰å› ä¸ºä¸‰ä»£æµ‹åºæ•°æ®é”™è¯¯ç‡è¾ƒé«˜ï¼Œçº é”™çš„æ­¥éª¤æ˜¯é€šè¿‡åºåˆ—ä¹‹é—´çš„ä¸€è‡´æ€§æ¯”è¾ƒè·å¾—é«˜å¯ä¿¡çš„ç¢±åŸºã€‚ åˆ›å»ºä¸€ä¸ªcanuçš„ç©ºæ–‡ä»¶å¤¹ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹åˆ°correct.slurm: 12345#!/bin/bash#SBATCH -N 1#SBATCH -n 40canu -correct -p baima -d baima_nanopore genomeSize=230m -nanopore-raw /public/home/wlxie/luobuma/luobuma/baima_rawdata/Third_generation_sequencing/pass.fq 1sbatch correct.slurm ä¸»è¦å°±æ˜¯æ³¨æ„ä¸‹å‚æ•°ï¼Œ-pæ˜¯è¾“å‡ºæ–‡ä»¶çš„å‰ç¼€ï¼Œ-dæ˜¯è¾“å‡ºæ–‡ä»¶çš„ç›®å½•åï¼Œéœ€è¦å£°æ˜è¿™ä¸ªæ•°æ®æ˜¯ä»€ä¹ˆå¹³å°æµ‹çš„ï¼Œä»¥åŠæ•°æ®æ˜¯ä»€ä¹ˆçŠ¶æ€ã€‚è™½ç„¶æˆ‘è¿™é‡Œåªç”³è¯·äº†40ä¸ªæ ¸ï¼Œä½†æ˜¯canuä¼šè‡ªåŠ¨æäº¤ä½œä¸šç›´åˆ°ä½ èƒ½ç”³è¯·çš„æ ¸æ•°ä¸Šé™â€¦â€¦åœ¨å¡”å¤§é›†ç¾¤æˆ‘çš„æƒé™æ˜¯200ä¸ªæ ¸ï¼Œé€šè¿‡scontrol show job å¯ä»¥æŸ¥åˆ°ï¼Œæˆ‘è¿™è¾¹ä¸€æ¬¡æ€§æäº¤äº†136ä¸ªä½œä¸šï¼Œæ’é˜Ÿ100å¤šä¸ªä»»åŠ¡ï¼Œå ç”¨192ä¸ªæ ¸â€¦.. çº é”™ã€ä¿®æ•´å’Œç»„è£…æ¯ä¸€ä¸ªæ­¥éª¤ä¼šä¾æ¬¡è¿›è¡Œä»¥ä¸‹å„ä¸ªé˜¶æ®µï¼Œéœ€è¦çš„å†…å­˜å’Œæ ¸æ•°æŒºé«˜çš„ï¼Œæ‰€ä»¥æ¨èåœ¨é›†ç¾¤ä¸­è¿è¡Œã€‚ å¦‚æœè¿è¡Œæ—¶é—´å¾ˆé•¿ï¼Œå»ºè®®åˆ°è®¾ç½®çš„è¾“å‡ºæ–‡ä»¶å¤¹ç›®å½•ä¸‹æŸ¥çœ‹canu.outæ–‡ä»¶ï¼Œè¯¦ç»†è®°è½½äº†æ­£åœ¨æ‰§è¡Œå“ªä¸€æ­¥ä»¥åŠèŠ±äº†å¤šå°‘æ—¶é—´ã€‚å¦‚æœä¸ç¡®å®šç¨‹åºæ˜¯å¦å¡æ­»ï¼Œç›´æ¥é€šè¿‡scontrol show jobå‘½ä»¤æŸ¥çœ‹çŠ¶æ€ä¸ºRUNNINGçš„ä½œä¸šï¼Œè¿›å…¥ä½œä¸šçš„è¾“å‡ºç›®å½•ï¼Œå¦‚æœæ–‡ä»¶å¤¹ä¸­çš„å†…å®¹ä¸€ç›´åˆ°æœ€è¿‘çš„æ—¶é—´ç‚¹éƒ½æœ‰æ›´æ–°ï¼Œåˆ™å¯ä»¥æ”¾å¿ƒåœ°ç»§ç»­è¿è¡Œã€‚ ä»…ä»…è¿™ä¸€ä¸ªæ­¥éª¤èŠ±äº†30ä¸ªå°æ—¶ã€‚å¹¶ä¸”è¿™ä¸€æ­¥ä¼šå°†100Xçš„æµ‹åºæ•°æ®é‡é™åˆ°40Xï¼ˆé»˜è®¤ï¼Œå¯ä»¥è°ƒæ•´ï¼Œè§å®˜æ–¹readSampleingCoverageå‚æ•°ä»‹ç»ï¼‰ã€‚æœ€åç”Ÿæˆæ–‡ä»¶baima.correctedReads.fasta.gzï¼Œæˆ‘ä¸ºäº†æ–¹ä¾¿å¤åˆ¶åˆ°äº†å‰ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¿®æ”¹æ–‡ä»¶æƒé™ä¸º0755ã€‚ 2.2.2 ä¿®æ•´ï¼ˆtrimï¼‰ä¿®æ•´æ˜¯åœ¨ä¸Šä¸€æ­¥çº é”™çš„åŸºç¡€ä¸Šï¼Œå†å¯¹readsè¿›è¡Œä¿®å‰ªï¼Œåˆ å»å¯ç–‘åŒºåŸŸã€‚ è¿™ä¸€æ­¥ç»å†çš„æ­¥éª¤ä¸ä¸Šä¸€æ­¥æ˜¯ä¸€æ ·çš„ï¼Œè™½ç„¶ä¸Šä¸€æ­¥çº é”™å·²ç»å°†æ•°æ®é‡é™äº†ä¸€å¤§åŠï¼Œå¯¹äºæˆ‘çš„åŸºå› ç»„ï¼Œè¿™ä¸€æ­¥ä¾ç„¶è¦è·‘32å°æ—¶. åŒæ ·åœ¨canuæ–‡ä»¶å¤¹å†™å…¥å¦‚ä¸‹å†…å®¹åˆ°trim.slurmï¼š 12345#!/bin/bash#SBATCH -n 50#SBATCH -t 7200canu -trim -p baima -d baima_trim genomeSize=230m -corrected -nanopore /public/home/wlxie/canu/baima.correctedReads.fasta.gz 1sbatch trim.slurm æ³¨æ„ä¿®æ”¹å‚æ•°ä»¥åŠreadsæ‰€å¤„çš„çŠ¶æ€ã€‚ åœ¨canu.outè¾“å‡ºæ–‡ä»¶ä¸­ï¼Œå¯ä»¥æ‰¾åˆ°trimæ­¥éª¤ç”¨äº†ä»€ä¹ˆå‚æ•°ï¼Œå¤„ç†äº†å“ªäº›ç±»å‹çš„readsï¼š ç”Ÿæˆçš„ç»“æœæ–‡ä»¶åœ¨baima_trimæ–‡ä»¶å¤¹ä¸­ï¼Œåç§°ä¸ºbaima.trimmedReads.fasta.gzï¼ŒåŒæ ·ä¿®æ”¹æ–‡ä»¶æƒé™ï¼Œç§»åˆ°å‰ä¸€ä¸ªæ–‡ä»¶å¤¹æ–¹ä¾¿æ“ä½œã€‚ 2.2.3 ç»„è£…ï¼ˆAssembleï¼‰ç»è¿‡å‰ä¸¤æ­¥çš„æ•°æ®çº é”™å’Œä¿®æ•´ï¼Œè¿™ä¸€æ­¥æ‰æ˜¯æ­£å¼ç»„è£…åŸºå› ç»„ã€‚ åœ¨canuæ–‡ä»¶å¤¹å†™å…¥å¦‚ä¸‹å†…å®¹åˆ°assemble.slurmï¼š 12345#!/bin/bash#SBATCH -n 50#SBATCH -t 10800canu -assemble -p baima -d baima_assemble genomeSize=230m correctedErrorRate=0.144 -trimmed -corrected -nanopore /public/home/wlxie/canu/baima.trimmedReads.fasta.gz 1sbatch assemble.slurm åœ¨å®˜æ–¹çš„ä»‹ç»ä¸­ï¼ŒcorrectedErrorRateè¿™ä¸ªå‚æ•°å¯ä»¥æ ¹æ®å‰é¢çº é”™å’Œä¿®æ•´çš„readsè´¨é‡åšä¿®æ”¹çš„ï¼Œé»˜è®¤æ˜¯Pacbioæ•°æ®0.045ï¼ŒNanoporeæ•°æ®0.144ï¼Œé™ä½è¿™ä¸ªå‚æ•°å€¼å¯ä»¥åŠ å¿«ç»„è£…çš„æ•ˆç‡ï¼Œä½†æ˜¯å­˜åœ¨é—æ¼overlapå’Œç»„è£…ç‰‡æ®µæ–­è£‚çš„é£é™©ã€‚ä½äº30Xæµ‹åºæ·±åº¦ä»¥ä¸‹çš„æ•°æ®ï¼Œå®˜æ–¹å»ºè®®å¯ä»¥ç•¥å¾®æé«˜è¿™ä¸ªå€¼ï¼Œå¯¹äº60Xæµ‹åºæ·±åº¦ä»¥ä¸Šçš„æ•°æ®å¯ä»¥ç•¥å¾®é™ä½è¿™ä¸ªå€¼ï¼Œæ¯æ¬¡æ”¹å˜1%å·¦å³æ¯”è¾ƒåˆé€‚ã€‚ æˆ‘è¿™é‡Œå°±ç”¨é»˜è®¤å‚æ•°äº†ï¼Œç»„è£…æ—¶é—´å¯èƒ½ä¼šæ¯”è¾ƒé•¿ï¼Œå°±å°†ä½œä¸šçš„æ—¶é—´è°ƒæ•´ä¸º7å¤©ã€‚ å®é™…è¿è¡Œæ—¶é—´ä¸º30å°æ—¶ï¼Œæœ€ç»ˆç»„è£…ç»“æœå¦‚ä¸‹ï¼š è¿™ä¸ªå·¥å…·ç»„è£…å‡ºçš„ç»“æœæ¯”é¢„æœŸå¤§å¾ˆå¤šï¼Œå‰é¢åŸºå› ç»„surveyé¢„æµ‹çš„åŸºå› ç»„å¤§å°ä¸º230Mbpï¼Œå®é™…é€šè¿‡canuç»„è£…å‡ºæœ‰276Mbpï¼Œä¸”contigæ•°æ˜æ˜¾æ¯”NextDenovoå¤šï¼Œå¯¼è‡´contig N50æŒ‡æ ‡ä½ã€‚æˆ‘è§‰å¾—å¯èƒ½æ˜¯correctedErrorRateè¿™ä¸ªå€¼æ¯”è¾ƒé«˜ï¼Œå¯ä»¥é€‚å½“è°ƒä½ä¸€äº›ï¼Œè¿‡äºä¸¥æ ¼çš„çº é”™æ ‡å‡†å¯èƒ½å¯¼è‡´ç»„è£…çš„contigæ¯”è¾ƒç¢ã€‚ å› ä¸ºå‰é¢çš„NextDenovoç»„è£…çš„æ•ˆæœå·²ç»æ¯”è¾ƒç†æƒ³ï¼Œå› æ­¤è¿™ä¸€æ­¥æˆ‘ä¹Ÿå°±ä¸å†ç»†è°ƒå‚æ•°äº†ã€‚ä»¥NextDenovoç»„è£…å‡ºçš„åŸºå› ç»„ç»§ç»­åé¢çš„åˆ†æã€‚ä»¥ç›®å‰æˆ‘çš„æ¤ç‰©åŸºå› ç»„æ¥çœ‹ï¼Œç”¨NextDenovoç»„è£…ä¸‰ä»£åŸºå› ç»„çš„æ•ˆç‡å’Œè´¨é‡éƒ½æ¯”Canué«˜ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"NextDenovo","slug":"NextDenovo","permalink":"http://www.shelven.com/tags/NextDenovo/"},{"name":"Canu","slug":"Canu","permalink":"http://www.shelven.com/tags/Canu/"}]},{"title":"è§£å†³github DNSæ±¡æŸ“çš„ä¸‰ç§æ–¹æ³•","slug":"è§£å†³github-DNSæ±¡æŸ“çš„ä¸‰ç§æ–¹æ³•","date":"2023-02-21T13:47:13.000Z","updated":"2023-02-21T13:49:36.000Z","comments":true,"path":"2023/02/21/a.html","link":"","permalink":"http://www.shelven.com/2023/02/21/a.html","excerpt":"æœ€è¿‘å› ä¸ºéœ€è¦å®‰è£…å„ç§ç”Ÿä¿¡è½¯ä»¶ï¼Œç”¨githubæ¯”è¾ƒå¤šï¼Œæ¯æ¬¡ç™»githubéƒ½è¦ç¿»å¢™å¾ˆæ˜¯éº»çƒ¦ã€‚ç´¢æ€§èŠ±äº†ç‚¹æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹ï¼Œä¸‹é¢åˆ†åˆ«åˆ—ä¸¾ä¸‰ç§æƒ…å†µä¸‹çš„è§£å†³githubç½‘ç«™ç™»å½•çš„é—®é¢˜ã€‚","text":"æœ€è¿‘å› ä¸ºéœ€è¦å®‰è£…å„ç§ç”Ÿä¿¡è½¯ä»¶ï¼Œç”¨githubæ¯”è¾ƒå¤šï¼Œæ¯æ¬¡ç™»githubéƒ½è¦ç¿»å¢™å¾ˆæ˜¯éº»çƒ¦ã€‚ç´¢æ€§èŠ±äº†ç‚¹æ—¶é—´ç ”ç©¶äº†ä¸€ä¸‹ï¼Œä¸‹é¢åˆ†åˆ«åˆ—ä¸¾ä¸‰ç§æƒ…å†µä¸‹çš„è§£å†³githubç½‘ç«™ç™»å½•çš„é—®é¢˜ã€‚ çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œé¦–å…ˆæˆ‘ä»¬éœ€è¦æ˜ç™½ä¸ºä»€ä¹ˆgithubåœ¨å›½å†…ç»å¸¸æ— æ³•ç™»å½•ã€‚æˆ‘ä»¬åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ç½‘å€ä»¥åï¼ŒåŸŸåæœåŠ¡å™¨ä¼šå¯¹è¾“å…¥çš„åŸŸåè¿›è¡Œè§£æï¼ˆDNSè§£æï¼‰ï¼Œè§£ææˆä¸ºè®¡ç®—æœºä¹‹é—´å¯ä»¥è¯†åˆ«çš„ipåœ°å€ã€‚ç„¶è€Œå› ä¸ºä¸€äº›ä¼—æ‰€å‘¨çŸ¥çš„å› ç´ ï¼Œå¾ˆå¤šå›½å¤–çš„ç½‘ç«™åœ¨å›½å†…æ˜¯æ— æ³•ç›´æ¥è®¿é—®çš„ï¼Œå…¶ä¸­ä¸€ä¸ªé™åˆ¶æ–¹æ³•å°±æ˜¯DNSæ±¡æŸ“ï¼Œå°†åŸŸåæœåŠ¡å™¨ä¸­ç¼“å­˜çš„åŸŸåæŒ‡å‘ä¸æ­£ç¡®çš„ipåœ°å€ã€‚è¿™ç§é™åˆ¶æ‰‹æ®µå°±å’Œä½ å…¬å¸ç”µè„‘ä¼šé™åˆ¶ä½ æµè§ˆä¸€äº›ç½‘ç«™æ˜¯ä¸€æ ·çš„ã€‚ å› æ­¤è¦æµè§ˆè¿™äº›è¢«DNSæ±¡æŸ“çš„ç½‘ç«™ï¼Œæˆ‘ä»¬éœ€è¦è·³è¿‡å—æ±¡æŸ“çš„å±€åŸŸåŸŸåæœåŠ¡å™¨ï¼Œå¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯ä»£ç†æœåŠ¡å™¨å’ŒVPNï¼ˆVPNå°±æ˜¯ä¸€ä¸ªå…¸å‹çš„æ­£å‘ä»£ç†ï¼‰ï¼Œé€šè¿‡æ›´è¿œçš„æœåŠ¡å™¨è½¬å‘æˆ‘ä»¬çš„httpè¯·æ±‚ï¼Œåœ¨ç»è¿‡æœªæ±¡æŸ“çš„åŸŸåæœåŠ¡å™¨è§£æä¹‹åï¼Œè¿”å›æˆ‘ä»¬æƒ³è¦çš„ç½‘é¡µå†…å®¹ã€‚å½“ç„¶ï¼Œå¦‚æœä»…ä»…åªæ˜¯ç”¨ç¿»å¢™çš„æ–¹æ³•çš„è¯ï¼Œæœ¬ç¯‡åšå®¢è¿™é‡Œå¯ä»¥ç»“æŸäº†ï¼Œä¸‹é¢é€šè¿‡ä¸‰ç§æƒ…å†µåˆ†åˆ«è®²ä¸€ä¸‹å¦‚ä½•é€šè¿‡ä¿®æ”¹hostç­‰å…¶ä»–æ–¹æ³•è®¿é—®githubã€‚ 1. Windowsç³»ç»Ÿä¿®æ”¹hosté¦–å…ˆæ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœä½ æ­£åœ¨ç”¨ç¿»å¢™è½¯ä»¶æˆ–è€…VPNç­‰ï¼Œéœ€è¦å…ˆå°†æ‰€æœ‰ä»£ç†éƒ½å…³é—­ï¼ˆé˜²æ­¢å…¨å±€ä»£ç†å¯¼è‡´è®¾ç½®çš„hostå¤±æ•ˆï¼‰ã€‚ hostæ–‡ä»¶æ˜¯ä¸€ä¸ªæ²¡æœ‰æ‰©å±•åçš„ç³»ç»Ÿæ–‡ä»¶ï¼Œå¯ä»¥ç”¨notepad++æ‰“å¼€ç¼–è¾‘ï¼Œå…¶æœ¬è´¨å°±æ˜¯å°±æ˜¯å°†è®¿é—®çš„åŸŸåå’Œipåœ°å€å»ºç«‹å…³è”ã€‚å½“æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€æ—¶ï¼Œç³»ç»Ÿä¼šé¦–å…ˆä»hostæ–‡ä»¶ä¸­æ‰¾åˆ°åŸŸåå¯¹åº”çš„ipåœ°å€ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°æ‰ä¼šå‘é€ç»™åŸŸåè§£æå™¨ã€‚æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ‰¾åˆ°githubç›¸å…³åŸŸåå¯¹åº”çš„æ­£ç¡®çš„ipåœ°å€ï¼Œå³å¯æ­£å¸¸è®¿é—®githubï¼ˆå…¶ä»–å—DNSæ±¡æŸ“çš„ç½‘å€åŒç†ï¼‰ã€‚ æ‰“å¼€ç½‘å€ https://www.ipaddress.com/ ä¸»è¦æŸ¥æ‰¾ä»¥ä¸‹githubç›¸å…³åŸŸåçš„ipåœ°å€ï¼Œæœ‰å¤šå°‘ä¸ªè®°å½•å¤šå°‘ä¸ª 123456github.com # ä¸»ç«™nodeload.github.com api.github.com # APIcodeload.github.comgithub.global.ssl.Fastly.net # git cloneé€Ÿåº¦ç›¸å…³assets-cdn.github.com # é™æ€èµ„æºç›¸å…³ windowsç³»ç»Ÿä¸­hostæ–‡ä»¶ä½ç½® C:\\WINDOWS\\System32\\drivers\\etc\\hosts notepad++æ‰“å¼€hostæ–‡ä»¶ï¼Œæœ€ååŠ å…¥å¦‚ä¸‹æŸ¥åˆ°çš„ipåœ°å€ï¼Œä¿å­˜ 12345678910111213141516# domain: github.com# æ›´æ–°æ—¶é—´ 2023å¹´2æœˆ21æ—¥140.82.113.3 github.com140.82.114.10 nodeload.github.com140.82.112.6 api.github.com140.82.114.10 codeload.github.com151.101.1.194 github.global.ssl.Fastly.net151.101.65.194 github.global.ssl.Fastly.net151.101.129.194 github.global.ssl.Fastly.net151.101.193.194 github.global.ssl.Fastly.net185.199.108.153 assets-cdn.github.com185.199.110.153 assets-cdn.github.com185.199.111.153 assets-cdn.github.com æœ€åä¸€æ­¥æ‰“å¼€cmdå‘½ä»¤è¡Œï¼Œåˆ·æ–°ç¼“å­˜å°±å¯ä»¥æ­£å¸¸ç™»å½•githubäº† ipconfig /flushdns 2. Linuxç³»ç»Ÿä¿®æ”¹hostæ–¹æ³•æ­¥éª¤åŒä¸Šï¼Œéœ€è¦æ³¨æ„linuxç³»ç»Ÿä¿®æ”¹hostéœ€è¦rootæƒé™! linuxç³»ç»Ÿhostæ–‡ä»¶è·¯å¾„ /etc/hosts 3. æ— rootæƒé™çš„linuxç³»ç»Ÿè®¿é—®githubæœ‰äº›æ—¶å€™æˆ‘ä»¬ä¼šåœ¨é›†ç¾¤ä¸­å®‰è£…è½¯ä»¶ï¼Œè¿™ä¸ªæ—¶å€™æ˜¯æ²¡æœ‰rootæƒé™çš„ï¼Œæ— æ³•é€šè¿‡ä¿®æ”¹hostçš„æ–¹æ³•ç›´æ¥è®¿é—®ï¼Œå› æ­¤ä¹Ÿæ— æ³•ç”¨git cloneçš„æ–¹æ³•å…‹éš†ä»“åº“ï¼ˆä¼šæŠ¥é”™ï¼Œé”™è¯¯ä»£ç 443ï¼‰ã€‚ ä»Šå¤©ç¢°åˆ°è¿™ä¸ªé—®é¢˜ï¼Œæ‰¾è´ºå¸ˆå…„èŠäº†èŠæ‰å‘ç°å¯ä»¥æ‰¾é•œåƒèµ„æºæ›²çº¿æ•‘å›½â€¦â€¦çªç„¶æ‰“å¼€äº†æ–°ä¸–ç•Œçš„å¤§é—¨hhhh çœŸçš„è§£å†³äº†å›°æ‰°æˆ‘å¾ˆä¹…çš„ç–‘æƒ‘ï¼ŒæŒ‰ç…§å¾€å¸¸æˆ‘åªèƒ½ç¿»å¢™ä¸‹è½½æºä»£ç ï¼Œå†è§£å‹åä¼ å›æœåŠ¡å™¨ï¼Œä¸€æ¥ä¸€å›æ ¡å›­ç½‘çš„é€Ÿåº¦è¦ä¼ å¾ˆä¹…å¾ˆä¹…â€¦â€¦ å…·ä½“åšæ³•æ˜¯å…ˆä¸‹è½½æ²¹çŒ´ï¼ˆTampermonkeyï¼‰æ’ä»¶ï¼Œè¿™æ˜¯ä¸ªéå¸¸æœ‰åçš„è„šæœ¬ç®¡ç†å™¨ï¼Œä¸‹è½½å®‰è£…æ–¹å¼å°±ä¸è¯´äº†ï¼Œç½‘ä¸Šä¸€å¤§æŠŠï¼Œè‡ªå·±æœä¸‹githubå®˜æ–¹ä¹Ÿéå¸¸ç®€å•ã€‚Tampermonkey&#x2F;tampermonkey ç„¶åæ˜¯å®‰è£…githubå¢å¼ºåŠ é€Ÿæ’ä»¶ï¼Œæ’ä»¶åœ°å€ https://greasyfork.org/zh-CN/scripts/412245-github-%E5%A2%9E%E5%BC%BA-%E9%AB%98%E9%80%9F%E4%B8%8B%E8%BD%BD æˆ‘å› ä¸ºå®‰è£…è¿‡äº†ï¼Œè¿™é‡Œå°±åªæ¼”ç¤ºä¸€ä¸‹ï¼š å®‰è£…ä¹‹åå†å›åˆ°åŸæ¥githubé¡µé¢ï¼Œç‚¹å‡»codeæŒ‰é’®ï¼Œå°±å¯ä»¥çœ‹åˆ°åŸæ¥åªæœ‰ä¸€ä¸ªgit cloneåœ°å€ï¼Œç°åœ¨æœ‰å¥½å‡ ä¸ªåœ°å€ç»™å‡ºæ¥äº†ï¼Œåœ¨é›†ç¾¤é‡Œéšä¾¿git cloneé€‰æ‹©å…¶ä»–åœ°å€ï¼Œå°±å¯ä»¥åœ¨æˆåŠŸä¸‹è½½å•¦ã€‚ è¿™ä¸ªjavascriptè„šæœ¬æ„Ÿå…´è¶£çš„è¯å¯ä»¥åœ¨æ²¹çŒ´ä¸­çœ‹çœ‹ï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸ªCDNåŠ é€Ÿå’Œä»£ç†ï¼Œåªä¸è¿‡ç”¨çš„éƒ½æ˜¯å…¬ç›Šèµ„æºï¼Œé€Ÿåº¦ä¹Ÿç›¸å½“ä¸é”™äº†ã€‚ 4. å†™åœ¨æœ€åå‰é¢ä¸¤ä¸ªæ–¹æ³•æ”¹hostå¹¶ä¸æ˜¯ä¸€åŠ³æ°¸é€¸çš„ï¼Œéš”ä¸€æ®µæ—¶é—´githubçš„ipåœ°å€å°±ä¼šæ›´æ–°ï¼ˆä¸å®šï¼Œå¯èƒ½å‡ å¤©ï¼Œå¯èƒ½å‡ å‘¨ï¼‰ã€‚è¿™ç§çº¯æ‰‹åŠ¨æ›´æ–°çš„æ–¹æ³•ä»ç„¶æ˜¯ä¸å¤Ÿæ™ºèƒ½ä¸å¤Ÿä¼˜é›…çš„ï¼Œæœ‰èƒ½åŠ›çš„è¯ä»¥åå†™ä¸€ä¸ªè‡ªåŠ¨æ›´æ–°çš„è„šæœ¬ï¼ˆé—´éš”ä¸€æ®µæ—¶é—´è‡ªåŠ¨æŸ¥æ‰¾ç›¸å…³githubåŸŸåçš„ipåœ°å€ï¼Œè‡ªåŠ¨æ›´æ–°åˆ°hostæ–‡ä»¶ä¸­ï¼‰ã€‚ ç›®å‰ä¸ºæ­¢ï¼Œè¿˜æ˜¯ä»£ç†æœ€ä¸ºçœå¿ƒã€‚","categories":[{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"github","slug":"github","permalink":"http://www.shelven.com/tags/github/"}]},{"title":"æ ¡å›­ç½‘ä»£ç†æœåŠ¡å™¨çš„æ­å»º","slug":"æ ¡å›­ç½‘ä»£ç†æœåŠ¡å™¨çš„æ­å»º","date":"2023-02-09T08:55:45.000Z","updated":"2023-02-09T08:58:49.000Z","comments":true,"path":"2023/02/09/a.html","link":"","permalink":"http://www.shelven.com/2023/02/09/a.html","excerpt":"ä»¥å‰çš„ä¸€ç¯‡åšå®¢è®²è¿‡å¦‚ä½•æ­å»ºåå‘ä»£ç†æœåŠ¡å™¨ï¼Œä»è€Œå®ç°åœ¨æ ¡å¤–ç™»å½•æ ¡å†…é›†ç¾¤ï¼Œè¯¦æƒ…ç‚¹å‡»è¿™é‡Œã€‚æœ¬ç¯‡åšå®¢ä¸»è¦è®°å½•ä¸‹å¦‚æœæƒ³è¦åœ¨æ ¡å¤–ç™»å½•å­¦æ ¡æ•™åŠ¡å¹³å°ã€ç™»å½•å­¦æ ¡è´­ä¹°çš„æ•°å­—èµ„æºåº“åº”è¯¥å¦‚ä½•å®ç°ã€‚","text":"ä»¥å‰çš„ä¸€ç¯‡åšå®¢è®²è¿‡å¦‚ä½•æ­å»ºåå‘ä»£ç†æœåŠ¡å™¨ï¼Œä»è€Œå®ç°åœ¨æ ¡å¤–ç™»å½•æ ¡å†…é›†ç¾¤ï¼Œè¯¦æƒ…ç‚¹å‡»è¿™é‡Œã€‚æœ¬ç¯‡åšå®¢ä¸»è¦è®°å½•ä¸‹å¦‚æœæƒ³è¦åœ¨æ ¡å¤–ç™»å½•å­¦æ ¡æ•™åŠ¡å¹³å°ã€ç™»å½•å­¦æ ¡è´­ä¹°çš„æ•°å­—èµ„æºåº“åº”è¯¥å¦‚ä½•å®ç°ã€‚ 1. å®ç°æ€è·¯é¦–å…ˆè¦æ›´æ­£ä¸€ä¸‹å‰ä¸€ç¯‡åšå®¢çš„é”™è¯¯ä¹‹å¤„ï¼Œå­¦æ ¡é›†ç¾¤æ˜¯æœ‰å…¬ç½‘ipçš„ï¼Œåªæ˜¯é™åˆ¶äº†ipè®¿é—®ã€‚ ä½¿ç”¨çš„å·¥å…·ä»ç„¶æ˜¯frpï¼Œéœ€è¦çš„è®¾å¤‡æ˜¯ä¸€å°åœ¨æ ¡å†…24hä¸æ–­ç”µçš„æœåŠ¡å™¨ï¼ˆæœ¬ç¯‡åšå®¢ä¸­çš„æ ¡å†…é›†ç¾¤ï¼‰ï¼Œä»¥åŠä¸€å°æœ‰å…¬ç½‘ipçš„æ ¡å¤–æœåŠ¡å™¨ï¼ˆæœ¬ç¯‡åšå®¢ä¸­æ˜¯æˆ‘çš„è½»é‡äº‘æœåŠ¡å™¨ï¼‰ã€‚ ä¸Šç¯‡å†…ç½‘ç©¿é€åšå®¢è®°å½•çš„æ˜¯å…¸å‹çš„åå‘ä»£ç†è¿‡ç¨‹ï¼Œå°†æ ¡å†…é›†ç¾¤sshç™»å½•çš„ç«¯å£æ˜ å°„åˆ°æ ¡å¤–æœåŠ¡å™¨çš„å…¶ä»–ç«¯å£ï¼Œé€šè¿‡è®¿é—®è¯¥ç«¯å£ç™»å½•æ ¡å†…é›†ç¾¤ï¼Œæ•´ä¸ªä»£ç†è¿‡ç¨‹å®¢æˆ·ç«¯æ— æ³•å¾—çŸ¥æœåŠ¡ç«¯çš„çœŸå®ipå’Œç«¯å£ï¼Œå¯ä»¥åšåˆ°éšè—æœåŠ¡ç«¯çœŸå®ä¿¡æ¯ã€ç¡®ä¿æœåŠ¡ç«¯å®‰å…¨ã€‚ è€Œæˆ‘ä»¬è¿™é‡Œæƒ³è¦ç™»å½•æ ¡å›­å†…çš„å…¶ä»–ç½‘ç«™ã€ä½¿ç”¨æ ¡å›­ç½‘ipç™»å½•çŸ¥ç½‘ä¸‡æ–¹ç­‰æ•°æ®åº“çš„è¯ï¼Œå°±éœ€è¦ç”¨æ ¡å†…é›†ç¾¤è½¬å‘æˆ‘ä»¬çš„httpè¯·æ±‚ï¼Œå°†è¯·æ±‚è¿”å›çš„ç»“æœé€šè¿‡æ ¡å¤–æœåŠ¡å™¨ä¸­è½¬åè¿”å›ç»™æˆ‘ä»¬ï¼ŒæŒ‰ç…§æˆ‘çš„ç†è§£ï¼Œè¿™æ˜¯ä¸€ä¸ªæ­£å‘ä»£ç†+åå‘ä»£ç†ç»“åˆçš„è¿‡ç¨‹ã€‚ åå‘ä»£ç†ï¼šéšè—äº†æœåŠ¡ç«¯ï¼Œæˆ‘å¹¶ä¸çŸ¥é“æˆ‘è®¿é—®çš„å®é™…æ˜¯æ ¡å†…é›†ç¾¤ï¼ˆè¾“å…¥çš„æ˜¯æ ¡å¤–æœåŠ¡å™¨çš„ipåœ°å€å’Œç«¯å£ï¼‰ã€‚ æ­£å‘ä»£ç†ï¼šéšè—äº†å®¢æˆ·ç«¯ï¼Œé›†ç¾¤å°†httpè¯·æ±‚è½¬å‘åˆ°æ ¡å†…ç½‘ç«™å’Œå­¦æ ¡ä¹°çš„æ•°æ®åº“ç½‘ç«™ï¼ˆåè€…å¹¶ä¸çŸ¥é“å‘å‡ºè¯·æ±‚çš„å®é™…æ˜¯æ ¡å¤–æœåŠ¡å™¨ï¼‰ã€‚ æ ¡å†…é›†ç¾¤åœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­ä¿¡æ¯å®Œå…¨è¢«éšè—ï¼Œæ ¡å¤–æœåŠ¡å™¨èµ·åˆ°ä¸­è½¬çš„ä½œç”¨ï¼Œæœ€åå°†httpè¯·æ±‚è¿”å›çš„ç»“æœä¼ é€’ç»™æˆ‘ä»¬ã€‚ 2. frpé…ç½®2.1 serviceç«¯é…ç½®frpså®‰è£…åœ¨æ ¡å¤–æœåŠ¡å™¨ä¸Šï¼Œfrps.inié…ç½®æ–‡ä»¶å®Œå…¨ä¸ç”¨ä¿®æ”¹ï¼Œè¿™é‡Œå°±é¡ºä¾¿å±•ç¤ºä¸€ä¸‹ 123456789101112131415[common]bind_port = 7000 # frpç›‘å¬çš„ç«¯å£ï¼Œé»˜è®¤7000ï¼Œå¯æ”¹bind_udp_port = 7400 # UDPé€šè®¯ç«¯å£ï¼Œå¯ä¸è®¾ç½®ï¼Œç”¨äºç‚¹å¯¹ç‚¹ç©¿é€token = xxxxxxxx # å®‰å…¨è€ƒè™‘éœ€è¦è®¾ç½®å£ä»¤ï¼Œclientç«¯éœ€è¦ç”¨åˆ°dashboard_port = 7500 # frpç®¡ç†ç«¯å£ï¼Œå¯æ”¹dashboard_user = xxxx # ç®¡ç†ç«¯å£è®¤è¯çš„ç”¨æˆ·åï¼Œç”¨äºèº«ä»½è¯†åˆ«ï¼Œè‡ªå·±è®¾ç½®dashboard_pwd = xxxx # ç®¡ç†ç«¯å£è®¤è¯çš„å¯†ç ï¼Œç”¨äºèº«ä»½è¯†åˆ«ï¼Œè‡ªå·±è®¾ç½®enable_prometheus = truesubdomain_host = xxx.xxx.xxx # è®¾ç½®å­åŸŸåï¼Œä¸»è¦æ–¹ä¾¿ç™»å½•ç®¡ç†ç•Œé¢ã€‚ä¸ç”¨ipåœ°å€ï¼Œç”¨åŸŸå+ç«¯å£çš„æ–¹å¼ç›´æ¥è®¿é—®log_file = /usr/local/frp/frps.log # frpæ—¥å¿—é…ç½®ï¼Œè¿™é‡Œæ˜¯è®°å½•3å¤©çš„æ—¥å¿—ä¿¡æ¯log_level = infolog_max_days = 3 2.2 clientç«¯é…ç½®frpcå®‰è£…åœ¨æ ¡å†…é›†ç¾¤ï¼Œfrpc.inié…ç½®æ–‡ä»¶ä¿®æ”¹å¦‚ä¸‹ 123456789[common]server_addr = xxx.xxx.xxx.xxx # å¡«å†™ä½ çš„serviceç«¯æœåŠ¡å™¨å…¬ç½‘ipï¼Œè¿™é‡Œæˆ‘å†™æˆ‘çš„äº‘æœåŠ¡å™¨ipserver_port = 7000 # å‰é¢è®¾ç½®çš„frpç›‘å¬ç«¯å£ï¼Œéœ€è¦ä¿æŒä¸€è‡´token = xxxxxxxxx # å‰é¢è®¾ç½®çš„å£ä»¤[http_proxy] # è¿™é‡Œåªæ¼”ç¤ºhttpä»£ç†ï¼Œæœ‰sshéœ€æ±‚çš„è‡ªè¡ŒåŠ å…¥ï¼Œå…¶ä»–å‚è€ƒfrpc_full.initype = tcpremote_port = xxxx # æ˜ å°„çš„serviceç«¯æœåŠ¡å™¨çš„ç«¯å£ï¼Œè‡ªå·±å®šä¹‰plugin = http_proxy # httpä»£ç†æ’ä»¶ï¼ˆfrpcè‡ªå¸¦ï¼‰ 2.3 å¼€æ”¾ç«¯å£ï¼Œå¼€å¯frpæœåŠ¡serviceç«¯ï¼ˆä¹Ÿå°±æ˜¯æ ¡å¤–æœåŠ¡å™¨ï¼‰å¼€æ”¾ä¸Šä¸€æ­¥clientç«¯è®¾ç½®çš„æœåŠ¡å™¨ç«¯å£ï¼Œé‡è½½é˜²ç«å¢™ã€‚ åˆ†åˆ«åœ¨serviceç«¯å’Œclientç«¯åå°ä¸æŒ‚èµ·è¿è¡Œfrpså’Œfrpcï¼ˆå¯¹åº”æ–‡ä»¶å¤¹ä¸­è¿è¡Œï¼‰ 12nohup ./frps -c frps.ini &amp;nohup ./frpc -c frpc.ini &amp; serviceç«¯å¯ä»¥æŸ¥çœ‹è¿è¡Œæ—¥å¿—frps.logæ–‡ä»¶ï¼Œç«¯å£ç›‘å¬æˆåŠŸå³å¯ï¼›clientç«¯å¯ä»¥æŸ¥çœ‹nohupæ–‡ä»¶çš„è¿è¡Œç»“æœï¼ˆæœ€å¥½å®šæ—¶æ¸…ä¸€ä¸‹ï¼Œå¦åˆ™è¿™ä¸ªæ–‡ä»¶ä¼šå¾ˆå¤§ï¼‰ã€‚ å¦‚æœæƒ³è¦åœæ­¢frpæœåŠ¡ï¼ŒæŸ¥çœ‹ä»»æ„serviceç«¯æˆ–è€…clientç«¯çš„frpç¨‹åºè¿›ç¨‹ï¼Œç»“æŸå³å¯ 12ps -aux | grep frp # æŸ¥çœ‹ä»»åŠ¡è¿›ç¨‹å·kill -9 è¿›ç¨‹å· # ç»“æŸä»»åŠ¡è¿›ç¨‹ 3. ä»£ç†å®ç°æŒ‰ç…§ä¸Šé¢æ­¥éª¤æ­å»ºå¥½ä»£ç†æœåŠ¡å™¨ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨ç”µè„‘ä¸Šè®¾ç½®ä»£ç†åœ°å€å’Œç«¯å£ï¼Œå°±å¯ä»¥åœ¨ç”µè„‘ä¸Šç”¨å¤–ç½‘è®¿é—®æ ¡å›­å†…ç½‘å’Œæ•°æ®åº“ç½‘ç«™äº†ã€‚ ä¸Šé¢çš„å›¾ç‰‡æˆ‘å°±ä¸æ”¾çœŸå®ä¿¡æ¯äº†ï¼Œæ ¹æ®å›¾ç‰‡æ„æ€è®¾ç½®å³å¯ï¼Œä¸€èˆ¬æ¥è¯´æ•™ç¨‹åˆ°è¿™é‡Œå°±å¯ä»¥ç»“æŸäº†ï¼Œä½†æ˜¯ä»…ä»…å¦‚æ­¤è¿˜ä¸å¤Ÿä¼˜é›…ã€‚ å¦‚æœä¸å¯¹åœ°å€è¿›è¡Œé™åˆ¶ï¼Œé‚£ä¹ˆæ‰€æœ‰httpè®¿é—®éƒ½å°†é€šè¿‡ä»£ç†è¿›è¡Œï¼Œå³å…¨å±€ä»£ç†ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æˆ‘ä»¬æ˜¯ä¸å¸Œæœ›å¦‚æ­¤çš„ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå¦‚æœè®¿é—®çš„æ˜¯localhostï¼Œæˆ‘ä»¬ä¸€èˆ¬æ˜¯ç”¨ç›´è¿ï¼ˆDirectï¼‰ï¼›è®¿é—®é™åˆ¶ipçš„ç‰¹å®šçš„ç½‘ç«™èµ°ä»£ç†æœåŠ¡å™¨ï¼ˆProxyï¼‰ï¼›è®¿é—®ä¸é™åˆ¶ipçš„ç½‘ç«™ä»ç„¶ç”¨ç›´è¿ï¼Œå› ä¸ºç›´è¿é€Ÿåº¦æœ€å¿«ï¼Œåªå—ä½ ç”µè„‘å¸¦å®½é™åˆ¶ã€‚ å¦‚æœè®¿é—®æ‰€æœ‰ç½‘ç«™éƒ½ç”¨ä»£ç†çš„è¯ï¼Œæ¯”å¦‚æˆ‘çš„å°ç ´æœåŠ¡å™¨å°±1Må¸¦å®½ï¼Œé€Ÿåº¦å°±å¾ˆæ„Ÿäººäº†â€¦â€¦ ç®€å•è®²ä¸€è®²ä¸‰ç§æ–¹æ³•ä¼˜é›…åœ°å®ç°æ ¡å›­ç½‘ä»£ç† 3.1 ä½¿ç”¨è®¾ç½®è„šæœ¬æ²¡é”™å°±æ˜¯æ‰‹åŠ¨è®¾ç½®ä»£ç†ä¸Šé¢é‚£ä¸ªé€‰é¡¹ï¼Œè¿™ä¸ªè„šæœ¬æ˜¯ä»¥**.PACä¸ºæ‰©å±•åçš„JavaScriptè„šæœ¬**ï¼Œå†³å®šhttpè¯·æ±‚æ˜¯é€šè¿‡ç›´è¿ç›®æ ‡è¿˜æ˜¯é€šè¿‡ä»£ç†çš„æ–¹å¼è¿æ¥ã€‚ pacæ–‡ä»¶ä¸­ä½¿ç”¨çš„JavaScript å‡½æ•°å¯ä»¥åœ¨å®˜æ–¹æŸ¥åˆ°ç”¨æ³•ï¼Œè¿™é‡Œåšä¸ªç¤ºä¾‹ï¼š 12345678910111213141516171819function FindProxyForURL(url, host) &#123; //è®¾ç½®ä»£ç†æ±  var proxy1 = &quot;PROXY xxx.xxx.xxx.xxx:xxxx&quot;; var proxy2 = &quot;PROXY xxx.xxx.xxx.xxx:xxxx&quot;; //æœ¬åœ°åœ°å€ç›´è¿ if (isPlainHostName(host)) &#123; return &quot;DIRECT&quot;; &#125; // ä»£ç†1 if (shExpMatch(url, &quot;*.cnki.com/*&quot;)) &#123; return proxy1; &#125; // ä»£ç†2 if (shExpMatch(url, &quot;*.wanfangdata.com.cn/*&quot;)) &#123; return proxy2; &#125; return &quot;DIRECT&quot;;&#125; å°†ä¸Šé¢çš„æ–‡ä»¶ä¿å­˜ä¸º.pacæ ¼å¼æ–‡ä»¶ï¼Œä»£ç†æ± éƒ¨åˆ†å¡«å†™å‰é¢åšçš„ä»£ç†æœåŠ¡å™¨ipå’Œç«¯å£ï¼ˆå½“ç„¶æˆ‘åªæœ‰ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼Œæ ¹æ®éœ€è¦è‡ªå·±æ”¹ï¼‰ï¼Œéœ€è¦ä»£ç†çš„ç½‘å€è¿™é‡Œå¯ä»¥ç”¨shExpMatchå‡½æ•°è¿›è¡Œæ­£åˆ™åŒ¹é…ï¼Œå®Œæˆåå†è®¾ç½®è‡ªåŠ¨è®¾ç½®ä»£ç†éƒ¨åˆ†ã€‚æ‰“å¼€è‡ªåŠ¨æ£€æµ‹è®¾ç½®å’Œä½¿ç”¨è®¾ç½®è„šæœ¬ï¼Œå°†.pacæ–‡ä»¶çš„åœ°å€ï¼ˆå¯ä»¥æ˜¯æœ¬åœ°åœ°å€æˆ–è€…æ”¾åœ¨ä½ è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼Œèƒ½è®¿é—®åˆ°å°±è¡Œï¼‰è´´åˆ°è„šæœ¬åœ°å€æ ã€‚ æ¥ä¸‹æ¥å°±å¯ä»¥æ„‰å¿«åœ°è®¿é—®å­¦æ ¡è´­ä¹°çš„æ•°å­—èµ„æºå•¦å¹¶ä¸”ä¸Šå…¶ä»–ç½‘ç«™å› ä¸ºæ˜¯ç›´è¿ç½‘é€Ÿä¹Ÿä¸ä¼šå˜æ…¢ 3.2 ä½¿ç”¨å…¶ä»–ä»£ç†è½¯ä»¶ä»£ç†è½¯ä»¶ç§ç±»ç¹å¤šï¼Œç›¸æ¯”ç›´æ¥è®¾ç½®è„šæœ¬ï¼Œä»£ç†è½¯ä»¶å¾€å¾€è¿˜æä¾›æ›´å¤šæ›´ç›´è§‚çš„æ–¹å¼æ§åˆ¶httpä»£ç†æ–¹å¼ï¼Œè¿™é‡Œå°±ç®€å•ä»‹ç»ä¸ªè½¯ä»¶Proxifier è®¾ç½®æ–¹æ³•ä¸æ‰‹åŠ¨è®¾ç½®å¤§åŒå°å¼‚ï¼ˆæ‰‹åŠ¨è®¾ç½®çš„ä»£ç†è§„åˆ™æ¯”è¾ƒåäººç±»ï¼‰ï¼ŒåŒæ ·æ˜¯è®¾ç½®ä»£ç†æœåŠ¡å™¨ipï¼Œç«¯å£ï¼Œå¯ä»¥è®¾ç½®ä¸åŒçš„åè®®ï¼Œè¿˜å¯ä»¥å¯ç”¨éªŒè¯ä¿è¯å®‰å…¨ã€‚ è®¾ç½®ä»£ç†è§„åˆ™ ä»£ç†è§„åˆ™å°±ä¸ä¸€ä¸€ç»†è¯´äº†ï¼Œè¿™ä¸ªè½¯ä»¶å°±æ˜¯æ¯”è¾ƒç›´è§‚ï¼Œè€Œä¸”è¿˜å¯ä»¥è®°å½•ä»£ç†äº§ç”Ÿçš„æµé‡ç­‰ç­‰ã€‚ 3.3 åšä¸ªåˆ‡æ¢å…¨å±€ä»£ç†å·¥å…·å¦‚æœæ˜¯è‡ªå·±ç”¨çš„è¯ï¼Œä½¿ç”¨ä»£ç†è„šæœ¬æ˜¯æœ€ç®€å•æœ€ä¼˜é›…åˆä¸è´¹äº‹çš„æ–¹æ³•ã€‚ å¦‚æœè¦ç»™åŒä¸€ä¸ªå®éªŒå®¤å…¶ä»–äººåˆ†äº«ï¼Œåˆæ€•åˆ«äººç”µè„‘ä¸å®‰å…¨ï¼ˆç›´æ¥åˆ†äº«è„šæœ¬ä¼šå¯¼è‡´æºç æ³„éœ²ï¼Œä¸‡ä¸€åˆ«äººç”µè„‘è¢«é»‘äº†è‡ªå·±æœåŠ¡å™¨çš„ä¿¡æ¯å°±è¢«æš´éœ²äº†ï¼‰ï¼Œå°±å¯ä»¥åšä¸€ä¸ªä»£ç†å·¥å…·ï¼Œåˆ«äººç”¨å¾—ç€çš„æ—¶å€™å¼€å¯ï¼Œç”¨ä¸ç€çš„æ—¶å€™å°±å…³é—­ï¼ˆå…¨å±€ä»£ç†çš„é‡è¦æ€§ï¼Œå°±ç®—å¿˜è®°å…³é—­ä»£ç†ï¼Œçœ‹åˆ°åˆ«çš„ç½‘é¡µé€Ÿåº¦å˜æ…¢äº†ï¼Œä¹Ÿå°±ä¼šæƒ³èµ·æ¥å»å…³é—­ä»£ç†äº†ï¼‰ï¼Œå¯ä»¥ä¸€å®šç¨‹åº¦ä¸Šä¿æŠ¤è‡ªå·±æœåŠ¡å™¨çš„å®‰å…¨ï¼Œåˆç®€åŒ–åˆ«äººè®¾ç½®ä»£ç†çš„æ­¥éª¤ï¼Œä¸€ä¸¾ä¸¤å¾—å“ˆå“ˆ~ å®ç°æ–¹å¼å°±æ˜¯åšä¸€ä¸ªæ‰¹å¤„ç†ï¼Œç„¶åå°†batè½¬åŒ–ä¸ºexeå³å¯ 1234567891011121314151617181920212223242526272829303132333435363738394041424344@echo offfor /f &quot;tokens=1,2,* &quot; %%i in (&#x27;REG QUERY &quot;HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings&quot; /v ProxyEnable ^| find /i &quot;ProxyEnable&quot;&#x27;) do (set /A ProxyEnableValue=%%k)if %ProxyEnableValue% equ 0 ( echo æ­£åœ¨å¼€å¯çŸ¥ç½‘ä»£ç†ï¼Œè¯·ç¨å€™... ping -n 2 127.0.0.1&gt;nul echo= echo è·å–æ³¨å†Œè¡¨ä¸­ä»£ç†å¯ç”¨çŠ¶æ€...... reg add &quot;HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings&quot; /v ProxyEnable /t REG_DWORD /d 1 /f ping -n 2 127.0.0.1&gt;nul echo= echo è®¾ç½®ä»£ç†æœåŠ¡å™¨...... reg add &quot;HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings&quot; /v ProxyServer /d &quot;xxx.xxx.xxx.xxx:xxxx&quot; /f ping -n 2 127.0.0.1&gt;nul echo= echo ä»£ç†å·²å¼€å¯ï¼Œè¯·é˜…è¯»å¼¹çª—å†…å®¹å¹¶æŒ‰ç¡®è®¤é”®å…³é—­æœ¬çª—å£... echo= echo çŸ¥ç½‘ä¸€é”®ä»£ç†å·¥å…· Version 1.0 echo ç‰ˆæƒæ‰€æœ‰ å¡”é‡Œæœ¨å¤§å­¦ç ”å‘ä¸­å¿ƒ405. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚ echo è¯¥å·¥å…·ç”±405å®éªŒå®¤å†…éƒ¨å¼€å‘ï¼Œä»…ä¾›æœ¬å®éªŒå®¤äººå‘˜ä½¿ç”¨ï¼Œåˆ‡å‹¿å¤–ä¼ ã€‚ echo msgbox&quot;ä»£ç†å¼€å¯æœŸé—´ç½‘é€Ÿä¼šå˜æ…¢ï¼Œä½¿ç”¨å®Œæ¯•åè¯·å†æ¬¡ç‚¹å‡»è¯¥å·¥å…·ç»“æŸä»£ç†ï¼&quot;,0,&quot;æç¤º&quot;&gt; %tmp%\\\\tmp.vbs cscript /nologo %tmp%\\\\tmp.vbs del %tmp%\\\\tmp.vbs) else if %ProxyEnableValue% equ 1 ( echo æ­£åœ¨å…³é—­çŸ¥ç½‘ä»£ç†ï¼Œè¯·ç¨å€™... ping -n 2 127.0.0.1&gt;nul echo= echo è·å–æ³¨å†Œè¡¨ä¸­ä»£ç†å¯ç”¨çŠ¶æ€...... reg add &quot;HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings&quot; /v ProxyEnable /t REG_DWORD /d 0 /f ping -n 2 127.0.0.1&gt;nul echo= echo æ¸…é™¤ä»£ç†æœåŠ¡å™¨è®¾ç½®...... reg add &quot;HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Internet Settings&quot; /v ProxyServer /d &quot;&quot; /f ping -n 2 127.0.0.1&gt;nul echo= echo ä»£ç†å·²å…³é—­ï¼Œè¯·æŒ‰ç¡®è®¤é”®é€€å‡ºæœ¬çª—å£... echo= echo çŸ¥ç½‘ä¸€é”®ä»£ç†å·¥å…· Version 1.0 echo ç‰ˆæƒæ‰€æœ‰ å¡”é‡Œæœ¨å¤§å­¦ç ”å‘ä¸­å¿ƒ405. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚ echo è¯¥å·¥å…·ç”±405å®éªŒå®¤å†…éƒ¨å¼€å‘ï¼Œä»…ä¾›æœ¬å®éªŒå®¤äººå‘˜ä½¿ç”¨ï¼Œåˆ‡å‹¿å¤–ä¼ ã€‚ echo msgbox&quot;å†è§ã€‚&quot;,0,&quot;æç¤º&quot;&gt; %tmp%\\\\tmp.vbs cscript /nologo %tmp%\\\\tmp.vbs del %tmp%\\\\tmp.vbs) ä¸Šé¢çš„å†…å®¹æ–‡ä»¶ä¿å­˜ä¸º.batåç¼€æ–‡ä»¶ï¼ˆæœ‰ä¸­æ–‡çš„è¯ï¼Œä¿å­˜æ—¶ç¼–ç æ ¼å¼è¦æ”¹ä¸ºANSIï¼‰ï¼Œåªéœ€ä¿®æ”¹xxx.xxx.xxx.xxx:xxxxéƒ¨åˆ†ä¸ºä½ å‰é¢è®¾ç½®çš„ä»£ç†æœåŠ¡å™¨ipå’Œç«¯å£å³å¯ã€‚ åŸç†å°±æ˜¯è·å–æ³¨å†Œè¡¨ä¸­ä»£ç†æœåŠ¡çš„å¼€å¯çŠ¶æ€ï¼Œè½¬åŒ–ä¸ºå¦ä¸€ç§çŠ¶æ€ï¼Œ ping -n 2 127.0.0.1è¿™ä¸ªåªæ˜¯ä¸ºäº†ä½¿ç”¨è€…æœ‰å‚ä¸æ„Ÿâ€¦â€¦å»¶è¿Ÿä¸¤ç§’è¿›è¡Œä¸‹ä¸€æ­¥å¤„ç†hhhhhh æœ€åç½‘ä¸Šæ‰¾ä¸ªå›¾ï¼Œè½¬æˆiconæ ¼å¼ä½œä¸ºå›¾æ ‡ï¼Œç„¶åå°†batæ‰¹å¤„ç†æ ¼å¼æ–‡ä»¶è½¬åŒ–æˆexeå¯æ‰§è¡Œç¨‹åºæ–‡ä»¶å³å¯ï¼Œæˆ‘è¿™é‡Œç”¨çš„Bat_To_Exe_Converterè¿™ä¸ªè½¯ä»¶ï¼Œè½¬æˆexeæºç ä¸å®¹æ˜“è¢«æ³„éœ²ï¼Œè€Œä¸”æ€ä¹ˆè¯´å‘¢çœ‹ä¸Šå»ç»™äººæ„Ÿè§‰ä¹Ÿç¨å¾®æ­£å¼ä¸€ç‚¹ï¼ˆbushiï¼‰ã€‚ å¤§æ¦‚å°±æ˜¯è¿™æ ·ï¼Œæ¯åŒå‡»ä¸€æ¬¡åº”ç”¨ç¨‹åºï¼Œåˆ‡æ¢å…¨å±€ä»£ç†çš„çŠ¶æ€ä¸ºå¼€æˆ–è€…å…³ 4. æ³¨æ„æµè§ˆå™¨æ˜¯ä¼šç¼“å­˜ipä¿¡æ¯çš„ï¼Œæ— è®ºä½¿ç”¨ä½•ç§æ–¹å¼å¼€å¯ä»£ç†ï¼Œæœ€å¥½éƒ½å…ˆå…³é—­æµè§ˆå™¨ä¹‹åé‡æ–°æ‰“å¼€ã€‚","categories":[{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"å†…ç½‘ç©¿é€","slug":"å†…ç½‘ç©¿é€","permalink":"http://www.shelven.com/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"},{"name":"ä»£ç†æœåŠ¡å™¨","slug":"ä»£ç†æœåŠ¡å™¨","permalink":"http://www.shelven.com/tags/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8/"}]},{"title":"åŸºäºrequestså’ŒXpathæ”¹è¿›å¾®ä¿¡å…¬ä¼—å·çˆ¬è™«","slug":"åŸºäºrequestså’ŒXpathæ”¹è¿›å¾®ä¿¡å…¬ä¼—å·çˆ¬è™«","date":"2022-12-18T15:00:18.000Z","updated":"2022-12-18T15:03:38.000Z","comments":true,"path":"2022/12/18/a.html","link":"","permalink":"http://www.shelven.com/2022/12/18/a.html","excerpt":"å‰é¢ä¸€ç¯‡åšå®¢è®²äº†requestsã€Xpathå’Œseleniumçš„ç”¨æ³•ï¼Œæœ€åç”¨seleniumæ¨¡æ‹Ÿæµè§ˆå™¨å¯¹æœç‹—å¾®ä¿¡æ–‡ç« åšäº†è‡ªåŠ¨åŒ–çˆ¬å–ã€‚ä»æœç‹—å¾®ä¿¡ç½‘é¡µçˆ¬å–çš„å…¬ä¼—å·æ–‡ç« å…¶å®æ˜¯ä¸å…¨çš„ï¼Œä¸èƒ½ä¿è¯å…¬ä¼—å·çš„æ‰€æœ‰æ–‡ç« éƒ½è¢«æœç‹—æ”¶å½•ï¼Œä¸”seleniumçˆ¬å–é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼ˆä½†æ˜¯å¯¹åŠ¨æ€é¡µé¢çˆ¬å–å¾ˆæœ‰ç”¨ï¼‰ï¼Œå› æ­¤å¯ä»¥é€‰æ‹©å¦ä¸€ç§æ–¹å¼â€”â€”ç›´æ¥ä»å¾®ä¿¡å…¬ä¼—å·åå°è¿›è¡Œçˆ¬å–ã€‚","text":"å‰é¢ä¸€ç¯‡åšå®¢è®²äº†requestsã€Xpathå’Œseleniumçš„ç”¨æ³•ï¼Œæœ€åç”¨seleniumæ¨¡æ‹Ÿæµè§ˆå™¨å¯¹æœç‹—å¾®ä¿¡æ–‡ç« åšäº†è‡ªåŠ¨åŒ–çˆ¬å–ã€‚ä»æœç‹—å¾®ä¿¡ç½‘é¡µçˆ¬å–çš„å…¬ä¼—å·æ–‡ç« å…¶å®æ˜¯ä¸å…¨çš„ï¼Œä¸èƒ½ä¿è¯å…¬ä¼—å·çš„æ‰€æœ‰æ–‡ç« éƒ½è¢«æœç‹—æ”¶å½•ï¼Œä¸”seleniumçˆ¬å–é€Ÿåº¦ç›¸å¯¹è¾ƒæ…¢ï¼ˆä½†æ˜¯å¯¹åŠ¨æ€é¡µé¢çˆ¬å–å¾ˆæœ‰ç”¨ï¼‰ï¼Œå› æ­¤å¯ä»¥é€‰æ‹©å¦ä¸€ç§æ–¹å¼â€”â€”ç›´æ¥ä»å¾®ä¿¡å…¬ä¼—å·åå°è¿›è¡Œçˆ¬å–ã€‚ è¿™ä¸¤å¤©æ”¹äº†ä¸‹ä»£ç ï¼Œå°±è®²ä¸€è®²ä»å¾®ä¿¡å…¬ä¼—å·åå°çˆ¬æ–‡ç« çš„æ€è·¯ã€‚ 1. å‡†å¤‡å·¥ä½œé¦–å…ˆæ˜¯ç”³è¯·å¾®ä¿¡å…¬ä¼—å·ï¼Œè‡ªä»2018å¹´å¾®ä¿¡å…¬ä¼—å·åŠ å¼ºç”¨æˆ·ç®¡ç†ä»¥åï¼Œä¸€ä¸ªèº«ä»½è¯åªå¯ä»¥æ³¨å†Œä¸€ä¸ªè®¢é˜…å·äº†ï¼Œé™¤éä½ æœ‰è¥ä¸šæ‰§ç…§ï¼Œä»¥å…¬å¸ä¸ºä¸»ä½“æ³¨å†Œåé¢è¿˜èƒ½åŠ ä¸¤ä¸ªã€‚æ¯”è¾ƒå»ºè®®å¤šå¼„å‡ ä¸ªå¾®ä¿¡å…¬ä¼—å·ï¼Œåªè¦ç»‘å®šè‡ªå·±æ˜¯è¿è¥è€…å°±è¡Œï¼Œå¯ä»¥è®©æœ‹å‹å¸®å¿™æ³¨å†Œä¸€ä¸‹ï¼Œä»å¾®ä¿¡å…¬ä¼—å·åå°ç›´æ¥çˆ¬æ˜¯æœ‰å¯èƒ½è¢«banæ¥å£çš„ï¼Œè¢«åçˆ¬æœºåˆ¶æ£€æµ‹åˆ°ç¬¬ä¸€æ¬¡banä¸€å°æ—¶ï¼Œç¬¬äºŒæ¬¡å¯èƒ½banä¸€å¤©ï¼Œçœ‹æƒ…å†µè€Œå®šã€‚ æˆ‘è¿™é‡Œæ˜¯å‡†å¤‡äº†ä¸‰ä¸ªå¾®ä¿¡å…¬ä¼—å·ï¼Œä¿è¯çˆ¬å–è¿‡ç¨‹ä¸ä¸­æ–­~ é¦–å…ˆè¿›å…¥å¾®ä¿¡å…¬ä¼—å·åå°ï¼Œç‚¹å‡»å›¾æ–‡æ¶ˆæ¯ï¼Œåœ¨è·³è½¬çš„ç¼–è¾‘é¡µé¢ä¸Šæ–¹ç‚¹å‡»è¶…é“¾æ¥ã€‚ åœ¨è¿™ä¸ªé¡µé¢æŒ‰F12è¿›å…¥å¼€å‘è€…å·¥å…·ï¼Œé“¾æ¥å†…å®¹é€‰æ‹©å…¶ä»–å…¬ä¼—å·ï¼Œè¾“å…¥ä½ æƒ³è¦çˆ¬çš„å…¬ä¼—å·åå­—ï¼Œç‚¹å‡»å³è¾¹æ”¾å¤§é•œæœç´¢åå¯¹è¿”å›æ•°æ®æŠ“åŒ…ã€‚ è¿™é‡Œç¬¬ä¸€ä¸ªè¿”å›çš„æ•°æ®åŒ…æ˜¯æ˜¾ç¤ºå…¬ä¼—å·æœç´¢å†…å®¹çš„ï¼Œä¸€ä¸ªé‡è¦çš„å‚æ•°fakeidå°±æ˜¯å…¬ä¼—å·åå­—çš„å†…éƒ¨ç¼–å·ã€‚ç„¶åè¿”å›å‰é¢çš„æ ‡å¤´ï¼Œè·å–cookieï¼Œè¿™æ˜¯æˆ‘ä»¬ç™»å½•å¾®ä¿¡å…¬ä¼—å·çš„å‡­è¯ï¼Œåé¢çˆ¬å–ç½‘é¡µå¿…é¡»å¸¦ä¸Šcookieå†…å®¹ã€‚ ç‚¹å‡»æˆ‘ä»¬è¦æ‰¾çš„å…¬ä¼—å·ï¼ˆä½ åå­—è¾“å¯¹çš„è¯è‚¯å®šæ˜¯ç¬¬ä¸€ä¸ªï¼‰ï¼Œåˆè¿”å›ä¸€ä¸ªæ•°æ®åŒ…ï¼Œåœ¨è´Ÿè½½é‡Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°beginå’Œcountä¸¤ä¸ªé‡è¦çš„å‚æ•°ã€‚åœ¨è¯•éªŒè¿‡åå¯ä»¥å‘ç°ï¼Œbeginè¡¨ç¤ºä»å“ªä¸€é¡µå¼€å§‹ï¼Œcountè¡¨ç¤ºä¸€é¡µæ˜¾ç¤ºå¤šå°‘å¤©çš„æ¨é€ï¼Œè¿™é‡Œcountå€¼åœ¨æˆ‘å¤šæ¬¡è¯•éªŒä¹‹åï¼Œå‘ç°æœ€å¤§å€¼ä¸º5ï¼Œä¼ å…¥è¶…è¿‡5çš„æ•°éƒ½ä¼šå˜æˆé»˜è®¤å€¼5ï¼ˆä¹Ÿå°±æ˜¯è¯´ä¸èƒ½é€šè¿‡ä¸€é¡µè·å–æ‰€æœ‰æ–‡ç« çš„urlï¼‰ï¼ è€Œåœ¨å“åº”ä½“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ‰€æœ‰è¿”å›æ–‡ç« çš„titleã€linkã€update_timeã€digestç­‰é‡è¦çš„ä¿¡æ¯éƒ½åœ¨app_msg_listä¸­ï¼Œä¸Šé¢çš„app_msg_countå€¼æˆ‘æµ‹è¯•åå‘ç°æ˜¯è®°å½•ä¸€å…±å‘å¸ƒæ–‡ç« å¤©æ•°çš„ã€‚ åœ¨è¿™ä¸ªå…¬ä¼—å·ä¾‹å­ä¸­ï¼Œdigestæœ¬æ¥åº”è¯¥æ˜¯æ‘˜è¦çš„ï¼Œä½†åœ¨è¿™é‡Œåªæ˜¯ä¸€æ®µç”šè‡³åŠæ®µå†…å®¹ï¼Œæ— æ³•æå–æœ‰ç”¨çš„ä¿¡æ¯ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥å¿½ç•¥äº†è¿™éƒ¨åˆ†æ•°æ®ï¼›è€Œä¸”ä¸€èˆ¬å…¬ä¼—å·ä¼šæŠŠsubtitleåˆ†ç¦»å‡ºæ¥ï¼Œè¿™ä¸ªå…¬ä¼—å·æ²¡æœ‰ï¼Œå› æ­¤éœ€è¦å†™ä¸€æ®µä»£ç åˆ†ç¦»æ ‡é¢˜ä¸­çš„åˆ†ç±»æ ‡é¢˜ï¼Œä»¥æ ‡é¢˜ä¸­çš„ç«–çº¿æ¥åˆ†å‰²â€œå‰¯æ ‡é¢˜ï¼ˆåˆ†ç±»ï¼‰|æ ‡é¢˜â€ã€‚ æ¥ä¸‹æ¥å¯ä»¥éšä¾¿ç‚¹ä¸€ä¸ªlinkï¼ŒF12çœ‹çœ‹æ–‡ç« çš„htmlç»“æ„ï¼Œè®°å½•æ–‡ç« å†…å®¹çš„xpathåœ°å€ï¼ˆä¸è®°å¾—xpathåœ°å€æ€ä¹ˆæ‰¾çš„è¯ï¼Œçœ‹å‰ä¸€ç¯‡xpathç”¨æ³•ï¼‰ã€‚è¿™é‡Œæ–‡ç« çš„å›¾ç‰‡æˆ‘å°±æ²¡æœ‰æ”¶é›†äº†ï¼Œæˆ‘åªæ”¶é›†äº†æ–‡å­—éƒ¨åˆ†å†…å®¹ã€‚ æ¯ä¸ªå…¬ä¼—å·æ’ç‰ˆä¸ä¸€æ ·ï¼Œæ ¹æ®å†…å®¹å†å†™ä¸€ä¸ªæ­£åˆ™åŒ¹é…ä¸€ä¸‹ä¸éœ€è¦çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯å¯¹å†…å®¹â€œå»å™ªâ€ã€‚ä¸è¯¦ç»†è®²ï¼Œå› å…¬ä¼—å·è€Œå¼‚ï¼Œæˆ‘è¿™é‡Œè¦å»é™¤çš„å™ªå£°æ˜¯å…¬ä¼—å·åº•éƒ¨çš„è¿›ç¾¤é‚€è¯·å†…å®¹ã€‚ 2. ä»£ç éƒ¨åˆ†æˆªè‡³ç›®å‰ä¸ºæ­¢ï¼ˆ2022å¹´12æœˆ28æ—¥ï¼‰ï¼Œä»£ç è¿è¡Œæ­£å¸¸ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174import randomimport timeimport requests, refrom requests.packages import urllib3from lxml import etreeimport xlwtfrom pandas import DataFramekey_word = &quot;æ¤ç‰©ç”Ÿç‰©æŠ€æœ¯Pbj&quot;xpath_string = &#x27;//*[@id=&quot;js_content&quot;]//text()&#x27; # æ–‡ç« å†…å®¹çš„xpathè·¯å¾„last_date = 2018 # æƒ³è¦è·å¾—å“ªä¸€å¹´ä¹‹åçš„æ–‡ç« # åˆ›å»ºå·¥ä½œè¡¨æ ¼ï¼Œå­˜å‚¨çˆ¬å–çš„ä¸´æ—¶æ•°æ®book = xlwt.Workbook(encoding=&#x27;utf-8&#x27;,style_compression=0)sheet = book.add_sheet(key_word,cell_overwrite_ok=True)col = (&#x27;title&#x27;, &#x27;author&#x27;, &#x27;content&#x27;,&#x27;category&#x27;,&quot;link&quot;,&quot;date&quot;)for i in range(0,6): sheet.write(0,i,col[i]) # ç¬¬ä¸€è¡Œå†™å…¥å±æ€§åç§°,writeå¯¹åº”å‚æ•°ï¼šè¡Œã€åˆ—ã€å€¼urllib3.disable_warnings() # å¿½ç•¥è­¦å‘Š# æœ€ç»ˆçˆ¬å–æ•°æ®å­˜æ”¾åˆ—è¡¨title_list = []link_list = []cat_list = []date_list = []content_list = []author_list = []s = requests.Session() # ç»´æŒä¼šè¯# å¯¹å¾®ä¿¡å…¬ä¼—å·æŸ¥æ‰¾çš„headersheaders = &#123; &#x27;User-Agent&#x27;: &quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:72.0) Gecko/20100101 Firefox/72.0&quot;, &quot;Host&quot;: &quot;mp.weixin.qq.com&quot;, &#x27;Referer&#x27;: &#x27;https://mp.weixin.qq.com/&#x27;&#125;cookie_str = &quot;&quot;cookies = &#123;&#125;# åŠ è½½cookiesï¼Œå°†å­—ç¬¦ä¸²æ ¼å¼çš„cookiesè½¬åŒ–ä¸ºå­—å…¸å½¢å¼def load_cookies(): global cookie_str, cookies for item in cookie_str.split(&#x27;;&#x27;): sep_index = item.find(&#x27;=&#x27;) cookies[item[:sep_index]] = item[sep_index + 1:]# å»å™ªå‡½æ•°ï¼Œåªé€‚åˆè¯¥å…¬ä¼—å·def quzao(content): if type(content) == str: i = re.sub(&#x27;æ¤ç‰©ç”Ÿç‰©æŠ€æœ¯Pbjäº¤æµç¾¤&#x27;, &#x27;&#x27;, str(content)) i = re.sub(&#x27;ä¸ºäº†èƒ½æ›´æœ‰æ•ˆåœ°å¸®åŠ©å¹¿å¤§çš„ç§‘ç ”å·¥ä½œè€…è·å–ç›¸å…³ä¿¡æ¯.*&#x27;, &#x27;&#x27;, str(i)) return i else: return &#x27; &#x27;# çˆ¬è™«ä¸»å‡½æ•°def spider(): # åŠ è½½cookies load_cookies() # è®¿é—®å®˜ç½‘ä¸»é¡µ url = &#x27;https://mp.weixin.qq.com&#x27; res = s.get(url = url, headers = headers, cookies = cookies, verify = False) if res.status_code == 200: # ç”±äºåŠ è½½äº†cookiesï¼Œç›¸å½“äºå·²ç»ç™»é™†äº†ï¼Œç³»ç»Ÿä½œäº†é‡å®šä¹‰ï¼Œresponseçš„urlä¸­å«æœ‰æˆ‘ä»¬éœ€è¦çš„token print(res.url) # è·å¾—token token = re.findall(r&#x27;.*?token=(\\d+)&#x27;, res.url) if token: token = token[0] else: # æ²¡æœ‰tokençš„è¯ï¼Œè¯´æ˜cookiesè¿‡æ—¶äº†ï¼Œæ²¡æœ‰ç™»é™†æˆåŠŸï¼Œé€€å‡ºç¨‹åº print(&#x27;ç™»é™†å¤±è´¥&#x27;) return print(&#x27;token&#x27;, token) # æ£€ç´¢å…¬ä¼—å· url = &#x27;https://mp.weixin.qq.com/cgi-bin/searchbiz&#x27; data = &#123; &quot;action&quot;: &quot;search_biz&quot;, &quot;begin&quot;: &quot;0&quot;, &quot;count&quot;: &quot;5&quot;, &quot;query&quot;: key_word, &quot;token&quot;: token, &quot;lang&quot;: &quot;zh_CN&quot;, &quot;f&quot;: &quot;json&quot;, &quot;ajax&quot;: &quot;1&quot; &#125; # ç»§ç»­ä½¿ç”¨ä¼šè¯å‘èµ·è¯·æ±‚ res = s.get(url = url, params = data, cookies = cookies, headers = headers, verify = False) if res.status_code == 200: # æœç´¢ç»“æœçš„ç¬¬ä¸€ä¸ªæå–å®ƒçš„fakeid fakeid = res.json()[&#x27;list&#x27;][0][&#x27;fakeid&#x27;] print(&#x27;å¾®ä¿¡å…¬ä¼—å·fakeid&#x27;, fakeid) page_size = 5 # é»˜è®¤æ˜¯5å¤©æ–‡ç« 1é¡µï¼Œè¿™ä¸ªå‚æ•°ä¼¼ä¹æœ€å¤§å€¼åªæœ‰5 page_count = 278 # å…¬ä¼—å·æ–‡ç« æ€»é¡µæ•°ï¼ˆè‡ªå·±æ‰‹åŠ¨è°ƒæ•´ï¼Œçˆ¬å–åˆ°ç¬¬å‡ é¡µï¼‰ cur_page = 1 # çˆ¬å–é¡µæ•°ï¼ˆä»ç¬¬å‡ é¡µå¼€å§‹çˆ¬å–ï¼‰ l = 1 # excelè®¡æ•°ç”¨ while cur_page &lt;= page_count: url = &#x27;https://mp.weixin.qq.com/cgi-bin/appmsg&#x27; data = &#123; &quot;action&quot;: &quot;list_ex&quot;, &quot;begin&quot;: str(page_size * (cur_page - 1)), &quot;count&quot;: str(page_size), &quot;fakeid&quot;: fakeid, &quot;type&quot;: &quot;9&quot;, &quot;query&quot;: &quot;&quot;, &quot;token&quot;: token, &quot;lang&quot;: &quot;zh_CN&quot;, &quot;f&quot;: &quot;json&quot;, &quot;ajax&quot;: &quot;1&quot; &#125; time.sleep(random.randint(1, 5)) #ç»§ç»­ä¼šè¯å‘èµ·è¯·æ±‚ res = s.get(url = url, params = data, cookies = cookies, headers = headers, verify =False) if res.status_code == 200: print(&#x27;å¼€å§‹çˆ¬å–é¡µæ•°ï¼š&#x27;, cur_page) # æ–‡ç« åˆ—è¡¨ä½äºapp_msg_listå­—æ®µä¸­ app_msg_list = res.json()[&#x27;app_msg_list&#x27;] for item in app_msg_list: # é€šè¿‡æ›´æ–°æ—¶é—´æˆ³è·å¾—æ–‡ç« çš„å‘å¸ƒæ—¥æœŸ item[&#x27;post_date&#x27;] = time.strftime(&quot;%Y-%m-%d&quot;, time.localtime(int(item[&#x27;update_time&#x27;]))) if int(item[&#x27;post_date&#x27;].split(&#x27;-&#x27;)[0])&lt;last_date: continue # ä»¥ä¸‹æ ‡é¢˜åˆ†ç¦»åªé€‚åˆè¯¥å…¬ä¼—å· if item[&#x27;title&#x27;].find(&quot;|&quot;) != -1: # æœ‰ç«–çº¿åˆ†ç¦»å‰¯æ ‡é¢˜ title = item[&#x27;title&#x27;].split(&quot;|&quot;)[1].strip() cat = item[&#x27;title&#x27;].split(&quot;|&quot;)[0].strip() elif item[&#x27;title&#x27;].find(&quot;ï½œ&quot;) != -1: title = item[&#x27;title&#x27;].split(&quot;ï½œ&quot;)[1].strip() # åˆ†ç¦»ä¸­æ–‡ç«–çº¿ cat = item[&#x27;title&#x27;].split(&quot;ï½œ&quot;)[0].strip() elif item[&#x27;title&#x27;].find(&quot;â”‚&quot;) != -1: title = item[&#x27;title&#x27;].split(&quot;â”‚&quot;)[1].strip() # åˆ†ç¦»å¦ä¸€ç§å¾ˆç¥å¥‡çš„ç«–çº¿ cat = item[&#x27;title&#x27;].split(&quot;â”‚&quot;)[0].strip() else: title = (item[&#x27;title&#x27;]) cat = &#x27;N/A&#x27; title_list.append(title) date_list.append(item[&#x27;post_date&#x27;]) link_list.append(item[&#x27;link&#x27;]) author_list.append(key_word) cat_list.append(cat) response = requests.get(url = item[&#x27;link&#x27;], headers = headers) print(&quot;æ­£åœ¨è§£æç½‘é¡µ&quot; + str(item[&#x27;link&#x27;]) + &#x27;......&#x27;) time.sleep(random.randint(1, 5)) # çˆ¬ä¸€ä¸ªï¼Œä¼‘æ¯1-5ç§’ tree_content = etree.HTML(response.text) # è·å–çˆ¬åˆ°çš„åŠ¨æ€é¡µé¢æºç  try: # è§£æxpathï¼Œå»å™ª content = tree_content.xpath(xpath_string) content = re.sub(r&#x27;\\s+&#x27;, &#x27;&#x27;, &#x27;&#x27;.join(content)) # è·å–åˆ°çš„æ–‡ç« å†…å®¹ï¼ˆå»ç©ºæ ¼ï¼‰ content = quzao(content) except: content = &#x27;&#x27; # æ²¡æœ‰å†…å®¹çš„å¯èƒ½æ˜¯å†…å®¹è¿è§„å·²æ’¤é”€ content_list.append(content) print(&#x27;è§£ææ–‡ç« &quot;&#x27;+title+&#x27;&quot;æˆåŠŸï¼&#x27;) try: # ä»¥ä¸‹é€è¡Œå†™å…¥ï¼Œå¤‡ä»½æ•°æ®ç”¨ï¼Œé˜²æ­¢åçˆ¬é€ æˆæ•°æ®ä¸¢å¤± sheet.write(l , 0, title) sheet.write(l , 1, key_word) sheet.write(l , 2, content) sheet.write(l , 3, cat) sheet.write(l , 4, item[&#x27;link&#x27;]) sheet.write(l , 5, item[&#x27;post_date&#x27;]) savepath = &#x27;./å¾®ä¿¡å…¬ä¼—å·_&#x27; + key_word + &#x27;_.xls&#x27; l += 1 if l % 20 == 0: # æ¯20è¡Œä¿å­˜ä¸€æ¬¡ï¼ˆé€‚å½“è°ƒå¤§ä¸€ç‚¹ï¼Œä»¥å…ä¿å­˜å¤±è´¥ï¼‰ book.save(savepath) print(&quot;æ•°æ®å¤‡ä»½æˆåŠŸï¼å·²ä¿å­˜&quot; + str(l) + &quot;æ¡ï¼&quot;) except: continue # å½“å‰é¡µé¢æ•°+1 cur_page += 1 print(&#x27;overï¼å¼€å§‹ä¿å­˜&#x27;) # ä¸­é€”æ²¡æœ‰åçˆ¬çš„è¯ï¼Œä¸€æ¬¡å†™å…¥æ‰€æœ‰çˆ¬å–æ•°æ® data = &#123;&#x27;title&#x27;: title_list, &#x27;author&#x27;: author_list, &#x27;content&#x27;: content_list,&#x27;category&#x27;: cat_list,&quot;link&quot;:link_list,&quot;date&quot;:date_list&#125; df = DataFrame(data) df.to_excel(&#x27;./å¾®ä¿¡å…¬ä¼—å·_&#x27; + key_word + &#x27;_.xlsx&#x27;) print(&#x27;ä¿å­˜æˆåŠŸï¼&#x27;)spider() ä»£ç åªæœ‰cookieéœ€è¦ç™»å½•å¾®ä¿¡å…¬ä¼—å·åå°æ‰‹åŠ¨è·å–ï¼Œå¤åˆ¶ç²˜è´´è¿›å»ï¼›page_countç”±åˆšæ‰æŸ¥æ–‡ç« çš„ç•Œé¢å¾€ä¸‹æ‹‰ï¼Œæ‰¾åˆ°ä¸€å…±æœ‰å¤šå°‘é¡µï¼Œå…¶ä»–å‚æ•°éƒ½ä¸ç”¨ä¿®æ”¹ã€‚ ä¸ºäº†é˜²æ­¢åŠè·¯è¢«åçˆ¬ï¼Œå¼•å…¥äº†xlwtåº“ï¼Œä½œç”¨æ˜¯åˆ›å»ºå·¥ä½œè¡¨ï¼Œé€è¡Œå†™å…¥ä¿å­˜çˆ¬åˆ°çš„ä¸´æ—¶æ•°æ®ï¼Œä¸ç„¶æœ‰å¯èƒ½çˆ¬åˆ°ä¸€åŠè¢«æ£€æµ‹åˆ°ï¼Œæœ€åæ‰€æœ‰æ•°æ®éƒ½ä¸ä¼šä¿å­˜ï¼ˆåˆ«é—®æˆ‘ä¸ºä»€ä¹ˆçŸ¥é“ï¼‰ï¼æœ€åä¸€æ­¥æ˜¯å†™å…¥æ‰€æœ‰æ•°æ®ï¼Œåç§°å’Œä¸´æ—¶æ•°æ®ä¸ä¸€æ ·ï¼Œä¹Ÿæ˜¯å¤šä¸€æ­¥ä¿é™©æªæ–½ã€‚çˆ¬å–è¿‡ç¨‹æ˜¾ç¤ºçš„æ•°æ®å¦‚ä¸‹ï¼š å¦‚æœä¸­é€”è¢«åçˆ¬æœºåˆ¶æ£€æµ‹åˆ°ï¼Œæ¢ä¸€ä¸ªå…¬ä¼—å·cookieï¼Œç„¶åä»ä¸­æ–­çš„cur_pageå¤„ç»§ç»­ï¼Œexcelå¦å­˜ã€‚ é€šè¿‡ä»¥ä¸Šä»£ç ï¼Œå®ç°å¯¹å…¬ä¼—å·â€œæ¤ç‰©ç”Ÿç‰©æŠ€æœ¯Pbjâ€8447ç¯‡æ¨é€ï¼ˆä»åˆ›å»ºçš„ç¬¬ä¸€å¤©2019å¹´3æœˆ1æ—¥è‡³2022å¹´12æœˆ18æ—¥ï¼‰çˆ¬å–ï¼š ä¸Šé¢çš„ä»£ç æ˜¯æ ¹æ®â€œæ¤ç‰©ç”Ÿç‰©æŠ€æœ¯Pbjâ€è¿™ä¸ªå…¬ä¼—å·æ’ç‰ˆæ‰€ç‰¹åˆ¶çš„ï¼Œä¸€å®šè¦æ³¨æ„æ ¹æ®å…·ä½“å…¬ä¼—å·å†³å®šåˆ¶ä½œæ€ä¹ˆæ ·çš„å»å™ªå‡½æ•°ï¼Œæ€»é¡µæ•°å…¶å®ä¹Ÿå¯ä»¥æ ¹æ®app_msg_count&#x2F;page_sizeå€¼å†™ä¸€ä¸ªå‡½æ•°è‡ªåŠ¨è®¡ç®—å‡ºæ¥ï¼Œä½†æ˜¯å¦‚æœä¸­é€”è¢«åçˆ¬è¿˜æ˜¯è¦æ‰‹åŠ¨æ”¹pageå€¼ï¼Œè¿™é‡Œå°±ä¸å¤šæ­¤ä¸€ä¸¾äº†ã€‚è¿˜æœ‰ï¼Œå¦‚æœçˆ¬å–çš„æ¯é¡µæ¨é€å¤©æ•°ï¼ˆä¹Ÿå°±æ˜¯ç¬¬äºŒä¸ªdataå­—å…¸ä¸­çš„countå€¼ï¼‰å¯ä»¥çªç ´5çš„è¯ï¼Œå°±å¯ä»¥å†å†™ä¸€ä¸ªå¾ªç¯å°½é‡ä¸€æ¬¡æ‹¿åˆ°å¤šçš„æ–‡ç« urlï¼Œè¿™æ ·æ£€æµ‹çš„æœºç‡å°±ä¼šå¤§å¤§é™ä½ï¼ˆæˆ‘æ¯æ¬¡è¢«æ£€æµ‹éƒ½æ˜¯æŠ“å–app_msg_listçš„æ—¶å€™ï¼Œè€Œä¸æ˜¯æŠ“å–æ–‡ç« å†…å®¹çš„æ—¶å€™ï¼‰ã€‚ ç»è¿‡åŠå¤©çš„æµ‹è¯•ï¼Œæœ‰ä¸€ç‚¹ä»¥ä¸‹çš„ç»éªŒä¹‹è°ˆ å¾®ä¿¡å…¬ä¼—å·åçˆ¬æœºåˆ¶å¯èƒ½æ˜¯æ£€æµ‹ä½ ç¿»é¡µçš„æ¬¡æ•°ï¼Œä¸€å¤©ç¿»é¡µçš„æ¬¡æ•°åœ¨100-200æ¬¡é—´æ¯”è¾ƒä¿é™©ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡çˆ¬500å¤©-1000å¤©å†…çš„æ¨é€æ•°æ® æ¯æ¬¡æŠ“å–æ•°æ®sleep1-5ç§’æ¯”è¾ƒé è°±ï¼Œ1-3ç§’ä¹Ÿå®¹æ˜“åœ¨çˆ¬100æ¡å·¦å³çš„æ—¶å€™è¢«æŠ“â€¦â€¦ æœ‰ä¸€ä¸ªæ€è·¯æ˜¯é€šè¿‡ä¿å­˜æ‰€æœ‰æ–‡ç« urlï¼Œå†è¿›è¡Œæ¯ä¸ªæ–‡ç« å†…å®¹æŠ“å–ï¼Œä½†æ˜¯è·å–æ–‡ç« åˆ—è¡¨çš„dataå­—å…¸ä¸­countå€¼æœ€å¤§åªèƒ½æ˜¯5ï¼Œå¯¼è‡´æˆ‘ä»¬éœ€è¦é¢‘ç¹ç¿»é¡µï¼Œè¿™ä¸ªåœ°æ–¹å¦‚ä½•çªç ´æ˜¯ä¸€ä¸ªé—®é¢˜ã€‚ sheet.writeæ–¹æ³•æœ‰çš„æ—¶å€™ä¼šå¤±æ•ˆï¼Œåœ¨æŸä¸€æ¬¡æ‰“å¼€excelä¹‹åå¯èƒ½æ²¡æ¥å¾—åŠå†™å…¥æ•°æ®å°±è¢«ä¿å­˜ï¼Œå¯¼è‡´åç»­æ— æ³•ç»§ç»­ä¿å­˜ä¸´æ—¶æ•°æ®ã€‚è§£å†³æ–¹æ³•ä¹‹ä¸€æ˜¯ä¿å­˜é—´éš”å¤§ä¸€ç‚¹ï¼Œè¿™é‡Œæˆ‘è®¾ç½®äº†æ¯å†™å…¥20è¡Œä¿å­˜ä¸€æ¬¡ã€‚ åšå¥½çˆ¬å–æ•°æ®çš„åŒä¿é™©ï¼æˆ‘è¿™é‡Œåšäº†ä¸´æ—¶æ•°æ®ä¿å­˜ï¼Œä¸è¦æŠ±ä¾¥å¹¸å¿ƒï¼Œä¸ç„¶çˆ¬åŠå¤©æ•°æ®å®¹æ˜“å…¨éƒ¨æœ¨å¤§ï¼","categories":[{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://www.shelven.com/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"åº”ç”¨requestsã€Xpathå’Œseleniumç¼–å†™çˆ¬è™«è„šæœ¬","slug":"åº”ç”¨requestsã€Xpathå’Œseleniumç¼–å†™çˆ¬è™«è„šæœ¬","date":"2022-12-13T16:42:48.000Z","updated":"2022-12-13T16:47:45.000Z","comments":true,"path":"2022/12/14/a.html","link":"","permalink":"http://www.shelven.com/2022/12/14/a.html","excerpt":"è¿™ç¯‡åšå®¢æ‰¿æ¥å‰é¢çš„HTTPåŸºæœ¬åŸç†ï¼Œå¯¹requestsã€Xpathå’Œseleniumä¸‰ä¸ªåº“&#x2F;å·¥å…·åšä¸ªç®€å•ä»‹ç»ï¼Œå¹¶ä¸”ç”¨ä¸‰ä¸ªçˆ¬è™«å®ä¾‹ç”±æµ…åˆ°æ·±ç†è§£çˆ¬è™«çš„æ„æ€å’Œå®ç°è¿‡ç¨‹ï¼Œæœ€åæ˜¯ç”¨selenium+chromedriveræ¨¡æ‹Ÿæµè§ˆå™¨ï¼Œå®ç°å¯¹å¾®ä¿¡å…¬ä¼—å·æ–‡ç« çš„çˆ¬å–ã€‚","text":"è¿™ç¯‡åšå®¢æ‰¿æ¥å‰é¢çš„HTTPåŸºæœ¬åŸç†ï¼Œå¯¹requestsã€Xpathå’Œseleniumä¸‰ä¸ªåº“&#x2F;å·¥å…·åšä¸ªç®€å•ä»‹ç»ï¼Œå¹¶ä¸”ç”¨ä¸‰ä¸ªçˆ¬è™«å®ä¾‹ç”±æµ…åˆ°æ·±ç†è§£çˆ¬è™«çš„æ„æ€å’Œå®ç°è¿‡ç¨‹ï¼Œæœ€åæ˜¯ç”¨selenium+chromedriveræ¨¡æ‹Ÿæµè§ˆå™¨ï¼Œå®ç°å¯¹å¾®ä¿¡å…¬ä¼—å·æ–‡ç« çš„çˆ¬å–ã€‚ 1. requestsrequestsæ˜¯pythonæœ€å¸¸è§çš„HTTPå®¢æˆ·ç«¯åº“ï¼Œå¯ä»¥è°ƒç”¨requestsæ¨¡å—çš„APIä¼ªè£…æˆæµè§ˆå™¨å¯¹ç½‘ç«™å‘èµ·è¯·æ±‚ã€‚ å‰é¢ä¸€ç¯‡çˆ¬è™«åšå®¢ä»‹ç»äº†requestsçš„å…­ç§æ–¹æ³•ï¼Œè¿™é‡Œä¸å¤šèµ˜è¿°ï¼Œä¸»è¦å›é¡¾ä¸‹å‘é€è¯·æ±‚å’Œè·å¾—å“åº”çš„è¿‡ç¨‹ã€‚ requestsåº“æœ‰ä¸¤ä¸ªé‡è¦çš„å¯¹è±¡ï¼ŒRequestå’ŒResponseï¼ŒRequestå¯¹è±¡å¯¹åº”çš„æ˜¯è¯·æ±‚ï¼Œå‘ç›®æ ‡ç½‘å€å‘é€ä¸€ä¸ªè¯·æ±‚è®¿é—®æœåŠ¡ã€‚è€ŒResponseå¯¹è±¡ï¼Œæ˜¯åŒ…å«äº†çˆ¬è™«è¿”å›çš„å†…å®¹ã€‚ Requestå¯¹è±¡å®Œæ•´çš„å‘èµ·getå’Œpostè¯·æ±‚æ–¹å¼ï¼š 1234567requests.get(url, params=None, **kwargs)requests.post(url, data=None, **kwargs)# urlï¼šæƒ³è¦è·å–çš„ç½‘é¡µé“¾æ¥# paramsï¼šæ˜¾ç¤ºåœ¨urlä¸­çš„å‚æ•°ï¼Œå­—å…¸å½¢å¼# dataï¼šä¸æ˜¾ç¤ºåœ¨urlä¸­ï¼Œé€šè¿‡æäº¤è¡¨å•çš„æ–¹å¼æäº¤å‚æ•°ï¼Œä¹Ÿæ˜¯å­—å…¸å½¢å¼# **kwargsï¼šæ§åˆ¶è®¿é—®çš„å‚æ•°ï¼Œå­—å…¸å½¢å¼ å½“æœåŠ¡å™¨æ­£å¸¸å“åº”æ—¶ï¼Œè¿”å›çŠ¶æ€ç 200ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨Responseå¯¹è±¡çš„å±æ€§æ¥è·å–ç½‘é¡µä¿¡æ¯ã€‚ Responseå¯¹è±¡å±æ€§ï¼š .status_codeï¼šHTTPå“åº”çŠ¶æ€ç ï¼Œ200è¡¨ç¤ºæˆåŠŸï¼Œå…¶ä»–çŠ¶æ€ç è¯¦è§ä¸Šç¯‡åšå®¢ .textï¼šHTTPå“åº”ä½“å†…å®¹çš„å­—ç¬¦ä¸²æ ¼å¼ .contentï¼šHTTPå“åº”ä½“å†…å®¹çš„äºŒè¿›åˆ¶æ ¼å¼ .encodingï¼šä»HTTP headerä¸­çŒœæµ‹çš„å“åº”å†…å®¹ç¼–ç æ–¹å¼ .apparent_encodingï¼šä»å†…å®¹ä¸­åˆ†æå‡ºçš„å“åº”å†…å®¹ç¼–ç æ–¹å¼ï¼ˆå¤‡é€‰ç¼–ç æ–¹å¼ï¼‰ è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œå¦‚æœæˆ‘ä»¬è·å¾—çš„å“åº”å†…å®¹æ˜¯å›¾ç‰‡è§†é¢‘å’ŒéŸ³é¢‘çš„è¯ï¼Œéœ€è¦ç”¨äºŒè¿›åˆ¶æ ¼å¼è¿›è¡Œå‚¨å­˜ã€‚ æœ‰äº†ä»¥ä¸ŠåŸºç¡€çŸ¥è¯†ï¼Œå°±å¯ä»¥ç”¨requestå†™ä¸€ä¸ªçˆ¬è™«é¡¹ç›®äº†ï¼Œæˆ‘ä»¬ç°åœ¨ç›®çš„æ˜¯çˆ¬å–è±†ç“£ç”µå½±å¤è£…æ’è¡Œæ¦œå‰20çš„ç”µå½±å›¾ç‰‡ã€‚ è¿›å…¥è±†ç“£ç”µå½±æ’è¡Œæ¦œç½‘é¡µï¼ŒæŒ‰F12è¿›å…¥æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»ç½‘é¡µé¡µé¢åˆ†ç±»ä¸­çš„â€œå¤è£…â€ï¼Œå¯¹ç½‘é¡µæ•°æ®è¿›è¡ŒæŠ“åŒ…ã€‚å½“é¼ æ ‡æ»šè½®å¾€ä¸‹æ»šåŠ¨çš„æ—¶å€™æˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œæ¯æ¬¡æ»šåŠ¨æ›´æ–°ï¼Œæœ‰ä¸€ä¸ªåå­—å¾ˆé•¿çš„æ•°æ®åŒ…ä¼šä¸æ–­æ›´æ–°ï¼Œè¿˜ä¼´éšç€ä¸€å¤§å †jpgå›¾ç‰‡çš„å‡ºç°ï¼Œå¾ˆæ˜æ˜¾è¿™ä¸ªæ•°æ®åŒ…æ˜¯æˆ‘ä»¬è¦æŠ“å–çš„å¯¹è±¡ã€‚ ç‚¹å‡»è¡¨å¤´é€‰é¡¹çš„å“åº”å¤´ï¼Œæˆ‘ä»¬çœ‹åˆ°è¿”å›çš„æ•°æ®æ˜¯jsonæ ¼å¼ï¼Œç¼–ç æ–¹å¼æ˜¯utf-8ã€‚è¯·æ±‚urlæ ä¸­é—®å·ä¹‹å‰çš„éƒ¨åˆ†æ˜¯æˆ‘ä»¬è¦çš„urlï¼Œå‚æ•°å¯ä»¥è®¾ç½®ä¸€ä¸ªå­—å…¸ä¼ å…¥ã€‚ åœ¨è´Ÿè½½éƒ¨åˆ†ï¼Œå¤šæ¬¡æŠ“åŒ…ä»¥åå¯ä»¥çœ‹åˆ°å‰ä¸‰ä¸ªå‚æ•°æ˜¯ä¸€ç›´ä¸å˜çš„ï¼ŒçŒœæµ‹è¿™å‡ ä¸ªå‚æ•°å¯èƒ½æ˜¯å’Œç”µå½±ç±»å‹å’Œé¡µé¢å¸ƒå±€ç›¸å…³ï¼Œè¿™ä¸ªå¯ä»¥ä¸ç”¨ç®¡ã€‚ç¿»é¡µåˆ·æ–°åæ€»æ˜¯å›ºå®šæ˜¾ç¤º20ä¸ªç”µå½±ï¼Œå› æ­¤limitå’Œæ•°æ®åŒ…å†…æŠ“å–çš„ç”µå½±æ•°ç›¸å…³ï¼Œstartå’Œè¿™ä¸ªæ•°æ®åº“ä¸­èµ·å§‹çš„ç”µå½±ç¼–å·ç›¸å…³ã€‚ å†çœ‹çœ‹å“åº”çš„jsonæ•°æ®ä¸­ï¼Œæœ‰ä¸€ä¸ªâ€œcover_urlâ€çš„é”®å¯¹åº”å€¼æ˜¯ç”µå½±çš„å›¾ç‰‡åœ°å€ï¼Œè‡³æ­¤æ€è·¯å°±å¾ˆæ˜ç¡®äº†ã€‚ 1234567891011121314151617181920212223242526import requestsurl = &#x27;https://movie.douban.com/j/chart/top_list&#x27;# ä¼ å…¥çš„urlå‚æ•°è®¾ç½®param = &#123; &#x27;type&#x27;: &#x27;30&#x27;, # å½±ç‰‡ç±»å‹ä»£å· &#x27;interval_id&#x27;: &#x27;100:90&#x27;, &#x27;action&#x27;:&#x27;&#x27;, &#x27;start&#x27;: &#x27;0&#x27;, # ä»ç¬¬ä¸€ä¸ªå½±ç‰‡å¼€å§‹ &#x27;limit&#x27;: &#x27;10&#x27;, # éœ€è¦æŠ“å–çš„å½±ç‰‡æ•°&#125;# ä¼ªè£…æµè§ˆå™¨headers = &#123; &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36 Edg/108.0.1462.46&#x27;&#125;# æŠ“å–ä¸Šé¢å®šä¹‰èŒƒå›´å†…æ‰€æœ‰å½±ç‰‡ä¿¡æ¯response = requests.get(url = url, params = param, headers = headers)# jsonå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºlistç±»å‹ls = response.json()# è§£æç”µå½±å›¾ç‰‡åœ°å€ï¼Œå¹¶æŠ“å–å’Œä¿å­˜å›¾ç‰‡for p in ls: with open(&#x27;./&#x27; + str(p[&#x27;title&#x27;]) + &#x27;.jpg&#x27;,&#x27;wb&#x27;) as img: response1 = requests.get(url = p[&quot;cover_url&quot;], headers = headers) img.write(response1.content) print(&#x27;over!!!&#x27;) .json()è¿™ä¸ªrequestsåº“è‡ªå¸¦çš„å‡½æ•°è¿˜æ˜¯æŒºæœ‰æ„æ€çš„ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯å°†è¿”å›çš„å­—ç¬¦ä¸²JSONæ•°æ®ååºåˆ—åŒ–ä¸ºlistæ•°æ®ï¼Œlistä¸­åµŒå¥—äº†å­—å…¸æ•°æ®ï¼Œæ¯ä¸ªç”µå½±çš„ä¿¡æ¯éƒ½å‚¨å­˜åœ¨å­—å…¸ä¸­ã€‚å› æ­¤è¿™é‡Œä¹Ÿå¯ä»¥ç”¨.json()[&#39;cover_url&#39;]ç›´æ¥å¯¹å›¾ç‰‡ç½‘å€è¿›è¡ŒæŠ“å–ï¼Œæ³¨æ„ä¸‹è¿™é‡Œç¬¬äºŒæ¬¡æŠ“å–çš„æ˜¯å›¾ç‰‡ï¼Œè¿”å›çš„æ˜¯äºŒè¿›åˆ¶æ•°æ®ï¼Œæ‰€ä»¥ç”¨contentè€Œä¸æ˜¯textã€‚ 2. Xpathå‰é¢ä¾‹å­æŠ“åŒ…è¿”å›çš„æ˜¯JSONå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å¯ä»¥ç›´æ¥æå–æˆ‘ä»¬è¦çš„ä¿¡æ¯ã€‚å¦‚æœè¿”å›çš„æ˜¯HTMLæºä»£ç ï¼Œå°±å¯ä»¥ç”¨æ­£åˆ™æˆ–è€…Xpathæ¥è§£ææˆ‘ä»¬æƒ³è¦çš„æ•°æ®ã€‚ Xpathæ˜¯ä¸€ç§è§£æXMLæ–‡æ¡£ä¿¡æ¯çš„å·¥å…·ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡lxmlåº“ï¼ˆXMLå’ŒHTMLçš„è§£æåº“ï¼‰ä¸­å¯¼å…¥etreeæ¨¡å—ï¼Œå®ä¾‹åŒ–etreeå¯¹è±¡ï¼Œä½¿ç”¨xpathå‡½æ•°ç»“åˆxpathè¡¨è¾¾å¼è¿›è¡Œæ ‡ç­¾å®šä½å’ŒæŒ‡å®šæ•°æ®çš„è·å–ã€‚ Xpathå¸¸ç”¨è§„åˆ™ï¼š è¡¨è¾¾å¼ æè¿° nodename é€‰å–æ­¤èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ &#x2F; ä»å½“å‰èŠ‚ç‚¹é€‰å–ç›´æ¥å­èŠ‚ç‚¹ &#x2F;&#x2F; ä»å½“å‰èŠ‚ç‚¹é€‰å–æ‰€æœ‰å­å­™èŠ‚ç‚¹ . é€‰å–å½“å‰èŠ‚ç‚¹ .. é€‰å–å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ @ é€‰å–å±æ€§ Xpathå¸¸ç”¨è¡¨è¾¾å¼ï¼š 123456789101112å±æ€§å®šä½ //div[@class=&quot;slist&quot;] # æ‰¾åˆ°æ‰€æœ‰classå±æ€§å€¼ä¸ºslistçš„divæ ‡ç­¾å±‚çº§å®šä½ //div[@class=&quot;slist&quot;]/../li[2] # æ‰¾åˆ°classå±æ€§å€¼ä¸ºslistçš„divçš„çˆ¶æ ‡ç­¾ä¸‹çš„ç¬¬äºŒä¸ªç›´ç³»å­æ ‡ç­¾liå¤šå±æ€§è§£æ //div[@class=&quot;slist&quot; and @name=&quot;Id&quot;] # æ‰¾åˆ°classå±æ€§ä¸ºslistä»¥åŠnameå±æ€§ä¸ºIdçš„divæ ‡ç­¾æ¨¡ç³ŠåŒ¹é… //div[contains(@class, &quot;slist&quot;)] # æ‰¾åˆ°classå±æ€§ä¸­åŒ…å«slistå€¼å¾—divæ ‡ç­¾æ–‡æœ¬è·å– //li[@class=&quot;item&quot;]//text() # å–å‡ºclasså±æ€§å€¼ä¸ºitemçš„æ‰€æœ‰liæ ‡ç­¾ä¸‹çš„æ‰€æœ‰æ ‡ç­¾æ–‡æœ¬ï¼ˆåŒ…æ‹¬å­æ ‡ç­¾ï¼‰ è·å–å±æ€§ //li/a/@href # å–å‡ºæ‰€æœ‰liæ ‡ç­¾ä¸‹aæ ‡ç­¾ä¸‹çš„hrefå±æ€§å€¼ etreeå¯¹è±¡å®ä¾‹åŒ–ï¼š 1234567æœ¬åœ°æ–‡ä»¶ï¼ˆè§£æä¿å­˜åœ¨æœ¬åœ°çš„HTMLæ–‡ä»¶ï¼‰ï¼štree = etree.parse(æ–‡ä»¶å)tree.xpath(&quot;xpathè¡¨è¾¾å¼&quot;)ç½‘ç»œæ•°æ®ï¼ˆå®ä¾‹åŒ–ä¸€ä¸ªhtmlç±»ï¼‰ï¼štree = etree.HTML(ç½‘é¡µå†…å®¹å­—ç¬¦ä¸²)tree.xpath(&quot;xpathè¡¨è¾¾å¼&quot;) æ³¨æ„ä¸‹xpathè§£æå‡ºæ¥çš„æ•°æ®æ˜¯ä»¥åˆ—è¡¨å½¢å¼å­˜å‚¨çš„ï¼Œæ¥ä¸‹æ¥ç¤ºèŒƒä¸€ä¸‹requestsç»“åˆXpathå†™ä¸€ä¸ªçˆ¬è™«ç¨‹åºï¼Œç›®çš„æ˜¯æŠ“å–å½¼å²¸å›¾ç½‘çš„4kåŠ¨æ¼«å°é¢å›¾ã€‚ è¿›å…¥é¡µé¢ä»¥ååŒæ ·F12å®¡æŸ¥å…ƒç´ ï¼Œç‚¹å‡»ä¸åŒé¡µæŠ“å–è¿”å›çš„æ•°æ®åŒ…ï¼Œå‘ç°ç¿»åˆ°ç¬¬xé¡µèƒ½æŠ“åˆ°index_x.htmlï¼Œä½†æ˜¯ç¬¬ä¸€é¡µæ²¡æœ‰ä¸‹åˆ’çº¿å’Œå…¶ä»–é¡µç¨æœ‰ä¸åŒï¼Œä¸ºäº†æ–¹ä¾¿èµ·è§å°±ä»ç¬¬äºŒé¡µå¼€å§‹æŠ“ã€‚ ä»”ç»†è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œæ‰€æœ‰å°é¢å›¾éƒ½åœ¨å±æ€§å€¼ä¸ºslistçš„divæ ‡ç­¾ä¸‹çš„ulæ ‡ç­¾ä¸‹çš„liæ ‡ç­¾ä¸­ï¼ˆè¿™ä¹ˆè¯´ç€å¥½ç»•&#x3D; &#x3D;ï¼‰ï¼Œå‰é¢httpåŸç†çš„åšå®¢è¯´è¿‡ï¼Œè¿™æ ·çš„æ ‡ç­¾å¯ä»¥çœ‹å‡ºæ˜¯æ˜¯æ— åºåˆ—è¡¨ï¼Œæˆ‘ä»¬è¦æ‰¾çš„å°é¢å›¾ç‰‡åœ°å€å¯ä»¥é€šè¿‡imgæ ‡ç­¾çš„srcå±æ€§è·å¾—ï¼Œå›¾ç‰‡åç§°å¯ä»¥é€šè¿‡altå±æ€§è·å¾—ï¼Œå› æ­¤å¯ä»¥å†™å¦‚ä¸‹çš„çˆ¬è™«ä»£ç ï¼š 1234567891011121314151617181920212223242526272829303132import requestsfrom lxml import etreeimport os# ä¸¾ä¸ªä¾‹å­ï¼Œè¿™é‡ŒæŠ“å–çš„æ˜¯ç¬¬äºŒé¡µæ•°æ®for i in range(2,3): url = &#x27;http://pic.netbian.com/4kdongman/index_&#x27;+str(i)+&#x27;.html&#x27; headers = &#123; &#x27;User-Agent&#x27;:&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.3&#x27; &#125; response = requests.get(url = url, headers = headers) # è·å–ç½‘é¡µå†…å®¹å­—ç¬¦ä¸² page_text = response.text # å®ä¾‹åŒ–etreeå¯¹è±¡ï¼Œè·å–æ‰€æœ‰å›¾ç‰‡liæ ‡ç­¾ä¿¡æ¯ï¼ˆåˆ—è¡¨æ ¼å¼ï¼‰ tree = etree.HTML(page_text) li_list = tree.xpath(&#x27;//div[@class=&quot;slist&quot;]/ul/li&#x27;) # åˆ›å»ºæ–‡ä»¶å¤¹ if not os.path.exists(&#x27;./pic&#x27;): os.mkdir(&#x27;./pic&#x27;) # è§£æliæ ‡ç­¾ä¸‹å­™å­æ ‡ç­¾imgçš„srcå±æ€§å’Œaltå±æ€§ for li in li_list: img_src = &#x27;http://pic.netbian.com&#x27; + li.xpath(&#x27;./a/img/@src&#x27;)[0] img_name = li.xpath(&#x27;./a/img/@alt&#x27;)[0] + &#x27;.jpg&#x27; # è¿™é‡Œéœ€è¦å¤„ç†ä¸­æ–‡ä¹±ç é—®é¢˜ï¼Œé‡æ–°ç¼–ç å’Œè§£ç ï¼Œgbkæ˜¯ä¸­æ–‡æœ€å¸¸ç”¨çš„ img_name = img_name.encode(&#x27;iso-8859-1&#x27;).decode(&#x27;gbk&#x27;) img_data = requests.get(url = img_src, headers = headers).content img_path = &#x27;pic/&#x27; + img_name with open(img_path,&#x27;wb&#x27;) as fp: fp.write(img_data) print(img_name,&#x27;ä¸‹è½½æˆåŠŸï¼ï¼ï¼&#x27;) å½“ç„¶ï¼Œä¸Šé¢çˆ¬è™«æŠ“å–çš„åªæ˜¯å°é¢å›¾ç‰‡ï¼Œå¹¶ä¸æ˜¯é«˜æ¸…å›¾ç‰‡ï¼Œå› ä¸ºé«˜æ¸…å›¾ç‰‡æ˜¯éœ€è¦ç™»å½•è´¦å·èŠ±é’±ä¸‹è½½çš„â€¦.æˆ‘ä»¬åªèƒ½åˆæ³•åœ°ä»æˆ‘ä»¬èƒ½åœ¨æµè§ˆå™¨ä¸­çœ‹åˆ°çš„å›¾ç‰‡çˆ¬å–ä¿¡æ¯ã€‚è€Œä¸”å¦‚æœä½ åœ¨çŸ­æ—¶é—´å†…å‘èµ·å¤§é‡è¯·æ±‚çš„è¯ï¼Œipæ˜¯å¾ˆæœ‰å¯èƒ½è¢«å°çš„ï¼Œä»¥åå†è®²ä¸€äº›é¢„é˜²åçˆ¬çš„æªæ–½ã€‚ 3. seleniumseleniumæ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·ï¼Œæœ¬è´¨æ˜¯é€šè¿‡é©±åŠ¨æµè§ˆå™¨ï¼Œå®Œå…¨æ¨¡æ‹Ÿæµè§ˆå™¨ä¸­çš„æ“ä½œï¼Œæ¯”å¦‚æ‹–åŠ¨ã€ç‚¹å‡»ä¸‹æ‹‰ç­‰ç­‰ã€‚ä¸ºä»€ä¹ˆè¦æ¨¡ä»¿æµè§ˆå™¨ä¸­çš„æ“ä½œå‘¢ï¼Ÿå› ä¸ºå¾ˆå¤šç½‘ç«™æ˜¯åŠ¨æ€åŠ è½½çš„ï¼Œrequestsè¿™ä¸€ç±»çš„æ¨¡å—æ— æ³•ç›´æ¥æ‰§è¡ŒJavaScriptä»£ç ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥é€šè¿‡æµ‹è¯•å·¥å…·seleniumæ¨¡ä»¿äººåœ¨æµè§ˆå™¨ä¸­çš„æ“ä½œï¼Œä»è€Œè·å¾—ç½‘é¡µæ¸²æŸ“ä¹‹åçš„ç»“æœã€‚ seleniumå®˜æ–¹ç½‘ç«™ï¼šSelenium ï¼ˆå¾ˆæš–å¿ƒåœ°æœ‰ä¸­æ–‡æ–‡æ¡£ï¼‰ä»¥æœ€æ–°çš„seleniumæŒ‡å—ä¸ºåŸºç¡€ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹å…¶ç”¨æ³•ã€‚ å¼ºè°ƒä¸¤ç‚¹ï¼š seleniumåœ¨4.3ç‰ˆæœ¬åšäº†ä»£ç é‡æ„ï¼Œå¾ˆå¤šæ–¹æ³•è¢«æ”¹å†™ï¼Œæœ€é‡è¦çš„æ˜¯find_elementæ–¹æ³•çš„æ”¹å†™ï¼Œå…·ä½“ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹å®˜æ–¹æ¶ˆæ¯ã€‚æœ¬ç¯‡åšå®¢æ‰€æœ‰å†™æ³•å°†æŒ‰ç…§æœ€æ–°çš„è¯­æ³•è§„åˆ™ ä¸€å®šè¦æ³¨æ„è‡ªå·±çš„æµè§ˆå™¨ä¸é©±åŠ¨ç‰ˆæœ¬æ˜¯å¦åŒ¹é…ï¼Œæœ¬ç¯‡åšå®¢ä»¥chromeæµè§ˆå™¨ä¸ºä¾‹ï¼Œchromeæµè§ˆå™¨é©±åŠ¨ç¨‹åºå®˜æ–¹ä¸‹è½½åœ°å€è¯·ç‚¹å‡»http://chromedriver.storage.googleapis.com/index.html ç®€å•åœ°ä»¥æ·˜å®é¦–é¡µä½œä¸ºä¾‹å­ï¼š 12345678910111213141516171819202122232425262728from selenium import webdriverfrom selenium.webdriver.common.by import Byfrom selenium.webdriver.chrome.service import Servicefrom time import sleep# å¯åŠ¨å‰å…ˆå°†é©±åŠ¨ç¨‹åºæ”¾åœ¨å½“å‰é¡µé¢bro = Service(executable_path = &#x27;./chromedriver.exe&#x27;)# å¯åŠ¨è°·æ­Œæµè§ˆå™¨driver = webdriver.Chrome(service = bro)# è¿›å…¥æ·˜å®ç½‘é¡µé¡µé¢driver.get(&#x27;https://www.taobao.com/&#x27;)# æ ‡ç­¾å®šä½ï¼Œè¾“å…¥æ idå±æ€§å€¼ä¸º&#x27;q&#x27;ï¼Œidå±æ€§æ˜¯æ•´ä¸ªhtmlä¸­å”¯ä¸€çš„ï¼Œä¸ä¼šé‡å¤search_input = driver.find_element(By.ID, &#x27;q&#x27;)# èŠ‚ç‚¹äº¤äº’ï¼Œå‘è¾“å…¥æ ä¸­è¾“å…¥æ•°æ®&#x27;Iphone&#x27;search_input.send_keys(&#x27;Iphone&#x27;)# æ ‡ç­¾å®šä½ï¼Œæ‰¾åˆ°æœç´¢æŒ‰é’®ï¼ˆå¯ä»¥ç”¨cssé€‰æ‹©å™¨ã€idå€¼æˆ–è€…Xpathç­‰å®šä½ï¼Œè¿™é‡Œç”¨cssé€‰æ‹©å™¨ï¼‰btn = driver.find_element(By.CSS_SELECTOR, &#x27;.btn-search&#x27;)# èŠ‚ç‚¹äº¤äº’ï¼Œç‚¹å‡»æœç´¢æŒ‰é’®btn.click()driver.get(&#x27;https://www.baidu.com&#x27;)sleep(2)# å›é€€driver.back()sleep(2)# å‰è¿›driver.forward()sleep(2)# é€€å‡ºæµè§ˆå™¨driver.quit() ç®€å•æ¥è¯´ï¼Œæµç¨‹å¯ä»¥åˆ†ä¸º åˆ›å»ºé©±åŠ¨å®ä¾‹å¼€å¯ä¼šè¯ driver = webdriver.Chrome() åœ¨æµè§ˆå™¨ä¸­æ‰§è¡Œæ“ä½œ driver.get(&quot;https://www.baidu.com&quot;) è¯·æ±‚æµè§ˆå™¨ä¿¡æ¯ title = driver.title å»ºç«‹ç­‰å¾…ç­–ç•¥ï¼ˆéšå¼æˆ–æ˜¾ç¤ºï¼‰ driver.implicitly_wait(0.5)æˆ–è€…ç”¨sleepï¼ˆ1ï¼‰ å®šä½æ ‡ç­¾ text_box = driver.find_element(by=By.NAME, value=&quot;my-text&quot;) èŠ‚ç‚¹äº¤äº’ text_box.send_keys(&quot;Selenium&quot;) è·å–ä¿¡æ¯ value = message.text ç»“æŸä¼šè¯ï¼Œå…³é—­æµè§ˆå™¨ driver.quit() æµè§ˆå™¨åˆ›å»ºseleniumæ”¯æŒçš„æµè§ˆå™¨æœ‰Chromeã€Firefoxã€Edgeã€Internet Explorerå’ŒSafariã€‚å‚è€ƒæ”¯æŒçš„æµè§ˆå™¨åˆ—è¡¨ | Selenium å…ƒç´ å®šä½webdriveræä¾›äº†8ç§å†…ç½®çš„å®šä½æ–¹æ³•ï¼š 12345678910from selenium.webdriver.common.by import Byfind_element(By.ID, &#x27;value&#x27;) find_element(By.NAME, &#x27;value&#x27;)find_element(By.CLASS_NAME, &#x27;value&#x27;)find_element(By.TAG_NAME, &#x27;value&#x27;)find_element(By.LINK_TEXT, &#x27;value&#x27;)find_element(By.PARTIAL_LINK_TEXT, &#x27;value&#x27;)find_element(By,XPATH, &#x27;value&#x27;)find_element(By.CSS_SELECTOR, &#x27;value&#x27;) èŠ‚ç‚¹äº¤äº’å¸¸è§çš„èŠ‚ç‚¹äº¤äº’æœ‰ä»¥ä¸‹å†…å®¹ï¼š 123456789101112driver.get(&quot;https://www.baidu.com&quot;) # æ‰“å¼€ç½‘ç«™driver.back() # æµè§ˆå™¨åé€€driver.forward() # æµè§ˆå™¨å‰è¿›driver.refresh() # æµè§ˆå™¨åˆ·æ–°driver.add_cookie(&#123;&quot;name&quot;: &quot;key&quot;, &quot;value&quot;: &quot;value&quot;&#125;) # å½“å‰æµè§ˆå™¨æ·»åŠ cookiedriver.find_element(By.LINK_TEXT, &quot;new window&quot;).click() # æ–°çª—å£ä¸­æ‰“å¼€é“¾æ¥driver.find_element(By.ID, &#x27;value&#x27;).send_keys(&#x27;value&#x27;) # å®šä½å¹¶å‘é€å†…å®¹driver.switch_to.new_window(&#x27;tab&#x27;) # æ‰“å¼€æ–°æ ‡ç­¾é¡µå¹¶åˆ‡æ¢åˆ°æ–°æ ‡ç­¾é¡µdriver.switch_to.new_window(&#x27;window&#x27;) # æ‰“å¼€æ–°çª—å£å¹¶åˆ‡æ¢åˆ°æ–°çª—å£driver.switch_to.window(original_window) # åˆ‡å›ä¹‹å‰çš„æ ‡ç­¾é¡µæˆ–çª—å£driver.close() # å…³é—­æ ‡ç­¾é¡µæˆ–çª—å£driver.quit() # å…³é—­æµè§ˆå™¨ åŠ¨ä½œé“¾ä¸Šé¢è¯´çš„äº¤äº’æ˜¯å¯¹é¡µé¢ä¸­å­˜åœ¨çš„æ ‡ç­¾æˆ–è€…è¯´æ˜¯å…ƒç´ è¿›è¡Œäº¤äº’ï¼Œè€Œå¯¹äºæ²¡æœ‰ç‰¹å®šå¯¹è±¡çš„ï¼Œæ¯”å¯¹é¼ æ ‡çš„åŒå‡»ã€æ‹–æ‹½ï¼Œé¼ æ ‡æ»šè½®çš„æ“ä½œï¼Œé”®ç›˜çš„è¾“å…¥ç­‰ï¼Œè¿™äº›æ“ä½œå°±éœ€è¦åŠ¨ä½œé“¾æ¥æ‰§è¡Œã€‚è¯¥éƒ¨åˆ†å†…å®¹å®˜ç½‘æœ‰è¯¦ç»†ä»‹ç»ï¼Œè¿™é‡Œå°±ä¸¾ä¸ªä¾‹å­äº†è§£ä¸€ä¸‹æ€ä¹ˆç”¨çš„å°±è¡Œã€‚ 12345678910111213141516171819202122232425import timefrom selenium.webdriver.common.by import Byfrom selenium import webdriverfrom time import sleepfrom selenium.webdriver import ActionChainsbro = webdriver.Chrome(executable_path = &#x27;./chromedriver&#x27;)bro.get(&#x27;https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable&#x27;)# å¦‚æœå®šä½çš„æ ‡ç­¾æ˜¯å­˜åœ¨äºiframeæ ‡ç­¾ä¹‹ä¸­çš„åˆ™å¿…é¡»é€šè¿‡å¦‚ä¸‹æ“ä½œåœ¨è¿›è¡Œæ ‡ç­¾å®šä½bro.switch_to.frame(&#x27;iframeResult&#x27;) # åˆ‡æ¢æµè§ˆå™¨æ ‡ç­¾å®šä½çš„ä½œç”¨åŸŸdiv = bro.find_element(By.ID, &#x27;draggable&#x27;)# åŠ¨ä½œé“¾action = ActionChains(bro)# ç‚¹å‡»é•¿æŒ‰æŒ‡å®šçš„æ ‡ç­¾action.click_and_hold(div)for i in range(10): action.move_by_offset(5,0) # move_by_offset(x,y):xæ°´å¹³æ–¹å‘ yç«–ç›´æ–¹å‘ action.perform() # æ‰§è¡ŒåŠ¨ä½œé“¾æ“ä½œtime.sleep(3)#é‡Šæ”¾åŠ¨ä½œé“¾action.release()bro.quit() å¾®ä¿¡å…¬ä¼—å·çˆ¬è™«èŒƒä¾‹123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596import randomimport refrom pandas import DataFrameimport osimport requestsimport timefrom selenium import webdriverfrom selenium.webdriver.support import expected_conditions as ECfrom selenium.webdriver.support.wait import WebDriverWaitfrom selenium.webdriver.common.by import Byfrom time import sleepfrom selenium.webdriver import ChromeOptionsfrom lxml import etree# moderå¯ä»¥ä¸ºauthoræˆ–è€…articleï¼Œå‰è€…ä¸ºæŒ‰å…¬ä¼—å·æœç´¢ï¼Œåè€…ä¸ºæŒ‰æ–‡ç« å…³é”®å­—æœç´¢modern=&#x27;author&#x27;# æœç´¢çš„å…³é”®å­—ï¼Œå¦‚æœmodern = authorï¼Œè¾“å…¥å…¬ä¼—å·åå­—ï¼Œå¦åˆ™è¾“å…¥æ–‡ç« å…³é”®å­—keyword = &#x27;å†·å…”&#x27;# çˆ¬å–å¤šå°‘é¡µï¼Œå»ºè®®å…ˆæ‰‹åŠ¨æœç´¢æœ€å¤§é¡µç æ•°ï¼Œpageå¤§äºæœ€å¤§é¡µç å°†ä¼šæŠ¥é”™page = 2headers = &#123; &#x27;User-Agent&#x27;:&#x27;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_0) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36&#x27; &#125;# å®ç°è§„é¿æ£€æµ‹option = ChromeOptions()option.add_experimental_option(&#x27;excludeSwitches&#x27;, [&#x27;enable-automation&#x27;])bro = webdriver.Chrome(executable_path = &#x27;./chromedriver&#x27;, options=option)bro.get(&quot;https://www.sogou.com/index.php&quot;)wait = WebDriverWait(bro, 2)search_input = bro.find_element(By.ID, &#x27;query&#x27;)search_input.send_keys(keyword)# ç‚¹å‡»æœç´¢æŒ‰é’®btn = bro.find_element(By.ID, &#x27;stb&#x27;)btn.click()# ç‚¹å‡»å¾®ä¿¡ç™»é™†time.sleep(2)btn = bro.find_element(By.XPATH, &#x27;//*[@id=&quot;loginBtn&quot;]&#x27;)btn.click()# ç”¨å¾®ä¿¡æ‰«ç ï¼Œåªæœ‰åç§’time.sleep(2)btn = bro.find_element(By.XPATH, &#x27;/html/body/div[3]/div[3]/div[2]/div[4]/div/a[2]&#x27;)btn.click()time.sleep(10)button = bro.find_element(By.ID, &#x27;sogou_weixin&#x27;)button.click()article_button = bro.find_element(By.XPATH, &#x27;//*[@id=&quot;scroll-header&quot;]/form/div/input[1]&#x27;)article_button.click()# æœ€åéœ€è¦çˆ¬å–çš„æ–‡ç« urléƒ½åœ¨è¿™é‡Œurl_list=[]for i in range(page): page_text = bro.page_source # è§£æ tree = etree.HTML(page_text) author=tree.xpath(&#x27;/html/body/div[2]/div[1]/div[3]/ul/li/div[2]/div/a/text()&#x27;) print(author) url_page_list=tree.xpath(&#x27;/html/body/div[2]/div[1]/div[3]/ul/li/div[2]/h3/a/@href&#x27;) # ä¸‹é¢è¿™ä¸ªå¾ªç¯åˆ¤æ–­æŒ‰authorçˆ¬å–è¿˜æ˜¯æŒ‰ç…§aiticleçˆ¬å– for j in range(len(author)): if author[j]==keyword: url_list.append(url_page_list[j]) elif modern==&#x27;article&#x27;: url_list.append(url_page_list[j]) else: continue if i != page - 1: next_button = bro.find_element(By.ID, &#x27;sogou_next&#x27;) next_button.click() time.sleep(2)# æ‹¼æ¥åœ°å€url_list=[&#x27;https://weixin.sogou.com/&#x27;+i for i in url_list]title_list=[]content_list=[]time_list=[]author_list=[]for url in url_list: response = bro.get(url=url) time.sleep(random.randint(1, 3)) # çˆ¬ä¸€ä¸ªï¼Œä¼‘æ¯1-3ç§’ï¼Œæ€•è¢«æŠ“ page_text = bro.page_source tree_content = etree.HTML(page_text) # è·å–çˆ¬åˆ°çš„åŠ¨æ€é¡µé¢æºç  title = tree_content.xpath(&#x27;/html/body/div[1]/div[2]/div[1]/div/div[1]/h1/text()&#x27;) title = re.sub(r&#x27;\\s&#x27;, &#x27;&#x27;, &#x27;&#x27;.join(title)) # è·å–åˆ°çš„æ–‡ç« é¢˜ç›® content = tree_content.xpath(&#x27;/html/body/div[1]/div[2]/div[1]/div/div[1]/div[3]//text()&#x27;) content = re.sub(r&#x27;\\s*&#x27;, &#x27;&#x27;, &#x27;&#x27;.join(content)) # è·å–åˆ°çš„æ–‡ç« å†…å®¹ time1=tree_content.xpath(&#x27;//*[@id=&quot;publish_time&quot;]/text()&#x27;)[0] author=tree_content.xpath(&#x27;//*[@id=&quot;js_name&quot;]/text()&#x27;)[0] author=re.sub(r&#x27;\\s&#x27;, &#x27;&#x27;, &#x27;&#x27;.join(author)) title_list.append(title) content_list.append(content) time_list.append(time1) author_list.append(author)# å†™å…¥xlsxæ–‡ä»¶ä¸­data = &#123;&#x27;title&#x27;: title_list, &#x27;time&#x27;:time_list,&#x27;author&#x27;:author_list,&#x27;content&#x27;: content_list&#125;df = DataFrame(data)df.to_excel(&#x27;./å¾®ä¿¡å…¬ä¼—å·_&#x27;+keyword+&#x27;.xlsx&#x27;) è¿™é‡Œè§„é¿æ£€æµ‹è¯†åˆ«æ˜¯è®¾ç½®Chromedriverçš„å¯åŠ¨å‚æ•°ï¼Œåœ¨å¯åŠ¨Chromedriverä¹‹å‰ï¼Œä¸ºChromeå¼€å¯å®éªŒæ€§åŠŸèƒ½å‚æ•°excludeSwitchesï¼Œå®ƒçš„å€¼ä¸º[â€˜enable-automationâ€™]ã€‚è¿™ä¸ªå‚æ•°æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ æˆ‘ä»¬æ­£å¸¸è¿è¡Œseleniumæ—¶ï¼Œæœ€ä¸Šæ–¹æ˜¯æœ‰æç¤ºâ€Chromeæ­£å—åˆ°è‡ªåŠ¨æµ‹è¯•è½¯ä»¶çš„æ§åˆ¶â€œçš„ï¼Œè¿™ä¸ªå‚æ•°è®¾ç½®å°±æ˜¯ç¦ç”¨æµè§ˆå™¨çš„æç¤ºã€‚å¦‚æœæˆ‘ä»¬ç”¨seleniumæ¨¡æ‹Ÿchromeæµè§ˆå™¨è®¿é—®ç½‘ç«™ï¼Œç½‘ç«™å¯ä»¥é€šè¿‡æ£€æŸ¥window.navigator.webdriverè¿”å›å€¼åˆ¤æ–­æˆ‘ä»¬æ˜¯ç”¨æ­£å¸¸çš„æµè§ˆå™¨è®¿é—®è¿˜æ˜¯ç”¨seleniumæ¨¡æ‹Ÿæµè§ˆå™¨å‘èµ·çš„è®¿é—®ã€‚ å¦‚æœè¿”å›å€¼ä¸ºundefinedï¼Œè¯´æ˜æ˜¯æ­£å¸¸æµè§ˆå™¨ï¼›å¦‚æœè¿”å›trueè¯´æ˜ç”¨seleniumæ¨¡æ‹Ÿçš„æµè§ˆå™¨ã€‚ ä¸ºChromeå¼€å¯å®éªŒæ€§åŠŸèƒ½å‚æ•°excludeSwitchesåï¼Œå’Œæ­£å¸¸æµè§ˆå™¨ä¸€æ ·è¿”å›çš„æ˜¯undefinedã€‚ å½“ç„¶ï¼Œåçˆ¬æ‰‹æ®µä¸ä»…ä»…æ˜¯è¿™ä¸€ä¸ªï¼Œè¿™ä¸ªä»¥åçš„æœ‰ç©ºå†ç»†è¯´ã€‚ä¸Šé¢çš„çˆ¬è™«ä»£ç å‚è€ƒäº†åˆ˜ä¸¹è€å¸ˆï¼Œä¸æ˜¯æœ€ç»ˆç‰ˆæœ¬ï¼Œè¿˜å¯ä»¥å¯¹è¾“å‡ºå†…å®¹å’Œæ ·å¼ç»§ç»­åšä¼˜åŒ–ã€‚ç®€å•çœ‹ä¸€ä¸‹å®ç°çš„ç»“æœï¼š","categories":[{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://www.shelven.com/tags/%E7%88%AC%E8%99%AB/"},{"name":"requests","slug":"requests","permalink":"http://www.shelven.com/tags/requests/"},{"name":"Xpath","slug":"Xpath","permalink":"http://www.shelven.com/tags/Xpath/"},{"name":"selenium","slug":"selenium","permalink":"http://www.shelven.com/tags/selenium/"}]},{"title":"HTTPåŸºæœ¬åŸç†","slug":"HTTPåŸºæœ¬åŸç†","date":"2022-12-10T15:10:45.000Z","updated":"2022-12-10T16:00:15.000Z","comments":true,"path":"2022/12/10/a.html","link":"","permalink":"http://www.shelven.com/2022/12/10/a.html","excerpt":"ä»¥å‰å†™è¿‡ä¸€ç¯‡åšå®¢å¦‚ä½•çˆ¬å–å¾®åšçƒ­æœçš„å‰50æ¡ï¼Œå½“æ—¶æ˜¯ä»ä»£ç å‡ºå‘ç†è§£çˆ¬è™«å®ç°çš„è¿‡ç¨‹ã€‚è¿™ç¯‡åšå®¢ä¸»è¦è®²ä¸€ä¸‹HTTPçš„åŸºæœ¬çŸ¥è¯†ï¼ŒçŸ¥é“ä»æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€åˆ°æˆ‘ä»¬è·å–ç½‘é¡µå†…å®¹çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæœ‰åŠ©äºè¿›ä¸€æ­¥äº†è§£çˆ¬è™«çš„åŸºæœ¬åŸç†ã€‚","text":"ä»¥å‰å†™è¿‡ä¸€ç¯‡åšå®¢å¦‚ä½•çˆ¬å–å¾®åšçƒ­æœçš„å‰50æ¡ï¼Œå½“æ—¶æ˜¯ä»ä»£ç å‡ºå‘ç†è§£çˆ¬è™«å®ç°çš„è¿‡ç¨‹ã€‚è¿™ç¯‡åšå®¢ä¸»è¦è®²ä¸€ä¸‹HTTPçš„åŸºæœ¬çŸ¥è¯†ï¼ŒçŸ¥é“ä»æµè§ˆå™¨ä¸­è¾“å…¥ç½‘å€åˆ°æˆ‘ä»¬è·å–ç½‘é¡µå†…å®¹çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæœ‰åŠ©äºè¿›ä¸€æ­¥äº†è§£çˆ¬è™«çš„åŸºæœ¬åŸç†ã€‚ 1. URIã€URLå’ŒURNå…ˆæ”¾ä¸Šè¿™ä¸‰ä¸ªåè¯çš„å®šä¹‰ï¼š URIï¼šUniform Resource Identifier ç»Ÿä¸€èµ„æºæ ‡å¿—ç¬¦ URLï¼šUniform Resource Locator ç»Ÿä¸€èµ„æºå®šä½ç¬¦ URNï¼šUniform Resource Name ç»Ÿä¸€èµ„æºåç§° URIæ˜¯ä¸€ä¸ªæŠ½è±¡å®šä¹‰ï¼Œåªè¦èƒ½å®šä½åˆ°ä¸€ä¸ªèµ„æºï¼Œéƒ½å«åšURIã€‚ URLå’ŒURNéƒ½æ˜¯URIçš„å­é›†ï¼Œç®€å•æ¥è¯´ï¼ŒURLç”¨åœ°å€å®šä½èµ„æºï¼ŒURNç”¨åç§°å®šä½èµ„æºã€‚åªæ˜¯åæ¥URNåœ¨äº’è”ç½‘ä¸­ä½¿ç”¨éå¸¸å°‘ï¼Œå¯¼è‡´ç°åœ¨å‡ ä¹æ‰€æœ‰çš„URIéƒ½æ˜¯URLï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ä¸€èˆ¬ç½‘é¡µé“¾æ¥ç§°ä¹‹ä¸ºURIæˆ–è€…URLï¼ˆåè€…ç”¨çš„æœ€å¤šï¼‰ã€‚ é‚£ä¹ˆURLæˆ–è€…URIå…·ä½“æŒ‡ä»€ä¹ˆå‘¢ï¼Ÿ ä¸¾ä¸ªä¾‹å­ï¼Œæœ¬ç«™å›¾æ ‡åœ°å€https://www.shelven.com/tuchuang/bitbug_favicon.icoï¼Œé€šè¿‡è¿™ä¸ªåœ°å€å¯ä»¥è®¿é—®åˆ°ä¸€åª32*32åƒç´ å¤§å°çš„å¯çˆ±å°çŒ«ï¼Œé€šè¿‡è¿™ä¸ªåœ°å€URL&#x2F;URIæŒ‡å®šäº†å®ƒçš„è®¿é—®æ–¹å¼ï¼ŒåŒ…æ‹¬äº†è®¿é—®åè®®httpsï¼Œè®¿é—®è·¯å¾„å’Œèµ„æºåç§°bitbug_favicon.icoã€‚è¿™ä¸ªè®¿é—®èµ„æºå¯ä»¥æ˜¯ä¸€ä¸ªå›¾ç‰‡ï¼Œä¸€ä¸ªCSSæ–‡æ¡£ï¼Œä¸€ä¸ªHTMLé¡µé¢ç­‰ç­‰ã€‚ ä»¥HTTPSåè®®è®¿é—®webæœåŠ¡å™¨ä¸ºä¾‹ï¼Œæ‹†è§£ä¸€ä¸‹å®Œæ•´çš„URLç»“æ„ï¼š https://user:password@www.shelven.com:443/tuchuang/bitbug_favicon.ico åè®®ï¼šURLå¼€å¤´éƒ¨åˆ†å¿…é¡»æ˜¯åè®®ç±»å‹ï¼Œå¸¸è§çš„httpsã€httpã€ftpå’Œmailtoï¼ŒæŒ‡æ˜æµè§ˆå™¨åº”å½“ä½¿ç”¨çš„è®¿é—®æ–¹æ³•ï¼Œç”¨&#x2F;&#x2F;åšåˆ†éš”ç¬¦ ç”¨æˆ·å&#x2F;å¯†ç ï¼šuser:passwordè¿™éƒ¨åˆ†å¯ä»¥çœç•¥ åŸŸåï¼šæˆ‘è¿™é‡ŒåŸŸåæ˜¯www.shelven.comï¼Œæˆ‘ä»¬åœ¨å‘é€è¯·æ±‚å‰ä¼šå‘DNSæœåŠ¡å™¨è§£æè¿™ä¸ªåŸŸåçš„ipåœ°å€ï¼ŒåŸŸååªæ˜¯æ–¹ä¾¿æˆ‘ä»¬äººç±»è®°å¿†çš„ï¼Œè®¡ç®—æœºè®¿é—®çš„æœ€ç»ˆéƒ½æ˜¯ipåœ°å€ã€‚å½“ç„¶ï¼Œå¦‚æœä½ èƒ½è®°å¾—ä½ipåœ°å€ä¹Ÿå¯ä»¥ç›´æ¥è¾“å…¥ã€‚ ç«¯å£ï¼šç”¨æ¥åŒºåˆ†ä¸åŒç½‘ç»œæœåŠ¡ï¼ˆwebæœåŠ¡ã€ftpæœåŠ¡ç­‰ï¼‰ï¼Œå’ŒåŸŸåä¹‹é—´ç”¨å†’å·:åˆ†éš”ï¼Œç«¯å£ä¸æ˜¯URLå¿…é¡»çš„éƒ¨åˆ†ï¼Œhttpé»˜è®¤ç«¯å£80ï¼Œhttpsé»˜è®¤ç«¯å£443ï¼Œftpé»˜è®¤ç«¯å£21ã€‚ æ–‡ä»¶è·¯å¾„&#x2F;æ–‡ä»¶åï¼šä»åŸŸåç¬¬ä¸€ä¸ª/åˆ°æœ€åä¸€ä¸ª/ä¹‹é—´æ˜¯è™šæ‹Ÿç›®å½•ï¼›ä»åŸŸåæœ€åä¸€ä¸ª/åˆ°?éƒ¨åˆ†æ˜¯æ–‡ä»¶åï¼Œæ²¡æœ‰?åˆ™æ˜¯åˆ°#ä¸ºæ­¢ï¼Œéƒ½æ²¡æœ‰åˆ™æ˜¯ä»æœ€åä¸€ä¸ª/ä¸€ç›´åˆ°ç»“æŸéƒ½æ˜¯æ–‡ä»¶åéƒ¨åˆ†ã€‚æ–‡ä»¶åæ˜¯å¯ä»¥ç¼ºçœçš„ã€‚ 2. è¶…æ–‡æœ¬è¶…æ–‡æœ¬ï¼ˆHyper Text, HTï¼‰æ˜¯ç”¨è¶…é“¾æ¥çš„æ–¹æ³•ï¼Œå°†ä¸åŒç©ºé—´æ–‡å­—ä¿¡æ¯ç»„ç»‡åœ¨ä¸€èµ·çš„ç½‘çŠ¶æ–‡æœ¬ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œæµè§ˆå™¨ä¸­çœ‹åˆ°çš„ç½‘é¡µå°±æ˜¯è¶…æ–‡æœ¬è§£æè€Œæ¥çš„ï¼Œç½‘é¡µæœ¬èº«å°±æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œè€Œè¶…æ–‡æœ¬æŒ‡è¿™ç§æ–‡ä»¶æ—¢å¯ä»¥åŒ…å«æ–‡æœ¬ä¿¡æ¯ï¼Œåˆå¯ä»¥åŒ…å«å›¾ç‰‡ã€è§†é¢‘ã€é“¾æ¥ç­‰éæ–‡å­—ä¿¡æ¯ã€‚ ç½‘é¡µçš„æºä»£ç æ˜¯ä¸€ç³»åˆ—HTMLï¼ˆHyper Text Markup Language, è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰ä»£ç ï¼Œé‡Œé¢åŒ…å«äº†ä¸€ç³»åˆ—æ ‡ç­¾ï¼ˆå°–æ‹¬å·&lt;&gt;åŒ…å›´çš„å…³é”®è¯ï¼Œä¸€èˆ¬æˆå¯¹å‡ºç°ï¼‰å’Œå±æ€§å€¼ã€‚åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä»»æ„ä¸€ä¸ªé¡µé¢ï¼ŒæŒ‰F12å°±å¯ä»¥æ‰“å¼€æµè§ˆå™¨çš„å¼€å‘è€…å·¥å…·ï¼Œé€‰æ‹©å…ƒç´ ï¼ˆElementsï¼‰é€‰é¡¹å¡å°±å¯ä»¥çœ‹åˆ°å½“å‰ç½‘é¡µçš„æºä»£ç ï¼Œè€Œè¿™äº›æºä»£ç éƒ½æ˜¯è¶…æ–‡æœ¬ã€‚ çº¢æ¡†æ¡†ä½çš„å·¦ä¸Šè§’ç®­å¤´ï¼Œç‚¹å‡»ä»¥åå¯ä»¥åœ¨é¡µé¢ä¸­ç”¨é¼ æ ‡æ‚¬åœé€‰ä¸­å…ƒç´ ï¼Œå³è¾¹å¯¹åº”çš„æºä»£ç éƒ¨åˆ†ä¼šé«˜äº®ï¼Œæ–¹ä¾¿æˆ‘ä»¬è¿›è¡Œå…ƒç´ å®¡æŸ¥ã€‚ è¿™é‡Œé¡ºä¾¿è®°å½•ä¸‹HTMLå¸¸ç”¨çš„æ ‡ç­¾å’Œå±æ€§ï¼š æ ‡ç­¾å ç”¨æ³• åŸºæœ¬ç»“æ„æ ‡ç­¾ HTMLæ ‡ç­¾ï¼ˆæ ¹æ ‡ç­¾ï¼‰ &lt;html&gt;&lt;&#x2F;html&gt; æ–‡æ¡£å¤´æ ‡ç­¾ &lt;head&gt;&lt;&#x2F;head&gt; æ–‡æ¡£æ ‡é¢˜æ ‡ç­¾ï¼ˆç½‘é¡µæ ‡é¢˜ï¼‰ &lt;title&gt;&lt;&#x2F;title&gt; æ–‡æ¡£ä¸»ä½“æ ‡ç­¾ï¼ˆé¡µé¢å†…å®¹ï¼‰ &lt;body&gt;&lt;&#x2F;body&gt; åˆ—è¡¨æ ‡ç­¾ ï¼ˆè¿™é‡Œå› ä¸ºæ¸²æŸ“é—®é¢˜&amp;emspæ— æ³•æ˜¾ç¤ºç©ºæ ¼â€¦çŸ¥é“HTMLæœ‰ç¼©è¿›çš„æ„æ€å°±è¡Œï¼‰ æ— åºåˆ—è¡¨ &lt;ul type&#x3D;â€disc&#x2F;circle&#x2F;squareâ€&gt;&amp;emsp;&lt;li&gt;æ¡ç›®å†…å®¹&lt;&#x2F;li&gt;&lt;&#x2F;ul&gt; æœ‰åºåˆ—è¡¨ &lt;ol type&#x3D;â€1&#x2F;a&#x2F;A&#x2F;i&#x2F;Iâ€&gt;&amp;emsp;&lt;li&gt;æ¡ç›®å†…å®¹&lt;&#x2F;li&gt;&lt;&#x2F;ol&gt; å®šä¹‰åˆ—è¡¨ &lt;dl&gt;&amp;emsp;&lt;dt&gt;åˆ—è¡¨æ ‡é¢˜æ ‡ç­¾&lt;&#x2F;dt&gt;&amp;emsp;&lt;dd&gt;å…·ä½“åˆ—è¡¨é¡¹&lt;&#x2F;dd&gt;&lt;&#x2F;dl&gt; è¡¨æ ¼æ ‡ç­¾ è¡¨æ ¼æ ‡ç­¾ï¼ˆträ¸ºè¡Œï¼‰ &lt;table&gt;&amp;emsp;&lt;tr&gt;&amp;emsp;&amp;emsp;&lt;td&gt;å•å…ƒæ ¼å†…å®¹&lt;&#x2F;td&gt;&amp;emsp;&lt;&#x2F;tr&gt;&lt;&#x2F;table&gt; å¸¸ç”¨æ ‡ç­¾ æ ‡é¢˜æ ‡ç­¾ï¼ˆh1-h6ï¼‰ &lt;h1&gt;ä¸€çº§æ ‡é¢˜&lt;&#x2F;h1&gt; æ®µè½æ ‡ç­¾ &lt;p&gt;è¿™é‡Œæ˜¯å†…å®¹&lt;&#x2F;p&gt; å­—ä½“æ ‡ç­¾ &lt;font size&#x3D;â€10â€ color&#x3D;â€blackâ€ face&#x3D;â€å¾®è½¯é›…é»‘â€&gt;ä½ å¥½&lt;&#x2F;font&gt; æ¢è¡Œæ ‡ç­¾ &lt;br&#x2F;&gt; æ°´å¹³çº¿æ ‡ç­¾ &lt;hr size&#x3D;â€10â€ color&#x3D;â€redâ€ width&#x3D;â€50%â€ align&#x3D;â€leftâ€&#x2F;&gt; ç›’å­æ ‡ç­¾div &lt;div&gt;divæ ‡ç­¾å†…å®¹ç‹¬å ä¸€è¡Œ&lt;&#x2F;div&gt; ç›’å­æ ‡ç­¾span &lt;span&gt;spanæ ‡ç­¾å†…å®¹ä¸€è¡Œå¯ä»¥å¤šä¸ª&lt;&#x2F;span&gt; å›¾ç‰‡æ ‡ç­¾ &lt;img src&#x3D;â€åœ°å€â€ width&#x3D;â€™â€å®½åº¦â€ height&#x3D;â€é«˜åº¦â€&gt;&lt;&#x2F;img&gt; è¶…é“¾æ¥æ ‡ç­¾ &lt;a href&#x3D;â€è·³è½¬ç½‘å€â€ target&#x3D;â€çª—å£å¼¹å‡ºæ–¹å¼â€&gt;&lt;&#x2F;a&gt; æ³¨é‡Šæ ‡ç­¾ &lt;!â€“ æ³¨é‡Šå†…å®¹ â€“&gt; è¿˜æœ‰è¡¨å•æ ‡ç­¾&lt;form&gt;&lt;&#x2F;form&gt;ç­‰ç­‰ï¼Œå¤ªå¤šäº†è¿™é‡Œå°±ä¸ä¸€ä¸€è¯¦ç»†è¯´äº†ï¼Œå¦‚æœä»¥åæœ‰å¿…è¦å†å‡ºä¸€ä¸ªè¯¦ç»†çš„HTMLç¬”è®°ï¼Œç°åœ¨åªè¦çœ‹åˆ°è¿™äº›æ ‡ç­¾å¿ƒé‡Œæœ‰ä¸ªæ•°å°±è¡Œï¼ŒçœŸæ­£è¦åšå‰ç«¯å†å»è¯¦ç»†æ¢ç©¶ã€‚ 3. åè®®å‰é¢è¯´URLçš„å¼€å¤´å¿…é¡»æŒ‡æ˜åè®®ç±»å‹ï¼Œå¸¸ç”¨çš„æ˜¯ftpï¼ˆæ–‡ä»¶ä¼ è¾“åè®®ï¼‰ã€httpï¼ˆè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰ã€httpsï¼ˆhttpçš„å®‰å…¨ç‰ˆï¼‰ã€mailtoï¼ˆç”µå­é‚®ä»¶åè®®ï¼‰å’Œsmbï¼ˆé€šä¿¡åè®®ï¼‰ã€‚ä¸éœ€è¦å¯¹æ‰€æœ‰åè®®äº†å¦‚æŒ‡æŒï¼Œå‰ä¸‰ä¸­åè®®æ˜¯æˆ‘ä»¬æ—¥å¸¸ç”¨çš„æœ€å¤šçš„ï¼Œhttpå’Œhttpsæ˜¯æˆ‘ä»¬è®¿é—®ç½‘ç«™webæœåŠ¡æ‰€å¿…é¡»çš„ï¼Œçˆ¬è™«ä¹Ÿå¯ä»¥é€šè¿‡è¿™ä¸¤ç§åè®®ä¼ªè£…æˆæµè§ˆå™¨è®¿é—®ï¼Œä»è€ŒæŠ“å–æˆ‘ä»¬éœ€è¦çš„é¡µé¢ã€‚ HTTPï¼ˆHyper Text Transfer Protocol, è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼‰å°±æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚-å“åº”åè®®ï¼Œè¿è¡Œåœ¨TCPä¹‹ä¸Šï¼ŒæŒ‡å®šå®¢æˆ·ç«¯å‘é€ä»€ä¹ˆæ ·çš„æ¶ˆæ¯ä»¥åŠå¾—åˆ°ä»€ä¹ˆå“åº”ï¼ŒæœåŠ¡å™¨ç«¯å®ç°ç¨‹åºæœ‰httpdï¼ˆæœ¬ç«™å°±æ˜¯ç”¨çš„è¿™ä¸ªï¼‰å’Œnginxã€‚ HTTPsï¼ˆHyper Text Transfer Protocol over Secure Socket Layerï¼‰ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œè¯´ç™½äº†å°±æ˜¯å®‰å…¨ç‰ˆHTTPï¼Œåœ¨HTTPä¸‹åŠ å…¥SSLå±‚ï¼Œä¼ è¾“å†…å®¹ç»è¿‡SSLåŠ å¯†ã€‚ æœ¬ç«™å»ºç«™ä¹‹åˆï¼Œæˆ‘å½“æ—¶ç»•äº†ä¸€å¤§åœˆæ‰ç­¾ä¸‹æ¥SSLè¯ä¹¦â€¦â€¦HTTPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLï¼Œä¸»è¦ä½œç”¨æ˜¯å»ºç«‹ä¸€ä¸ªä¿¡æ¯å®‰å…¨é€šé“ï¼Œä¿è¯æ•°æ®ä¼ è¾“çš„å®‰å…¨ï¼›ç¡®è®¤ç½‘ç«™çš„çœŸå®æ€§ï¼Œä½¿ç”¨httpsçš„ç½‘ç«™å¯ä»¥é€šè¿‡æµè§ˆå™¨åœ°å€æ çš„é”å¤´æ ‡å¿—ï¼ŒæŸ¥çœ‹ç½‘ç«™è®¤è¯çš„çœŸå®ä¿¡æ¯ã€‚ æœ‰äº›ç½‘ç«™ä½¿ç”¨äº†HTTPsåè®®ä½†è¿˜æ˜¯ä¼šè¢«æµè§ˆå™¨æç¤ºä¸å®‰å…¨ï¼Œé‚£æœ‰å¯èƒ½æ˜¯è¯ä¹¦è¿‡æœŸäº†ï¼Œæˆ–è€…é¢å‘CAè¯ä¹¦çš„æœºæ„ä¸æ˜¯è¢«ä¿¡ä»»çš„ï¼Œè¿™æ ·å°±ä¼šæç¤ºâ€æ‚¨çš„è¿æ¥ä¸æ˜¯ç§å¯†è¿æ¥â€œã€‚è€Œè¦ç”¨çˆ¬è™«çˆ¬å–è¿™ç§é¡µé¢çš„è¯ï¼Œéœ€è¦è®¾ç½®å¿½ç•¥è¯ä¹¦ï¼Œå¦åˆ™ä¼šæç¤ºSSLè¯ä¹¦è¿æ¥é”™è¯¯ã€‚ 4. HTTPè¯·æ±‚è¿‡ç¨‹æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸­è¾“å…¥ä¸€ä¸ª URLï¼Œå›è½¦ä¹‹åä¾¿ä¼šåœ¨æµè§ˆå™¨ä¸­è§‚å¯Ÿåˆ°é¡µé¢å†…å®¹ã€‚è¿™ä¸ªè¿‡ç¨‹æ˜¯æµè§ˆå™¨å‘ç½‘ç«™æ‰€åœ¨çš„æœåŠ¡å™¨å‘é€äº†ä¸€ä¸ªè¯·æ±‚ï¼Œç½‘ç«™æœåŠ¡å™¨æ¥æ”¶åˆ°è¿™ä¸ªè¯·æ±‚åè¿›è¡Œå¤„ç†å’Œè§£æï¼Œç„¶åè¿”å›å¯¹åº”çš„å“åº”ï¼Œæ¥ç€ä¼ å›ç»™æµè§ˆå™¨ã€‚å“åº”é‡ŒåŒ…å«äº†é¡µé¢çš„æºä»£ç ç­‰å†…å®¹ï¼Œæµè§ˆå™¨å†å¯¹å…¶è¿›è¡Œè§£æï¼Œå°†ç½‘é¡µå‘ˆç°å‡ºæ¥ã€‚ ä»¥æœ¬ç«™ä½œä¸ºæ¼”ç¤ºï¼Œæ‰“å¼€æµè§ˆå™¨ï¼ŒæŒ‰ä¸‹F12è¿›å…¥å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»ç½‘ç»œï¼ˆNetworkï¼‰é€‰é¡¹ï¼›æœç´¢æ¡†è¾“å…¥https://www.shelven.comï¼Œå›è½¦ã€‚è§‚å¯Ÿæ•´ä¸ªè¿‡ç¨‹ä¸­å‘ç”Ÿäº†æ€æ ·çš„ç½‘ç»œè¯·æ±‚ã€‚ çœ‹ä¸‹ç¬¬ä¸€ä¸ªç½‘ç»œè¯·æ±‚www.shelven.comï¼Œå„åˆ—çš„å«ä¹‰å¦‚ä¸‹ï¼š åç§°nameï¼šè¯·æ±‚çš„åç§°ï¼Œè¿”å›çš„æ¯ä¸€æ¡éƒ½æ˜¯å¯¹åº”çš„æ•°æ®åŒ… çŠ¶æ€statusï¼šå“åº”çš„çŠ¶æ€ç ï¼Œé€šè¿‡çŠ¶æ€ç åˆ¤æ–­å‘é€è¯·æ±‚ä¹‹åæ˜¯å¦å¾—åˆ°æ­£å¸¸çš„å“åº” ç±»å‹typeï¼šè¯·æ±‚çš„æ–‡æ¡£ç±»å‹ï¼Œè¿™é‡Œæ˜¯è¿”å›documentï¼Œå†…å®¹å°±æ˜¯ä¸€äº›htmlä»£ç  å‘èµ·ç¨‹åºinitiatorï¼šè¯·æ±‚æºï¼Œæ ‡è®°æ˜¯å“ªä¸ªå¯¹è±¡æˆ–è€…è¿›ç¨‹å‘èµ·çš„è¯·æ±‚ å¤§å°sizeï¼šä»æœåŠ¡å™¨ä¸‹è½½çš„æ–‡ä»¶å’Œè¯·æ±‚èµ„æºçš„å¤§å° æ—¶é—´timeï¼šå‘èµ·è¯·æ±‚åˆ°è·å–å“åº”çš„æ€»æ—¶é—´ æ—¶é—´çº¿waterfallï¼šç½‘ç»œè¯·æ±‚çš„å¯è§†åŒ–ç€‘å¸ƒæµ ç‚¹å‡»å…·ä½“æ¡ç›®å¯ä»¥çœ‹åˆ°æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚ ä¸»è¦çœ‹ä¸‰ä¸ªéƒ¨åˆ†ï¼Œå¸¸è§„ï¼ˆgeneralï¼‰ã€å“åº”å¤´ï¼ˆResponse Headersï¼‰å’Œè¯·æ±‚å¤´ï¼ˆRequest Headersï¼‰ã€‚å¸¸è§„éƒ¨åˆ†æ˜¯æ€»çš„æ•°æ®åŒ…æ¦‚æ‹¬ã€‚è¯·æ±‚å¤´å¸¦æœ‰è¯·æ±‚ä¿¡æ¯ï¼Œä¾‹å¦‚Cookiesã€user-agentç­‰ä¿¡æ¯ï¼ŒæœåŠ¡å™¨ä¼šæ ¹æ®è¯·æ±‚å¤´å†…çš„ä¿¡æ¯åˆ¤æ–­è¯·æ±‚æ˜¯å¦åˆæ³•ï¼Œè¿›è€Œä½œå‡ºå¯¹åº”çš„å“åº”ã€‚å“åº”å¤´å°±æ˜¯å“åº”çš„ä¸€éƒ¨åˆ†ï¼ŒåŒ…å«äº†æœåŠ¡å™¨çš„ç±»å‹ã€æ–‡æ¡£ç±»å‹ã€æ—¥æœŸç­‰ä¿¡æ¯ï¼Œæµè§ˆå™¨æ¥å—åˆ°å“åº”åï¼Œä¼šè§£æå“åº”å†…å®¹ï¼Œè¿›è€Œå‘ˆç°ç½‘é¡µå†…å®¹ã€‚ 5. è¯·æ±‚è¯·æ±‚æŒ‡çš„æ˜¯ä»å®¢æˆ·ç«¯åˆ°æœåŠ¡å™¨ç«¯çš„è¯·æ±‚æ¶ˆæ¯ï¼Œå‘ç»™æœåŠ¡å™¨çš„è¯·æ±‚ç§°ä¸ºè¯·æ±‚æŠ¥æ–‡ï¼Œå¯ä»¥åˆ†ä¸ºè¯·æ±‚è¡Œï¼ˆrequest lineï¼‰ï¼Œè¯·æ±‚å¤´ï¼ˆrequest headerï¼‰å’Œè¯·æ±‚ä½“ï¼ˆrequest bodyï¼‰ã€‚ 5.1 è¯·æ±‚è¡Œè¯·æ±‚è¡Œä¸­åŒ…æ‹¬äº†è¯·æ±‚æ–¹æ³•ï¼Œè¯·æ±‚åè®®å’Œç‰ˆæœ¬ã€‚ ä»¥ç™¾åº¦é¦–é¡µä¸ºä¾‹ï¼š å°æ¡†æ¡†èµ·æ¥çš„åœ°æ–¹ä¸ºè¯·æ±‚è¡Œï¼Œå¯ä»¥çœ‹åˆ°ç™¾åº¦é¦–é¡µçš„è¯·æ±‚æ–¹æ³•ä¸ºgetï¼Œè¯·æ±‚åè®®ä¸ºHTTPç‰ˆæœ¬1.1 å¸¸è§çš„è¯·æ±‚æ–¹æ³•æœ‰ä¸¤ç§ï¼šGETå’ŒPOST GET è¯·æ±‚ä¸­çš„å‚æ•°åŒ…å«åœ¨URLé‡Œé¢ï¼Œæ•°æ®å¯ä»¥åœ¨URLä¸­çœ‹åˆ°ï¼Œè€ŒPOSTè¯·æ±‚çš„URLä¸ä¼šåŒ…å«è¿™äº›æ•°æ®ï¼Œæ•°æ®æ˜¯é€šè¿‡è¡¨å•å½¢å¼ä¼ è¾“çš„ï¼Œä¼šåŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ã€‚ GET è¯·æ±‚æäº¤çš„æ•°æ®æœ€å¤šåªæœ‰1024å­—èŠ‚ï¼Œè€ŒPOSTæ–¹å¼æ²¡æœ‰é™åˆ¶ã€‚ å› ä¸ºGETè¯·æ±‚æ–¹å¼ä¸æ¶‰åŠå’Œæ•°æ®åº“çš„äº¤æ¢ï¼Œæ‰€ä»¥æˆ‘ä»¬æµè§ˆç½‘é¡µç”¨çš„éƒ½æ˜¯GETè¯·æ±‚ï¼›å¦‚æœè¦åœ¨ä¸€ä¸ªç½‘ç«™ç™»å½•ï¼Œå°±éœ€è¦æäº¤ç”¨æˆ·åå’Œå¯†ç çš„è¡¨å•ï¼Œè¿™ä¸ªæ—¶å€™ç”¨çš„å°±æ˜¯POSTè¯·æ±‚ã€‚è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„å› ç´ ï¼ŒGETæ–¹å¼è¯·æ±‚çš„æ•°æ®æ˜¯åœ¨URLä¸­å®Œå…¨æš´éœ²çš„ï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šç”¨GETæ–¹å¼å‘é€è¯·æ±‚ï¼Œä¸ç„¶å®¹æ˜“é€ æˆå¯†ç æ³„éœ²ã€‚ å…¶ä»–è¯·æ±‚æ–¹æ³•åœ¨å‰é¢ä¸€ç¯‡çˆ¬è™«åšå®¢æœ‰æåˆ°ï¼Œè¿™é‡Œåˆ—ä¸ªè¡¨æ ¼ï¼š æ–¹æ³• æè¿° GET è¯·æ±‚é¡µé¢ï¼Œå¹¶è¿”å›é¡µé¢å†…å®¹ POST å¤§å¤šç”¨äºæäº¤è¡¨å•æˆ–ä¸Šä¼ æ–‡ä»¶ï¼Œæ•°æ®åŒ…å«åœ¨è¯·æ±‚ä½“ä¸­ HEAD ç±»ä¼¼äº GET è¯·æ±‚ï¼Œåªä¸è¿‡è¿”å›çš„å“åº”ä¸­æ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œç”¨äºè·å–æŠ¥å¤´ PUT ä»å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€çš„æ•°æ®å–ä»£æŒ‡å®šæ–‡æ¡£ä¸­çš„å†…å®¹ DELETE è¯·æ±‚æœåŠ¡å™¨åˆ é™¤æŒ‡å®šçš„é¡µé¢ CONNECT æŠŠæœåŠ¡å™¨å½“ä½œè·³æ¿ï¼Œè®©æœåŠ¡å™¨ä»£æ›¿å®¢æˆ·ç«¯è®¿é—®å…¶ä»–ç½‘é¡µ OPTIONS å…è®¸å®¢æˆ·ç«¯æŸ¥çœ‹æœåŠ¡å™¨çš„æ€§èƒ½ TRACE å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­ è¡¨æ ¼å‚è€ƒï¼šHTTP è¯·æ±‚æ–¹æ³• | èœé¸Ÿæ•™ç¨‹ (runoob.com) 5.2 è¯·æ±‚å¤´è¯·æ±‚å¤´æ˜¯ç”¨æ¥è¯´æ˜æœåŠ¡å™¨ä½¿ç”¨çš„é™„åŠ ä¿¡æ¯çš„ï¼Œä¸Šé¢é‚£ä¸ªç™¾åº¦é¦–é¡µä¾‹å­çš„å¤§æ¡†æ¡†ä½éƒ¨åˆ†å°±æ˜¯è¯·æ±‚å¤´çš„ä¿¡æ¯ã€‚ åŒæ ·åˆ—ä¸ªè¡¨æ ¼è®°å½•ä¸‹å¸¸ç”¨çš„å¤´ä¿¡æ¯ã€‚ å¤´ä¿¡æ¯ æè¿° Accept è¯·æ±‚æŠ¥å¤´åŸŸï¼Œç”¨äºæŒ‡å®šå®¢æˆ·ç«¯å¯æ¥å—å“ªäº›ç±»å‹çš„ä¿¡æ¯ Accept-Language æŒ‡å®šå®¢æˆ·ç«¯å¯æ¥å—çš„è¯­è¨€ç±»å‹ Accept-Encoding æŒ‡å®šå®¢æˆ·ç«¯å¯æ¥å—çš„å†…å®¹ç¼–ç  Host æŒ‡å®šè¯·æ±‚èµ„æºçš„ä¸»æœºIPå’Œç«¯å£å· Cookie è€Œå­˜å‚¨åœ¨ç”¨æˆ·æœ¬åœ°çš„æ•°æ®ï¼Œä¸»è¦åŠŸèƒ½æ˜¯ç»´æŒå½“å‰è®¿é—®ä¼šè¯ Referer æ ‡è¯†è¯·æ±‚æ˜¯ä»å“ªä¸ªé¡µé¢å‘è¿‡æ¥çš„ï¼ŒæœåŠ¡å™¨å¯ä»¥æ‹¿æ¥åšæ¥æºç»Ÿè®¡ã€é˜²ç›—é“¾å¤„ç† User-Agent æœåŠ¡å™¨è¯†åˆ«å®¢æˆ·ä½¿ç”¨çš„æ“ä½œç³»ç»ŸåŠç‰ˆæœ¬ã€æµè§ˆå™¨åŠç‰ˆæœ¬ç­‰ä¿¡æ¯ï¼Œçˆ¬è™«ä¼ªè£…æµè§ˆå™¨å¿…å¤‡ Content-Type è¯·æ±‚çš„æ•°æ®ç±»å‹ä¿¡æ¯HTTP Content-type å¯¹ç…§è¡¨ (oschina.net) 5.3 è¯·æ±‚ä½“è¯·æ±‚ä½“æ‰¿è½½POSTè¯·æ±‚ä¸­çš„è¡¨å•æ•°æ®ï¼ŒGETè¯·æ±‚çš„è¯·æ±‚ä½“ä¸ºç©ºã€‚ è¿™é‡Œä»¥ç™»å½•githubæ•è·çš„è¯·æ±‚ä½“ä¸ºä¾‹ï¼š ç™»å½•çš„æ—¶å€™å¡«å†™çš„ç”¨æˆ·åå’Œå¯†ç ä¿¡æ¯ï¼Œæäº¤çš„æ—¶å€™å°±ä¼šä»¥è¡¨å•å½¢å¼æäº¤ç»™æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥çœ‹åˆ°è¯·æ±‚å¤´ä¸­çš„Cotent-Typeä¸ºapplication&#x2F;x-www-form-urlencodedï¼Œè¡¨ç¤ºä»¥è¡¨å•æ•°æ®çš„å½¢å¼æäº¤ç»™æœåŠ¡å™¨ã€‚å¯ä»¥è®¾ç½®ä¸åŒçš„Cotent-Typeï¼Œä»¥ä¸åŒçš„æ–¹å¼æäº¤æ•°æ®ï¼Œå¦‚æœåœ¨åšçˆ¬è™«çš„æ—¶å€™è¦æ„é€ POSTè¯·æ±‚ï¼Œéœ€è¦æ³¨æ„ä¸€ä¸‹ä½¿ç”¨æ­£ç¡®çš„Cotent-Typeï¼ˆç±»å‹&#x2F;å­ç±»å‹ï¼‰ï¼Œä¸ç„¶å¯èƒ½ä¼šæäº¤åæ— æ³•æ­£å¸¸å“åº”ã€‚ Cotent-Type æ•°æ®æäº¤çš„æ–¹å¼ application&#x2F;x-www-form-urlencoded è¡¨å•æ•°æ® multipart&#x2F;form-data è¡¨å•æ–‡ä»¶ä¸Šä¼  application&#x2F;json åºåˆ—åŒ–JSONæ•°æ® text&#x2F;xml XMLæ•°æ® application&#x2F;pdf pdfæ ¼å¼ application&#x2F;octet-stream äºŒè¿›åˆ¶æµæ•°æ®ï¼ˆå¦‚å¸¸è§çš„æ–‡ä»¶ä¸‹è½½ï¼‰ 6. å“åº”å’Œè¯·æ±‚ç±»ä¼¼çš„ï¼ŒæœåŠ¡å™¨è¿›è¡ŒHTTPå“åº”ä¹Ÿæ˜¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šå“åº”çŠ¶æ€è¡Œï¼Œå“åº”å¤´å’Œå“åº”ä½“ 6.1 å“åº”çŠ¶æ€è¡Œå›åˆ°ä¹‹å‰ç™¾åº¦é¦–é¡µçš„ä¾‹å­ï¼Œæˆ‘ä»¬ç‚¹å¼€ç™¾åº¦é¦–é¡µå®¡æŸ¥å…ƒç´ ï¼Œè¿™æ¬¡ç‚¹å¼€å“åº”é‚£ä¸€æ æŸ¥çœ‹æºã€‚ å°æ¡†æ¡†èµ·æ¥çš„åœ°æ–¹æ˜¯å“åº”çŠ¶æ€è¡Œï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å“åº”çš„åè®®ç‰ˆæœ¬æ˜¯HTTP&#x2F;1.1ï¼Œå“åº”çŠ¶æ€ç æ˜¯200ï¼Œè¯´æ˜è¿”å›æ­£å¸¸ã€‚ å“åº”çŠ¶æ€ç å…¶å®å¹¶ä¸é™Œç”Ÿï¼Œé¡¾åæ€ä¹‰è¡¨ç¤ºæœåŠ¡å™¨çš„å“åº”çŠ¶æ€ã€‚200è¯´æ˜æœåŠ¡å™¨æ­£å¸¸å“åº”è¿”å›æ­£å¸¸æ•°æ®ï¼Œç»å¸¸èƒ½çœ‹åˆ°404æŠ¥é”™ï¼Œä»£è¡¨çš„æ˜¯é¡µé¢æœªæ‰¾åˆ°ï¼Œ403è¡¨ç¤ºæœåŠ¡å™¨æ‹’ç»æ‰§è¡Œè¯·æ±‚ï¼Œ503ä»£è¡¨æœåŠ¡å™¨ä¸å¯ç”¨ï¼Œ301ä»£è¡¨ç½‘é¡µè¢«æ°¸ä¹…è½¬ç§»åˆ°å…¶ä»–URLã€‚ å› ä¸ºçŠ¶æ€ç éå¸¸å¤šï¼Œè¿™é‡Œå°±è®°å½•ä¸€ä¸‹çŠ¶æ€ç çš„åˆ†ç±»ï¼Œè¯¦ç»†çŠ¶æ€ç åˆ—è¡¨å¯ä»¥å‚è€ƒHTTP çŠ¶æ€ç  | èœé¸Ÿæ•™ç¨‹ (runoob.com) åˆ†ç±» åˆ†ç±»æè¿° 100-199 ä¿¡æ¯å“åº”ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ 200-299 æˆåŠŸå“åº”ï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç† 300-399 é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚ 400-499 å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚ 500-599 æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ 6.2 å“åº”å¤´ä¸Šé¢ä¾‹å­ä¸­çº¢è‰²å¤§æ¡†æ¡†ä½çš„éƒ¨åˆ†å°±æ˜¯å“åº”å¤´ï¼ŒåŒ…å«æœåŠ¡å™¨å¯¹è¯·æ±‚çš„åº”ç­”ä¿¡æ¯ã€‚ å“åº”å¤´ä¸»è¦æœ‰å¦‚ä¸‹çš„ä¿¡æ¯ï¼š å¤´ä¿¡æ¯ æè¿° Date æ ‡è¯†å“åº”äº§ç”Ÿçš„æ—¶é—´ Last-Modified æŒ‡å®šèµ„æºçš„æœ€åä¿®æ”¹æ—¶é—´ Content-Encoding æŒ‡å®šå“åº”å†…å®¹çš„ç¼–ç  Server æœåŠ¡å™¨çš„ä¿¡æ¯ï¼Œæ¯”å¦‚åç§°ã€ç‰ˆæœ¬å· Content-Type è¿”å›çš„æ•°æ®ç±»å‹ä¿¡æ¯ Set-Cookie è®¾ç½® Cookiesï¼Œä¸‹æ¬¡è¯·æ±‚ä¼šæºå¸¦è¿™ä¸ªcookies Expires æŒ‡å®šå“åº”çš„è¿‡æœŸæ—¶é—´ 6.3 å“åº”ä½“å“åº”ä½“å°±æ˜¯å“åº”çš„å†…å®¹ï¼Œè¯·æ±‚ç½‘é¡µçš„æ—¶å€™å“åº”ä½“å°±æ˜¯å¯¹åº”çš„HTMLæºä»£ç ï¼Œè¯·æ±‚ä¸€å¼ å›¾ç‰‡ï¼Œå“åº”ä½“å°±æ˜¯è¿”å›çš„äºŒè¿›åˆ¶æ•°æ®ã€‚çˆ¬è™«å°±æ˜¯é€šè¿‡è¯·æ±‚åˆ°ç½‘é¡µåï¼Œè§£æå“åº”ä½“ä¸­çš„å†…å®¹ï¼ˆæœ‰çš„æ—¶å€™æ˜¯HTMLä»£ç ï¼Œæœ‰çš„æ—¶å€™æ˜¯JSONæ•°æ®ç­‰ç­‰ï¼Œè¿™ä¸¤è€…æ¯”è¾ƒå¸¸è§ï¼‰ï¼Œç„¶åä»ä¸­æå–æˆ‘ä»¬è¦çš„ä¿¡æ¯ã€‚ åœ¨edgeæµè§ˆå™¨ä¸­ï¼Œè¿›å…¥å¼€å‘è€…å·¥å…·ï¼Œç‚¹å‡»networké€‰é¡¹ï¼Œé€‰ä¸­éœ€è¦è§£æçš„é¡¹ç›®åç§°ï¼Œç‚¹å‡»å“åº”å°±å¯ä»¥çœ‹åˆ°è¿”å›çš„å“åº”ä½“æ•°æ®äº†ã€‚ ä»¥ä¸Šæš‚æ—¶æ€»ç»“è¿™ä¹ˆå¤šHTTPçš„åŸºç¡€ï¼Œå‚è€ƒäº†ç›¸å½“å¤šçš„å†…å®¹ï¼Œåé¢åšçˆ¬è™«ç»ƒä¹ è‡ªç„¶ä¼šç”¨åˆ°ã€‚","categories":[{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://www.shelven.com/tags/%E7%88%AC%E8%99%AB/"},{"name":"HTTP","slug":"HTTP","permalink":"http://www.shelven.com/tags/HTTP/"}]},{"title":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ7ï¼‰â€”â€”æ¨¡å—ã€åŒ…å’Œåº“","slug":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ7ï¼‰â€”â€”æ¨¡å—ã€åŒ…å’Œåº“","date":"2022-11-29T14:30:03.000Z","updated":"2022-12-03T15:51:32.000Z","comments":true,"path":"2022/11/29/b.html","link":"","permalink":"http://www.shelven.com/2022/11/29/b.html","excerpt":"å‰é¢ä»‹ç»é€’å½’å‡½æ•°çš„æ—¶å€™ç”¨åˆ°äº†sysæ¨¡å—ï¼Œä»‹ç»æ–‡ä»¶æ“ä½œå‡½æ•°çš„æ—¶å€™ç”¨åˆ°äº†osæ¨¡å—ï¼Œä¹‹å‰åªæ˜¯ç®€å•è¯´äº†è¿™ä¸¤ä¸ªæ¨¡å—ä¸‹éƒ¨åˆ†å‡½æ•°çš„ç”¨æ³•ï¼Œè¿™é‡Œè¯¦ç»†ä»‹ç»ä¸€ä¸‹å¯¹äºæ¨¡å—ã€åŒ…å’Œåº“çš„æ¦‚å¿µï¼Œä»¥åŠä¸€äº›å¸¸è§çš„æ¨¡å—ç”¨æ³•ã€‚","text":"å‰é¢ä»‹ç»é€’å½’å‡½æ•°çš„æ—¶å€™ç”¨åˆ°äº†sysæ¨¡å—ï¼Œä»‹ç»æ–‡ä»¶æ“ä½œå‡½æ•°çš„æ—¶å€™ç”¨åˆ°äº†osæ¨¡å—ï¼Œä¹‹å‰åªæ˜¯ç®€å•è¯´äº†è¿™ä¸¤ä¸ªæ¨¡å—ä¸‹éƒ¨åˆ†å‡½æ•°çš„ç”¨æ³•ï¼Œè¿™é‡Œè¯¦ç»†ä»‹ç»ä¸€ä¸‹å¯¹äºæ¨¡å—ã€åŒ…å’Œåº“çš„æ¦‚å¿µï¼Œä»¥åŠä¸€äº›å¸¸è§çš„æ¨¡å—ç”¨æ³•ã€‚ ä¸éœ€è¦è®°ä½æ¯ä¸ªæ¨¡å—ä¸‹æ‰€æœ‰å‡½æ•°ç”¨æ³•ï¼Œä½†æ˜¯å¹³å¸¸çœ‹åˆ°pythonæ–‡ä»¶å¯¼å…¥æ¨¡å—æ“ä½œçš„æ—¶å€™ï¼Œè¦å¤§æ¦‚çŸ¥é“è¿™å‡ ä¸ªæ¨¡å—æœ‰ä»€ä¹ˆä½œç”¨ã€‚ 1. æ¦‚å¿µ1.1 æ¨¡å—ï¼ˆmoduleï¼‰å‡½æ•°å¯ä»¥ç†è§£ä¸ºå®Œæˆç‰¹å®šåŠŸèƒ½çš„ä¸€æ®µç¨‹åºï¼Œç±»æ˜¯åŒ…å«ä¸€ç»„æ•°æ®åŠæ“ä½œè¿™äº›æ•°æ®æˆ–ä¼ é€’æ¶ˆæ¯çš„å‡½æ•°çš„é›†åˆï¼Œè€Œæ¨¡å—ï¼ˆmoduleï¼‰æ˜¯åœ¨å‡½æ•°å’Œç±»çš„åŸºç¡€ä¸Šï¼Œå°†ä¸€ç³»åˆ—ç›¸å…³ä»£ç ç»„ç»‡åˆ°ä¸€èµ·çš„é›†åˆä½“ã€‚ åœ¨pythonä¸­ï¼Œæ‰©å±•åä¸º.pyçš„æºç¨‹åºæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªæ¨¡å—ï¼Œè¿™ä¸ªå’ŒCè¯­è¨€çš„å¤´æ–‡ä»¶ä»¥åŠJAVAçš„åŒ…æ˜¯ç±»ä¼¼çš„ã€‚ pythonå®˜æ–¹ç½‘ç«™ä¸Šå¯ä»¥æŸ¥çœ‹å½“å‰æ ‡å‡†åº“ä¸­çš„æ‰€æœ‰æ¨¡å—ï¼Œç‚¹å‡»è¿™é‡Œã€‚ 1.2 åŒ…ï¼ˆpackageï¼‰ä¸ºäº†æ–¹ä¾¿è°ƒç”¨å°†ä¸€äº›åŠŸèƒ½ç›¸è¿‘çš„æ¨¡å—ç»„ç»‡åœ¨ä¸€èµ·ï¼Œæˆ–æ˜¯å°†ä¸€ä¸ªè¾ƒä¸ºå¤æ‚çš„æ¨¡å—æ‹†åˆ†ä¸ºå¤šä¸ªç»„æˆéƒ¨åˆ†ï¼Œå¯ä»¥å°† .py æºç¨‹åºæ–‡ä»¶æ”¾åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼ŒæŒ‰ç…§ Python çš„è§„åˆ™è¿›è¡Œç®¡ç†ï¼Œè¿™æ ·çš„æ–‡ä»¶å¤¹å’Œå…¶ä¸­çš„æ–‡ä»¶å°±ç§°ä¸ºåŒ…ï¼ˆpackageï¼‰ã€‚ åŒ…çš„ç›®å½•ä¸‹éœ€è¦åˆ›å»º__init__.py æ¨¡å—ï¼Œå¯ä»¥æ˜¯ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œå¯ä»¥å†™ä¸€äº›åˆå§‹åŒ–ä»£ç ï¼Œå…¶ä½œç”¨å°±æ˜¯å‘Šè¯‰ Python è¦å°†è¯¥ç›®å½•å½“æˆåŒ…æ¥å¤„ç†ï¼Œè®©pythonè®¤ä¸ºä½ è¿™æ˜¯ä¸€ä¸ªåŒ…è€Œä¸æ˜¯å•çº¯çš„ä¸€ä¸ªç›®å½•ï¼ˆå¦åˆ™ä¼šæ˜¾ç¤ºæ‰¾ä¸åˆ°åŒ…ï¼‰ã€‚æœ‰çš„åšå®¢è¯´python3.3ç‰ˆæœ¬ä¹‹åä¸éœ€è¦ç©ºçš„__init__.py æ¨¡å—æ¥å£°æ˜è¿™æ˜¯ä¸€ä¸ªåŒ…äº†ï¼Œä½†æ˜¯æˆ‘åœ¨vscodeå’Œjupyterè¿è¡Œpython3.10çš„æ—¶å€™å‘ç°è¿˜æ˜¯éœ€è¦__init__.py æ¨¡å—å£°æ˜çš„ï¼Œè¿™é‡Œå…ˆå­˜ç–‘ï¼Œæˆ‘ä¿ç•™è‡ªå·±çš„è§‚ç‚¹ã€‚ 2022.12.3æ›´æ–°ï¼šå‡†ç¡®æ¥è¯´ï¼Œä»åŒ…é‡Œå¯¼å…¥æ¨¡å—éœ€è¦__init__.py å£°æ˜ï¼›ç›´æ¥å¯¼å…¥åŒç›®å½•ä¸‹çš„æ¨¡å—ä¸éœ€è¦ï¼ˆ3.3ç‰ˆæœ¬ä»¥åï¼‰ ç®€å•æ¥è¯´ï¼ŒåŒ…å°±æ˜¯æœ‰å±‚æ¬¡åœ°æ–‡ä»¶ç›®å½•ç»“æ„ï¼Œé‡Œé¢è£…ç€å„ç§æ‰©å±•å.pyçš„pythonæºç¨‹åºæ–‡ä»¶ï¼ŒåŒ…ä¸­ä¹Ÿå¯ä»¥å«æœ‰åŒ…ã€‚ 1.3 åº“åº“é¡¾åæ€ä¹‰åˆ™æ˜¯åŠŸèƒ½ç›¸å…³è”çš„åŒ…çš„é›†åˆã€‚pythonçš„ä¸‰å¤§ç‰¹è‰²ä¹‹ä¸€ï¼šå¼ºå¤§çš„æ ‡å‡†åº“ï¼Œç¬¬ä¸‰æ–¹åº“ä»¥åŠè‡ªå®šä¹‰æ¨¡å—ã€‚ 2. å¸¸ç”¨æ¨¡å—&#x2F;åº“pythonçš„ä¸‰å¤§ç‰¹è‰²å¯¹åº”ä¸‰ç§ç±»å‹çš„æ¨¡å—ï¼Œæ ‡å‡†åº“çš„å†…ç½®æ¨¡å—ï¼Œç¬¬ä¸‰æ–¹åº“å¼€æºæ¨¡å—å’Œè‡ªå®šä¹‰çš„æ¨¡å—ï¼Œè¿™é‡Œç®€å•è®°å½•ä¸€ä¸‹å¸¸ç”¨çš„æ¨¡å—&#x2F;åº“ã€‚ æ¨¡å—åç§° ä»‹ç» å†…ç½®æ¨¡å— os æ™®éçš„æ“ä½œç³»ç»ŸåŠŸèƒ½æ¥å£ï¼ŒåŒ…æ‹¬å‰é¢ä»‹ç»çš„æ–‡ä»¶æ“ä½œå‡½æ•° sys æä¾›äº†ä¸€ç³»åˆ—æœ‰å…³Pythonè¿è¡Œç¯å¢ƒçš„å˜é‡å’Œå‡½æ•°ï¼Œsys.path.append() random ç”Ÿæˆéšæœºæ•°ï¼Œrandom() è¿”å›0&lt;n&lt;&#x3D;1 time å„ç§æä¾›æ—¥æœŸã€æ—¶é—´åŠŸèƒ½çš„ç±»å’Œå‡½æ•°ï¼Œtime.time() æ—¶é—´æˆ³ datetime å¯¹timeæ¨¡å—çš„ä¸€ä¸ªé«˜çº§å°è£… logging æ—¥å¿—æ‰“å°åˆ°äº†æ ‡å‡†è¾“å‡ºä¸­ re å¯ä»¥ç›´æ¥è°ƒç”¨æ¥å®ç°æ­£åˆ™åŒ¹é…ï¼Œre.split() åˆ†å‰²å­—ç¬¦ä¸²ï¼Œæ ¼å¼åŒ–åˆ—è¡¨ pymysql è¿æ¥æ•°æ®åº“,å¹¶å®ç°ç®€å•çš„å¢åˆ æ”¹æŸ¥ threading æä¾›äº†æ›´å¼ºå¤§çš„å¤šçº¿ç¨‹ç®¡ç†æ–¹æ¡ˆ json ç”¨äºå­—ç¬¦ä¸²å’Œæ•°æ®ç±»å‹é—´è¿›è¡Œè½¬æ¢json subprocess åƒlinuxä¸€æ ·åˆ›å»ºè¿è¡Œå­è¿›ç¨‹ shutil å¯¹å‹ç¼©åŒ…çš„å¤„ç†ã€å¯¹æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„é«˜çº§å¤„ç†ï¼Œosçš„è¡¥å…… tkinter Pythonçš„æ ‡å‡†Tk GUIå·¥å…·åŒ…çš„æ¥å£ ç¬¬ä¸‰æ–¹æ¨¡å—&#x2F;åº“ Requsests pythonæœ€æœ‰åçš„ç¬¬ä¸‰æ–¹HTTPå®¢æˆ·ç«¯åº“ Scrapy å±å¹•æŠ“å–å’ŒwebæŠ“å–æ¡†æ¶ï¼Œç¼–å†™çˆ¬è™«ç”¨åˆ°ï¼ˆä¸Šé¢çš„ä¹Ÿå¯ä»¥ï¼‰ Pillow å¸¸ç”¨çš„å›¾åƒå¤„ç†åº“ Matplotlib ç»˜åˆ¶äºŒç»´æ•°æ®å›¾çš„åº“ï¼Œä½¿ç”¨æ–¹å¼å¯¹æ ‡matlab NumPy æä¾›å¤§å‹çŸ©é˜µè®¡ç®—å…¬å¼ï¼Œåœ¨å¾ˆå¤šé¢†åŸŸéƒ½ç”¨åˆ° Pandas åŸºäºNumpy å’Œ Matplotlibï¼Œå’Œä¸Šé¢ä¸¤ä¸ªç»„æˆæ•°æ®åˆ†æä¸‰å‰‘å®¢ Django å¼€æºçš„webå¼€å‘æ¡†æ¶ PyTorch å¼€æºçš„æ·±åº¦å­¦ä¹ æ¡†æ¶ï¼Œå„ç§å¼ é‡æ“ä½œã€æ¢¯åº¦è®¡ç®—ï¼Œæ–¹ä¾¿æ„å»ºå„ç§åŠ¨æ€ç¥ç»ç½‘ç»œ TensorFlow ä¹Ÿæ˜¯æœºå™¨å­¦ä¹ åº“ï¼Œå¼ é‡çš„æ“ä½œå’Œè¿ç®—ï¼Œtensorboardå¯è§†åŒ–æ•°æ®å¾ˆå¼ºå¤§ ç¬¬ä¸‰æ–¹åº“å®åœ¨å¤ªå¤šï¼Œè¿™é‡Œåªåˆ—ä¸¾äº†æˆ‘çŸ¥é“çš„æ¯”è¾ƒå¸¸è§çš„åº“ï¼›å†…ç½®æ¨¡å—å¯ä»¥è§1.1ç« èŠ‚çš„å®˜ç½‘é“¾æ¥ï¼Œé‡Œé¢æœ‰æ‰€æœ‰å†…ç½®æ¨¡å—çš„å…·ä½“ç”¨æ³•ã€‚æ¥ä¸‹æ¥è¯´è¯´æ€ä¹ˆå¯¼å…¥æ¨¡å—å’Œåˆ¶ä½œæ¨¡å—ã€‚ 3. å¯¼å…¥åŒ…å’Œæ¨¡å—3.1 å¯¼å…¥æ¨¡å—åˆ¶ä½œæ¨¡å—è¦æ³¨æ„ï¼Œè‡ªå®šä¹‰çš„æ¨¡å—åä¸èƒ½å’Œç³»ç»Ÿå†…ç½®çš„æ¨¡å—é‡åï¼Œå¦åˆ™è¢«é‡åçš„ç³»ç»Ÿæ¨¡å—æ— æ³•è¢«å¯¼å…¥ã€‚ pythonä¸­ç”¨å…³é”®å­—importå¼•å…¥æŸä¸ªæ¨¡å—ï¼Œåœ¨è°ƒç”¨æ¨¡å—ä¸­çš„å‡½æ•°æ—¶ï¼Œéœ€è¦ä»¥ æ¨¡å—å.å‡½æ•°å çš„æ–¹å¼è¿›è¡Œå¼•ç”¨ã€‚è‡ªå®šä¹‰æ¨¡å—åä¸­çš„å‡½æ•°æ˜¯å¯ä»¥é‡åçš„ï¼Œå› ä¸ºæ¨¡å—åä¸ä¼šç›¸åŒï¼ˆåŒä¸€å±‚ç›®å½•ä¸‹æ–‡ä»¶åä¸åŒï¼‰ï¼Œè°ƒç”¨çš„æ—¶å€™å¯ä»¥è¿›è¡ŒåŒºåˆ†ï¼Œè¿™å¾ˆå¥½ç†è§£ã€‚ 3.2 å¯¼å…¥åŒ…æœ‰çš„æ—¶å€™æˆ‘ä»¬åªéœ€è¦åŒ…é‡Œçš„æŸä¸ªæ¨¡å—æˆ–è€…æ¨¡å—é‡Œçš„æŸä¸ªå‡½æ•°ï¼Œè€Œä¸éœ€è¦åŒ…æˆ–è€…æ¨¡å—é‡Œçš„å…¨éƒ¨å†…å®¹ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨å…³é”®è¯ from åŒ…å&#x2F;æ¨¡å—å import æ¨¡å—å&#x2F;å‡½æ•°å æ¥è¿›è¡Œè°ƒç”¨ã€‚ ä¸¾ä¸ªä¾‹å­ï¼Œåœ¨å¦‚ä¸‹çš„æ–‡ä»¶ç»“æ„ä¸­ï¼Œmain.pyä½œä¸ºä¸»ç¨‹åºå…¥å£ï¼Œtestæ–‡ä»¶å¤¹ç›¸å½“äºä¸€ä¸ªåŒ…ï¼Œé‡Œé¢æœ‰4ä¸ª.pyåç¼€çš„æ¨¡å—ï¼Œåˆ†åˆ«å®šä¹‰äº†å››åˆ™è¿ç®—çš„å‡½æ•°ï¼Œ__init__.py æ˜¯ä¸ªç©ºæ–‡ä»¶ï¼ˆæš‚æ—¶ä¸åšå¤„ç†ï¼‰ï¼Œå£°æ˜testæ–‡ä»¶å¤¹æ˜¯ä¸ªpythonåŒ…è€Œä¸æ˜¯æ™®é€šçš„ç›®å½•ã€‚ 123456789101112131415# add.pyæ–‡ä»¶å†…å®¹â€”â€”å®šä¹‰åŠ æ³•è¿ç®—def add(a, b): return a + b# sub.pyæ–‡ä»¶å†…å®¹â€”â€”å®šä¹‰å‡æ³•è¿ç®—def sub(a, b): return a - b# mul.pyæ–‡ä»¶å†…å®¹â€”â€”å®šä¹‰ä¹˜æ³•è¿ç®—def mul(a, b): return a * b# dev.pyæ–‡ä»¶å†…å®¹â€”â€”å®šä¹‰é™¤æ³•è¿ç®—def dev(a, b): return a / b æˆ‘ç°åœ¨è¦åšçš„æ˜¯ï¼Œåœ¨main.pyæ–‡ä»¶é‡Œï¼Œå¯¼å…¥teståŒ…é‡Œå››ä¸ªæ¨¡å—ï¼Œè°ƒç”¨å„è‡ªæ¨¡å—ä¸­å¯¹åº”çš„å‡½æ•°ï¼Œæœ‰ä»¥ä¸‹å‡ ç§è°ƒç”¨æ–¹å¼ï¼š 123456789101112131415161718192021222324252627282930# main.pyçš„æ–‡ä»¶å†…å®¹import test.add # å¯¼å…¥teståŒ…ä¸‹çš„addæ¨¡å—import test.sub as sb # å¯¼å…¥teståŒ…ä¸‹çš„subæ¨¡å—ï¼Œå¹¶é‡å‘½åä¸ºsbfrom test import mul # ä»teståŒ…ä¸­å¯¼å…¥mulæ¨¡å—from test.dev import dev # ä»teståŒ…çš„devæ¨¡å—å¯¼å…¥devå‡½æ•°ï¼Œæ³¨æ„è¿™é‡Œå¯¼å…¥çš„æ˜¯å‡½æ•°def calculate(x, y, operate): result = 0 if operate == &#x27;+&#x27;: result = test.add.add(x, y) # è°ƒç”¨test.addæ¨¡å—ä¸­çš„addå‡½æ•° elif operate == &#x27;-&#x27;: result = sb.sub(x, y) # test.subè¢«é‡å‘½åä¸ºsbï¼Œè°ƒç”¨sbä¸­çš„subå‡½æ•° elif operate == &#x27;*&#x27;: result = mul.mul(x, y) # è°ƒç”¨mulæ¨¡å—ä¸­çš„mulå‡½æ•° else: result = dev(x, y) # devå‡½æ•°å·²ç»è¢«å¯¼å…¥ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨å‡½æ•°å return resultprint(calculate(100, 100, &#x27;+&#x27;))print(calculate(100, 100, &#x27;-&#x27;))print(calculate(100, 100, &#x27;*&#x27;))print(calculate(100, 100, &#x27;/&#x27;))&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š2000100001.0&#x27;&#x27;&#x27; 4. åŒ…å’Œæ¨¡å—å¯¼å…¥çš„æ€è€ƒ4.1 __init__.pyçš„ä½œç”¨åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­__init__.py æ˜¯ä¸ªç©ºæ–‡ä»¶ï¼Œæ˜¯å£°æ˜testæ–‡ä»¶å¤¹æ˜¯pythonåŒ…æ‰€å¿…é¡»çš„ï¼ˆä¸»ç¨‹åºå’ŒåŒ…çš„ä½ç½®åœ¨åŒä¸€ä¸ªç›®å½•ä¸‹ï¼‰ã€‚ç„¶è€Œæˆ‘ä»¬åœ¨ç¼–å†™main.pyçš„ä¸»ç¨‹åºæ–‡ä»¶çš„æ—¶å€™ï¼Œä»ç„¶è¦åœ¨å¼€å¤´å¯¼å…¥ç›¸å½“å¤šçš„æ¨¡å—ï¼Œæ¯”è¾ƒç¹çï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥åœ¨__init__.pyä¸­æ‰¹é‡å¯¼å…¥æˆ‘ä»¬æ‰€éœ€è¦çš„æ¨¡å—ï¼ˆå¯¼å…¥åŒ…å…¶å®å°±æ˜¯å¯¼å…¥__init__.pyæ–‡ä»¶ï¼‰ã€‚ 12345678910# åœ¨__init__.pyä¸­æ·»åŠ å¦‚ä¸‹å†…å®¹import test.addimport test.subimport test.mulimport test.devadd = test.add.addsub = test.sub.submul = test.mul.muldev = test.dev.dev 123456789101112131415161718192021222324252627# main.pyç›¸åº”çš„æ”¹ä¸ºå¦‚ä¸‹å†…å®¹from test import * # å¯¼å…¥åŒ…ç›¸å½“äºæ‰§è¡ŒåŒ…ä¸‹çš„__init__.pyï¼Œè¿™ä¸ªæ–‡ä»¶å·²ç»å°†åŒ…é‡Œçš„å››ä¸ªæ¨¡å—åˆ†åˆ«å¯¼å…¥äº†def calculate(x, y, operate): result = 0 if operate == &#x27;+&#x27;: result = add(x, y) elif operate == &#x27;-&#x27;: result = sub(x, y) elif operate == &#x27;*&#x27;: result = mul(x, y) else: result = dev(x, y) return resultprint(calculate(100, 100, &#x27;+&#x27;))print(calculate(100, 100, &#x27;-&#x27;))print(calculate(100, 100, &#x27;*&#x27;))print(calculate(100, 100, &#x27;/&#x27;))&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š2000100001.0&#x27;&#x27;&#x27; å¯ä»¥çœ‹åˆ°ä¸Šé¢çš„ä¸»ç¨‹åºä»£ç é‡å°‘äº†å¾ˆå¤šï¼Œèµ·åˆ°ç®€åŒ–ä»£ç çš„ä½œç”¨ã€‚ 4.2 if __name__ &#x3D;&#x3D; â€˜__main__â€˜é¦–å…ˆæ¥çœ‹ä¸€ä¸ªç°è±¡ï¼Œå¦‚æœåœ¨add.pyæ–‡ä»¶ä¸­ä¸ä»…ä»…æœ‰å®šä¹‰å‡½æ•°çš„ä»£ç ï¼Œè¿˜æœ‰ç¼–å†™ä»£ç æ—¶åšçš„æµ‹è¯•å†…å®¹ï¼Œå¦‚ä¸‹: 12345# add.pyæ–‡ä»¶ä¸­æœ€åä¸€è¡Œå¯¹è¿™ä¸ªå‡½æ•°åšäº†æµ‹è¯•def add(a, b): return a + bprint(add(3, 4)) å…¶ä»–æ–‡ä»¶å…¨éƒ½ä¸å˜ï¼Œå†æ¬¡è¿è¡Œmain.pyï¼Œä¼šå‘ç°è¾“å‡ºç»“æœä¸ºï¼š 123457 # add.pyä¸­æµ‹è¯•å†…å®¹ä¹Ÿè¢«è¾“å‡º2000100001.0 è¿™æ˜¾ç„¶ä¸æ˜¯æˆ‘ä»¬æƒ³çœ‹åˆ°çš„ï¼Œæˆ‘ä»¬åœ¨å¯¼å…¥addæ¨¡å—è°ƒç”¨addå‡½æ•°çš„æ—¶å€™ï¼Œå¹¶ä¸æƒ³è¦å…¶ä»–æ— å…³çš„è¾“å‡ºç»“æœã€‚ ç¨ç¨æ”¹å˜ä¸€ä¸‹add.pyå†…å®¹ 123456# add.pyæ–‡ä»¶å†…å®¹def add(a, b): return a + bif __name__ == &#x27;__main__&#x27;: print(add(3, 4)) æ­¤æ—¶å†æ¬¡è¿è¡Œmain.pyåˆ™ä¸ä¼šè¾“å‡ºadd.pyä¸­çš„æµ‹è¯•å†…å®¹ã€‚ é¦–å…ˆè¦äº†è§£ä¸€ä¸ªæ¦‚å¿µï¼Œåœ¨æ¯ä¸ªpythonæ–‡ä»¶åˆ›å»ºçš„æ—¶å€™éƒ½æœ‰ä¸€ä¸ªè®°å½•åç§°çš„å˜é‡__name__ï¼Œå½“è¿™ä¸ªpythonæ–‡ä»¶ä½œä¸ºè„šæœ¬ç›´æ¥è¿è¡Œï¼Œé‚£ä¹ˆ__name__çš„å€¼ä¸ºâ€˜â€__main__â€œï¼›å½“è¿™ä¸ªæ–‡ä»¶ä½œä¸ºæ¨¡å—è¢«å¯¼å…¥å…¶ä»–æ–‡ä»¶ä¸­è¿è¡Œçš„æ—¶å€™ï¼Œè¿™ä¸ª__name__çš„å€¼ä¸ºæ¨¡å—çš„åå­—ï¼Œä¹Ÿå°±æ˜¯è¯´ å½“.pyæ–‡ä»¶è¢«ç›´æ¥è¿è¡Œæ—¶ï¼Œif __name__ &#x3D;&#x3D; â€˜__main__â€˜ ä¹‹ä¸‹çš„ä»£ç å—å°†è¢«è¿è¡Œ å½“.pyæ–‡ä»¶ä»¥æ¨¡å—å½¢å¼è¢«å¯¼å…¥æ—¶ï¼Œif __name__ &#x3D;&#x3D; â€˜__main__â€˜ ä¹‹ä¸‹çš„ä»£ç å—ä¸è¢«è¿è¡Œ åœ¨å¯¼å…¥çš„æ¨¡å—ä¸­æœ‰é€‰æ‹©æ€§åœ°æ‰§è¡Œä»£ç ï¼Œè¿™åœ¨å®é™…å¼€å‘åº”ç”¨ä¸­éå¸¸æ™®éã€‚ 4.3 å¯¼å…¥æ¨¡å—åœ¨ä¸»ç¨‹åºçš„çˆ¶ç›®å½•ä¸‹å‰é¢çš„å¯¼å…¥æ¨¡å—æ“ä½œï¼Œå¯¼å…¥æ¨¡å—è¦ä¹ˆåœ¨ä¸»ç¨‹åºçš„å­ç›®å½•ä¸‹ï¼ˆåŠ å…¥__init__.py å£°æ˜è¿™æ˜¯ä¸€ä¸ªåŒ…ï¼‰ï¼Œè¦ä¹ˆå’Œä¸»ç¨‹åºåœ¨åŒä¸€ä¸ªç›®å½•ï¼ˆç›´æ¥importï¼‰ï¼Œå¦‚æœå¯¼å…¥æ¨¡å—åœ¨ä¸»ç¨‹åºçš„çˆ¶ç›®å½•ä¸‹ï¼Œåº”è¯¥æ€ä¹ˆå¯¼å…¥å‘¢ï¼Ÿ é¦–å…ˆï¼ŒæŒ‰ç…§ä¸€èˆ¬æµç¨‹ç›´æ¥importå¯¼å…¥å’ŒåŠ å…¥__init__.pyå£°æ˜éƒ½ä¼šæŠ¥é”™æ‰¾ä¸åˆ°è¿™ä¸ªåŒ…ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚ å…¶å®è¿™ä¸ªé—®é¢˜åœ¨å‰é¢çš„ç¬”è®°ä¸­æœ‰è®°å½•ï¼Œç‚¹å‡»è¿™é‡Œã€‚ å½“æ—¶æ˜¯åˆšç”¨vscodeæ­å»ºpythonç¯å¢ƒï¼Œå¯¹pythonè°ƒç”¨ä¸€çŸ¥åŠè§£éƒ½ç®—ä¸ä¸Šï¼Œç°åœ¨æ‰æœ‰äº†åˆæ­¥çš„ç†è§£ã€‚ 12345678910# ä¸¤ç§è§£å†³åŠæ³•# 1.åœ¨ä¸»ç¨‹åºå†…éƒ¨ä¸´æ—¶æ·»åŠ pythonè¿è¡Œç¯å¢ƒè·¯å¾„import syssys.path.append(&#x27;çˆ¶ç›®å½•ç»å¯¹è·¯å¾„æˆ–è€…ç›¸å¯¹è·¯å¾„&#x27;)import module# ç¼ºç‚¹ï¼šåªèƒ½è°ƒç”¨ä¸€æ¬¡ï¼ˆä¸´æ—¶åŠ å…¥çš„ç¯å¢ƒå˜é‡è·¯å¾„ï¼‰ï¼Œä¸”æ¯ä¸ªæƒ³è¦å¯¼å…¥çš„è‡ªå®šä¹‰æ¨¡å—éƒ½è¦å†™ä¸€æ¬¡ï¼Œæ¯”è¾ƒéº»çƒ¦# 2.åœ¨pythonå®‰è£…ç›®å½•ä¸‹Libsite-packagesä¸­åˆ›å»ºæ‰©å±•åä¸º.pthçš„æ–‡ä»¶ï¼Œæ·»åŠ æƒ³è¦åŠ å…¥çš„è·¯å¾„ã€‚# pythonåœ¨éå†å·²çŸ¥çš„åº“æ–‡ä»¶ç›®å½•è¿‡ç¨‹ä¸­ï¼Œå¦‚æœè§åˆ°ä¸€ä¸ª.pth æ–‡ä»¶ï¼Œå°±ä¼šå°†æ–‡ä»¶ä¸­æ‰€è®°å½•çš„è·¯å¾„åŠ å…¥åˆ°sys.pathè®¾ç½®ä¸­ï¼Œäºæ˜¯.pthæ–‡ä»¶æŒ‡å‘çš„åœ°å€ä¹Ÿå°±å¯ä»¥è¢«Pythonè¿è¡Œç¯å¢ƒæ‰¾åˆ°äº†ã€‚# è¿™ä¸ªå·²çŸ¥çš„åº“æ–‡ä»¶ç›®å½•å¯ä»¥é€šè¿‡sys.pathæŸ¥çœ‹ã€‚ 4.4 ç›¸å¯¹å¯¼å…¥å‰é¢3.2çš„ä¾‹å­ä¸­ï¼ŒåŒ…å’Œæ¨¡å—çš„å¯¼å…¥éƒ½æ˜¯ç”¨çš„ç»å¯¹å¯¼å…¥ï¼ˆabsolute importï¼‰ï¼Œå¯¼å…¥æ—¶å†™æ˜äº†å·¥ä½œç¯å¢ƒä¸­åŒ…çš„å…·ä½“ä½ç½®ã€‚ è¿˜æœ‰ä¸€ç§å¯¼å…¥æ–¹å¼ç§°ä¸ºç›¸å¯¹å¯¼å…¥ï¼ˆrelative importï¼‰ï¼Œè¿˜æ˜¯ç”¨3.2çš„ä¾‹å­ç†è§£ä¸€ä¸‹ï¼Œåœ¨å¦‚ä¸‹çš„æ–‡ä»¶ç»“æ„ä¸­ï¼Œä¸»ç¨‹åºå…¥å£main.pyå’ŒteståŒ…åœ¨åŒä¸€å±‚ç›®å½•ä¸‹ï¼ŒteståŒ…ä¸­æœ‰__init__.pyï¼ˆç©ºæ–‡ä»¶ï¼‰ï¼Œadd.pyå’Œdev.pyä¸¤ä¸ªæ¨¡å—çš„å†…å®¹å¦‚ä¸‹ï¼š 123456789101112# add.pyå†…å®¹def add(a, b): return a + b# dev.pyå†…å®¹from .add import add # ç›¸å¯¹å¯¼å…¥ï¼Œä»å½“å‰å¯¼å…¥åŒ…çš„ç›®å½•ä¸­æ‰¾åˆ°addæ¨¡å—def dev(a, b): return a / bdef func1(a, b): a = dev(a, b) + add(a, b) return a ä¸Šé¢çš„ä¾‹å­æ„æ€æ˜¯ï¼Œæˆ‘ç°åœ¨è¦åœ¨teståŒ…çš„dev.pyæ¨¡å—ä¸­ç”¨add.pyæ¨¡å—çš„å‡½æ•°æ–¹æ³•ï¼ˆåŒä¸€ä¸ªåŒ…ä¸­çš„æ¨¡å—ç›¸äº’å¼•ç”¨ï¼Œè¿™åœ¨å®é™…å·¥ç¨‹ä¸­å¾ˆå¸¸è§ï¼‰ã€‚å¦‚æœdev.pyæ˜¯ä¸»ç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥import addï¼›ä½†æ˜¯æˆ‘ä»¬è¿™é‡Œmainæ˜¯ä¸»ç¨‹åºï¼Œä»£ç å¦‚ä¸‹ï¼š 1234# main.pyå†…å®¹from test import devprint(dev.func1(1, 2)) ä¸»ç¨‹åºmain.pyåŠŸèƒ½æ˜¯å¯¼å…¥teståŒ…devæ¨¡å—ï¼Œæ‰“å°devæ¨¡å—çš„å‡½æ•°func1(1, 2)æ‰§è¡Œç»“æœã€‚ å¦‚æœæˆ‘ä»¬åœ¨dev.pyä¸­ç›´æ¥å¯¼å…¥from add import addï¼ˆæ²¡æœ‰ç‚¹ï¼Œä¹Ÿå°±æ˜¯ä¸åŠ å½“å‰ç›®å½•ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å†è¿è¡Œmain.pyä¼šæŠ¥é”™æ‰¾ä¸åˆ°æ¨¡å—ï¼ˆå› ä¸ºmain.pyåŒç›®å½•ä¸‹æ²¡æœ‰add.pyæ¨¡å—ï¼‰ã€‚è¿™ä¸ªæ—¶å€™å°±æœ‰ä¸¤ç§å¯¼å…¥æ–¹å¼ï¼Œè¦ä¹ˆå®Œå–„åŒ…åå­—ï¼Œä½¿ç”¨ç»å¯¹å¯¼å…¥from test.add import addï¼›è¦ä¹ˆä½¿ç”¨ç›¸å¯¹å¯¼å…¥from .add import addã€‚ è¿™ä¸ªç›¸å¯¹å¯¼å…¥å°±åƒæ˜¯linuxçš„æ–‡ä»¶æ“ä½œæ–¹å¼ï¼Œä¸€ä¸ªç‚¹ä»£è¡¨å½“å‰ç›®å½•ï¼Œä¸¤ä¸ªç‚¹ä»£è¡¨çˆ¶ç›®å½•ï¼Œè¿˜èƒ½ç”¨ä¸‰ä¸ªç‚¹è¡¨ç¤ºlinuxæ— æ³•åšåˆ°çš„ç¥–çˆ¶ç›®å½•ï¼Œä¾æ­¤ç±»æ¨ã€‚ ç›¸å¯¹å¯¼å…¥çš„ä¼˜ç‚¹å°±ä¸€ç›®äº†ç„¶ï¼šå°±ç®—æ”¹å˜äº†åŒ…çš„åå­—ï¼Œè¿™ä¸ªæ—¶å€™è°ƒç”¨ä¹Ÿä¸ä¼šå‡ºé”™ï¼Œä¹Ÿå°±æ˜¯ç®€åŒ–ä»£ç ï¼Œæ–¹ä¾¿è¿ç§»ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ6ï¼‰â€”â€”å‡½æ•°çš„å˜é‡å’Œé«˜çº§ç”¨æ³•","slug":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ6ï¼‰â€”â€”å‡½æ•°çš„å˜é‡å’Œé«˜çº§ç”¨æ³•","date":"2022-11-28T18:37:37.000Z","updated":"2022-12-03T15:54:38.000Z","comments":true,"path":"2022/11/29/a.html","link":"","permalink":"http://www.shelven.com/2022/11/29/a.html","excerpt":"å‰é¢åœ¨é€šè¿‡è®²ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼ˆèƒ½å¤Ÿæ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥çš„å‡½æ•°ï¼Œæˆ–è€…å¯ä»¥è¿”å›å‡½æ•°å¯¹è±¡çš„å‡½æ•°ï¼‰å¼•å‡ºäº†è£…é¥°å™¨çš„ç”±æ¥å’Œå­˜åœ¨çš„æ„ä¹‰ã€‚è¿™é‡Œå¯¹pythonå‡½æ•°çš„å…¶ä»–åŸºç¡€æ¦‚å¿µåšä¸ªè¡¥å……å’Œè®°å½•ã€‚","text":"å‰é¢åœ¨é€šè¿‡è®²ä»€ä¹ˆæ˜¯é«˜é˜¶å‡½æ•°ï¼ˆèƒ½å¤Ÿæ¥å—å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥çš„å‡½æ•°ï¼Œæˆ–è€…å¯ä»¥è¿”å›å‡½æ•°å¯¹è±¡çš„å‡½æ•°ï¼‰å¼•å‡ºäº†è£…é¥°å™¨çš„ç”±æ¥å’Œå­˜åœ¨çš„æ„ä¹‰ã€‚è¿™é‡Œå¯¹pythonå‡½æ•°çš„å…¶ä»–åŸºç¡€æ¦‚å¿µåšä¸ªè¡¥å……å’Œè®°å½•ã€‚ 1. å‡½æ•°çš„å˜é‡ä¹‹å‰ç¬”è®°ä¸­çš„ä¾‹å­å·²ç»å¯¹å‡½æ•°å‚æ•°ä¼ é€’è¿‡ç¨‹åšäº†æ€»ç»“ï¼Œæåˆ°äº†æ€ä¹ˆè°ƒç”¨å‡½æ•°çš„è¿”å›å€¼ï¼Œæ€ä¹ˆå®ç°å‡½æ•°çš„åµŒå¥—ï¼ŒåŸºæœ¬æ¦‚å¿µç”¨æ³•éƒ½å·²ç»æè¿‡ï¼Œè¿™é‡Œåªæ˜¯åšä¸ªæ€è€ƒå’Œè¡¥å……ã€‚ 1.1 å±€éƒ¨å˜é‡ å‡½æ•°å†…éƒ¨çš„å®šä¹‰çš„å˜é‡ å±€éƒ¨å˜é‡åªåœ¨å‡½æ•°å†…éƒ¨ç”Ÿæ•ˆï¼Œä¸åŒå‡½æ•°å¯ä»¥æ‹¥æœ‰åŒåçš„å±€éƒ¨å˜é‡ï¼Œäº’ä¸å½±å“ï¼ˆä½œç”¨åŸŸä¸ºæœ¬å‡½æ•°ï¼‰ å±€éƒ¨å˜é‡çš„ä½œç”¨ï¼Œä¸ºäº†ä¸´æ—¶ä¿å­˜æ•°æ®éœ€è¦åœ¨å‡½æ•°ä¸­å®šä¹‰å˜é‡æ¥è¿›è¡Œå­˜å‚¨ å±€éƒ¨å˜é‡åœ¨å‡½æ•°æ‰§è¡Œæ—¶è¢«åˆ›å»ºï¼Œå‡½æ•°æ‰§è¡Œå®Œæˆåï¼Œå±€éƒ¨å˜é‡ä¼šè¢«ç³»ç»Ÿå›æ”¶ 1234567891011121314151617# å±€éƒ¨å˜é‡é‡åäº’ä¸å½±å“ï¼Œåªä½œç”¨åœ¨å½“å‰å‡½æ•°ä¸­def added(a, b): c = a + b return cdef connect(a, b): c = str(a) + str(b) return cprint(added(4, 5))print(connect(&#x27;Phantom&#x27;, &#x27;Aria&#x27;))&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š9PhantomAria&#x27;&#x27;&#x27; 1.2 å…¨å±€å˜é‡ å‡½æ•°å¤–éƒ¨å®šä¹‰çš„å˜é‡ å…¨å±€å˜é‡å¯ä»¥åœ¨å¤šä¸ªå‡½æ•°ä¸­ä½¿ç”¨ï¼ˆä½œç”¨åŸŸä¸ºæ‰€æœ‰å‡½æ•°ï¼‰ å…¨å±€å˜é‡å¦‚æœå’Œå±€éƒ¨å˜é‡é‡åï¼Œåªä¼šä½¿ç”¨å±€éƒ¨å˜é‡ï¼ˆå°±è¿‘åŸåˆ™ï¼‰ å¦‚æœåœ¨å‡½æ•°ä¸­ä¿®æ”¹ä¸å¯å˜ç±»å‹å…¨å±€å˜é‡ï¼Œéœ€è¦ä½¿ç”¨globalå£°æ˜ è¿™é‡Œæœ‰ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç°è±¡ï¼Œå‰é¢åœ¨æ•°æ®ç±»å‹é‡Œè¯´è¿‡ï¼Œæ•°æ®å¯ä»¥åˆ†ä¸ºå¯å˜æ•°æ®ç±»å‹ï¼ˆåˆ—è¡¨ï¼Œå­—å…¸ï¼Œé›†åˆï¼‰å’Œä¸å¯å˜æ•°æ®ç±»å‹ï¼ˆæ•°å­—ï¼Œå…ƒç»„ï¼Œå­—ç¬¦ä¸²ï¼‰ï¼Œè€Œpythonçš„æ‰€æœ‰å‚æ•°ä¼ é€’éƒ½æ˜¯å¼•ç”¨ä¼ é€’è€Œéå€¼ä¼ é€’ã€‚å› æ­¤ï¼Œå¯¹äºå¯å˜ç±»å‹çš„å…¨å±€å˜é‡ï¼Œåœ¨å‡½æ•°ä¸­å¯ä»¥è¢«ä¿®æ”¹ï¼›è€Œå¯¹äºä¸å¯å˜å…¨å±€å¯¹è±¡åˆ™æ— æ³•åœ¨å‡½æ•°ä¸­ç›´æ¥ä¿®æ”¹ï¼Œå…¶æœ¬è´¨æ˜¯ä¿®æ”¹ä¸å¯å˜æ•°æ®ç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ˆåˆ†é…ä¸€ä¸ªæ–°çš„å†…å­˜åœ°å€ï¼‰ï¼Œç„¶è€Œè¿™ä¸ªå¯¹è±¡åå·²ç»è¢«å ç”¨äº†ï¼ˆä¹Ÿå°±æ˜¯å˜é‡åæ— æ³•è¢«æŒ‡å‘ï¼ŒåŸæ¥çš„å˜é‡åä¹Ÿæ²¡æœ‰è¢«æ”¶å›ï¼‰ã€‚ä¸‹é¢ä¸¾ä¸ªæ —å­ã€‚ 1234567891011121314151617181920212223# ä¸å¯å˜ç±»å‹å…¨å±€å˜é‡åœ¨å‡½æ•°å†…éƒ¨å¯ä»¥ä¼ é€’ä½¿ç”¨ä½†æ˜¯æ— æ³•ç›´æ¥ä¿®æ”¹x = 100def added(): x = x + 1 # ä¸å¯å˜æ•°æ®ä¿®æ”¹ï¼Œç³»ç»Ÿä¼šåˆ›å»ºæ–°çš„å¯¹è±¡ï¼Œè€Œå˜é‡åxå·²ç»æ˜¯å…¨å±€å˜é‡çš„å˜é‡åï¼Œæ— æ³•æˆä¸ºæ–°çš„å¯¹è±¡çš„å˜é‡å return xadded()&#x27;&#x27;&#x27;---------------------------------------------------------------------------UnboundLocalError Traceback (most recent call last)d:\\zhuomian\\python\\test.ipynb Cell 47 in &lt;cell line: 6&gt;() 3 x = x + 1 4 return x----&gt; 6 added(4)d:\\zhuomian\\python\\test.ipynb Cell 47 in added(a) 2 def added(a):----&gt; 3 x = x + 1 4 return xUnboundLocalError: local variable &#x27;x&#x27; referenced before assignment&#x27;&#x27;&#x27; å¯¹äºglobalæ˜¯å¦‚ä½•è¿ä½œï¼Œä½¿å¾—pythonè§£é‡Šå™¨å¯ä»¥å°†ä¸å¯å˜å…¨å±€å˜é‡è¿›è¡Œä¿®æ”¹çš„ï¼Ÿè¿™ç‚¹ä»¥æˆ‘çš„åŠŸåº•è¿˜æ— æ³•è§£é‡Šâ€¦â€¦æš‚æ—¶åªèƒ½çŸ¥é“æ˜¯è¿™ä¹ˆä¸ªç”¨æ³•ã€‚ é¡ºå¸¦ä¸€æï¼Œè¿˜æœ‰ä¸ªåµŒå¥—å‡½æ•°å¯¹å¤–å›´å‡½æ•°çš„ä¸å¯å˜å˜é‡è¿›è¡Œä¿®æ”¹ï¼Œéœ€è¦ç”¨åˆ°ç±»ä¼¼çš„nonlocalè¿›è¡Œå£°æ˜ã€‚ 1234567891011121314151617181920212223242526x = 100def added(): global x # globalå£°æ˜xä¸ºå…¨å±€å˜é‡ x = x + 1 print(x)added()added()def A(): y = 200 def B(): nonlocal y # nonlocalå£°æ˜yä¸ºå¤–å›´å‡½æ•°çš„å˜é‡ï¼ˆä¸æ˜¯å…¨å±€å˜é‡ï¼ï¼‰ y = y + 1 return y return Btest = A()print(test())print(test())&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š101102201202&#x27;&#x27;&#x27; ä¸Šé¢çš„ä¾‹å­æœ¬è´¨ä¸Šæ˜¯ä¸€æ ·çš„ï¼Œå¯¹äºåµŒå¥—å‡½æ•°æ¥è¯´ï¼Œè¦ä¿®æ”¹å¤–å›´å‡½æ•°çš„ä¸å¯å˜ç±»å‹çš„å˜é‡ï¼ˆçœ‹èµ·æ¥ä¼¼ä¹çŸ›ç›¾ï¼Œä¸å¯å˜çš„æ€ä¹ˆèƒ½å«å˜é‡å‘¢ï¼Ÿå‰é¢å·²ç»è¯´è¿‡ï¼Œé‡æ–°èµ‹å€¼é€ æˆæ•°å­—å’Œå­—ç¬¦ä¸²çœ‹èµ·æ¥æ˜¯â€œå¯å˜çš„â€å‡è±¡ï¼Œè¿™é‡Œåˆ†æ¸…ä¸¤ä¸ªå˜åˆ†åˆ«æŒ‡ä»€ä¹ˆæ„æ€ï¼‰ï¼Œç›¸å½“äºæ˜¯ä¸Šé¢ä¾‹å­çš„åœ¨å‡½æ•°å†…ä¿®æ”¹ä¸å¯å˜ç±»å‹çš„å…¨å±€å˜é‡ï¼ˆä½œç”¨åŸŸä¸åŒï¼Œåªèƒ½è¯´ç›¸å½“äºï¼‰ï¼Œåªä¸è¿‡äºŒè€…å£°æ˜çš„æ–¹å¼ä¸åŒã€‚ 1.3 ä¿®æ”¹å¯å˜å…¨å±€å˜é‡å¼•èµ·çš„æ€è€ƒä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç°è±¡ï¼š 123456789101112131415161718a = [1, 2, 3]def add1(ls): ls = ls + lsb = [1, 2, 3]def add2(ls): ls += lsadd1(a)print(a)add2(b)print(b)&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š[1, 2, 3][1, 2, 3, 1, 2, 3]&#x27;&#x27;&#x27; aåˆ—è¡¨å’Œbåˆ—è¡¨éƒ½æ˜¯å¯å˜å…¨å±€å˜é‡ï¼ŒåŒä¸€ä¸ªç®—æ³•ï¼Œä¸ºä»€ä¹ˆaåœ¨ä¼ å…¥å‡½æ•°æ‰§è¡Œä¹‹åæ²¡æœ‰å‘ç”Ÿæ”¹å˜å‘¢ï¼Ÿ è¿™é‡Œéœ€è¦å¯¹å¯å˜æ•°æ®ç±»å‹åšä¸ªå›é¡¾ï¼Œå¯å˜å¯¹è±¡å¯ä»¥å¯¹è‡ªèº«å†…å®¹è¿›è¡ŒåŸåœ°ä¿®æ”¹è€Œä¸æ”¹å˜å­˜å‚¨åœ°å€ã€‚åŸåœ°ä¿®æ”¹ç”»ä¸ªé‡ç‚¹ï¼Œæ„æ€æ˜¯åˆ©ç”¨æ–¹æ³•æ¯”å¦‚reverseã€sortã€appendç­‰åœ¨åŸæœ‰å¯¹è±¡ä¸Šç›´æ¥ä¿®æ”¹ã€‚ â€˜&#x3D;â€™ æ˜¯èµ‹å€¼è¯­å¥ï¼Œå°†å³è¾¹çš„è¡¨è¾¾å¼çš„ç»“æœå¯¹è±¡ï¼Œå¼•ç”¨ç»‘å®šåˆ°ç­‰å·å·¦è¾¹çš„å˜é‡åä¸Šã€‚èµ‹å€¼æ˜¯åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œèµ‹å€¼ç»™ç›®æ ‡ï¼Œè¿”å›çš„ä¹Ÿæ˜¯æ–°å¯¹è±¡ï¼Œå¼•ç”¨åœ°å€ä¼šå‘ç”Ÿæ”¹å˜ã€‚ â€˜+&#x3D;â€™ æ˜¯å¢å¼ºèµ‹å€¼è¯­å¥ï¼Œå¯¹å·¦è¾¹çš„å¯¹è±¡è¿›è¡ŒåŸåœ°ä¿®æ”¹ï¼Œè¿”å›å€¼ä¸ºNoneï¼Œå¼•ç”¨åœ°å€ä¸å˜ã€‚ çœ‹åˆ°è¿™é‡Œå°±èƒ½æ˜ç™½ä¸Šé¢ä¸¤ä¸ªçœ‹ä¼¼â€œåŒæ ·â€çš„æ“ä½œä¸ºä»€ä¹ˆä¼šè¿”å›ä¸ä¸€æ ·çš„ç»“æœï¼Œä¹ŸåŠ æ·±äº†â€œå¯å˜â€ä¸â€œä¸å¯å˜â€çš„ç†è§£ã€‚ 2. å‡½æ•°çš„é«˜çº§ç”¨æ³•å‰ä¸€ç¯‡ç¬”è®°å†™çš„è£…é¥°å™¨å°±æ˜¯å‡½æ•°çš„é«˜çº§ç”¨æ³•ä¹‹ä¸€ï¼Œè¿™é‡Œåšä¸ªå®Œå–„è¡¥å……ã€‚ 2.1 åŒ¿åå‡½æ•°é™¤äº†ç”¨defå…³é”®å­—å‘½åå‡½æ•°è¿™ç§åŸºç¡€æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼åˆ›å»ºåŒ¿åå‡½æ•°ã€‚ lambdaè¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š 1lambda param1,...paramN:expression åŒ¿åå‡½æ•°çš„è¯­æ³•æ¯”è¾ƒç®€æ´ï¼Œèƒ½æ¥å—ä»»ä½•æ•°é‡çš„å‚æ•°ä½†åªèƒ½è¿”å›ä¸€ä¸ªè¡¨è¾¾å¼çš„å€¼ã€‚å› ä¸ºåŒ¿åå‡½æ•°æ¯”è¾ƒç®€æ´å°å·§ï¼Œä¹Ÿå¸¸ç”¨åœ¨ä½œä¸ºå‚æ•°è¿›è¡Œä¼ é€’ã€‚ 12345678910111213141516# å®šä¹‰åŒ¿åå‡½æ•°func1 = lambda x, y : x + yresult = func1(1, 2)print(&quot;åŒ¿åå‡½æ•°func1æ‰§è¡Œç»“æœï¼š&quot;,result)# åŒ¿åå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’def func2(x, y, opt): print(&#x27;å‡½æ•°func2æ‰§è¡Œç»“æœä¸ºï¼š&#x27;, opt(x, y))func2(4, 5, lambda x, y : x + y)&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šåŒ¿åå‡½æ•°func1æ‰§è¡Œç»“æœï¼š 3å‡½æ•°func2æ‰§è¡Œç»“æœä¸ºï¼š 9&#x27;&#x27;&#x27; 2.2 åµŒå¥—è°ƒç”¨ç›¸æ¯”æ¥è¯´å‡½æ•°åµŒå¥—è°ƒç”¨å¯èƒ½ç®—ä¸ä¸Šæ˜¯é«˜çº§ç”¨æ³•ï¼Œä¸è¿‡è¿™é‡Œè¿˜æ˜¯è¡¥å……ä¸€ä¸‹ã€‚åµŒå¥—è°ƒç”¨æŒ‡ä¸€ä¸ªå‡½æ•°é‡Œè°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ï¼Œæ³¨æ„å’ŒåµŒå¥—å‡½æ•°åŒºåˆ†ã€‚ ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š 1234567891011121314def func1(): # å®šä¹‰ä¸€ä¸ªå‡½æ•° print(&#x27;ç¬¬ä¸€ä¸ªå‡½æ•°è¾“å‡ºPhantom&#x27;)def func2(): # å®šä¹‰ç¬¬äºŒä¸ªå‡½æ•° func1() # åœ¨ç¬¬äºŒä¸ªå‡½æ•°é‡Œè°ƒç”¨ç¬¬ä¸€ä¸ªå‡½æ•°åŠŸèƒ½ print(&#x27;ç¬¬äºŒä¸ªå‡½æ•°è¾“å‡ºAria&#x27;)func2() # æ‰§è¡Œä¸€ä¸ªå‡½æ•°ï¼Œå®é™…ä¸Šä¸¤ä¸ªå‡½æ•°éƒ½æ‰§è¡Œäº†ä¸€é&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šç¬¬ä¸€ä¸ªå‡½æ•°è¾“å‡ºPhantomç¬¬äºŒä¸ªå‡½æ•°è¾“å‡ºAria&#x27;&#x27;&#x27; 2.3 é€’å½’å‡½æ•°é€’å½’å‡½æ•°å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨è°ƒç”¨è‡ªèº«çš„å‡½æ•°ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¾ªç¯ï¼Œå¾ªç¯ç»“æŸçš„ç‚¹å°±æ˜¯é€’å½’å‡ºå£ã€‚ ç”¨é˜¶ä¹˜ä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­ï¼š 1234567891011121314151617181920212223# ä½¿ç”¨è¿­ä»£å®ç°é˜¶ä¹˜ç®—æ³•def factorial(n): result = 1 for i in range(2, n +1): result *= i i += 1 return result# ä½¿ç”¨é€’å½’å®ç°é˜¶ä¹˜ç®—æ³•def factorial_1(n): if n == 1: return 1 else: return n * factorial_1(n - 1)print(factorial(10))print(factorial_1(10))&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š36288003628800&#x27;&#x27;&#x27; è¿­ä»£çš„æ–¹æ³•ï¼Œä»1å¼€å§‹ï¼Œè¿›å…¥forå¾ªç¯å¯¹ä¹‹å‰çš„ç»“æœç´¯ç§¯ä¹˜ä»¥ iï¼Œç›´è‡³ nï¼ˆä¸Šä¾‹å‡½æ•°è¢«è°ƒç”¨äº†1æ¬¡ï¼‰ã€‚ é€’å½’çš„æ–¹å¼æ›´ä¸ºç›´è§‚ï¼Œæ¯æ¬¡é€šè¿‡é€’å‡æ•°å­—çš„æ–¹å¼é€’å½’è°ƒç”¨è‡ªå·±ï¼ˆä¸Šä¾‹å‡½æ•°è¢«è°ƒç”¨äº†10æ¬¡ï¼‰ã€‚ æ•´ä½“ä¸Šçœ‹é€’å½’æ›´ç®€æ´æ˜äº†ï¼Œä½†æ˜¯ç›¸æ¯”è¿­ä»£ä¼šå ç”¨æ›´å¤šå†…å­˜ï¼Œè¿è¡Œæ—¶é—´ä¼šæ›´é•¿ã€‚ é€’å½’æœ‰æœ€å¤§æ·±åº¦é™åˆ¶ï¼Œåœ¨è®¡ç®—æœºä¸­ï¼Œå‡½æ•°åã€å‚æ•°ã€å€¼ç±»å‹ç­‰ï¼Œéƒ½æ˜¯å­˜æ”¾åœ¨æ ˆä¸Šçš„ã€‚æ¯è¿›è¡Œä¸€æ¬¡å‡½æ•°è°ƒç”¨ï¼Œå°±ä¼šåœ¨æ ˆä¸ŠåŠ ä¸€å±‚ï¼Œå‡½æ•°è¿”å›å°±å‡ä¸€å±‚ï¼Œç”±äºæ ˆçš„å¤§å°æ˜¯æœ‰é™çš„ï¼Œé€’å½’æ¬¡æ•°è¿‡å¤šå°±ä¼šå¯¼è‡´å †æ ˆæº¢å‡ºã€‚ å¯ä»¥è°ƒç”¨sysæ¨¡å—ï¼Œsys.setrecursionlimit(2000)å°†æ ˆçš„å¤§å°è°ƒæ•´ä¸º2000ï¼Œsys.getrecursionlimit()æŸ¥çœ‹å½“å‰è®¾ç½®çš„æœ€å¤§é€’å½’æ·±åº¦ã€‚è¿™ç§è°ƒæ•´é€’å½’æ·±åº¦çš„æ–¹å¼ä¸æ˜¯æ— é™å¤§çš„ï¼Œæˆ‘çš„jupyteråœ¨è°ƒç”¨é€’å½’å‡½æ•°3000æ¬¡çš„æ—¶å€™å°±ä¼šç›´æ¥é€€å‡ºâ€¦â€¦æ¨¡å—å®šä¹‰å’Œè°ƒç”¨æ–¹å¼åä¸€ç¯‡ç¬”è®°å†è¯´ã€‚ 3. æ–‡ä»¶æ“ä½œå‡½æ•°3.1 open() &amp; close()å‡½æ•°open()å¯ä»¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œæˆ–è€…åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼Œå‡½æ•°close()å¯ä»¥å…³é—­æ–‡ä»¶ã€‚ä¸¤è€…è¯­æ³•å¦‚ä¸‹ï¼š 12345f = open(&#x27;æ–‡ä»¶å&#x27;, &#x27;è®¿é—®æ¨¡å¼&#x27;)f.close() # æ³¨æ„æœ€åä¸€å®šè¦æœ‰close()with open(&#x27;æ–‡ä»¶å&#x27;, &#x27;è®¿é—®æ¨¡å¼&#x27;) as f: # è‡ªåŠ¨è°ƒç”¨close() f.æ–¹æ³•() è®¿é—®æ¨¡å¼ è¯´æ˜ r åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œé»˜è®¤æ¨¡å¼ï¼Œæ‰“å¼€æ–‡ä»¶å¿…é¡»å­˜åœ¨ã€‚ w å†™å…¥æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå·²å­˜åœ¨çš„æ–‡ä»¶ä¼šè¦†ç›–å†…å®¹ï¼ˆç›¸å½“äºlinuxé‡å®šå‘æ“ä½œç¬¦&gt;ï¼‰ã€‚ a è¿½åŠ æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå·²å­˜åœ¨çš„æ–‡ä»¶ä¼šå°†å†…å®¹å†™åˆ°æœ€åï¼ˆç›¸å½“äºlinuxé‡å®šå‘æ“ä½œç¬¦&gt;&gt;ï¼‰ã€‚ x åªå†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œè‹¥æ–‡ä»¶å­˜åœ¨åˆ™æŠ¥é”™ã€‚ r+ è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶å¿…é¡»å­˜åœ¨ã€‚ w+ è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå·²å­˜åœ¨çš„æ–‡ä»¶ä¼šè¦†ç›–å†…å®¹ã€‚ a+ è¯»å†™æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œå·²å­˜åœ¨çš„æ–‡ä»¶ä¼šå°†å†…å®¹å†™åˆ°æœ€åã€‚ ä¸€èˆ¬ç”¨ with open() as çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶ï¼Œè¿™ç§æ–¹å¼ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬è°ƒç”¨f.close() 3.2 write() &amp; read()write()å‘æ–‡ä»¶å†™å…¥æ•°æ®ï¼Œä»¥wæ–¹å¼è®¿é—®ï¼Œå¦‚æœæ–‡ä»¶åå­˜åœ¨ä¼šå…ˆæ¸…ç©ºæ–‡ä»¶å†…å®¹ï¼Œæ–‡ä»¶åä¸å­˜åœ¨åˆ™æ–°å»ºï¼›ä»¥aæ–¹å¼è®¿é—®ï¼Œå¦‚æœæ–‡ä»¶åå­˜åœ¨åˆ™ç»­å†™ï¼Œæ–‡ä»¶åä¸å­˜åœ¨åˆ™æ–°å»ºï¼›ä»¥ræ–¹å¼è®¿é—®åˆ™æŠ¥é”™ã€‚ read()ä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®ï¼Œæ‹¬å·é‡Œé¢çš„å‚æ•°ä»£è¡¨è¯»å–çš„æ•°æ®é•¿åº¦ï¼ˆå­—èŠ‚æ•°ï¼‰ï¼Œå¦‚æœä¸ä¼ å…¥å‚æ•°åˆ™è¯»å–æ‰€æœ‰æ•°æ®ã€‚ readline()è¯»å–ä¸€è¡Œï¼ŒåŒæ—¶ä¼šè¯»å–ä¸€è¡Œæœ€åçš„æ¢è¡Œç¬¦\\nï¼Œæ‰€ä»¥æ‰“å°å‡ºæ¥çš„æ—¶å€™ä¼šå¤šä¸€è¡Œç©ºè¡Œã€‚ readlines()æŒ‰ç…§è¡Œçš„æ–¹å¼è¯»å–æ•´ä¸ªæ–‡ä»¶æ•°æ®ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œæ¯è¡Œæ•°æ®æ˜¯ä¸€ä¸ªå…ƒç´ ï¼ŒåŒæ ·ä¼šè¯»åˆ°æ¢è¡Œç¬¦\\nå¹¶ä¸”æ˜¾ç¤ºå‡ºæ¥ã€‚ éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œåœ¨å¤šæ¬¡è¯»å–çš„æ“ä½œä¸­ï¼Œåä¸€æ¬¡è¯»å–ä¼šä»ä¸Šä¸€æ¬¡è¯»å®Œçš„ä½ç½®å¼€å§‹ã€‚ 123456789101112131415161718192021222324252627with open(&#x27;test.txt&#x27;, &#x27;w&#x27;) as f: # åªå†™æ¨¡å¼åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ f.write(&#x27;My name is Phantom. \\nI am Aria.&#x27;)with open(&#x27;test.txt&#x27;, &#x27;a&#x27;) as f: # è¿½åŠ æ¨¡å¼è¿›è¡Œç»­å†™ f.write(&#x27;\\nWell, it\\&#x27;s been so long.&#x27;)&#x27;&#x27;&#x27;ç”Ÿæˆçš„test.txtå†…å®¹ï¼š # å®é™…å‰é¢ä¸¤è¡Œæœ«å°¾éƒ½æœ‰æ¢è¡Œç¬¦My name is Phantom.I am Aria.Well, it&#x27;s been so long.&#x27;&#x27;&#x27; with open(&#x27;test.txt&#x27;, &#x27;r&#x27;) as f: # åªè¯»æ–¹å¼æ‰“å¼€æ–‡ä»¶ line = f.read(1) # readè¯»å–ç¬¬ä¸€ä¸ªå­—èŠ‚ print(line) line = f.readline() # readlineè¯»å–ç¬¬ä¸€ä¸ªå­—èŠ‚åçš„ç¬¬ä¸€è¡Œï¼Œå› ä¸ºè¯»å–äº†æ¢è¡Œç¬¦ï¼Œæ‰€ä»¥è¿è¡Œç»“æœå¤šä¸€è¡Œç©ºè¡Œ print(line) line = f.readlines() # readlinesè¯»å–æ¥ä¸‹æ¥çš„ä¸¤è¡Œï¼Œæ¯è¡Œæ•°æ®ä¸ºä¸€ä¸ªå…ƒç´ ï¼Œè¿”å›ä¸€ä¸ªåˆ—è¡¨ print(line) &#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šMy name is Phantom. [&#x27;I am Aria.\\n&#x27;, &quot;Well, it&#x27;s been so long.&quot;]&#x27;&#x27;&#x27; 3.3 osæ¨¡å—çš„æ–‡ä»¶æ“ä½œå‡½æ•°osæ¨¡å—å’Œä¸Šé¢é€’å½’å‡½æ•°æœ€åæåˆ°çš„sysæ¨¡å—ç”¨çš„éå¸¸å¤šï¼Œä¸‹ç¯‡ç¬”è®°å†è¯¦ç»†è¯´æ˜ï¼Œè¿™é‡Œå°±è®°ä¸€ä¸‹ç”¨æ³•ã€‚ è¿™å‡ ä¸ªå‡½æ•°ä¹Ÿéå¸¸ç›´è§‚ï¼Œä¸¾ä¸ªä¾‹å­å°±çŸ¥é“åˆ†åˆ«æœ‰ä»€ä¹ˆä½œç”¨ï¼š 1234567import osos.rename(&#x27;test.txt&#x27;, &#x27;TEST.txt&#x27;) # æ–‡ä»¶é‡å‘½åos.remove(&#x27;TEST.txt&#x27;) # æ–‡ä»¶åˆ é™¤os.mkdir(&#x27;./test&#x27;) # åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹å­˜åœ¨çš„è¯ä¼šæŠ¥é”™,ä¸”åªèƒ½åˆ›å»ºä¸€çº§ç›®å½•os.rmdir(&#x27;./test&#x27;) # åˆ é™¤æ–‡ä»¶å¤¹os.makedirs(&#x27;./TEST/TEST1/TEST2&#x27;) #é€’å½’çš„æ–¹å¼åˆ›å»ºå¤šçº§ç›®å½•","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ5ï¼‰â€”â€”è£…é¥°å™¨","slug":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ5ï¼‰â€”â€”è£…é¥°å™¨","date":"2022-11-27T19:03:55.000Z","updated":"2022-12-03T15:55:01.000Z","comments":true,"path":"2022/11/28/a.html","link":"","permalink":"http://www.shelven.com/2022/11/28/a.html","excerpt":"è¿™é‡Œè®²ä¸€è®²å‰é¢æåˆ°çš„pythonè£…é¥°å™¨ï¼Œ@classmethodå’Œ@staticmethodæ˜¯pythonå†…ç½®è£…é¥°å™¨ï¼Œåœ¨äº†è§£ä»€ä¹ˆæ˜¯è£…é¥°å™¨ä¹‹å‰é¦–å…ˆè¦äº†è§£å‡½æ•°çš„å‡ ä¸ªç‰¹å¾ã€‚","text":"è¿™é‡Œè®²ä¸€è®²å‰é¢æåˆ°çš„pythonè£…é¥°å™¨ï¼Œ@classmethodå’Œ@staticmethodæ˜¯pythonå†…ç½®è£…é¥°å™¨ï¼Œåœ¨äº†è§£ä»€ä¹ˆæ˜¯è£…é¥°å™¨ä¹‹å‰é¦–å…ˆè¦äº†è§£å‡½æ•°çš„å‡ ä¸ªç‰¹å¾ã€‚ 1. æœ‰å…³å‡½æ•°çš„å‡ ä¸ªæ¦‚å¿µ1.1 å‡½æ•°å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥é«˜é˜¶å‡½æ•°å¯ä»¥æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºä¼ å…¥çš„å‚æ•°ï¼š 12345678910111213def func1(a, b): return a + b# é«˜é˜¶å‡½æ•°ï¼Œå‡½æ•°func2æ¥æ”¶å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥def func2(func, m, n): return func(m, n)func2(func1, 1, 2) &#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š3&#x27;&#x27;&#x27; ä»ä¸Šé¢ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ‰§è¡Œ func2å‡½æ•°çš„æ—¶å€™ï¼Œå‡½æ•°å¯¹è±¡func1ä½œä¸ºå‚æ•°è¢«ä¼ å…¥func2ï¼Œè¿”å›func1(1, 2)çš„æ‰§è¡Œç»“æœä¹Ÿå°±æ˜¯3. 1.2 å‡½æ•°å¯ä»¥æŠŠå¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºç»“æœè¿”å›é«˜é˜¶å‡½æ•°ä¹Ÿå¯ä»¥å°†å‡½æ•°ä½œä¸ºç»“æœè¿”å›ï¼š 123456789101112131415161718# é«˜é˜¶å‡½æ•°ï¼ŒæŠŠå‡½æ•°ä½œä¸ºç»“æœè¿”å›def func1(): pass def func2(): # å†…å±‚å‡½æ•°ï¼ˆåµŒå¥—å‡½æ•°ï¼‰ print(&#x27;æ‰§è¡Œfunc2å‡½æ•°&#x27;) return func2 # è¿”å›å†…å±‚å‡½æ•°çš„å¼•ç”¨a = func1() # è¿”å›çš„å‡½æ•°å¯¹è±¡func2çš„å¼•ç”¨èµ‹å€¼ç»™aprint(a) # æ‰“å°å‡½æ•°å¯¹è±¡ï¼Œè·å¾—å­˜å‚¨åœ°å€a() # æ‰§è¡Œå†…å±‚å‡½æ•°func2()çš„åŠŸèƒ½&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š&lt;function func1.&lt;locals&gt;.func2 at 0x00000288D3701750&gt;æ‰§è¡Œfunc2å‡½æ•°&#x27;&#x27;&#x27; ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œå¤–å›´å‡½æ•° func1å°†å†…å±‚å‡½æ•° func2çš„å¼•ç”¨èµ‹å€¼ç»™aï¼Œæ­¤æ—¶aå°±æœ‰äº†å†…å±‚å‡½æ•°func2 çš„æ–¹æ³•ï¼Œæ­¤æ—¶æ‰“å°çš„aæ˜¯å‡½æ•°çš„å­˜å‚¨åœ°å€ï¼Œæ‰§è¡Œa() å°±å¯ä»¥æ‰§è¡Œfunc2 å‡½æ•°çš„åŠŸèƒ½ã€‚ 1.3 åµŒå¥—å‡½æ•°å¯ä»¥å¼•ç”¨å¤–å±‚å‡½æ•°çš„å˜é‡ç¨ç¨ä¿®æ”¹1.2çš„ä¾‹å­ï¼Œåœ¨å¤–å±‚å‡½æ•°æ·»åŠ å±€éƒ¨å˜é‡msgï¼š 123456789101112131415def func1(): # å¤–å›´å‡½æ•° msg = &#x27;I am Phantom&#x27; def func2(): # å†…å±‚å‡½æ•°ï¼ˆåµŒå¥—å‡½æ•°ï¼‰ print(msg) return func2a = func1() # å®é™…ä¸Šè¿™é‡Œè·å¾—çš„å°±æ˜¯ä¸€ä¸ªé—­åŒ…a() # å¼•ç”¨å¤–å±‚å‡½æ•°çš„å˜é‡ï¼Œæ‰§è¡Œå†…å±‚å‡½æ•°func2()çš„åŠŸèƒ½&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šI am Phantom&#x27;&#x27;&#x27; è¿™é‡Œå…ˆå¼•ç”¨é—­åŒ…çš„æ¦‚å¿µï¼š é—­åŒ…ï¼šæŒ‡å»¶ä¼¸äº†ä½œç”¨åŸŸçš„å‡½æ•°ï¼Œå…¶ä¸­åŒ…å«å‡½æ•°å®šä¹‰ä½“ä¸­å¼•ç”¨ã€ä½†æ˜¯ä¸åœ¨å®šä¹‰ä½“ä¸­å®šä¹‰çš„éå…¨å±€å˜é‡ã€‚æ¦‚å¿µæ¯”è¾ƒæ™¦æ¶©ï¼Œç®€å•æ¥è¯´å°±æ˜¯åµŒå¥—å‡½æ•°å¼•ç”¨äº†å¤–å±‚å‡½æ•°çš„å˜é‡ã€‚ è¿™ä¸ªä¾‹å­å’Œä¸Šä¸ªä¾‹å­å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œmsgæ˜¯ä¸€ä¸ªåœ¨å¤–å›´å‡½æ•°ä¸­çš„å±€éƒ¨å˜é‡ï¼Œåœ¨print_msg()å‡½æ•°æ‰§è¡Œä¹‹ååº”è¯¥å°±ä¸ä¼šå­˜åœ¨äº†ã€‚ä½†æ˜¯åµŒå¥—å‡½æ•°å¼•ç”¨äº†è¿™ä¸ªå˜é‡ï¼Œå°†è¿™ä¸ªå±€éƒ¨å˜é‡å°é—­åœ¨äº†åµŒå¥—å‡½æ•°ä¸­ï¼Œè¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªé—­åŒ…ã€‚ æœ‰äº†ä»¥ä¸Šå…³äºé«˜é˜¶å‡½æ•°å’Œé—­åŒ…çš„æ¦‚å¿µåï¼Œå°±å¯ä»¥å¼€å§‹ç†è§£ä»€ä¹ˆæ˜¯è£…é¥°å™¨ä»¥åŠè£…é¥°å™¨çš„ä½œç”¨äº†ã€‚ 2. è£…é¥°å™¨decoratorè£…é¥°å™¨çš„æœ¬è´¨å°±æ˜¯ä¸€ä¸ªé—­åŒ…ï¼ŒæŠŠä¸€ä¸ªå‡½æ•°å½“åšå‚æ•°ç„¶åè¿”å›ä¸€ä¸ªæ›¿ä»£ç‰ˆå‡½æ•°ï¼ˆå‡½æ•°çš„å¼•ç”¨ï¼‰ã€‚ 2.1 @æ ‡è¯†ç¬¦å°†è£…é¥°å™¨åº”ç”¨åˆ°å‡½æ•°ä¸‹é¢å°†ç”¨ä»£ç æ–¹å¼ç®€å•æ¼”ç¤ºè£…é¥°å™¨æ˜¯æ€ä¹ˆåº”ç”¨çš„ã€‚ 1234567891011121314151617181920def func1(func3): def func2(): print(f&#x27;è¢«è£…é¥°çš„å‡½æ•°&#123;func3.__name__&#125;å³å°†æ‰§è¡Œ&#x27;) func3() # è¢«è£…é¥°çš„å‡½æ•° print(f&#x27;è¢«è£…é¥°çš„å‡½æ•°&#123;func3.__name__&#125;æ‰§è¡Œç»“æŸ&#x27;) return func2def funcx(): print(&#x27;å‡½æ•°æ­£åœ¨è¿è¡Œ&#x27;)a = func1(funcx) # 1a() # 2&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šè¢«è£…é¥°çš„å‡½æ•°funcxå³å°†æ‰§è¡Œå‡½æ•°æ­£åœ¨è¿è¡Œè¢«è£…é¥°çš„å‡½æ•°funcxæ‰§è¡Œç»“æŸ&#x27;&#x27;&#x27; ä¸Šé¢è¿™ä¸ªä¾‹å­å°±æ˜¯ä¸ç”¨@æ ‡è¯†ç¬¦çš„è£…é¥°å™¨ï¼Œé¦–å…ˆæˆ‘å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°func1ï¼Œå®ƒåªæœ‰ä¸€ä¸ªfunc3å‚æ•°ï¼Œè¿™ä¸ªå‡½æ•°é‡Œé¢å®šä¹‰äº†ä¸€ä¸ªåµŒå¥—å‡½æ•°func2ã€‚func2çš„ä½œç”¨æ˜¯è°ƒç”¨func3å‰æ‰“å°ä¸€ä¸²å­—ç¬¦ï¼Œç„¶åæ‰§è¡Œè¢«è£…é¥°çš„å‡½æ•°func3ï¼Œç»“æŸä¹‹åå†æ‰“å°ä¸€ä¸²å­—ç¬¦ã€‚ æˆ‘ä»¬å†å®šä¹‰ä¸€ä¸ªæµ‹è¯•å‡½æ•°funcxï¼ŒåŠŸèƒ½æ˜¯æ‰“å°ä¸€æ®µâ€œå‡½æ•°æ­£åœ¨è¿è¡Œâ€çš„å­—ç¬¦ä¸²ã€‚ åœ¨1å¤„ï¼Œå‡½æ•°func1ä¸­ä¼ å…¥å‡½æ•°funcxï¼Œè¿”å›å‡½æ•°func2çš„å¼•ç”¨èµ‹å€¼ç»™å˜é‡aï¼Œæ­¤æ—¶å¹¶æ²¡æœ‰æ‰§è¡Œå‡½æ•°ï¼Œä¹Ÿä¸ä¼šæœ‰æ‰“å°ç»“æœã€‚åœ¨2å¤„æ‰§è¡Œäº†func2å‡½æ•°ï¼Œå‰é¢ä¼ å…¥çš„å‡½æ•°funcxä½œä¸ºå‚æ•°åœ¨åŸå…ˆçš„func3å¤„æ‰§è¡Œï¼Œè¿™ä¸ªæ—¶å€™å°±ä¼šä¾æ¬¡è¾“å‡ºä¸‰è¡Œå­—ç¬¦ä¸²ã€‚ å°†@æ ‡è¯†ç¬¦åº”ç”¨åˆ°å‡½æ•°ä¸Šï¼Œåªéœ€è¦åœ¨å‡½æ•°å®šä¹‰å‰åŠ ä¸Š@å’Œè£…é¥°å™¨çš„åç§°å³å¯ã€‚ 1234567891011121314151617181920def func1(func3): def func2(): print(f&#x27;è¢«è£…é¥°çš„å‡½æ•°&#123;func3.__name__&#125;å³å°†æ‰§è¡Œ&#x27;) func3() # è¢«è£…é¥°å‡½æ•° print(f&#x27;è¢«è£…é¥°çš„å‡½æ•°&#123;func3.__name__&#125;æ‰§è¡Œç»“æŸ&#x27;) return func2@func1def funcx(): print(&#x27;å‡½æ•°æ­£åœ¨è¿è¡Œ&#x27;)funcx()&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šè¢«è£…é¥°çš„å‡½æ•°funcxå³å°†æ‰§è¡Œå‡½æ•°æ­£åœ¨è¿è¡Œè¢«è£…é¥°çš„å‡½æ•°funcxæ‰§è¡Œç»“æŸ&#x27;&#x27;&#x27; è¿™é‡Œ@func1å°±æ˜¯è£…é¥°å™¨ï¼Œå®ƒæ¥å—è¢«è£…é¥°çš„å‡½æ•°ä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œè¿”å›å†…éƒ¨åµŒå¥—å‡½æ•°çš„å¼•ç”¨ï¼ˆæ³¨æ„è¿™ä¸ªæ—¶å€™å¹¶æ²¡æœ‰æ‰§è¡Œå‡½æ•°ï¼‰ï¼Œå†…éƒ¨åµŒå¥—å‡½æ•°func2æŒæœ‰è¢«è£…é¥°å‡½æ•°func3çš„å¼•ç”¨ã€‚ å¯ä»¥çœ‹åˆ°@è¯­æ³•åªæ˜¯å°†å‡½æ•°ä¼ å…¥è£…é¥°å™¨å‡½æ•°ï¼Œå¹¶ä¸æ˜¯ä»€ä¹ˆç‰¹åˆ«éš¾ç†è§£çš„æ¦‚å¿µï¼Œä¸»è¦ä½œç”¨å°±æ˜¯èŠ‚çœä»£ç é‡ï¼ˆé¿å…äº†å†ä¸€æ¬¡çš„èµ‹å€¼æ“ä½œï¼‰ã€‚ 2.2 å¸¦å‚æ•°çš„è£…é¥°å™¨å‰é¢ç¤ºèŒƒçš„æ˜¯ä¸å¸¦å‚æ•°çš„è£…é¥°å™¨ï¼Œå¸¦å‚æ•°çš„è£…é¥°å™¨ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæˆ‘ä»¬åªè¦çŸ¥é“è£…é¥°å™¨æœ€ç»ˆè¿”å›çš„ä¸€å®šæ˜¯åµŒå¥—å‡½æ•°çš„å¼•ç”¨ã€‚åœ¨å‰é¢çš„å‚æ•°ä¼ é€’åšæ–‡ä¸­ï¼Œæˆ‘ä»¬è¯´è¿‡*argså’Œ**kargså¯ä»¥ä»¥åŒ…è£¹ä¼ é€’çš„æ–¹å¼ä¼ é€’ä¸å®šé•¿å‚æ•°ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ 12345678910111213141516171819202122232425262728def func1(func3): def func2(*args, **kargs): print(f&#x27;è¢«è£…é¥°çš„å‡½æ•°&#123;func3.__name__&#125;å³å°†æ‰§è¡Œ&#x27;) func3(*args, **kargs) print(f&#x27;è¢«è£…é¥°çš„å‡½æ•°&#123;func3.__name__&#125;æ‰§è¡Œç»“æŸ&#x27;) return func2@func1def funcx(a, b): print(a + b)@func1def funcy(a, b, c): print(str(a) + str(b) + str(c))funcx(1, 2)print(&#x27;*************************&#x27;)funcy(&#x27;Phan&#x27;, &#x27;t&#x27;, &#x27;om&#x27;)&#x27;&#x27;&#x27;è¢«è£…é¥°çš„å‡½æ•°funcxå³å°†æ‰§è¡Œ3è¢«è£…é¥°çš„å‡½æ•°funcxæ‰§è¡Œç»“æŸ*************************è¢«è£…é¥°çš„å‡½æ•°funcyå³å°†æ‰§è¡ŒPhantomè¢«è£…é¥°çš„å‡½æ•°funcyæ‰§è¡Œç»“æŸ&#x27;&#x27;&#x27; ä¸Šé¢çš„è£…é¥°å™¨å¸¦çš„å‚æ•°éƒ½æ˜¯æˆ‘ä»¬åé¢è‡ªå®šä¹‰å‡½æ•°é‡Œçš„å‚æ•°ï¼Œè£…é¥°å™¨çš„è¯­æ³•å…è®¸æˆ‘ä»¬åœ¨è°ƒç”¨æ—¶æä¾›å…¶ä»–å‚æ•°ã€‚ 1234567891011121314151617181920212223242526272829303132#import functoolsdef func1(text): def decorator(func): # @functools.wraps(func) def func2(*args, **kwargs): if text == &#x27;Phantom&#x27;: print(&#x27;%s æ­£åœ¨è¿è¡Œ&#x27; % func.__name__) print(*args) print(text) return func(*args, **kwargs) return func2 return decorator @func1(text = &quot;Phantom&quot;)def funcx(a): print(funcx.__name__)funcx(&#x27;test&#x27;)&#x27;&#x27;&#x27;æ³¨é‡Šçš„è¿è¡Œç»“æœï¼šfuncx æ­£åœ¨è¿è¡ŒtestPhantomfunc2*************************å»æ‰æ³¨é‡Šçš„è¿è¡Œç»“æœï¼šfuncx æ­£åœ¨è¿è¡ŒtestPhantomfuncx&#x27;&#x27;&#x27; å…ˆä¸çœ‹å¯¼å…¥çš„æ¨¡å—ï¼Œåé¢å†è§£é‡Šã€‚ ä¸Šé¢çš„ä¾‹å­çœ‹ä¸Šå»å¾ˆå¤æ‚ï¼Œå¯ä»¥ä¸€å±‚ä¸€å±‚å‰¥å¼€ç†è§£ã€‚func1æ˜¯å…è®¸å¸¦å‚æ•°çš„è£…é¥°å™¨ï¼Œå®é™…ä¸Šæ˜¯åŸæœ‰è£…é¥°å™¨decoratorçš„å†ä¸€æ¬¡å°è£…ï¼Œå¹¶ä¸”è¿”å›äº†è¿™ä¸ªè£…é¥°å™¨ï¼Œå¯ä»¥ç†è§£ä¸ºå«æœ‰ä¸€ä¸ªå½¢å‚textçš„é—­åŒ…ã€‚å½“æˆ‘ä»¬ä½¿ç”¨@func1(text &#x3D; â€œPhantomâ€)æ—¶ï¼Œpythonè§£é‡Šå™¨å°†æˆ‘ä»¬çš„å®å‚â€œPhantomâ€ä¼ å…¥åˆ°è£…é¥°å™¨çš„ç¯å¢ƒã€‚ è€ŒåµŒå¥—å‡½æ•°func2åœ¨æ£€æŸ¥åˆ°ä¼ å…¥çš„textå‚æ•°ä¸å­—ç¬¦ä¸²â€œPhantomâ€ç›¸åŒæ—¶ï¼Œå°±ä¼šæ‰§è¡Œåé¢çš„æ‰“å°å‡½æ•°åã€funcxä¼ å…¥çš„å®å‚å’Œfunc1ä¼ å…¥åˆ°decorateçš„å®å‚ã€‚ é€šè¿‡ç‰¹æ®Šå±æ€§__name__å¯ä»¥çœ‹åˆ°ï¼Œfuncxå‡½æ•°æŒ‡å‘äº†è£…é¥°å™¨å†…éƒ¨å®šä¹‰çš„func2å‡½æ•°ï¼Œä¹Ÿå°±æ˜¯ç»è¿‡è£…é¥°å™¨è£…é¥°åä¸¢å¤±äº†åŸå‡½æ•°çš„å…ƒä¿¡æ¯ï¼Œæˆ‘ä»¬çœŸæ­£è°ƒç”¨çš„æ˜¯è£…é¥°åç”Ÿæˆçš„æ–°å‡½æ•°ã€‚é‚£ä¹ˆæ˜¯ä¸æ˜¯æ¯æ¬¡éƒ½è¦ä½¿ç”¨func2.__name__ = func.__name__è¿™æ ·çš„ä»£ç æ¥ä¿ç•™åŸå‡½æ•°ä¿¡æ¯å‘¢ï¼Ÿå¹¶ä¸æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨functoolsåº“ä¸­çš„@functools.wraps()æ¥ä¿ç•™åŸå‡½æ•°çš„å±æ€§ï¼Œå…¶å®è¿™ç§ä¿ç•™åªæ˜¯å°†åŸå§‹è¢«è£…é¥°çš„å‡½æ•°çš„å±æ€§æ‹·è´ç»™äº†è£…é¥°å‡½æ•°ï¼Œå¦‚æœä¸å¹²è¿™ä»¶äº‹ï¼Œæœ‰äº›ä¾èµ–å‡½æ•°ç­¾åçš„ä»£ç æ‰§è¡Œå°±ä¼šå‡ºé”™ï¼Œæ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥ç»§ç»­æ¢ç©¶~ 2.3 å†…ç½®è£…é¥°å™¨ä¸Šé¢è¯´çš„@functools.wraps()å…¶å®ä¹Ÿæ˜¯å†…ç½®è£…é¥°å™¨ï¼Œä¸‹é¢ä»‹ç»å…¶ä»–å‡ ä¸ªå¸¸ç”¨çš„å†…ç½®è£…é¥°å™¨ã€‚ 2.3.1 @propertyè¿™ä¸ªå†…ç½®è£…é¥°å™¨ç”¨æ¥è£…é¥°ç±»å‡½æ•°ï¼Œè¢«è£…é¥°çš„ç±»å‡½æ•°ä¸å¯ä»¥åœ¨ç±»è¢«å®ä¾‹åŒ–åè°ƒç”¨ï¼Œåªèƒ½é€šè¿‡è®¿é—®ä¸å‡½æ•°åŒåçš„å±æ€§è¿›è¡Œè°ƒç”¨ï¼ˆä¹Ÿå°±æ˜¯æŠŠç±»çš„æ–¹æ³•ä¼ªè£…æˆå±æ€§ï¼‰ã€‚ 12345678910111213141516171819class A(): def func1(self): print(&#x27;Phantom&#x27;) @property def func2(self): print(&#x27;Aria&#x27;) a = A() # å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡a.func1() # é€šè¿‡å®ä¾‹åŒ–å¯¹è±¡è®¿é—®ç±»æ–¹æ³•a.func2 # é€šè¿‡å®ä¾‹åŒ–å¯¹è±¡å°†ç±»æ–¹æ³•ä¼ªè£…æˆå±æ€§è°ƒç”¨&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šPhantomAria&#x27;&#x27;&#x27; æˆ‘ä»¬çŸ¥é“å±æ€§æ˜¯å¯ä»¥è¢«èµ‹å€¼çš„ï¼Œä½†æ˜¯ç»è¿‡propertyè£…é¥°çš„æ–¹æ³•ä¸å¯ä»¥åƒæ™®é€šå±æ€§é‚£æ ·è¢«èµ‹å€¼ã€‚ è¿™ä¸ªç‰¹æ€§å¾ˆæœ‰æ„æ€ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°å¯¹pythonç±»ç§æœ‰å±æ€§çš„å®‰å…¨è®¿é—®ï¼ˆå†æ¬¡å¼ºè°ƒä¸å­˜åœ¨ä¸¥æ ¼æ„ä¹‰çš„ç§æœ‰å±æ€§ï¼‰ã€‚ 1234567891011121314151617181920212223242526272829class A: __number = &#x27;Phantom&#x27; # ç±»å†…çš„ç§æœ‰å±æ€§ @property def number(self): return self.__numbera = A()try: print(a.__number) # å°è¯•ç›´æ¥è®¿é—®ç±»å†…çš„ç§æœ‰å±æ€§å¤±è´¥except: print(&quot;è®¿é—®ç§æœ‰å±æ€§å¤±è´¥&quot;)try: print(a.number) # é€šè¿‡ç±»æ–¹æ³•ä¼ªè£…çš„å±æ€§è®¿é—®ç§æœ‰å±æ€§æˆåŠŸ print(&quot;è®¿é—®ç§æœ‰å±æ€§æˆåŠŸ&quot;)except: passtry: a.number = 1 # ç±»æ–¹æ³•ä¼ªè£…çš„å±æ€§æ— æ³•è¢«èµ‹å€¼except: print(&quot;ä¿®æ”¹ç§æœ‰å±æ€§å¤±è´¥&quot;)&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šè®¿é—®ç§æœ‰å±æ€§å¤±è´¥Phantomè®¿é—®ç§æœ‰å±æ€§æˆåŠŸä¿®æ”¹ç§æœ‰å±æ€§å¤±è´¥&#x27;&#x27;&#x27; 2.3.2 @classmethodç›´æ¥ç¿»è¯‘ï¼Œè¿™ä¸ªè£…é¥°å™¨å°±æ˜¯ç”¨æ¥å®šä¹‰ç±»æ–¹æ³•çš„ï¼Œè¢«è£…é¥°çš„å‡½æ•°å¿…é¡»æœ‰ä¸€ä¸ªclså‚æ•°ç”¨æ¥ç»‘å®šç±»æœ¬èº«ï¼Œéšå¼åœ°å°†ç±»ä½œä¸ºå¯¹è±¡ï¼Œä¼ é€’ç»™æ–¹æ³•ï¼Œè°ƒç”¨åœ°æ—¶å€™ä¸éœ€è¦è¿›è¡Œå®ä¾‹åŒ–ã€‚ å¦‚æœä¸åŠ è¿™ä¸ªè£…é¥°å™¨ï¼Œå¿…é¡»è¦ä½¿ç”¨selfå‚æ•°ï¼Œéšå¼åœ°å°†ç±»å®ä¾‹ä¼ é€’ç»™æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´å¿…é¡»è¦å®ä¾‹åŒ–ã€‚ å¼ºè°ƒä¸€ç‚¹ï¼Œè¿™é‡Œåœ°clså’Œselfåªæ˜¯ä¸ºäº†æ–¹ä¾¿ç¼–ç¨‹çš„æ—¶å€™ä¸€çœ¼çœ‹å‡ºæ¥ç»‘å®šçš„æ˜¯ç±»è¿˜æ˜¯å¯¹è±¡ï¼Œéƒ½å¯ä»¥ç”¨åˆ«çš„xxxåå­—ä»£æ›¿ï¼ˆä½†æ˜¯ä¸å»ºè®®ï¼‰ã€‚ 12345678910111213141516class A(): def func1(self,x,y): # å®ä¾‹æ–¹æ³• return x * y @classmethod def func2(cls,x,y): # ç±»æ–¹æ³• return x * y print(A().func1(5,5)) # å¿…é¡»å®ä¾‹åŒ–A()ä¹‹åé€šè¿‡å®ä¾‹åŒ–å¯¹è±¡æ‰å¯ä»¥è°ƒç”¨æ–¹æ³•print(A.func2(5,5)) # ä¸éœ€è¦å®ä¾‹åŒ–ï¼Œç›´æ¥é€šè¿‡ç±»å¯¹è±¡è°ƒç”¨&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š2525&#x27;&#x27;&#x27; ç”±äºè¢«classmethodè£…é¥°çš„å‡½æ•°å¼ºåˆ¶æš´éœ²äº†ç±»è‡ªèº«ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡è¢«classmethodè£…é¥°çš„å‡½æ•°å¯¹ç±»çš„é™æ€å˜é‡è¿›è¡Œä¸€å®šæ“ä½œï¼Œåœ¨å®ä¾‹åŒ–ä¹‹å‰å’Œç±»è¿›è¡Œäº¤äº’ã€‚è¿˜æœ‰ç±»æ–¹æ³•å¯ä»¥é€šè¿‡å®ä¾‹å¯¹è±¡æˆ–è€…ç±»å¯¹è±¡å»è®¿é—®ï¼Œæ‰€ä»¥æœ‰ä¸€ä¸ªç”¨é€”å°±æ˜¯é€šè¿‡å®ä¾‹è°ƒç”¨ç±»æ–¹æ³•å®ç°å¯¹ç±»å±æ€§çš„ä¿®æ”¹ï¼ˆç‚¹å‡»è§ç¬¬ä¸‰ç¯‡åšå®¢ä¾‹å­ï¼‰ã€‚ 2.3.3 @staticmethodå‰é¢åšå®¢ä»‹ç»è¿‡ï¼Œè¿™ä¸ªè£…é¥°å™¨æ˜¯å£°æ˜é™æ€æ–¹æ³•çš„ï¼Œé™æ€æ–¹æ³•å’Œä¸Šé¢çš„ç±»æ–¹æ³•ä¸€æ ·ï¼Œä¸éœ€è¦å®ä¾‹åŒ–å°±å¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•ä¸å¼ºåˆ¶è¦æ±‚ä¼ é€’å‚æ•°ï¼Œæ— æ³•ç›´æ¥ä½¿ç”¨ä»»ä½•ç±»å˜é‡ã€ç±»æ–¹æ³•æˆ–è€…å®ä¾‹æ–¹æ³•ã€å®ä¾‹å˜é‡ï¼ˆè¿™é‡Œè¦æ³¨æ„ï¼Œåªæœ‰ä¸»åŠ¨ä¼ å‚æ‰å¯ä»¥è°ƒç”¨ï¼Œå› ä¸ºä¸»åŠ¨ä¼ å‚æ˜¯å¯ä»¥æŒ‰ç…§é€»è¾‘å»æ‰¾éœ€è¦çš„å‚æ•°çš„ï¼‰ã€‚ 1234567891011121314151617class People(): name = &#x27;Phantom&#x27; def __init__(self, name = &#x27;Aria&#x27;): self.name = name @staticmethod def getName(): print(&#x27;é™æ€æ–¹æ³•è°ƒç”¨ç±»å±æ€§&#x27;, People.name) #print(self.name) #ä¸èƒ½è°ƒç”¨å®ä¾‹çš„å±æ€§ï¼Œä¼šæŠ¥é”™ï¼Œåä¹‰ä¸Šæ˜¯ç±»æ–¹æ³•ï¼Œå®é™…å·²ç»å’Œç±»æ— å…³p = People()p.getName() # å¯ä»¥é€šè¿‡ ç±».æ–¹æ³•å æˆ–è€… å®ä¾‹.æ–¹æ³•å è¿›è¡Œè°ƒç”¨ &#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šé™æ€æ–¹æ³•è°ƒç”¨ç±»å±æ€§ Phantom&#x27;&#x27;&#x27; staticmethodæ›´åƒæ˜¯ä¸å®ä¾‹æ— å…³ä½†ä¸ç±»å°è£…åŠŸèƒ½æœ‰å…³çš„å‡½æ•°ï¼Œå¦‚æœæœ‰ä¸€ä¸ªåŠŸèƒ½å®ç°çš„æ–¹æ³•æ¯”è¾ƒç‹¬ç«‹ï¼Œå¯ä»¥è€ƒè™‘ç”¨é™æ€æ–¹æ³•æ¥å®ç°ã€‚ åœ¨ç»§æ‰¿ç±»ä¸­ï¼Œstaticmethodå’Œclassmethodæœ‰ä»¥ä¸‹åŒºåˆ« å­ç±»çš„å®ä¾‹ç»§æ‰¿äº†çˆ¶ç±»çš„@staticmethodé™æ€æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¿˜æ˜¯è°ƒç”¨çš„çˆ¶ç±»çš„æ–¹æ³•å’Œç±»å±æ€§ã€‚ å­ç±»çš„å®ä¾‹ç»§æ‰¿äº†çˆ¶ç±»çš„@classmethodç±»æ–¹æ³•ï¼Œè°ƒç”¨è¯¥æ–¹æ³•ï¼Œè°ƒç”¨çš„æ˜¯å­ç±»çš„æ–¹æ³•å’Œå­ç±»çš„ç±»å±æ€§ã€‚ 1234567891011121314151617181920212223242526272829class A(): name = &#x27;Phantom&#x27; @staticmethod def func1(): return print(A.name) @classmethod def func2(cls): return print(cls.name) class B(A): name = &#x27;Aria&#x27;a = A()a.func1()a.func2()print(&#x27;***********************&#x27;)b = B()b.func1()b.func2()&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šPhantomPhantom***********************PhantomAria&#x27;&#x27;&#x27; ä¸Šé¢è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹å‡ºæ¥ï¼Œ@classmethodè£…é¥°åçš„func1å‡½æ•°å®é™…ä¸Šå·²ç»å’Œçˆ¶ç±»æ²¡ä»€ä¹ˆå…³ç³»äº†ï¼Œå°½ç®¡åœ¨çˆ¶ç±»æ–¹æ³•é‡Œä½†ä¹Ÿå¯ä»¥å½“ä½œæ˜¯ä¸ªç‹¬ç«‹çš„å‡½æ•°ï¼Œä¸ç®¡å­ç±»çš„å®ä¾‹åŒ–è¿˜æ˜¯çˆ¶ç±»çš„å®ä¾‹åŒ–éƒ½æ˜¯è°ƒç”¨åŒä¸€ä¸ªå‡½æ•°ï¼Œè¾“å‡ºç»“æœä¸€è‡´ã€‚è€Œ@classmethodè£…é¥°åçš„func2å‡½æ•°ï¼Œclså‚æ•°ç»‘å®šäº†ç±»æœ¬èº«ï¼Œå­ç±»åœ¨å®ä¾‹åŒ–åç»§æ‰¿äº†çˆ¶ç±»@classmethodç±»æ–¹æ³•ï¼Œä½†æ˜¯è°ƒç”¨çš„æ˜¯å­ç±»çš„æ–¹æ³•å’Œç±»å±æ€§ã€‚ æ‰€æœ‰è£…é¥°å™¨å­˜åœ¨çš„æ„ä¹‰éƒ½æ˜¯ä¸ºå‡½æ•°æ‰©å±•åŠŸèƒ½ï¼Œæ€»ç»“ä»¥ä¸‹å‡ ç‚¹ï¼š è£…é¥°å™¨é€šè¿‡é«˜çº§å‡½æ•°ã€åµŒå¥—å‡½æ•°å’Œé—­åŒ…å®ç° è£…é¥°å™¨è¿”å›é—­åŒ…å‡½æ•°çš„å¼•ç”¨ï¼Œè¿™ä¸ªé—­åŒ…å‡½æ•°å¼•ç”¨ä¸­æœ‰è¢«è£…é¥°å‡½æ•°çš„å¼•ç”¨ è£…é¥°å™¨é€šè¿‡è¯­æ³•ç³– @ ä¿®é¥° è£…é¥°å™¨ä¸ä¿®æ”¹åŸå‡½æ•°å’Œè°ƒç”¨æ–¹å¼ï¼ˆè°ƒç”¨çš„æ˜¯è£…é¥°åçš„æ–°å‡½æ•°ï¼‰","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ4ï¼‰â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸‹ï¼‰","slug":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ4ï¼‰â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸‹ï¼‰","date":"2022-11-26T15:59:03.000Z","updated":"2022-12-03T15:55:35.000Z","comments":true,"path":"2022/11/26/a.html","link":"","permalink":"http://www.shelven.com/2022/11/26/a.html","excerpt":"å‰é¢è¯´åˆ°pythonä¸­ä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œé¢å‘å¯¹è±¡æ˜¯pythonçš„æ ¸å¿ƒï¼Œä¹Ÿé€šè¿‡ä»£ç æ–¹å¼äº†è§£äº†ä»€ä¹ˆæ˜¯ç±»å’Œå¯¹è±¡ã€å±æ€§å’Œæ–¹æ³•ä»¥åŠå…·ä½“çš„åˆ†ç±»ã€‚è¿™ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‹å‰é¢æ²¡è®²å®Œçš„é¢å‘å¯¹è±¡ç¼–ç¨‹å…·ä½“çš„ä¸‰ä¸ªç‰¹å¾ã€‚","text":"å‰é¢è¯´åˆ°pythonä¸­ä¸€åˆ‡çš†ä¸ºå¯¹è±¡ï¼Œé¢å‘å¯¹è±¡æ˜¯pythonçš„æ ¸å¿ƒï¼Œä¹Ÿé€šè¿‡ä»£ç æ–¹å¼äº†è§£äº†ä»€ä¹ˆæ˜¯ç±»å’Œå¯¹è±¡ã€å±æ€§å’Œæ–¹æ³•ä»¥åŠå…·ä½“çš„åˆ†ç±»ã€‚è¿™ç¯‡ç¬”è®°ä¸»è¦è®°å½•ä¸‹å‰é¢æ²¡è®²å®Œçš„é¢å‘å¯¹è±¡ç¼–ç¨‹å…·ä½“çš„ä¸‰ä¸ªç‰¹å¾ã€‚ é¢å‘å¯¹è±¡ç¼–ç¨‹çš„ç‰¹å¾pythonæ˜¯é¢å‘å¯¹è±¡çš„è¯­è¨€ï¼Œæ”¯æŒé¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼šå°è£…ï¼ˆéšè—ï¼‰ï¼Œç»§æ‰¿å’Œå¤šæ€ã€‚ 1. å°è£…ï¼ˆéšè—ï¼‰1.1 å°è£…æ¦‚å¿µéšè—å¯¹è±¡çš„å±æ€§å’Œå®ç°ç»†èŠ‚ï¼Œåªå¯¹å¤–æä¾›å¿…è¦çš„æ–¹æ³•ã€‚ç›¸å½“äºå°†â€œç»†èŠ‚å°è£…èµ·æ¥â€ï¼Œåªå¯¹å¤–æš´éœ²â€œç›¸å…³è°ƒç”¨æ–¹æ³•â€ã€‚ é€šè¿‡ç§æœ‰å±æ€§ã€ç§æœ‰æ–¹æ³•ï¼ˆéƒ½æ˜¯åœ¨å±æ€§æˆ–è€…æ–¹æ³•å‰åŠ ä¸Š__æ¥å®ç°ç§æœ‰åŒ–ï¼Œç±»å¤–éƒ¨ä¸èƒ½ç›´æ¥è®¿é—®ï¼‰çš„æ–¹å¼ï¼Œå®ç°å°è£…(Encapsulation)ã€‚å°è£…çš„æ¦‚å¿µç±»ä¼¼æƒé™æ§åˆ¶ï¼Œæœ‰äº›å±æ€§æˆ–æ–¹æ³•åªæƒ³äºç±»åˆ«å†…éƒ¨ä½¿ç”¨ï¼Œè€Œä¸æƒ³å…¬å¼€äºå¤–éƒ¨ï¼Œé™¤äº†å‡å°‘ä»£ç å› æ¥æºç«¯ä¸é€‚å½“çš„ä½¿ç”¨å‘ç”Ÿé—®é¢˜å¤–ï¼Œä¹Ÿå¯ä¿æŠ¤å…¶ä¸­é‡è¦çš„å•†ä¸šé€»è¾‘ã€‚ å½“ç„¶ï¼Œå‰é¢è¯´è¿‡pythonæ²¡æœ‰ä¸¥æ ¼æ„ä¹‰ä¸Šçš„è®¿é—®æ§åˆ¶é™åˆ¶ï¼Œæ›´å¤šè¿˜æ˜¯é ç¼–ç¨‹äººå‘˜çš„è‡ªè§‰&#x3D; &#x3D; 2 ç»§æ‰¿2.1 ç»§æ‰¿æ¦‚å¿µç»§æ‰¿æ˜¯åˆ›å»ºæ–°ç±»çš„æ–¹å¼ï¼Œæ˜¯å®ç°ä»£ç å¤ç”¨çš„é‡è¦æ‰‹æ®µï¼ˆæ¯”å¦‚ä¸€ä¸ªæ–°ç±»ç»§æ‰¿è‡ªè®¾è®¡å¥½çš„ç±»ï¼Œå°±ç›´æ¥å…·å¤‡å·²æœ‰ç±»çš„ç‰¹å¾ï¼Œå‡å°‘ä»£ç é‡å¤ç¼–å†™ï¼‰ã€‚å¯¹äºå·²æœ‰çš„ç±»ï¼Œæˆ‘ä»¬ç§°ä¸ºçˆ¶ç±»æˆ–åŸºç±»ï¼Œè€Œè¦åˆ›å»ºçš„æ–°ç±»ï¼Œæˆ‘ä»¬ç§°ä¸ºå­ç±»æˆ–æ´¾ç”Ÿç±»ã€‚pythonæ”¯æŒå¤šç»§æ‰¿ï¼Œä¹Ÿå°±æ˜¯æ–°å»ºçš„ç±»å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªçˆ¶ç±»ã€‚ python3ä¸­é»˜è®¤ç»§æ‰¿objectç±»ï¼Œobjectæ˜¯æ ¹ç±»ï¼Œæ˜¯æ‰€æœ‰ç±»çš„çˆ¶äº²ã€‚ç¼–å†™è¿‡ç¨‹ä¸­objectå¯ä»¥çœç•¥ã€‚ 12345678910111213141516171819202122232425262728# å®šä¹‰ä¸€ä¸ªçˆ¶ç±»(objectå¯çœ)class Animal(object): def __init__(self, name, color): self.name = name self.color = color def eat(self): print(&#x27;%såœ¨è¿›é£Ÿ&#x27; % self.name)# å®šä¹‰ä¸€ä¸ªå­ç±»ï¼Œæ‹¬å·ä¸­ä¸ºçˆ¶ç±»çš„åå­—class Pig(Animal): def setName(self, newname): self.name = newname return self.namePeggy = Pig(&#x27;çŒª&#x27;, &#x27;ç²‰è‰²&#x27;) # å®ä¾‹åŒ–å¯¹è±¡print(&#x27;Peggyæ˜¯%s,é¢œè‰²æ˜¯%s&#x27; % (Peggy.name, Peggy.color)) # æŸ¥çœ‹å¯¹è±¡å±æ€§Peggy.eat() # è°ƒç”¨çˆ¶ç±»æ–¹æ³•print(&#x27;ç°åœ¨Peggyçš„åå­—å«åš%s&#x27; % Peggy.setName(&#x27;George&#x27;)) # è°ƒç”¨å­ç±»æ–¹æ³•print(Pig.__mro__) # æŸ¥çœ‹ç±»çš„ç»§æ‰¿å±‚æ¬¡ç»“æ„ï¼Œå¯ä»¥ç”¨ç±»å±æ€§__mro__æˆ–è€…ç±»æ–¹æ³•mro()&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šPeggyæ˜¯çŒª,é¢œè‰²æ˜¯ç²‰è‰²çŒªåœ¨è¿›é£Ÿç°åœ¨Peggyçš„åå­—å«åšGeorge(&lt;class &#x27;__main__.Pig&#x27;&gt;, &lt;class &#x27;__main__.Animal&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;)&#x27;&#x27;&#x27; ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œå­ç±»Pigä»çˆ¶ç±»Animalä¸­ç»§æ‰¿äº†__init__()æ–¹æ³•ï¼Œä»å­ç±»ä¸­å®ä¾‹åŒ–å¯¹è±¡Peggyæ˜¯å¯ä»¥è°ƒç”¨çˆ¶ç±»çš„æ–¹æ³•çš„ã€‚ éœ€è¦æ³¨æ„ï¼š ç§æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼ˆå‰é¢å¸¦æœ‰__ï¼‰ä¸èƒ½è¢«å­ç±»ç»§æ‰¿ï¼Œä¹Ÿä¸èƒ½è¢«è®¿é—®ï¼ 2.2 å¤šç»§æ‰¿é¡¾åæ€ä¹‰ä¸€ä¸ªå­ç±»ç»§æ‰¿è‡ªå¤šä¸ªç›´æ¥çˆ¶ç±»ï¼Œè¿™æ ·ä¹Ÿå°±æœ‰äº†å¤šä¸ªçˆ¶ç±»çš„ç‰¹ç‚¹ã€‚ 123456789101112131415161718192021# å®šä¹‰ä¸€ä¸ªçˆ¶ç±»é©¬class Horse: def output(self): print(&#x27;éª¡å­çš„ä¸€åŠåŸºå› æ¥è‡ªé©¬&#x27;)# å®šä¹‰ä¸€ä¸ªçˆ¶ç±»é©´class Donkey: def output(self): print(&#x27;éª¡å­çš„ä¸€åŠåŸºå› æ¥è‡ªé©´&#x27;)# å®šä¹‰ä¸€ä¸ªå­ç±»éª¡å­ï¼Œç»§æ‰¿è‡ªé©¬å’Œé©´class Mule(Horse, Donkey): passa = Mule() # å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡éª¡å­a.output() # è°ƒç”¨åŒåçˆ¶ç±»æ–¹æ³•print(Mule.__mro__)&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šéª¡å­çš„ä¸€åŠåŸºå› æ¥è‡ªé©¬(&lt;class &#x27;__main__.Mule&#x27;&gt;, &lt;class &#x27;__main__.Horse&#x27;&gt;, &lt;class &#x27;__main__.Donkey&#x27;&gt;, &lt;class &#x27;object&#x27;&gt;)&#x27;&#x27;&#x27; ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œå­ç±»éª¡å­(Mule)ç»§æ‰¿è‡ªçˆ¶ç±»é©¬(Horse)å’Œé©´(Donkey)ï¼Œè¿™æ ·å¯ä»¥æ‹¥æœ‰ä¸¤ä¸ªçˆ¶ç±»å„è‡ªçš„ç‰¹å¾ã€‚ä½†æ˜¯ï¼Œå¦‚æœçˆ¶ç±»ä¸­å¦‚æœæœ‰åŒåçš„æ–¹æ³•(è¿™é‡Œçš„output(self))ï¼Œé‚£ä¹ˆå­ç±»åªä¼šä»å·¦åˆ°å³çš„é¡ºåºï¼Œè°ƒç”¨å…ˆç»§æ‰¿çš„çˆ¶ç±»(Horse)ä¸­çš„æ–¹æ³•ã€‚ åŒæ ·å¯ä»¥é€šè¿‡ç±»å±æ€§__mro__æ¥æŸ¥çœ‹ç»§æ‰¿ç»“æ„ï¼Œæ˜¾ç¤ºç»“æœä¹Ÿæ˜¯ä»å·¦åˆ°å³çš„é¡ºåºï¼Œä»å­ç±»å¼€å§‹ä¸€å±‚å±‚å¾€ä¸Šåˆ°çˆ¶ç±»ï¼Œè¿™å°±æ˜¯ç»§æ‰¿çš„é¡ºåºã€‚ ä¸€èˆ¬æƒ…å†µä¸‹ä¸å»ºè®®ç”¨å¤šç»§æ‰¿ï¼ˆä¸€ä¸ªäººä¸å¯èƒ½æœ‰ä¸¤ä¸ªçˆ¹ï¼‰ï¼Œä»£ç å¯è¯»æ€§ä¼šå˜å·®ã€‚ 2.3 é‡å†™çˆ¶ç±»æ–¹æ³•é‡å†™çš„æ„æ€æ˜¯ï¼Œå½“å­ç±»ä¸­æœ‰ä¸€ä¸ªå’Œçˆ¶ç±»ç›¸åŒçš„åå­—çš„æ–¹æ³•ï¼Œå­ç±»ä¸­çš„æ–¹æ³•ä¼šé‡æ–°å®šä¹‰è¦†ç›–æ‰çˆ¶ç±»ä¸­çš„æ–¹æ³•ã€‚ 123456789101112131415class Animal: def eat(self): print(&#x27;æ˜¯ä¸ªåŠ¨ç‰©éƒ½ä¼šè¿›é£Ÿ&#x27;)class Pig(Animal): def eat(self): print(&#x27;åªæœ‰çŒªæ‰ä¼šåƒäº†ç¡ç¡äº†åƒ&#x27;)Peggy = Pig()Peggy.eat() # è°ƒç”¨çˆ¶ç±»åŒåæ–¹æ³•ï¼Œå­ç±»çš„æ–¹æ³•ä¼šè¦†ç›–&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šåªæœ‰çŒªæ‰ä¼šåƒäº†ç¡ç¡äº†åƒ&#x27;&#x27;&#x27; å¦‚æœæƒ³è¦åœ¨å­ç±»æ–¹æ³•ä¸­è°ƒç”¨çˆ¶ç±»çš„åŒåæ–¹æ³•ï¼Œæœ€ç®€å•çš„å®ç°æ–¹å¼æ˜¯åœ¨å­ç±»æ–¹æ³•ä¸­è¿›è¡Œç±»è°ƒç”¨ï¼Œä½†æ˜¯çˆ¶ç±»åå¦‚æœä¿®æ”¹è¿‡ï¼Œåœ¨å¤šç»§æ‰¿æ—¶å­ç±»çš„æ–¹æ³•ä¹Ÿè¦é‡å¤æ”¹å¾ˆå¤šæ¬¡ï¼Œpythonä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜å¼•å…¥äº†super()å‡½æ•°ï¼Œéœ€è¦æ³¨æ„super()ä»£è¡¨çˆ¶ç±»çš„å®šä¹‰ï¼Œè€Œä¸æ˜¯çˆ¶ç±»å¯¹è±¡ã€‚ 123456789101112131415class Animal: def eat(self): print(&#x27;æ˜¯ä¸ªåŠ¨ç‰©éƒ½ä¼šè¿›é£Ÿ&#x27;)class Pig(Animal): def eat(self): super().eat() # super()ä»£è¡¨çˆ¶ç±»åï¼Œå³ä½¿çˆ¶ç±»åæ”¹å˜è¿™é‡Œä¹Ÿä¸éœ€è¦æ”¹Peggy = Pig()Peggy.eat()&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šæ˜¯ä¸ªåŠ¨ç‰©éƒ½ä¼šè¿›é£Ÿ&#x27;&#x27;&#x27; ä¸€èˆ¬è€Œè¨€ï¼Œsuperåœ¨ç»§æ‰¿ä¸­ç»å¸¸ç”¨æ¥ç»§æ‰¿çˆ¶ç±»çš„åˆå§‹åŒ–æ–¹æ³•ï¼Œä¾‹å¦‚ super().__init__() 3 å¤šæ€3.1 å¤šæ€æ¦‚å¿µå¤šæ€æŒ‡ä¸åŒå¯¹è±¡å¯¹åŒä¸€ä¸ªæ–¹æ³•è°ƒç”¨ï¼Œå¯èƒ½ä¼šäº§ç”Ÿä¸åŒçš„è¡Œä¸ºã€‚ä¸¾ä¸ªæ —å­ï¼Œå¯¹äºåŒæ ·ä¸€ä¸ªåƒé¥­çš„æ–¹æ³•ï¼Œä¸åŒå¯¹è±¡æ¯”å¦‚ä¸­å›½äººç”¨ç­·å­åƒé¥­ï¼Œå°åº¦ä¸‰å“¥ç”¨æ‰‹æŠ“é¥­ï¼Œæ¬§ç¾äººç”¨åˆ€å‰åƒé¥­ã€‚ éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š å¤šæ€æ˜¯æ–¹æ³•çš„å¤šæ€ï¼Œå±æ€§æ²¡æœ‰å¤šæ€ å¤šæ€å­˜åœ¨çš„å¿…è¦æ¡ä»¶ï¼šç»§æ‰¿å’Œæ–¹æ³•é‡å†™ 3.2 ä»£ç æ¼”ç¤ºå¤šæ€å’Œâ€œé¸­å­ç±»å‹â€12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152class People: passclass Chinese(People): def eat(self): print(&#x27;ä¸­å›½äººç”¨ç­·å­åƒé¥­&#x27;)class Indian(People): def eat(self): print(&#x27;å°åº¦äººç”¨æ‰‹æŠ“é¥­&#x27;)class American(People): def eat(self): print(&#x27;æ¬§ç¾äººç”¨åˆ€å‰åƒé¥­&#x27;)# åˆ†åˆ«å®ä¾‹åŒ–ï¼Œå¹¶å®šä¹‰ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£æ¥ä½¿ç”¨XiaoMing = Chinese()ASan = Indian()George = American()def Eatting(self): self.eat()Eatting(XiaoMing) # ç›¸å½“äºè°ƒç”¨äº†XiaoMing.eatï¼Œä»¥ä¸‹åŒç†Eatting(ASan)Eatting(George)print(&#x27;*******************************************&#x27;)# â€œé¸­å­ç±»å‹â€# å®šä¹‰ä¸‰ä¸ªä¸åŒçš„ç±»ï¼ˆå®é™…ä¸Šä¹Ÿéƒ½ç»§æ‰¿è‡ªæ ¹ç±»objectï¼‰class Chinese: def eat(self): print(&#x27;ä¸­å›½äººç”¨ç­·å­åƒé¥­&#x27;)class Indian: def eat(self): print(&#x27;å°åº¦äººç”¨æ‰‹æŠ“é¥­&#x27;)class American: def eat(self): print(&#x27;æ¬§ç¾äººç”¨åˆ€å‰åƒé¥­&#x27;) People_list = [Chinese, Indian, American] # å°è£…å¥½çš„ç±»ä½œä¸ºPeople_listçš„å…ƒç´ for person in People_list: person().eat() # person()æ˜¯å®ä¾‹åŒ–å¯¹è±¡çš„è¿‡ç¨‹ï¼Œåˆ†åˆ«è°ƒç”¨ä¸åŒç±»çš„åŒåæ–¹æ³• &#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šä¸­å›½äººç”¨ç­·å­åƒé¥­å°åº¦äººç”¨æ‰‹æŠ“é¥­æ¬§ç¾äººç”¨åˆ€å‰åƒé¥­*******************************************ä¸­å›½äººç”¨ç­·å­åƒé¥­å°åº¦äººç”¨æ‰‹æŠ“é¥­æ¬§ç¾äººç”¨åˆ€å‰åƒé¥­&#x27;&#x27;&#x27; ä¸åŒå¯¹è±¡è°ƒç”¨åŒåæ–¹æ³•ï¼Œäº§ç”Ÿä¸åŒç»“æœï¼Œè¿™å°±ä½“ç°äº†å¤šæ€æ€§ï¼Œå¥½å¤„åœ¨äºå¢å¼ºäº†ç¨‹åºçš„çµæ´»æ€§å’Œå¯æ‰©å±•æ€§ã€‚ Pythonå´‡å°šçš„â€œé¸­å­ç±»å‹â€å°±æ˜¯åŠ¨æ€ç±»å‹çš„é£æ ¼ï¼šâ€œå½“çœ‹åˆ°ä¸€ç›´é¸Ÿèµ°èµ·æ¥åƒé¸­å­ã€æ¸¸æ³³èµ·æ¥åƒé¸­å­ã€å«èµ·æ¥ä¹Ÿåƒé¸­å­ï¼Œé‚£ä¹ˆè¿™åªé¸Ÿå°±å¯ä»¥ç§°ä¸ºé¸­å­ã€‚â€è¿™ç§åŠ¨æ€é£æ ¼ä¸­ï¼Œä¸€ä¸ªå¯¹è±¡çš„æœ‰æ•ˆè¯­ä¹‰ï¼Œä¸æ˜¯ç”±ç»§æ‰¿è‡ªç‰¹å®šçš„ç±»æˆ–å®ç°ç‰¹å®šçš„æ¥å£ï¼Œè€Œæ˜¯ç”±å½“å‰æ–¹æ³•å’Œå±æ€§çš„é›†åˆå†³å®šï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¹¶ä¸å…³å¿ƒå¯¹è±¡æ˜¯ä»€ä¹ˆç±»å‹ï¼Œè€Œæ˜¯å…³å¿ƒå¯¹è±¡æ˜¯æ€ä¹ˆä½¿ç”¨çš„ã€‚ æ€»è€Œè¨€ä¹‹ï¼Œè¿™ç§åŠ¨æ€ç±»å‹ä½¿å¾—ç¼–ç¨‹éå¸¸çµæ´»ï¼Œå¯ä»¥é¿å…ä¸€äº›é‡å†™å’Œç»§æ‰¿ï¼Œçœå»å¤åˆ¶å¤§é‡é‡å¤ä»£ç çš„æ“ä½œã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ3ï¼‰â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸Šï¼‰","slug":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ3ï¼‰â€”â€”é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆä¸Šï¼‰","date":"2022-11-25T15:31:53.000Z","updated":"2022-12-03T15:55:58.000Z","comments":true,"path":"2022/11/25/a.html","link":"","permalink":"http://www.shelven.com/2022/11/25/a.html","excerpt":"é¢å‘å¯¹è±¡æ˜¯Pythonçš„æ ¸å¿ƒæ¦‚å¿µï¼Œä¸€å¼€å§‹åœ¨è¿™äº›æ¦‚å¿µé—®é¢˜ä¸Šä¸€ç›´ç»•ä¸æ¸…ï¼Œè¿™é‡Œåšä¸ªç®€å•è®°å½•ã€‚","text":"é¢å‘å¯¹è±¡æ˜¯Pythonçš„æ ¸å¿ƒæ¦‚å¿µï¼Œä¸€å¼€å§‹åœ¨è¿™äº›æ¦‚å¿µé—®é¢˜ä¸Šä¸€ç›´ç»•ä¸æ¸…ï¼Œè¿™é‡Œåšä¸ªç®€å•è®°å½•ã€‚ 1. é¢å‘å¯¹è±¡ç¼–ç¨‹ä½¿ç”¨è®¡ç®—æœºè¯­è¨€ç¼–å†™ä»£ç æ—¶ï¼Œæœ‰ä¸¤ç§æ€è·¯åˆ†åˆ«æ˜¯é¢å‘è¿‡ç¨‹ç¼–ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ é¢å‘è¿‡ç¨‹ï¼šæ ¹æ®ä¸šåŠ¡é€»è¾‘ä»ä¸Šåˆ°ä¸‹ï¼Œç›´æ¥åˆ†æè§£å†³é—®é¢˜çš„æ­¥éª¤ï¼Œè°ƒç”¨å‡½æ•°å®ç°ã€‚å¼ºè°ƒæ€ä¹ˆå»åš é¢å‘å¯¹è±¡ï¼šå°†é—®é¢˜åˆ†è§£æˆè‹¥å¹²â€œå¯¹è±¡â€ï¼Œå»ºç«‹å¯¹è±¡æ˜¯ä¸ºäº†æè¿°æŸä¸ªäº‹ç‰©åœ¨è§£å†³é—®é¢˜è¿‡ç¨‹ä¸­çš„è¡Œä¸ºã€‚å¼ºè°ƒè°å»åš é¢å‘è¿‡ç¨‹æ³¨é‡æ­¥éª¤å’Œè¿‡ç¨‹ï¼Œæ‰€æœ‰æ­¥éª¤ä»åˆ°åˆ°å°¾é€æ­¥å®ç°ï¼Œå°†åŠŸèƒ½ç‹¬ç«‹çš„ä»£ç å°è£…æˆå‡½æ•°ï¼Œæœ€åå®Œæˆä»£ç å°±æ˜¯æŒ‰ç…§é¡ºåºåœ°è°ƒç”¨ä¸åŒå‡½æ•°ã€‚ é¢å‘å¯¹è±¡æ³¨é‡å¯¹è±¡å’ŒèŒè´£ï¼Œç¡®è®¤èŒè´£ï¼Œæ ¹æ®èŒè´£ç¡®å®šä¸åŒå¯¹è±¡ï¼Œå¯¹è±¡å†…éƒ¨å°è£…ä¸åŒçš„æ–¹æ³•ï¼Œæœ€åå®Œæˆä»£ç æ˜¯æŒ‰ç…§é¡ºåºè®©ä¸åŒå¯¹è±¡è°ƒç”¨ä¸åŒæ–¹æ³•ã€‚ pythonæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹æ€æƒ³çš„ä¸€é—¨è¯­è¨€ï¼ŒåŒ…æ‹¬åšæœºå™¨å­¦ä¹ æˆ–è€…æ·±åº¦å­¦ä¹ ç”¨çš„PyTorchã€TensorFlowéƒ½æ˜¯é¢å‘å¯¹è±¡çš„æ€æƒ³ï¼Œé‡Œé¢å°è£…äº†éå¸¸å¤šçš„æ–¹æ³•ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥ä¸çŸ¥é“æ–¹æ³•å…·ä½“å®ç°çš„è¿‡ç¨‹å’ŒåŸç†ï¼Œç›´æ¥è°ƒç”¨å‡½æ•°å°±å¯ä»¥ï¼ˆåˆå­¦çš„æˆ‘å°±æ˜¯ä¸€å¼€å§‹ä¾è‘«èŠ¦ç”»ç“¢ï¼Œç¨‹åºèƒ½è·‘é€šä½†æ˜¯ä¸èƒ½è§£é‡Šå®ç°çš„åŸç†ï¼‰ï¼Œå¯¹äºå°ç™½çš„å…¥é—¨å­¦ä¹ ç¡®å®æä¾›äº†æå¤§ä¾¿åˆ©ï¼ˆç„¶åä¸€å‡ºé—®é¢˜å°±å¼€å§‹æ¶è¡¥åŸºç¡€äº†ï¼‰ã€‚ 2. æ¦‚å¿µæ€§åè¯å…ˆè¦äº†è§£æ¦‚å¿µæ€§çš„ä¸“ä¸šåè¯ï¼Œå†é€šè¿‡ä»£ç çš„æ–¹å¼åŠ æ·±è‡ªå·±çš„ç†è§£ã€‚ é¢å‘å¯¹è±¡æœ‰ä¸‰ä¸ªç‰¹æ€§ï¼Œå°è£…æ€§ã€ç»§æ‰¿æ€§å’Œå¤šæ€æ€§ï¼ˆä¸‹ä¸€ç¯‡åšå®¢å†ç»†è¯´ï¼‰ã€‚ å°è£…æ€§ï¼šæŠŠå±æ€§å’Œæ–¹æ³•æ”¾åœ¨ä¸€ä¸ªç±»é‡Œé¢ï¼Œå¯ä»¥é€šè¿‡è®¿é—®ç±»çš„æƒé™å±æ€§åŒºåˆ†å¼€ï¼Œä¸æƒ³é‡Šæ”¾çš„åŠŸèƒ½ææˆç§æœ‰æœºåˆ¶ ç»§æ‰¿æ€§ï¼šæŠŠå®ç°å¥½çš„ä»£ç å’Œæ–¹æ³•é€šè¿‡ç»§æ‰¿çš„æ–¹æ³•æ‹¿è¿‡æ¥ç”¨ï¼ŒèŠ‚çœä»£ç é‡ å¤šæ€æ€§ï¼šåŒä¸€ä¸ªæ–¹æ³•ç”¨ä¸åŒçš„æ–¹å¼å»å®ç°ï¼Œä½“ç°çš„å¤šæ€æ€§ å…ˆè§£é‡Šä¸€ä¸‹ä¸Šé¢æåˆ°çš„å‡ ä¸ªä¸“æœ‰åè¯ï¼š å¯¹è±¡(object)ï¼špythonä¸­ä¸€åˆ‡çš†å¯¹è±¡ï¼Œå¯¹åº”ç°å®ç”Ÿæ´»ä¸­ï¼Œä»»ä½•äº‹ç‰©éƒ½å¯ä»¥ç§°ä¸ºå¯¹è±¡ï¼Œæœ‰è‡ªå·±ç‹¬ç‰¹çš„ç‰¹å¾ã€‚å¯¹è±¡æ˜¯é€šè¿‡ç±»åˆ›å»ºå‡ºçš„çœŸå®çš„ä¸ªä½“ï¼ˆå¯¹è±¡æ˜¯ç±»çš„å®ä¾‹åŒ–ï¼‰ï¼Œå¯¹è±¡ç”±å±æ€§å’Œæ–¹æ³•ç»„æˆã€‚ ç±»(class)ï¼šå…·æœ‰åŒç§å±æ€§çš„å¯¹è±¡ï¼Œç°å®ä¸–ç•Œä¸­å…·æœ‰å…±åŒç‰¹å¾çš„äº‹ç‰©ä¸ºä¸€ç±»ï¼Œæ¯”å¦‚äººç±»ï¼Œæ¤ç‰©ç±»ç­‰ï¼Œæè¿°çš„æ˜¯æ‰€æœ‰å¯¹è±¡çš„å…±æœ‰ç‰¹å¾ã€‚æ‹¥æœ‰ç›¸ä¼¼å±æ€§å’Œè¡Œä¸ºçš„å¯¹è±¡éƒ½å¯ä»¥æŠ½è±¡å‡ºä¸€ä¸ªç±»ã€‚ å±æ€§(attribute)ï¼šå±äºå¯¹è±¡é™æ€çš„ä¸€é¢ï¼Œæè¿°å¯¹è±¡çš„ä¸€äº›é™æ€ç‰¹å¾ï¼Œæ¯”å¦‚å°æ˜çš„èº«é«˜ã€ä½“é‡ã€å¹´é¾„ç­‰ã€‚ æ–¹æ³•(method)ï¼šå±äºå¯¹è±¡åŠ¨æ€çš„ä¸€é¢ï¼Œæè¿°å¯¹è±¡çš„åŠ¨æ€ç‰¹å¾ï¼Œæ¯”å¦‚å°æ˜ä¼šè¯´è¯ï¼Œä¼šç ä»£ç ç­‰ã€‚ å®ä¾‹åŒ–ï¼šå¯¹è±¡ç”±ä¸€ä¸ªåˆ«åå«â€œå®ä¾‹â€ï¼Œé€šè¿‡ç±»åˆ›å»ºå¯¹è±¡çš„è¿‡ç¨‹ä¸ºâ€œå®ä¾‹åŒ–â€ã€‚ æŠ½è±¡ï¼šç”±ç›¸åŒç‰¹å¾çš„å¯¹è±¡æŠ½å–å…±åŒç‰¹å¾çš„è¿‡ç¨‹ä¸ºâ€œæŠ½è±¡â€ã€‚ 3. ä»£ç æ–¹å¼ç†è§£ç±»å’Œå¯¹è±¡å¼€å¤´çš„classæ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼Œclassä¹‹åä¸ºç±»çš„åç§°ï¼ˆé€šå¸¸é¦–å­—æ¯å¤§å†™ï¼‰å¹¶ä»¥å†’å·ç»“å°¾ã€‚ 12345678910111213141516171819# å®šä¹‰ç±»class People: # å®šä¹‰æ–¹æ³• def getPeopleInfo(self): print(&#x27;åå­—:%s, å¹´é¾„:%d&#x27; %(self.name, self.age))# å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡ Phantom = People()Phantom.name = &#x27;Phantom&#x27; # ä½¿ç”¨ . çš„æ–¹æ³•æ·»åŠ ç±»å±æ€§Phantom.age = 26Phantom.getPeopleInfo() # ä½¿ç”¨ .å‡½æ•°å() çš„æ–¹æ³•è°ƒç”¨ç±»ä¸­åˆ›å»ºçš„å‡½æ•°print(Phantom.age) # æ‰“å°å®ä¾‹Phantomçš„å¹´é¾„å±æ€§&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šåå­—:Phantom, å¹´é¾„:2626&#x27;&#x27;&#x27; åœ¨åˆ›å»ºçš„ç±»ä¸­å®šä¹‰æ–¹æ³•ï¼Œè€Œç±»ä¸­çš„æ–¹æ³•å’Œæ™®é€šçš„å‡½æ•°æœ‰ä¸€ä¸ªåŒºåˆ«â€”â€”å¿…é¡»æœ‰ä¸€ä¸ªé¢å¤–çš„ç¬¬ä¸€ä¸ªå‚æ•°åç§°, æŒ‰ç…§æƒ¯ä¾‹æ˜¯ selfã€‚selfæŒ‡çš„æ˜¯å®ä¾‹çš„æœ¬èº«ï¼ŒæŒ‡å‘å½“å‰åˆ›å»ºå¯¹è±¡çš„å†…å­˜åœ°å€ã€‚æŸä¸ªå¯¹è±¡è°ƒç”¨å…¶æ–¹æ³•æ—¶ï¼Œpythonè§£é‡Šå™¨ä¼šæŠŠè¿™ä¸ªå¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ä¼ é€’ç»™selfï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦ä¼ é€’åé¢çš„å‚æ•°ã€‚ pythonæ˜¯æ²¡æœ‰æ–¹æ³•çš„é‡è½½çš„ï¼Œå¦‚æœå®šä¹‰äº†å¤šä¸ªé‡åçš„æ–¹æ³•ï¼Œåªä¼šç”Ÿæ•ˆæœ€åä¸€ä¸ªï¼ åœ¨ä¸Šé¢çš„ä¾‹å­é‡Œæˆ‘ç»™Phantomæ·»åŠ äº†ä¸¤ä¸ªå¯¹è±¡å±æ€§ï¼šnameå’Œageï¼Œä½†æ˜¯å¦‚æœå†å®ä¾‹åŒ–ä¸€ä¸ªå…¶ä»–å¯¹è±¡ï¼Œèƒ½å¦åœ¨åˆ›å»ºæ—¶å°±ç»™äºˆå±æ€§è€Œä¸ç”¨é‡æ–°æ·»åŠ å‘¢ï¼Ÿç­”æ¡ˆæ˜¯è‚¯å®šçš„ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ç”¨__init__()å‡½æ•°æ¥å®šä¹‰å±æ€§çš„é»˜è®¤å€¼ã€‚ 1234567891011121314151617181920212223242526class People: # åˆå§‹åŒ–å‡½æ•°ï¼Œä½¿å¯¹è±¡çš„å±æ€§å…·æœ‰é»˜è®¤å€¼ def __init__(self, sex = &#x27;male&#x27;, age = 26): self.sex = sex self.age = age # å®šä¹‰ç±»æ–¹æ³• def getPeopleInfo(self): print(&#x27;æ€§åˆ«:%s, å¹´é¾„:%d&#x27; %(self.sex, self.age)) # åˆ›å»ºå¯¹è±¡Phantomï¼Œä¸ä¼ å‚ï¼Œå±æ€§ä½¿ç”¨é»˜è®¤å€¼Phantom = People()print(Phantom.sex, Phantom.age)Phantom.getPeopleInfo()# åˆ›å»ºç¬¬äºŒä¸ªå¯¹è±¡Ariaï¼Œä¼ å‚ï¼Œæ–°çš„å‚æ•°ä»£æ›¿é»˜è®¤å€¼Aria = People(&#x27;Female&#x27;, 24)print(Aria.sex, Aria.age)Aria.getPeopleInfo()&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šmale 26æ€§åˆ«:male, å¹´é¾„:26Female 24æ€§åˆ«:Female, å¹´é¾„:24&#x27;&#x27;&#x27; å¯ä»¥çœ‹åˆ°ä¸Šé¢åˆ›å»ºå¯¹è±¡Phantomåï¼Œæˆ‘æ²¡æœ‰ä¼ å…¥å‚æ•°ï¼Œpythonè§£é‡Šå™¨ç«‹åˆ»è°ƒç”¨äº†__init__()å‡½æ•°ç»™ä¸äº†ä¸¤ä¸ªå±æ€§sexå’Œageï¼Œè¿™ä¸ªæ—¶å€™å†è°ƒç”¨ç±»å†…çš„æ–¹æ³•getPeopleInfo()ï¼Œå°±ä¼šå°†å±æ€§çš„é»˜è®¤å€¼ä½œä¸ºå®å‚ä¼ å…¥ã€‚ __init__(self)ä¸­åªæœ‰ä¸€ä¸ªé»˜è®¤å‚æ•°selfï¼Œå¦‚æœåˆ›å»ºå¯¹è±¡ä¼ å…¥äº†ä¸¤ä¸ªå®å‚ï¼Œé‚£ä¹ˆé™¤äº†selfä»¥å¤–è¿˜éœ€è¦ä¸¤ä¸ªå½¢å‚ï¼Œæ¯”å¦‚__init__(self, sex, age)è¿™ä¸ªå’Œè‡ªå®šä¹‰åˆ›å»ºçš„ç±»æ–¹æ³•ä¸ä¸€æ ·ï¼Œä¸€å®šè¦åšåŒºåˆ†ï¼Œåé¢ä¼šè¯´åˆ°ã€‚è¿™é‡Œçš„selfæ˜¯ä¸éœ€è¦æˆ‘ä»¬ä¼ é€’çš„ï¼Œpythonè§£é‡Šå™¨ä¼šè‡ªåŠ¨æŠŠå½“å‰å¯¹è±¡çš„å¼•ç”¨ä¼ é€’è¿›å»ã€‚ 4. ä»£ç æ–¹å¼ç†è§£å±æ€§å’Œæ–¹æ³•4.1 ç±»å±æ€§ç±»æ‹¥æœ‰çš„å±æ€§åˆ†ä¸ºå…¬æœ‰å±æ€§ï¼ˆpublicï¼‰å’Œç§æœ‰å±æ€§ï¼ˆprivateï¼‰ï¼Œpythonå¯¹äºç±»çš„å±æ€§æ²¡æœ‰ä¸¥æ ¼çš„è®¿é—®æ§åˆ¶é™åˆ¶ï¼Œè¿™ä¸å…¶ä»–é¢å‘å¯¹è±¡è¯­è¨€æœ‰æ‰€åŒºåˆ«ã€‚ _xxx ä¿æŠ¤å±æ€§ï¼Œpythonç¼–è¾‘å™¨ä¸ä¼šåšä»»ä½•å¤„ç†ï¼Œæ˜¯ç»™ç¨‹åºå‘˜çœ‹çš„ï¼Œä¸å¸Œæœ›è¢«å¤–éƒ¨è®¿é—® xxx è‡ªå·±å®šä¹‰çš„å…¬æœ‰å±æ€§ __xxx ç±»ä¸­çš„ç§æœ‰å±æ€§ï¼Œä¸èƒ½ä»å¤–éƒ¨ç›´æ¥è®¿é—®ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡ å®ä¾‹._ç±»å__ç§æœ‰å±æ€§ çš„æ–¹å¼è®¿é—® å†æ¬¡å¼ºè°ƒï¼Œpythonä¸å­˜åœ¨ä¸¥æ ¼æ„ä¹‰ä¸Šçš„ç§æœ‰å±æ€§ã€‚ 12345678910111213141516171819# åˆ›å»ºç±»ï¼Œobjectæ˜¯å¯¹è±¡ï¼Œå¯ä»¥çœç•¥class People(object): name = &#x27;Phantom&#x27; # å…¬æœ‰çš„ç±»å±æ€§ __age = 26 # ç§æœ‰çš„ç±»å±æ€§ _sex = &#x27;male&#x27; # ä¿æŠ¤çš„ç±»å±æ€§ def __init__(self): pass # ç©ºè¯­å¥ï¼Œå ä½ç”¨ï¼Œä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œp = People()print(p.name) # é€šè¿‡å®ä¾‹å¯¹è±¡è®¿é—®å…¬æœ‰ç±»å±æ€§print(p._People__age) # é€šè¿‡å®ä¾‹è®¿é—®ç§æœ‰ç±»å±æ€§print(p._sex) # è®¿é—®ä¿æŠ¤çš„ç±»å±æ€§ï¼ˆå¯ä»¥è®¿é—®ä½†æ˜¯ä¸æ¨èï¼‰&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šPhantom26male&#x27;&#x27;&#x27; 4.2 å®ä¾‹å±æ€§å®ä¾‹å±æ€§æ˜¯ä»å±äºå®ä¾‹å¯¹è±¡çš„å±æ€§ã€‚ å®ä¾‹å±æ€§å¯ä»¥åœ¨__init__()æ–¹æ³•ä¸­é€šè¿‡ self.å®ä¾‹å±æ€§å &#x3D; åˆå§‹å€¼ çš„æ–¹å¼è¿›è¡Œå®šä¹‰ å®ä¾‹å±æ€§å¯ä»¥ä¿®æ”¹ã€æ–°å¢å’Œåˆ é™¤ï¼Œä¸ä¼šå½±å“åˆ°ç±»å±æ€§ 123456789101112131415class People(object): name = &#x27;Phantom&#x27;p = People()print(p.name, People.name) # é€šè¿‡å®ä¾‹æŸ¥çœ‹å®ä¾‹å±æ€§ï¼Œé€šè¿‡ç±»å¯¹è±¡æŸ¥çœ‹ç±»å±æ€§p.name = &#x27;Aria&#x27; # ä¿®æ”¹å®ä¾‹å±æ€§print(p.name, People.name)People.name = &#x27;Aria&#x27; # ä¿®æ”¹ç±»å±æ€§print(p.name, People.name)&#x27;&#x27;&#x27;Phantom PhantomAria PhantomAria Aria&#x27;&#x27;&#x27; å¯ä»¥çœ‹åˆ°é€šè¿‡ä¸€ä¸ªå®ä¾‹å¯¹è±¡å»å¼•ç”¨ä¿®æ”¹ï¼Œåªæ˜¯ä¿®æ”¹äº†å®ä¾‹å±æ€§è€Œä¸ä¼šå½±å“åˆ°ç±»å±æ€§ã€‚ 4.3 ç‰¹æ®Šå±æ€§Python å¯¹è±¡ä¸­åŒ…å«äº†å¾ˆå¤šåŒä¸‹åˆ’çº¿å¼€å§‹å’Œç»“æŸçš„å±æ€§ï¼Œè¿™äº›æ˜¯ç‰¹æ®Šå±æ€§ï¼Œæœ‰ç‰¹æ®Šçš„ç”¨æ³•ã€‚ ç‰¹æ®Šæ–¹æ³• å«ä¹‰ obj.__dict__ å¯¹è±¡çš„å±æ€§å­—å…¸ obj.__class__ å¯¹è±¡æ‰€å±çš„ç±» class.__bases__ ç±»çš„åŸºç±»å…ƒç»„(å¤šç»§æ‰¿) class.__base__ ç±»çš„åŸºç±» class.__mro__ ç±»å±‚æ¬¡ç»“æ„ class.__subclasses__ å­ç±»åˆ—è¡¨ å®é™…æ“ä½œè¿è¡Œå‡ ä¸ªç®€å•çš„ä¾‹å­ï¼š 12345678910111213141516171819202122class People: name = &#x27;Phantom&#x27; # ç±»å±æ€§ def __init__(self, sex, age): # å®ä¾‹å±æ€§ self.sex = sex self.age = agep = People(&#x27;male&#x27;, 26)# dict ç”Ÿæˆç±»å±æ€§ä¿¡æ¯çš„å­—å…¸å’Œå®ä¾‹å¯¹è±¡å±æ€§ä¿¡æ¯çš„å­—å…¸print(&#x27;Peopleç±»å±æ€§ä¸ºï¼š&#x27; + str(People.__dict__))print(&#x27;å®ä¾‹å¯¹è±¡på±æ€§ä¸ºï¼š&#x27; + str(p.__dict__))# class å¯¹å®ä¾‹å¯¹è±¡æŸ¥è¯¢æ‰€å±ç±»ä¿¡æ¯print(&#x27;å®ä¾‹å¯¹è±¡pæ‰€å±ç±»ä¿¡æ¯ï¼š&#x27; + str(p.__class__))&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šPeopleç±»å±æ€§ä¸ºï¼š&#123;&#x27;__module__&#x27;: &#x27;__main__&#x27;, &#x27;name&#x27;: &#x27;Phantom&#x27;, &#x27;__init__&#x27;: &lt;function People.__init__ at 0x000001A7D212AB00&gt;, &#x27;__dict__&#x27;: &lt;attribute &#x27;__dict__&#x27; of &#x27;People&#x27; objects&gt;, &#x27;__weakref__&#x27;: &lt;attribute &#x27;__weakref__&#x27; of &#x27;People&#x27; objects&gt;, &#x27;__doc__&#x27;: None&#125;å®ä¾‹å¯¹è±¡på±æ€§ä¸ºï¼š&#123;&#x27;sex&#x27;: &#x27;male&#x27;, &#x27;age&#x27;: 26&#125;å®ä¾‹å¯¹è±¡pæ‰€å±ç±»ä¿¡æ¯ï¼š&lt;class &#x27;__main__.People&#x27;&gt;&#x27;&#x27;&#x27; 4.4 å®ä¾‹æ–¹æ³•å’Œç±»æ–¹æ³•åœ¨ç±»ä¸­ä»¥defå¼€å¤´å®šä¹‰çš„æ–¹æ³•éƒ½æ˜¯å®ä¾‹æ–¹æ³•ï¼Œå®ä¾‹æ–¹æ³•çš„ç‰¹ç‚¹æ˜¯å¿…é¡»æœ‰ä¸€ä¸ªä»¥ä¸Šçš„å‚æ•°ï¼ˆselfï¼‰ï¼Œç”¨äºæŒ‡å®šè¿™ä¸ªæ–¹æ³•çš„å®ä¾‹å¯¹è±¡ã€‚ ç±»æ–¹æ³•ä¹Ÿæ˜¯æœ€å°‘éœ€è¦ä¸€ä¸ªå‚æ•°ï¼ˆclsï¼‰ï¼Œæ˜¯ç±»å¯¹è±¡æœ‰çš„æ–¹æ³•ï¼Œéœ€è¦ä½¿ç”¨è£…é¥°å™¨@classmethodæ¥æ ‡è¯†å…¶ä¸ºç±»æ–¹æ³•ï¼Œå…³äºè£…é¥°å™¨çš„æ¦‚å¿µæˆ‘åé¢å†å†™ä¸€ç¯‡åšå®¢ï¼Œè¿™é‡Œç®€å•æŒ‰ç…§å­—é¢æ„æ€ç†è§£ä¸€ä¸‹ã€‚ç±»æ–¹æ³•å¯ä»¥é€šè¿‡å®ä¾‹å¯¹è±¡æˆ–è€…ç±»å¯¹è±¡å»è®¿é—®ï¼Œæœ‰ä¸€ä¸ªç”¨é€”å°±æ˜¯é€šè¿‡å®ä¾‹è°ƒç”¨ç±»æ–¹æ³•å®ç°å¯¹ç±»å±æ€§çš„ä¿®æ”¹ã€‚ 1234567891011121314151617181920class People(): name = &#x27;Phantm&#x27; @classmethod def getName(cls): return cls.name @classmethod def setName(cls, name): cls.name = namep = People()print(p.getName(), People.getName()) # é€šè¿‡å®ä¾‹å’Œç±»å¯¹è±¡è°ƒç”¨ç±»æ–¹æ³•ï¼Œå…ˆæŸ¥çœ‹ä¸€ä¸‹ç±»å±æ€§p.setName(&#x27;Aria&#x27;) # é€šè¿‡å®ä¾‹è°ƒç”¨ç±»æ–¹æ³•æ”¹å˜ç±»å±æ€§print(p.getName(), People.getName())&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šPhantm PhantmAria Aria&#x27;&#x27;&#x27; 4.5 é™æ€æ–¹æ³•pythonæ˜¯åŠ¨æ€çš„è¯­è¨€ï¼Œæˆ‘ä»¬å¯ä»¥åŠ¨æ€åœ°ä¸ºç±»æ·»åŠ æ–°çš„æ–¹æ³•ï¼Œæˆ–è€…åŠ¨æ€åœ°ä¿®æ”¹å·²æœ‰çš„æ–¹æ³•ã€‚é™æ€æ–¹æ³•å¯ä»¥ç†è§£ä¸ºä¸å˜çš„æ–¹æ³•ï¼Œä¸ä¾èµ–äºå®ä¾‹å¯¹è±¡ä¹Ÿä¸ä¾èµ–äºç±»å¯¹è±¡ï¼Œå› æ­¤æ— è®ºæ˜¯å®ä¾‹å¯¹è±¡è¿˜æ˜¯ç±»å¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨ã€‚å¦‚æœæœ‰ä¸€ä¸ªåŠŸèƒ½å®ç°çš„æ–¹æ³•æ¯”è¾ƒç‹¬ç«‹ï¼Œå¯ä»¥è€ƒè™‘ç”¨é™æ€æ–¹æ³•æ¥å®ç°ï¼Œé™æ€æ–¹æ³•éœ€è¦ä½¿ç”¨è£…é¥°å™¨@staticmethodæ¥æ ‡è¯†ã€‚ éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé™æ€æ–¹æ³•æ— æ³•ä½¿ç”¨å®ä¾‹çš„å±æ€§å’Œæ–¹æ³•ã€‚ 1234567891011121314151617class People(): name = &#x27;Phantom&#x27; def __init__(self, name = &#x27;Aria&#x27;): self.name = name @staticmethod def getName(): print(&#x27;é™æ€æ–¹æ³•è°ƒç”¨ç±»å±æ€§&#x27;, People.name) #print(self.name) #ä¸èƒ½è°ƒç”¨å®ä¾‹çš„å±æ€§ï¼Œä¼šæŠ¥é”™p = People()p.getName()&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼šé™æ€æ–¹æ³•è°ƒç”¨ç±»å±æ€§ Phantom&#x27;&#x27;&#x27; 4.6 ç‰¹æ®Šæ–¹æ³•å‰é¢çš„æ™®é€šæ–¹æ³•éƒ½æ˜¯é€šè¿‡ å¯¹è±¡å.æ–¹æ³•å() çš„æ–¹å¼è°ƒç”¨ï¼Œå’Œå‰é¢æœ‰ç‰¹æ®Šå±æ€§ä¸€æ ·ï¼Œpythonä¹Ÿæœ‰ä¸€äº›ç‰¹æ®Šæ–¹æ³•ï¼ˆæˆ–è€…å«é­”æœ¯æ–¹æ³•ï¼‰ï¼Œè¿™äº›ç‰¹æ®Šæ–¹æ³•åœ¨ç¬¦åˆæ¡ä»¶çš„æ—¶å€™è‡ªåŠ¨è§¦å‘ï¼Œä¸éœ€è¦è°ƒç”¨ã€‚ å› ä¸ºç‰¹æ®Šæ–¹æ³•éå¸¸å¤šï¼Œè¿™é‡Œåªç®€å•è®°å½•ä¸€äº›å¸¸ç”¨çš„ã€‚ ç‰¹æ®Šæ–¹æ³• å«ä¹‰ æ„é€ ç±» __new__(cls, [â€¦]) å¯¹è±¡å®ä¾‹åŒ–æ—¶è°ƒç”¨çš„ç¬¬ä¸€ä¸ªæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ—¶ç±»ï¼Œå…¶ä»–å‚æ•°ä¼ é€’ç»™__init__()ï¼Œå†³å®šæ˜¯å¦ä½¿ç”¨ __init__(self, [â€¦]) æ„é€ å™¨ï¼Œå½“ä¸€ä¸ªå®ä¾‹è¢«åˆ›å»ºæ—¶è°ƒç”¨çš„åˆå§‹åŒ–æ–¹æ³• __del__(self) æ„é€ å™¨ï¼Œå½“å®ä¾‹å¯¹è±¡è¢«é”€æ¯æ—¶è°ƒç”¨çš„æ–¹æ³• è¡¨ç¤ºç±» __str__(self) æè¿°ç±»æˆ–å¯¹è±¡ä¿¡æ¯ï¼Œæ¯”å¦‚æ‰“å°å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¿”å›å®šä¹‰å†…å®¹ï¼ˆç»™äººçœ‹ï¼‰ __repr__(self) æè¿°ç±»æˆ–å¯¹è±¡ä¿¡æ¯ï¼Œæ¯”å¦‚æ‰“å°å®ä¾‹åŒ–å¯¹è±¡ï¼Œè¿”å›å®šä¹‰å†…å®¹ï¼ˆç»™è§£é‡Šå™¨çœ‹ï¼‰ è®¿é—®æ§åˆ¶ç±» __setattr__(self, key, value) å®šä¹‰å½“ä¸€ä¸ªå±æ€§è¢«è®¾ç½®æ—¶çš„è¡Œä¸º __getattr__(self, key) å®šä¹‰ç”¨æˆ·è¯•å›¾è·å–ä¸€ä¸ªä¸å­˜åœ¨çš„å±æ€§æ—¶çš„è¡Œä¸º __delattr__(self, key) å®šä¹‰å½“ä¸€ä¸ªå±æ€§è¢«åˆ é™¤æ—¶çš„è¡Œä¸º __getattribute__(self, key) å®šä¹‰å½“è¯¥ç±»å±æ€§è¢«è®¿é—®æ—¶çš„è¡Œä¸ºï¼ˆæ‰€æœ‰å±æ€§&#x2F;æ–¹æ³•è°ƒç”¨éƒ½è¦ç»è¿‡è¿™é‡Œï¼‰ __dir__(self) å®šä¹‰å½“dir()è¢«è°ƒç”¨æ—¶çš„è¡Œä¸º æ¯”è¾ƒæ“ä½œç±» __eq__(self, other) åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ __ne__(self,other) åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ä¸ç›¸ç­‰ __lt__(self, other) å®šä¹‰å°äºå·çš„è¡Œä¸ºï¼šx &lt; y è°ƒç”¨ x.__lt__(y) __gt__(self, other) å®šä¹‰å¤§äºå·çš„è¡Œä¸ºï¼šx &gt; y è°ƒç”¨ x.__gt__(y) å®¹å™¨ç±» __setitem__(self, key, value) å®šä¹‰è®¾ç½®å®¹å™¨ä¸­æŒ‡å®šå…ƒç´ çš„æ“ä½œï¼Œç›¸å½“äº self[key] &#x3D; value __getitem__(self, key) å®šä¹‰è·å–å®¹å™¨ä¸­æŒ‡å®šå…ƒç´ çš„æ“ä½œ ï¼Œç›¸å½“äº self[key] __delitem__(self, key) å®šä¹‰åˆ é™¤å®¹å™¨ä¸­æŒ‡å®šå…ƒç´ çš„æ“ä½œ ï¼Œç›¸å½“äº del self[key] __len__(self) å®šä¹‰å½“è¢« len() è°ƒç”¨æ—¶çš„æ“ä½œï¼Œå³è¿”å›å®¹å™¨ä¸­å…ƒç´ ä¸ªæ•° __iter__(self) å®šä¹‰è¿­ä»£å®¹å™¨ä¸­çš„å…ƒç´ çš„æ“ä½œ __contains__(self, item) å®šä¹‰å½“ä½¿ç”¨æˆå‘˜æµ‹è¯•è¿ç®—ç¬¦ï¼ˆin æˆ– not inï¼‰æ—¶çš„æ“ä½œ __reversed__(self) å®šä¹‰å½“è¢« reversed() è°ƒç”¨æ—¶çš„æ“ä½œ å¯è°ƒç”¨å¯¹è±¡ç±» __call__(self, [argsâ€¦]) ä½¿å®ä¾‹å¯¹è±¡ä»¥ å¯¹è±¡å() çš„å½¢å¼ä½¿ç”¨ è¿™äº›ç‰¹æ®Šæ–¹æ³•æ¯”è¾ƒå¸¸ç”¨ï¼Œçœ‹åˆ°çŸ¥é“æ˜¯æ€ä¹ˆä¸€å›äº‹å°±å¥½ã€‚å®¹å™¨ç±»çš„ç‰¹æ®Šæ–¹æ³•ç¨å¾®è§£é‡Šä¸€ä¸‹ï¼Œpythonä¸­å¸¸ç”¨å­—å…¸ã€å…ƒç»„ã€åˆ—è¡¨å’Œå­—ç¬¦ä¸²ä½œä¸ºå®¹å™¨ï¼Œå®ƒä»¬éƒ½å®ç°äº†å®¹å™¨åè®®ï¼Œå¯è¿­ä»£ã€‚æœ€åä¸€ä¸ªè°ƒç”¨å¯¹è±¡ç±»ç‰¹æ®Šæ–¹æ³•å†™ä¸ªä»£ç æè¿°ä¸€ä¸‹ 1234567891011121314151617181920class Calculate(): def __init__(self, x, y): self.x = x self.y = y def __call__(self, m, n): self.m = m self.n = n SUM = m + n return SUMa = Calculate(100, 200) print(a(111, 222)) # __call__() å°†å®ä¾‹åŒ–å¯¹è±¡aå½“ä½œä¸€ä¸ªæ–¹æ³•æ¥æ‰§è¡Œprint(a.x, a.y) # å®ä¾‹å±æ€§å¹¶æ²¡æœ‰æ”¹å˜&#x27;&#x27;&#x27;è¿è¡Œç»“æœï¼š333100 200&#x27;&#x27;&#x27; åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œé¦–å…ˆåˆå§‹åŒ–äº†ä¸€ä¸ªCalculateå®ä¾‹aï¼Œè°ƒç”¨ __init__() æ–¹æ³•ï¼Œç»™ä¸äº†å®ä¾‹å±æ€§xå’Œyä»¥åŠå¯¹åº”çš„å€¼ã€‚ä½†æ˜¯å¯¹äºå®ä¾‹å¯¹è±¡aåˆåšäº†è°ƒç”¨ a(111, 222) ï¼Œå®é™…ä¸Šè°ƒç”¨çš„æ˜¯ __call__() æ–¹æ³•ï¼Œä¼ å…¥è‡ªå®šä¹‰å‚æ•°å®ç°è‡ªå·±çš„é€»è¾‘ï¼Œè¿™åœ¨ç±»å®ç°ä¸€ä¸ªè£…é¥°å™¨çš„åœºæ™¯ä¸­æ¯”è¾ƒå¸¸è§ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ2ï¼‰â€”â€”è¿ç®—ç¬¦å’Œå‚æ•°ä¼ é€’","slug":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ2ï¼‰â€”â€”è¿ç®—ç¬¦å’Œå‚æ•°ä¼ é€’","date":"2022-11-24T09:05:33.000Z","updated":"2022-12-03T15:57:53.000Z","comments":true,"path":"2022/11/24/a.html","link":"","permalink":"http://www.shelven.com/2022/11/24/a.html","excerpt":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•pythonåŸºç¡€çš„è¿ç®—ç¬¦å’Œå‡½æ•°å‚æ•°ä¼ é€’ï¼Œä»¥åŠè‡ªå·±å­¦ä¹ è¿‡ç¨‹çš„ä¸€äº›æ€è€ƒã€‚","text":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•pythonåŸºç¡€çš„è¿ç®—ç¬¦å’Œå‡½æ•°å‚æ•°ä¼ é€’ï¼Œä»¥åŠè‡ªå·±å­¦ä¹ è¿‡ç¨‹çš„ä¸€äº›æ€è€ƒã€‚ 1. è¿ç®—ç¬¦1.1 æ¯”è¾ƒè¿ç®—ç¬¦pythonä¸­å¸¸è§çš„æ¯”è¾ƒè¿ç®—ç¬¦å¦‚ä¸‹ï¼š &#x3D;&#x3D; æ£€æŸ¥å·¦å³ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰åˆ™è¿”å›True !&#x3D; æ£€æŸ¥å·¦å³ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰åˆ™è¿”å›True &lt;&gt; å’Œ !&#x3D; ä¸€æ ·ï¼Œæ£€æŸ¥ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å›True &gt;&#x3D; å­—é¢æ„æ€ï¼Œå­—é¢æ„æ€çš„è¿˜æœ‰&lt;&#x3D;ã€ &lt; å’Œ &gt; 1.2 ç®—æ•°è¿ç®—ç¬¦pythonå¸¸è§çš„ç®—æ•°è¿ç®—ç¬¦ï¼š &#x2F; ä¸¤ä¸ªæ•°ç›¸é™¤ï¼Œç»“æœä¸ºæµ®ç‚¹å‹ &#x2F;&#x2F; ä¸¤ä¸ªæ•°ç›¸é™¤ï¼Œç»“æœä¸ºå‘ä¸‹å–æ•´çš„æ•´æ•° % å–æ¨¡ï¼Œä¹Ÿå°±æ˜¯ä¸¤ä¸ªæ•´æ•°ç›¸é™¤çš„ä½™æ•° ** å¹‚è¿ç®—ï¼Œè¿”å›ä¹˜æ–¹çš„ç»“æœ + ä¸¤ä¸ªæ•°ç›¸åŠ ï¼Œæˆ–è€…å­—ç¬¦ä¸²ç›¸è¿ * ä¸¤ä¸ªæ•°ç›¸ä¹˜ï¼Œæˆ–è€…è¿”å›é‡å¤è‹¥å¹²æ¬¡çš„å­—ç¬¦ä¸² - å­—é¢æ„æ€ï¼Œä¸¤ä¸ªæ•°ç›¸å‡ 1.3 èµ‹å€¼è¿ç®—ç¬¦é¡¾åæ€ä¹‰éƒ½æ˜¯åœ¨èµ‹å€¼çš„æ—¶å€™ç”¨åˆ°çš„è¿ç®—ç¬¦ &#x3D; å¸¸è§„èµ‹å€¼è¿ç®—ï¼Œè¿ç®—ç»“æœèµ‹å€¼ç»™å˜é‡ +&#x3D; åŠ æ³•èµ‹å€¼è¿ç®—ï¼Œa +&#x3D; bç­‰æ•ˆäºa &#x3D; a+b å…¶ä»–ç®—æ•°è¿ç®—ç¬¦éƒ½å¯ä»¥åé¢è·Ÿä¸Š&#x3D;ï¼Œè¿›è¡Œè¿ç®—åèµ‹å€¼ 1.4 ä½è¿ç®—ç¬¦æŒ‰ä½è¿ç®—å°±æ˜¯å°†æ•°å­—è½¬æ¢ä¸ºäºŒè¿›åˆ¶æ¥è¿ç®—çš„è¿ç®—å½¢å¼ï¼Œæ•°å€¼æ˜¯ç”¨è¡¥ç æ¥è¡¨ç¤ºå’Œå­˜å‚¨çš„ï¼Œè®¡ç®—æœºç”¨ä½è¿ç®—ç¬¦è¿›è¡Œå››åˆ™è¿ç®—é€Ÿåº¦å¿«ã€‚ä½†æ˜¯æˆ‘ä»¬å¹³å¸¸å¯èƒ½ç”¨ä¸åˆ°ï¼Œè¿™é‡Œç¨å¾®è®°å½•ä¸€ä¸‹ã€‚ &amp; æŒ‰ä½â€œä¸â€ï¼šä¸¤ä¸ªå€¼å¦‚æœç›¸åº”ä½éƒ½ä¸º1ï¼Œåˆ™ç»“æœä¸º1ï¼Œå¦åˆ™0 | æŒ‰ä½â€œæˆ–â€ï¼šä¸¤ä¸ªå€¼ç›¸åº”ä½æœ‰ä¸€ä¸ªä½1ï¼Œç»“æœå°±ä¸º1 ^ æŒ‰ä½â€œå¼‚æˆ–â€ï¼šä¸¤ä¸ªå€¼ç›¸åº”ä½ç›¸å¼‚ï¼Œç»“æœä¸º1 ~ æŒ‰ä½â€œå–åâ€ï¼šå¯¹æ•°æ®çš„æ¯ä¸ªäºŒè¿›åˆ¶ä½å–å &lt;&lt; å·¦ç§»è¿ç®—ç¬¦ï¼šè¿ç®—æ•°çš„äºŒè¿›åˆ¶å…¨éƒ¨åº§æ¤…è‹¥å¹²ä½ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥0ï¼›&gt;&gt;å³ç§»åŒç† 1.5 é€»è¾‘è¿ç®—ç¬¦ and é€»è¾‘â€œä¸â€ï¼Œä¸¤ä¸ªéƒ½ä¸ºTrueåˆ™è¿”å›Trueï¼Œå¦åˆ™False or é€»è¾‘â€œæˆ–â€ï¼Œä¸¤ä¸ªè‡³å°‘æœ‰ä¸€ä¸ªTrueåˆ™è¿”å›Trueï¼Œå¦åˆ™False not é€»è¾‘â€œéâ€ï¼Œå­—é¢æ„æ€ 1.6 æˆå‘˜å’Œèº«ä»½è¿ç®—ç¬¦pythonçš„æˆå‘˜è¿ç®—ç¬¦ç”¨æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ®æ˜¯å¦åœ¨æŒ‡å®šçš„åºåˆ—æˆ–è€…é›†åˆä¸­ï¼Œè€Œèº«ä»½è¿ç®—ç¬¦æ˜¯ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ˜¯å¦å¼•ç”¨è‡ªåŒä¸€ä¸ªå¯¹è±¡ã€‚ in æˆå‘˜è¿ç®—ç¬¦ï¼Œåœ¨æŒ‡å®šåºåˆ—ä¸­æ‰¾åˆ°å€¼åˆ™è¿”å›Trueï¼Œå¦åˆ™False not in æˆå‘˜è¿ç®—ç¬¦ï¼Œåœ¨æŒ‡å®šåºåˆ—ä¸­æ²¡æœ‰æ‰¾åˆ°å€¼åˆ™è¿”å›Trueï¼Œå¦åˆ™False is èº«ä»½è¿ç®—ç¬¦ï¼Œä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯å¦å¼•è‡ªåŒä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯åˆ™è¿”å›Trueï¼Œå¦åˆ™False is not èº«ä»½è¿ç®—ç¬¦ï¼Œä¸¤ä¸ªæ ‡è¯†ç¬¦æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¸æ˜¯åˆ™è¿”å›Trueï¼Œå¦åˆ™False æ˜¯å¦å¼•è‡ªåŒä¸€ä¸ªå¯¹è±¡ï¼Œç®€å•ç†è§£å°±æ˜¯çœ‹å­˜å‚¨çš„å†…å­˜ä½ç½®æ˜¯å¦ä¸€æ ·ï¼Œé€šè¿‡å‡½æ•°id()å¯ä»¥æŸ¥çœ‹å˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ä½ç½®ã€‚ 2. å‚æ•°ä¼ é€’è¦ç†è§£å‚æ•°ä¼ é€’çš„è¿‡ç¨‹ï¼Œé¦–å…ˆè¦æ˜ç™½å…³äºå‡½æ•°å‚æ•°çš„ä¸¤ä¸ªå…·ä½“æ¦‚å¿µï¼šå½¢å‚å’Œå®å‚ å®šä¹‰æ—¶å°æ‹¬å·ä¸­çš„å‚æ•°ï¼Œæ˜¯ç”¨æ¥æ¥æ”¶å‚æ•°çš„ï¼Œç§°ä¸ºâ€œå½¢å‚â€ï¼Œå¯ä»¥æ˜¯ç¼ºçœå‚æ•°ã€ä¸å®šé•¿å‚æ•° è°ƒç”¨æ—¶å°æ‹¬å·ä¸­çš„å‚æ•°ï¼Œæ˜¯ç”¨æ¥ä¼ é€’å‚æ•°ç»™å‡½æ•°çš„ï¼Œç§°ä¸ºâ€œå®å‚â€ å‘å‡½æ•°ä¼ é€’å®å‚çš„æ–¹å¼å¾ˆå¤šï¼Œç¡®å®šä¼ é€’å‚æ•°ä¸ªæ•°å¯ä»¥ä½¿ç”¨ä½ç½®å®å‚æˆ–è€…å…³é”®å­—å®å‚ï¼Œä¸ç¡®å®šä¼ é€’å‚æ•°ä¸ªæ•°å¯ä»¥ä½¿ç”¨åŒ…è£¹ï¼ˆpackingï¼‰ä¼ é€’çš„æ–¹å¼ï¼Œæ¥åŒ…è£¹ä½ç½®æˆ–è€…å…³é”®å­—å®å‚ï¼Œè¿›è¡Œå‚æ•°ä¼ é€’ã€‚ 2.1 ä½ç½®å®å‚å‡½æ•°è°ƒç”¨æ—¶æ¯ä¸ªå®å‚éƒ½è¦å…³è”åˆ°å‡½æ•°å®šä¹‰ä¸­çš„ä¸€ä¸ªå½¢å‚ï¼Œæœ€ç®€å•çš„æ˜¯æŒ‰ç…§å½¢å‚çš„ä½ç½®ä»å·¦åˆ°å³æŒ‰ç…§é¡ºåºä¼ é€’ï¼Œä½ç½®å‚æ•°å¿…é¡»ä¸€ä¸€å¯¹åº”ï¼Œç¼ºä¸€ä¸å¯ã€‚ æ¯”å¦‚ä¸Šé¢åˆ›å»ºäº†ä¸€ä¸ªdescribe_me()å‡½æ•°ï¼Œå½¢å‚å®šä¹‰äº†éœ€è¦nameå’Œageä¸¤ä¸ªå‚æ•°ï¼Œå› æ­¤åœ¨è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™è¦æŒ‰ç…§é¡ºåºæä¾›è¿™ä¸¤ä¸ªå‚æ•°ã€‚åœ¨ä¸Šä¾‹ä¸­ï¼Œä»å·¦åˆ°å³å®å‚â€˜Phantomâ€™å‚¨å­˜åœ¨å½¢å‚nameä¸­ï¼Œå®å‚26å‚¨å­˜åœ¨å½¢å‚ageä¸­ï¼Œå‚æ•°ä¼ é€’æœ¬è´¨ä¸Šå°±æ˜¯å®å‚åˆ°å½¢å‚çš„èµ‹å€¼æ“ä½œã€‚ 2.2 å…³é”®å­—å®å‚å…³é”®å­—å®å‚é¡¾åæ€ä¹‰æ˜¯ä¼ é€’å‡½æ•°çš„key-Valueå¯¹ï¼Œåœ¨å®å‚ä¸­å°†å…³é”®å­—å’Œå€¼å…³è”ï¼Œå› ä¸ºè¿™ç§å¯¹åº”å…³ç³»æ˜¯å”¯ä¸€çš„ï¼Œåœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™å°±ä¸éœ€è¦è€ƒè™‘å®å‚çš„é¡ºåºã€‚ è¿™ç§å‚æ•°ä¼ é€’æ–¹å¼æ¯”è¾ƒç›´è§‚ï¼Œèƒ½ä¸€çœ¼çœ‹å‡ºå‡½æ•°è°ƒç”¨æ—¶å„ä¸ªå€¼å¯¹åº”çš„ç”¨é€”ã€‚ å…³é”®å­—å®å‚å’Œä½ç½®å®å‚æ—¶å¯ä»¥ä¸€èµ·ä½¿ç”¨ï¼Œéœ€è¦æ³¨æ„ï¼š å…³é”®å­—å®å‚å¿…é¡»åœ¨ä½ç½®å®å‚å³è¾¹ï¼ˆå†™çš„æ—¶å€™ä½ç½®å®å‚ä¼˜å…ˆï¼‰ å¯¹åŒä¸€ä¸ªå½¢å‚ä¸å¯é‡å¤ä¼ å€¼ 2.3 å½¢å‚çš„ç¼ºçœåˆ›å»ºå‡½æ•°çš„æ—¶å€™å¯ä»¥ç»™å½¢å‚æŒ‡å®šé»˜è®¤å€¼ï¼ˆç¼ºçœï¼‰ã€‚ å¯¹äºç¼ºçœå½¢å‚ï¼Œéœ€è¦æ³¨æ„ï¼š ç¼ºçœå‚æ•°è¦åœ¨éç¼ºçœå‚æ•°ä¹‹åï¼ˆç¼ºçœå½¢å‚æ”¾å³è¾¹ï¼‰ ç¼ºçœå‚æ•°æ˜¯å¯é€‰å‚æ•°ï¼Œå¯ä»¥ä¸ä¼ ï¼›å¦‚æœä¼ å…¥åˆ™æŒ‰ç…§ä¼ å…¥çš„å€¼è¿›è¡Œè¿ç®— 2.4 å½¢å‚çš„ä¸å®šé•¿å‚æ•°ï¼ˆåŒ…è£¹ä¼ é€’ï¼‰å½“ä¼ å…¥çš„å‚æ•°ä¸ªæ•°ä¸ç¡®å®šæ—¶ï¼Œå¯ä»¥ä½¿ç”¨åŒ…è£¹ä½ç½®å‚æ•°å’ŒåŒ…è£¹å…³é”®å­—å‚æ•°è¿›è¡Œå‚æ•°ä¼ é€’ã€‚ *+å½¢å‚çš„æ–¹å¼ä¼ é€’å‚æ•°ï¼Œä¼ å…¥åæ ¹æ®å‚æ•°çš„ä½ç½®ä»¥å…ƒç»„å½¢å¼ä¿å­˜ **+å½¢å‚çš„æ–¹å¼ä¼ é€’å‚æ•°ï¼Œéœ€è¦ä½¿ç”¨å…³é”®å­—ï¼Œä¼ å…¥åä»¥å­—å…¸å½¢å¼ä¿å­˜ï¼Œå½¢å‚åå­—æ˜¯ä¼ å…¥å­—å…¸çš„é”® ä¸Šé¢ä¾‹å­å½¢å‚ä¸­çš„argsè¡¨ç¤ºargumentsä½ç½®å‚æ•°ï¼Œkargsè¡¨ç¤ºkey argumentså…³é”®å­—å‚æ•°ï¼Œè¿™ä¸ªæ˜¯å¯ä»¥è‡ªå®šä¹‰çš„ã€‚ ä¸åŒçš„å‚æ•°ä¼ é€’æ–¹å¼å¯ä»¥æ··ç”¨ï¼ŒåŸåˆ™ä¸Šè¦éµå¾ªä½ç½®å‚æ•°ï¼Œé»˜è®¤å‚æ•°ï¼ŒåŒ…è£¹ä½ç½®ï¼ŒåŒ…è£¹å…³é”®å­—çš„é¡ºåºã€‚ 1def func(name, age = 26, *args, **kargs) # å®šä¹‰å’Œè°ƒç”¨éƒ½éµå¾ªè¿™æ ·çš„é¡ºåº 2.5 å¯¹ä¼ å‚çš„æ€è€ƒåœ¨CSDNä¸Šçœ‹åˆ°ä¸€ä¸ªæ€»ç»“å†™çš„å¾ˆå¥½ï¼Œå‡½æ•°çš„å‚æ•°ä¼ é€’æœ¬è´¨ä¸Šæ˜¯ä»å®å‚åˆ°å½¢å‚çš„èµ‹å€¼æ“ä½œï¼Œè€Œæ‰€æœ‰çš„èµ‹å€¼æ“ä½œéƒ½æ˜¯â€œå¼•ç”¨çš„èµ‹å€¼â€ï¼Œå› æ­¤Pythonä¸­å‚æ•°çš„ä¼ é€’éƒ½æ˜¯â€œå¼•ç”¨ä¼ é€’â€ï¼Œä¸æ˜¯â€œå€¼ä¼ é€’â€ã€‚è¿™å¥è¯åˆçœ‹æœ‰ç‚¹éš¾ä»¥ç†è§£ï¼Œé¦–å…ˆçœ‹çœ‹ä»€ä¹ˆæ˜¯å¼•ç”¨ä¼ é€’å’Œå€¼ä¼ é€’ï¼š å€¼ä¼ é€’ï¼ˆpass by valueï¼‰ï¼šè°ƒç”¨å‡½æ•°æ—¶å°†å®é™…å‚æ•°å¤åˆ¶ä¸€ä»½ä¼ é€’åˆ°å‡½æ•°ä¸­ï¼Œè¿™æ ·åœ¨å‡½æ•°ä¸­å¦‚æœå¯¹å‚æ•°è¿›è¡Œä¿®æ”¹ï¼Œå°†ä¸ä¼šå½±å“åˆ°å®é™…å‚æ•°ã€‚ å¼•ç”¨ä¼ é€’ï¼ˆpass by referenceï¼‰ï¼šè°ƒç”¨å‡½æ•°æ—¶å°†å®é™…å‚æ•°çš„åœ°å€ç›´æ¥ä¼ é€’åˆ°å‡½æ•°ä¸­ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°ä¸­å¯¹å‚æ•°æ‰€è¿›è¡Œçš„ä¿®æ”¹ï¼Œå°†å½±å“åˆ°å®é™…å‚æ•°ã€‚ æ ¹æœ¬åŒºåˆ«åœ¨äºå¼•ç”¨ä¼ é€’ä¸åˆ›å»ºå‰¯æœ¬ï¼Œæœ€ç›´æ¥çš„ç†è§£æ–¹å¼å°±æ˜¯é€šè¿‡æŸ¥çœ‹å¯¹è±¡çš„åœ°å€ï¼Œçœ‹çœ‹ä¼ å‚å‰åå¯¹è±¡åœ¨å†…å­˜çš„ä½ç½®æ˜¯å¦æ”¹å˜ã€‚ 2.5.1 å¯å˜å¯¹è±¡çš„ä¼ é€’å¤ä¹ ä¸€ä¸‹ï¼Œå¯å˜å¯¹è±¡æœ‰åˆ—è¡¨ã€å­—å…¸å’Œé›†åˆï¼Œæˆ‘ä»¬è¿™é‡Œä»¥åˆ—è¡¨ä¸ºä¾‹ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¼ é€’çš„å¯¹è±¡æ˜¯å¯å˜å¯¹è±¡ï¼Œå®é™…ä¸Šä¼ é€’çš„æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼ˆä¸åˆ›å»ºå‰¯æœ¬ï¼Œä¼ é€’å‰ååœ¨å†…å­˜ä¸­å­˜å‚¨ä½ç½®ä¸å˜ï¼‰ï¼Œåœ¨å‡½æ•°ä¸­ä¿®æ”¹å¯¹è±¡åï¼Œç›´æ¥åœ¨åŸå§‹å¯¹è±¡ä¸Šåšäº†ç›¸åº”çš„ä¿®æ”¹ã€‚ 2.5.2 ä¸å¯å˜å¯¹è±¡çš„ä¼ é€’å¦‚æœä¼ é€’çš„å¯¹è±¡æ˜¯ä¸å¯å˜ç±»å‹ï¼Œæ¯”å¦‚å…ƒç»„ï¼Œå­—ç¬¦å’Œæ•°å­—ï¼Œè¿™é‡Œä»¥æ•°å­—ä¸ºä¾‹ã€‚ å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœä¼ é€’çš„å¯¹è±¡æ˜¯ä¸å¯å˜å¯¹è±¡ï¼Œä¼ è¿›å‡½æ•°çš„æ—¶å€™åŒæ ·æ˜¯å¯¹è±¡çš„å¼•ç”¨ï¼Œä½†æ˜¯ä¸å¯å˜å¯¹è±¡æ— æ³•ä¿®æ”¹ï¼Œå› æ­¤åœ¨èµ‹å€¼æ“ä½œæ—¶ï¼Œç³»ç»Ÿæ–°åˆ›å»ºäº†ä¸€ä¸ªå¯¹è±¡ï¼ˆå’ŒåŸæ¥açš„å­˜å‚¨åœ°å€ä¸åŒï¼‰è¿›è¡Œèµ‹å€¼ï¼Œè€ŒåŸå§‹å¯¹è±¡å¹¶æ²¡æœ‰æ”¹å˜ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸å¯å˜å¯¹è±¡çš„ä¼ é€’èµ·åˆ°ç±»ä¼¼å€¼ä¼ é€’çš„æ•ˆæœï¼Œä½†æ˜¯å®é™…ä¸Šä¾ç„¶æ˜¯å¼•ç”¨ä¼ é€’çš„æ–¹å¼è¿›è¡Œä¼ å‚ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ1ï¼‰â€”â€”æ•°æ®ç±»å‹","slug":"pythonè‡ªå­¦ç¬”è®°ï¼ˆ1ï¼‰â€”â€”æ•°æ®ç±»å‹","date":"2022-11-23T14:09:49.000Z","updated":"2022-12-03T16:03:26.000Z","comments":true,"path":"2022/11/23/a.html","link":"","permalink":"http://www.shelven.com/2022/11/23/a.html","excerpt":"è¿™ä¸¤ä¸ªæœˆç»å†äº†çªç„¶çš„ç–«æƒ…éš”ç¦»ï¼Œç ”ç©¶ç”Ÿå¼€é¢˜ï¼Œå­¦æœ¯è®ºå›ï¼Œç ”ç©¶ç”Ÿåˆ›æ–°é¡¹ç›®ç­‰ç­‰â€¦â€¦ç»ˆäºåœ¨è¿™ä¸€å‘¨å°˜åŸƒè½å®šäº†ï¼Œå¾—ä»¥é™ä¸‹å¿ƒæ¥æ•´ç†æ•´ç†è‡ªå·±çš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚ä¹‹å‰æˆ‘ç”¨è¿‡ä¸€äº›pythonç¼–å†™çš„é¡¹ç›®ï¼Œæˆ‘ä¹Ÿåªæ˜¯ä¾è‘«èŠ¦ç”»ç“¢æˆ–è€…åœ¨demoä¸Šç›´æ¥æ”¹ï¼Œè¿˜æ²¡æœ‰ç³»ç»Ÿæ€§åœ°å­¦ä¹ è¿‡è¿™é—¨ç¼–ç¨‹è¯­è¨€ã€‚è¿™é‡Œå°±å†è®°å½•ä¸‹è‡ªå·±è‡ªå­¦pythonçš„ä¸€äº›å…¥é—¨æ—¶çš„ç¬”è®°ï¼Œä»¥åŠè®°å½•ä¸‹å‡ ä¸ªæœºå™¨å­¦ä¹ æ–¹é¢çš„pythonåº“çš„ä½¿ç”¨æ–¹æ³•ã€‚","text":"è¿™ä¸¤ä¸ªæœˆç»å†äº†çªç„¶çš„ç–«æƒ…éš”ç¦»ï¼Œç ”ç©¶ç”Ÿå¼€é¢˜ï¼Œå­¦æœ¯è®ºå›ï¼Œç ”ç©¶ç”Ÿåˆ›æ–°é¡¹ç›®ç­‰ç­‰â€¦â€¦ç»ˆäºåœ¨è¿™ä¸€å‘¨å°˜åŸƒè½å®šäº†ï¼Œå¾—ä»¥é™ä¸‹å¿ƒæ¥æ•´ç†æ•´ç†è‡ªå·±çš„ä¸€äº›å­¦ä¹ ç¬”è®°ã€‚ä¹‹å‰æˆ‘ç”¨è¿‡ä¸€äº›pythonç¼–å†™çš„é¡¹ç›®ï¼Œæˆ‘ä¹Ÿåªæ˜¯ä¾è‘«èŠ¦ç”»ç“¢æˆ–è€…åœ¨demoä¸Šç›´æ¥æ”¹ï¼Œè¿˜æ²¡æœ‰ç³»ç»Ÿæ€§åœ°å­¦ä¹ è¿‡è¿™é—¨ç¼–ç¨‹è¯­è¨€ã€‚è¿™é‡Œå°±å†è®°å½•ä¸‹è‡ªå·±è‡ªå­¦pythonçš„ä¸€äº›å…¥é—¨æ—¶çš„ç¬”è®°ï¼Œä»¥åŠè®°å½•ä¸‹å‡ ä¸ªæœºå™¨å­¦ä¹ æ–¹é¢çš„pythonåº“çš„ä½¿ç”¨æ–¹æ³•ã€‚ 1. å…­å¤§æ•°æ®ç±»å‹å¾ˆå¤šç¼–ç¨‹è¯­è¨€çš„æ•°æ®ç±»å‹æ˜¯ç›¸é€šæˆ–è€…æœ‰ç±»ä¼¼ä¹‹å¤„çš„ï¼Œå­¦ä¹ ä¸€é—¨ç¼–ç¨‹è¯­è¨€æœ€åŸºç¡€çš„å°±æ˜¯ç†Ÿæ‚‰å®ƒçš„æ•°æ®ç±»å‹ï¼Œpythonæœ‰6ç§æ ‡å‡†æ•°æ®ç±»å‹ã€‚ 1.1 Numbers(æ•°å­—ç±»å‹)æ•°å­—ç±»å‹ç®€å•æ¥è¯´å°±æ˜¯æ•°å€¼ï¼Œåœ¨pythonä¸­æ˜¯ä¸å¯å˜æ•°æ®ç±»å‹ã€‚pythonçš„Numbersæ•°æ®ç±»å‹åˆå¯ä»¥åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªå­ç±»å‹ æ•´å‹(int): é€šå¸¸ç§°ä¸ºæ•´å‹æˆ–æ•´æ•°ï¼Œæ˜¯æ­£æˆ–è´Ÿæ•´æ•°ï¼Œä¸å¸¦å°æ•°ç‚¹ã€‚python3æ•´å‹æ²¡æœ‰å¤§å°é™åˆ¶ï¼Œå¯ä»¥å½“ä½œpython2çš„Longç±»å‹ä½¿ç”¨ï¼Œä¸åƒå…¶ä»–ç¼–ç¨‹è¯­è¨€æœ‰ intï¼Œsmallintï¼Œshortï¼Œlongï¼Œlongintï¼Œlong ç­‰ã€‚ æµ®ç‚¹å‹(float): æµ®ç‚¹å‹ç”±æ•´æ•°å’Œå°æ•°ä¸¤ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåªèƒ½ä»¥åè¿›åˆ¶è¡¨ç¤ºæˆ–è€…ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºï¼Œæœ‰é•¿åº¦é™åˆ¶ã€‚ å¸ƒå°”å‹(bool): å¸ƒå°”å‹å°±æ˜¯é€»è¾‘ï¼Œä½¿ç”¨Trueå’ŒFalseè¡¨ç¤ºã€‚æ³¨æ„ä¸€ä¸‹åœ¨ä¸Šä¸‹æ–‡ç¯å¢ƒä¸­ï¼ŒTrueå½“åš1ï¼ŒFalseè¢«å½“ä½œ0ã€‚ å¤æ•°å‹(complex): å¤æ•°å‹ç”±å®æ•°å’Œè™šæ•°éƒ¨åˆ†æ„æˆï¼Œå¯ä»¥ç”¨a + bjæˆ–è€…complex(a, b)è¡¨ç¤ºï¼Œaå’Œbéƒ½æ˜¯æµ®ç‚¹å‹ã€‚ 1.2 String(å­—ç¬¦ä¸²)Stringæ˜¯pythonä¸­æœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œè¯´ç™½äº†å°±æ˜¯å­—ç¬¦ç»„æˆçš„ä¸€ä¸²å†…å®¹ã€‚å¯ä»¥ä½¿ç”¨æˆå¯¹çš„å•å¼•å·æˆ–è€…åŒå¼•å·(â€œæˆ–â€˜)åˆ›å»ºå­—ç¬¦ä¸²ï¼Œç”¨ä¸‰ä¸ªå•å¼•å·æˆ–è€…åŒå¼•å·ä½¿å­—ç¬¦ä¸²å†…å®¹ä¿æŒåŸæ ·è¾“å‡ºï¼Œå¯ä»¥åŒ…å«ç‰¹æ®Šå­—ç¬¦ã€‚åœ¨pythonä¸­å­—ç¬¦ä¸²æ˜¯ä¸å¯å˜å˜é‡ã€‚ 1.2.1 å­—ç¬¦ä¸²ç´¢å¼•ç´¢å¼•å°±æ˜¯å­—ç¬¦çš„ä½ç½®åºå·ï¼Œä½¿ç”¨[]è¿›è¡Œå­—ç¬¦ä¸²ç´¢å¼•ï¼Œpythonæœ‰ä¸¤ç§ç´¢å¼•æ–¹å¼ï¼Œä¸‹æ ‡ç´¢å¼•è¶Šç•Œå‡ä¼šæŠ¥é”™ã€‚ æ­£å‘ç´¢å¼•ï¼šå­—ç¬¦ä¸²é•¿åº¦ä¸ºnï¼Œä»0å¼€å§‹ï¼Œç´¢å¼•å€¼èŒƒå›´0 ~ n-1 åå‘ç´¢å¼•ï¼šå­—ç¬¦ä¸²é•¿åº¦ä¸ºnï¼Œä»-1å¼€å§‹ï¼Œç´¢å¼•å€¼èŒƒå›´-1 ~ -n 1.2.2 å­—ç¬¦ä¸²åˆ‡ç‰‡åˆ‡ç‰‡æ„æ€å°±æ˜¯å–å‡ºå­—ç¬¦ä¸²ä¸­ä½ æƒ³è¦çš„å†…å®¹ã€‚åˆ‡ç‰‡çš„æ ‡å‡†å†™æ³•æ˜¯ä¸¤ä¸ªå†’å·åŠ ä¸‰ä¸ªæ•°å­—ï¼Œå¦‚a[1:2:3]ï¼Œéœ€è¦æ³¨æ„åˆ‡ç‰‡æ˜¯å·¦é—­å³å¼€çš„å–å€¼ï¼Œåˆ‡ç‰‡è¶Šç•Œæ˜¯ä¸ä¼šæŠ¥é”™çš„ã€‚ ç¬¬ä¸€ä¸ªæ•°å­—è¡¨ç¤ºåˆ‡ç‰‡çš„èµ·å§‹ä½ç½®ï¼ˆçœç•¥å°±æ˜¯ä»ç¬¬ 1 ä¸ªå­—ç¬¦å¼€å§‹ï¼Œä¹Ÿå°±æ˜¯0å·ä½ï¼‰ ç¬¬äºŒä¸ªæ•°å­—è¡¨ç¤ºåˆ‡ç‰‡çš„ç»ˆæ­¢ä½ç½®ï¼ˆä¸åŒ…æ‹¬è¿™ä¸ªä½ç½®çš„å­—ç¬¦ï¼Œå³å¼€è¡¨ç°åœ¨è¿™é‡Œï¼›å¯çœç•¥ï¼Œçœç•¥æ˜¯æœ€åä¸€ä¸ªå­—ç¬¦ç»“å°¾ä¸”åŒ…å«ï¼‰ ç¬¬ä¸‰ä¸ªæ•°å­—è¡¨ç¤ºæ­¥é•¿ï¼ˆç¼ºçœå€¼ä¸º1ï¼Œæ­¤æ—¶å¯ä»¥ä¸å†™ç¬¬äºŒä¸ªå†’å·ï¼‰ 1.2.3 è½¬ä¹‰å¦‚æœä½¿ç”¨å¸¦æœ‰ç‰¹æ®Šå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œåˆ™éœ€è¦è¿›è¡Œè½¬ä¹‰ï¼Œä½¿ç”¨åæ–œæ  \\ è¿›è¡Œå­—ç¬¦è½¬ä¹‰ã€‚ è½¬ä¹‰å­—ç¬¦ æè¿° \\â€˜ è¡¨ç¤ºå•å¼•å· \\â€œ è¡¨ç¤ºåŒå¼•å· \\n æ¢è¡Œ \\t åˆ¶è¡¨ç¬¦ï¼ˆå³å››ä¸ªç©ºæ ¼ï¼‰ \\b é€€æ ¼ï¼ˆåˆ é™¤å‰é¢ä¸€ä¸ªå­—ç¬¦ï¼‰ \\\\ è¡¨ç¤ºåæ–œæ  åœ¨å­—ç¬¦ä¸²å‰åŠ  â€™râ€˜ å¯ä»¥ä½¿æ•´ä¸ªå­—ç¬¦ä¸²åŸæ ·è¾“å‡ºï¼Œä¸ä¼šè¢«è½¬ä¹‰ã€‚ 1.2.4 æ ¼å¼åŒ–è¾“å‡ºå’Œå ä½ç¬¦æ ¼å¼åŒ–è¾“å‡ºæ„æ€æ˜¯æŒ‰ç…§æ ¼å¼è¯´æ˜æ‰€æè¿°çš„æ–‡å­—è§„åˆ™è¿›è¡Œè¾“å‡ºï¼Œå ä½ç¬¦çš„ä½¿ç”¨æ˜¯æ ¼å¼åŒ–è¾“å‡ºçš„è¡¨ç°å½¢å¼ã€‚å ä½ç¬¦çš„æ„æ€æ˜¯æ›¿åé¢çš„å˜é‡å ä½è¿™ä¸ªä½ç½®ï¼Œå› æ­¤æ‰€æœ‰å ä½ç¬¦æœ€åéƒ½éœ€è¦æ ¼å¼åŒ–å®šä¹‰å ä½ç¬¦çš„æ˜ å°„ï¼ˆä¹Ÿå°±æ˜¯è§£é‡Šå ä½ç¬¦ä»£è¡¨çš„ä¸œè¥¿ï¼‰ã€‚ è¿™é‡Œè®°å½•ä¸€ä¸‹æœ€å¸¸ç”¨çš„å ä½ç¬¦ å ä½ç¬¦ æè¿° %s é’ˆå¯¹æ‰€æœ‰æ•°æ®ç±»å‹ %d é’ˆå¯¹æ•´å‹æ•°æ®ç±»å‹ %f åªé’ˆå¯¹æµ®ç‚¹æ•° %.xf æµ®ç‚¹æ•°ç²¾ç¡®åˆ°å°æ•°ç‚¹åxä½ï¼Œæ³¨æ„æœ‰ä¸ªç‚¹ å¯ä»¥çœ‹åˆ°ä¸¤ç§è¾“å‡ºæ–¹å¼å¾—åˆ°çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½¿ç”¨å ä½ç¬¦è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºæ›´ç®€ä»‹ï¼Œä¸”æ›´å¸¸ç”¨ã€‚ 1.2.5 å¸¸ç”¨å‡½æ•°pythonè¿˜æœ‰å¾ˆå¤šæ•°æ®æ“ä½œçš„å‡½æ•°ï¼Œè¿™é‡Œè®°å½•æœ€å¸¸ç”¨çš„å‡ ä¸ªï¼Œä»¥åç»§ç»­è¡¥å…… type(): æŸ¥çœ‹æ•°æ®ç±»å‹ len(): æŸ¥çœ‹å­—ç¬¦ä¸²é•¿åº¦ int(): å°†æ•°æ®ç±»å‹è½¬æ¢ä¸ºæ•´æ•°ï¼Œå¦‚int(â€œ1234â€)å¾—åˆ°ç»“æœæ•´å‹1234 float(): è½¬æ¢ä¸ºæµ®ç‚¹æ•°ï¼Œå¦‚float(â€œ12.34â€)å¾—åˆ°ç»“æœæµ®ç‚¹å‹12.34 str(): è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¦‚str(123456)å¾—åˆ°ç»“æœâ€œ123456â€ 1.3 List(åˆ—è¡¨)åˆ—è¡¨æ•°æ®å¯ä»¥å­˜å‚¨ä»»æ„ä¸€ç§æ•°æ®ç±»å‹ï¼Œæ˜¯pythonç‰¹æœ‰çš„æ•°æ®ç±»å‹ï¼Œåˆ—è¡¨ç”¨æ¥å­˜å‚¨ç”±å¤šä¸ªå€¼æ„æˆçš„åºåˆ—ï¼Œå¯ä»¥åµŒå¥—å…¶ä»–åˆ—è¡¨ï¼Œæ˜¯ä¸€ç§å¯å˜æ•°æ®ç±»å‹ã€‚ ä¸åŒæ•°æ®é¡¹ä¹‹é—´ç”±é€—å·åˆ†å¼€ï¼Œæ•´ä½“æ”¾åœ¨ä¸€ä¸ªæ–¹æ‹¬å·[]é‡Œï¼Œå°±å¯ä»¥åˆ›å»ºåˆ—è¡¨ï¼Œå¦‚ls &#x3D; [1, 2, 3, 4]å°±æ˜¯ä¸€ä¸ªåˆ—è¡¨ã€‚ 1.3.1 ä¿®æ”¹åˆ—è¡¨å…ƒç´ å› ä¸ºåˆ—è¡¨æ˜¯å¯å˜æ•°æ®ç±»å‹ï¼Œå› æ­¤å¯ä»¥ç”¨ç´¢å¼•æˆ–è€…åˆ‡ç‰‡çš„æ–¹æ³•ä¿®æ”¹åˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚ å¯ä»¥ä½¿ç”¨delåˆ é™¤åˆ—è¡¨æˆ–è€…åˆ—è¡¨ä¸­ç´¢å¼•ä¸ºæŸä¸ªæ•°çš„å…ƒç´ ã€‚ 1.3.2 åˆ—è¡¨ç”Ÿæˆå¼é™¤äº†ç›´æ¥åˆ›å»ºåˆ—è¡¨ï¼Œè¿˜å¯ä»¥ä½¿ç”¨åˆ—è¡¨ç”Ÿæˆå¼ç›´æ¥ç”Ÿæˆåˆ—è¡¨ã€‚ 1.3.3 åˆ—è¡¨çš„æ–¹æ³•å‡½æ•°è®°å½•ä¸€ä¸‹æ“ä½œåˆ—è¡¨çš„å¸¸ç”¨æ–¹æ³•ï¼Œè¿™é‡Œå°±ä¸æ¼”ç¤ºäº†ã€‚ æ–¹æ³• æè¿° list.append(obj) åˆ—è¡¨æœ«å°¾æ·»åŠ æ–°çš„å¯¹è±¡ list.count(obj) è¿”å›æŸä¸ªå…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•° list.extend(seq) åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ å¦ä¸€ä¸ªåˆ—è¡¨çš„æ‰€æœ‰å…ƒç´  list.index(obj) è¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…çš„çš„ç´¢å¼•å€¼ list.insert(index, obj) åœ¨æŒ‡å®šç´¢å¼•æ’å…¥å¯¹è±¡ list.pop(index) ç§»é™¤æŒ‡å®šç´¢å¼•çš„å€¼ï¼Œå¹¶è¿”å›è¯¥å€¼ list.sort() å¯¹åŸåˆ—è¡¨è¿›è¡Œå‡åºæ’åºï¼ˆçº¯æ•°å­—æ‰å¯ä»¥ï¼‰ï¼Œé™åºéœ€è¦æ·»åŠ reverse&#x3D;True list.reverse() åè½¬åˆ—è¡¨å…ƒç´  list.remove(obj) ç§»é™¤ç¬¬ä¸€ä¸ªåŒ¹é…çš„æŸå¯¹è±¡ 1.4 Tuple(å…ƒç»„)å…ƒç»„ä¹Ÿæ˜¯pythonçš„ä¸€ç§ç‰¹æ®Šæ•°æ®ç±»å‹ï¼Œå’Œåˆ—è¡¨å¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯æ˜¯ä¸å¯å˜å¯¹è±¡ã€‚å¦‚æœæƒ³åˆ›å»ºä¸€ä¸ªå…¨å±€éƒ½ä¸å˜çš„å˜é‡ï¼Œå¯ä»¥è€ƒè™‘åˆ›å»ºå…ƒç»„ã€‚ å…ƒç»„ä¸­çš„å…ƒç´ ç”¨é€—å·åˆ†éš”ï¼Œä¸€èˆ¬è¦ä½¿ç”¨å°æ‹¬å·ï¼ˆå°æ‹¬å·ä¸æ˜¯å¿…é¡»çš„ï¼Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£å’Œç¾è§‚ï¼‰ã€‚ å…ƒç»„ä¸­å¦‚æœåªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œéœ€è¦åœ¨å…ƒç´ ååŠ é€—å·ã€‚å¦åˆ™æ— æ³•åˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªå…ƒç»„è¿˜æ˜¯ä¸€ä¸ªæ•´å‹æ•°æ®ã€‚ åŒæ ·å…ƒç»„æ•°æ®ä¹Ÿå¯ä»¥è¿›è¡Œç´¢å¼•å’Œåˆ‡ç‰‡ï¼Œè¿™é‡Œä¸èµ˜è¿°ã€‚ 1.4.1 å…ƒç»„å’Œåˆ—è¡¨çš„äº’ç›¸è½¬åŒ–å…ƒç»„è½¬åŒ–åˆ—è¡¨ä½¿ç”¨list()å‡½æ•°ï¼Œåˆ—è¡¨è½¬åŒ–å…ƒç»„ä½¿ç”¨tuple()å‡½æ•°ã€‚ 1.4.2 ç»“åˆå…ƒç»„çš„åˆ—è¡¨ç”Ÿæˆå¼å…ƒç»„ä¸èƒ½é€šè¿‡å’Œåˆ—è¡¨ä¸€æ ·çš„ç”Ÿæˆå¼æ¥åˆ›å»ºï¼Œä½†æ˜¯åˆ—è¡¨ç”Ÿæˆå¼ä¸­å¯ä»¥åŠ å…¥å…ƒç»„ã€‚ 1.5 Set(é›†åˆ)é›†åˆæ˜¯ä¸€ä¸ªæ— åºçš„ä¸é‡å¤å…ƒç´ åºåˆ—ï¼Œå¯ä»¥ä½¿ç”¨å¤§æ‹¬å·{}æˆ–è€…set()å‡½æ•°åˆ›å»ºé›†åˆï¼Œä½†æ˜¯åˆ›å»ºä¸€ä¸ªç©ºé›†åˆå¿…é¡»è¦ç”¨set()è€Œä¸æ˜¯{}ï¼Œå› ä¸º{}æ˜¯ç”¨æ¥åˆ›å»ºä¸€ä¸ªç©ºå­—å…¸çš„ã€‚ å› ä¸ºç”¨çš„ä¸å¤šï¼Œç®€å•è®°å½•ä¸€ä¸‹ï¼Œé›†åˆæœ‰ä¸‰ä¸ªç‰¹ç‚¹ é›†åˆçš„å…ƒç´ æ˜¯æ— åºçš„ã€‚ å¦‚ï¼š{1, 2, 3}å’Œ{1, 3, 2}æ˜¯å®Œå…¨ç›¸ç­‰çš„ã€‚ é›†åˆçš„å…ƒç´ æ˜¯ä¸é‡å¤çš„ã€‚ å¦‚ï¼š{1, 1, 1}åªä¼šä¿ç•™ä¸€ä¸ªå€¼ï¼Œæ‰“å°ç»“æœä¸º{1}ã€‚ é›†åˆçš„å…ƒç´ å¿…é¡»æ˜¯ä¸å¯å˜æ•°æ®ç±»å‹ï¼ˆæ•°å­—ã€å­—ç¬¦ä¸²å’Œå…ƒç»„ï¼‰ã€‚ å¦‚ï¼š{1, [1, 2]}æ‰“å°ç»“æœä¼šæŠ¥é”™ï¼Œå› ä¸ºåˆ—è¡¨æ˜¯å¯å˜æ•°æ®ç±»å‹ã€‚ 1.6 Dictionary(å­—å…¸)å­—å…¸ç”¨çš„æ¯”è¾ƒå¤šï¼Œå…¶å­˜å‚¨ç‰¹ç‚¹æ˜¯é”®å€¼å¯¹çš„å½¢å¼å‡ºç°ï¼ˆKey-Valueï¼‰ï¼Œä¸€ä¸ªé”®å¯¹åº”ä¸€ä¸ªå€¼ï¼Œæ¯ä¸ªé”®å€¼å¯¹ç”¨å†’å·éš”å¼€ï¼Œæ¯å¯¹é”®å€¼å¯¹ç”¨é€—å·éš”å¼€ã€‚å­—å…¸ä¹Ÿå¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹æ•°æ®ã€‚ éœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼Œåœ¨å­—å…¸æ•°æ®ç±»å‹ä¸­ï¼Œé”®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯å€¼å¯ä»¥ä¸å”¯ä¸€ï¼Œå€¼å¯ä»¥å–ä»»ä½•æ•°æ®ç±»å‹ï¼Œä½†æ˜¯é”®å¿…é¡»æ˜¯ä¸å¯å˜æ•°æ®ç±»å‹ã€‚ 1.6.1 å­—å…¸åˆ›å»ºå’Œä¿®æ”¹å­—å…¸æ•°æ®å¯ä»¥é€šè¿‡èŠ±æ‹¬å·ç›´æ¥åˆ›å»ºï¼Œæˆ–è€…é€šè¿‡dict()å‡½æ•°åˆ›å»ºï¼ˆéç©ºï¼‰ã€‚ é€šè¿‡è®¿é—®é”®æ¥è®¿é—®å¯¹åº”çš„å€¼ï¼Œæ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹çš„æ–¹æ³•å‡ç±»ä¼¼ã€‚ 1.6.2 å­—å…¸çš„æ–¹æ³•å‡½æ•°è®°å½•ä¸€ä¸‹å¸¸ç”¨çš„å­—å…¸æ–¹æ³•å‡½æ•°ï¼Œå°±ä¸æ¼”ç¤ºäº†ï¼Œå…·ä½“ç”¨åˆ°çš„æ—¶å€™å¯ä»¥æŸ¥ã€‚ æ–¹æ³• æè¿° dict.keys() è¿”å›æ‰€æœ‰é”®çš„åˆ—è¡¨dict_keyå¯¹è±¡ï¼Œå¯ä»¥è½¬æ¢æˆåˆ—è¡¨ã€å…ƒç»„å’Œé›†åˆ dict.values() è¿”å›æ‰€æœ‰å€¼çš„åˆ—è¡¨dict_valueså¯¹è±¡ï¼Œä¹Ÿå¯ä»¥è½¬æ¢æˆåˆ—è¡¨ã€å…ƒç»„å’Œé›†åˆ dict.items() è¿”å›æ‰€æœ‰é”®å€¼å¯¹çš„åˆ—è¡¨dict_itemså¯¹è±¡ï¼ŒåŒæ ·å¯ä»¥è½¬æ¢æˆåˆ—è¡¨ã€å…ƒç»„å’Œé›†åˆ dict.clear() æ¸…ç©ºå­—å…¸ï¼Œæ— è¿”å›å€¼ï¼Œåªå‰©ä¸‹ç©ºå­—å…¸ dict.get(key, default&#x3D;None) è¿”å›å­—å…¸ä¸­æŒ‡å®škeyçš„valueå€¼ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ™è¿”å›defaultå€¼ dict.pop(key, default&#x3D;None) åˆ é™¤æŒ‡å®šçš„keyå¹¶è¿”å›å¯¹åº”çš„valueå€¼ï¼Œå¦‚æœkeyä¸å­˜åœ¨ï¼Œåˆ™è¿”å›defaultå€¼ ç®€å•å°ç»“ä¸€ä¸‹å…³äºpythonæ•°æ®ç±»å‹çš„æ³¨æ„ç‚¹ï¼š 1.å¯å˜æ•°æ®ç±»å‹ï¼šListã€Dictionaryã€Set 2.ä¸å¯å˜æ•°æ®ç±»å‹ï¼šTupleã€Numbersã€Stringã€‚ä¸å¯å˜ä½“ç°åœ¨ç´¢å¼•è¿™äº›å˜é‡åçš„å…ƒç´ ä¸å¯è¢«é‡æ–°èµ‹å€¼ 3.ä¸‹æ ‡ç´¢å¼•ï¼šStringã€Listã€Tupleæ”¯æŒä¸‹æ ‡ç´¢å¼•ï¼ŒDictionaryæ˜¯é€šè¿‡Keyå€¼ç´¢å¼• 4.åˆ‡ç‰‡ï¼šStringã€Listã€Tupleæ”¯æŒåˆ‡ç‰‡æ“ä½œ","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"æ·±åº¦å­¦ä¹ ç¬”è®°","slug":"æ·±åº¦å­¦ä¹ ç¬”è®°","date":"2022-09-19T16:58:05.000Z","updated":"2022-12-03T16:21:13.000Z","comments":true,"path":"2022/09/20/a.html","link":"","permalink":"http://www.shelven.com/2022/09/20/a.html","excerpt":"å¼€å‘è®°å½•ä¸€ä¸‹å­¦ä¹ äººå·¥æ™ºèƒ½(æ·±åº¦å­¦ä¹ ä¸ºä¸»)çš„ç¬”è®°ï¼Œæ–¹ä¾¿ä»¥åå›é¡¾å­¦ä¹ ~æ•´ç†è‡ªç‚¹å¤´æ•™è‚²","text":"å¼€å‘è®°å½•ä¸€ä¸‹å­¦ä¹ äººå·¥æ™ºèƒ½(æ·±åº¦å­¦ä¹ ä¸ºä¸»)çš„ç¬”è®°ï¼Œæ–¹ä¾¿ä»¥åå›é¡¾å­¦ä¹ ~æ•´ç†è‡ªç‚¹å¤´æ•™è‚² äººå·¥æ™ºèƒ½çš„è¶‹åŠ¿å±•æœ›1. å‰æ²¿æŠ€æœ¯Transformeræ¨¡å‹åŸºäºè‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œæœ‰æ•ˆæé«˜æ¨¡å‹è®­ç»ƒæ•ˆç‡ ç”±Googleçš„Ashish Vaswaniç­‰äººå’Œå¤šä¼¦å¤šå¤§å­¦çš„Aidan N.Gomezäº2017å¹´é¦–æ¬¡æå‡ºï¼Œæ˜¯ä¸€ç§åŸºäºè‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼ˆåœ¨Transformeræ¨¡å‹ä¸­èµ·åŸºç¡€ä½œç”¨ï¼Œå¯å‡å°‘å¯¹å¤–éƒ¨ä¿¡æ¯çš„ä¾èµ–,æ›´æ“…é•¿æ•æ‰æ•°æ®æˆ–ç‰¹å¾çš„å†…éƒ¨å…³ç³»ï¼Œä¼˜åŒ–æ¨¡å‹è®­ç»ƒç»“æœï¼‰çš„æ·±åº¦å­¦ä¹ æ¨¡å‹ï¼Œè¯¥æ¨¡å‹ä¸»è¦ç”±ç¼–ç å™¨å’Œè§£ç å™¨æ„æˆï¼Œæ¨¡å‹æœ¬èº«å¹¶è¡Œåº¦è¾ƒé«˜ï¼Œåœ¨ç²¾åº¦å’Œæ€§èƒ½ä¸Šå‡è¦ä¼˜äºä¼ ç»Ÿçš„å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰å’Œå·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ã€‚Transformeræ¨¡å‹åœ¨ç®€å•è¯­è¨€é—®ç­”å’Œè¯­è¨€å»ºæ¨¡ä»»åŠ¡ä¸Šæœ‰ç€è¾ƒå¥½è¡¨ç°ã€‚ BERTæ¨¡å‹åŸºäºTransformer Encoderæ„å»ºçš„é¢„æµ‹æ¨¡å‹ ç”±Googleäº2018å¹´æå‡ºï¼Œæ˜¯åŸºäºTransformer Encoderæ„å»ºçš„ä¸€ç§æ¨¡å‹ã€‚æ¨¡å‹åŸºæœ¬æ€æƒ³ï¼šç»™å®šä¸Šä¸‹æ–‡æ¥é¢„æµ‹ä¸‹ä¸€ä¸ªè¯ã€‚BERTæ¨¡å‹æ¶æ„æ˜¯ç”±å¤šæ¥å£ç»„æˆçš„Transformerç¼–ç å™¨å±‚ï¼Œå³å…¨è¿æ¥ç¥ç»ç½‘ç»œå¢åŠ è‡ªæ³¨æ„åŠ›æœºåˆ¶ã€‚å¯¹äºåºåˆ—ä¸­çš„æ¯ä¸ªè¾“å…¥æ ‡è®°ï¼Œæ¯ä¸ªæ¥å£è®¡ç®—é”®å€¼å’ŒæŸ¥è¯¢å‘é‡ï¼Œç›¸å…³å‘é‡ç”¨äºåˆ›å»ºåŠ æƒè¡¨ç¤ºï¼Œåˆå¹¶åŒä¸€å±‚ä¸­æ‰€æœ‰æ¥å£è¾“å‡ºå¹¶é€šè¿‡å…¨è¿æ¥å±‚è¿è¡Œã€‚æ¯ä¸ªå±‚ä½¿ç”¨è·³è·ƒè¿æ¥è¿›è¡ŒåŒ…è£…ï¼Œä¹‹åå°†å±‚å½’ä¸€åŒ–å¤„ç†ã€‚ è‡ªç›‘ç£å­¦ä¹ å°†æ— ç›‘ç£é—®é¢˜è½¬åŒ–ä¸ºæœ‰ç›‘ç£é—®é¢˜çš„æ–¹æ³• æ—¨åœ¨å¯¹äºæ— æ ‡ç­¾æ•°æ®ï¼Œé€šè¿‡è®¾è®¡è¾…åŠ©ä»»åŠ¡æ¥æŒ–æ˜æ•°æ®è‡ªèº«çš„è¡¨å¾ç‰¹æ€§ä½œä¸ºç›‘ç£ä¿¡æ¯ï¼Œæ¥æå‡æ¨¡å‹çš„ç‰¹å¾æå–èƒ½åŠ›ï¼Œå°†æ— ç›‘ç£é—®é¢˜è½¬åŒ–ä¸ºæœ‰ç›‘ç£é—®é¢˜çš„æ–¹æ³•ã€‚ è¯´åˆ°è‡ªç›‘ç£å°±é¡ºä¾¿è¯´ä¸‹æœ‰ç›‘ç£å­¦ä¹ å’Œæ— ç›‘ç£å­¦ä¹ ï¼Œæœ‰ç›‘ç£ç»™å®šçš„ç»“æœæ˜¯ç¡®å®šçš„ï¼›æ— ç›‘ç£æ˜¯å®é™…åº”ç”¨åœºæ™¯ä¸­æœ€å¤šçš„ï¼Œç»“æœä¸ç¡®å®šï¼Œæ ¹æ®ç±»åˆ«æœªçŸ¥(æ²¡æœ‰è¢«æ ‡è®°)çš„è®­ç»ƒæ ·æœ¬è§£å†³æ¨¡å¼è¯†åˆ«ä¸­çš„å„ç§é—®é¢˜ã€‚ ç±»è„‘è®¡ç®—æ¨¡æ‹Ÿå¤§è„‘ç»“æ„å’Œä¿¡æ¯åŠ å·¥è¿‡ç¨‹ï¼Œæé«˜æœºå™¨è®¤çŸ¥èƒ½åŠ›ã€é™ä½è¿è¡ŒåŠŸè€— ç±»è„‘è®¡ç®—(Brain-Inspired Computing): åˆç§°ç¥ç»å½¢æ€è®¡ç®—ï¼Œæ˜¯å€Ÿé‰´ç”Ÿç‰©ç¥ç»ç³»ç»Ÿä¿¡æ¯å¤„ç†æ¨¡å¼å’Œç»“æ„çš„è®¡ç®—ç†è®ºã€ä½“ç³»ç»“æ„ã€èŠ¯ç‰‡è®¾è®¡ä»¥åŠåº”ç”¨æ¨¡å‹ä¸ç®—æ³•çš„æ€»ç§°ã€‚ç±»è„‘è®¡ç®—å¯æ¨¡æ‹Ÿäººç±»å¤§è„‘ä¿¡æ¯å¤„ç†æ–¹å¼ï¼Œä»¥æä½çš„åŠŸè€—å¯¹ä¿¡æ¯è¿›è¡Œå¼‚æ­¥ã€å¹¶è¡Œã€é«˜é€Ÿå’Œåˆ†å¸ƒå¼å¤„ç†ï¼Œå¹¶å…·å¤‡è‡ªä¸»æ„ŸçŸ¥ã€è¯†åˆ«å’Œå­¦ä¹ ç­‰å¤šç§èƒ½åŠ›ï¼Œæ˜¯å®ç°é€šç”¨äººå·¥æ™ºèƒ½çš„é€”å¾„ä¹‹ä¸€ã€‚ AIå¤§æ¨¡å‹åŒ…å«ä¸‡äº¿é‡çº§å‚æ•°çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œæ˜¾è‘—é™ä½æ¨¡å‹è®­ç»ƒæˆæœ¬ AIå¤§æ¨¡å‹(Foundation Models):æ˜¯æŒ‡ç»è¿‡å¤§è§„æ¨¡æ•°æ®è®­ç»ƒä¸”åœ¨ç»å¾®è°ƒåå³å¯é€‚åº”å¹¿æ³›ä¸‹æ¸¸ä»»åŠ¡çš„æ¨¡å‹ã€‚éšç€å‚æ•°è§„æ¨¡ä¸æ–­æ‰©å¤§ï¼ŒAIå¤§æ¨¡å‹åœ¨è¯­è¨€ã€è§†è§‰ã€æ¨ç†ã€äººæœºäº¤äº’ç­‰é¢†åŸŸæ¶Œç°å‡ºæ–°èƒ½åŠ›ã€‚ 2. äººå·¥æ™ºèƒ½çš„äº§ä¸šèåˆäººå·¥æ™ºèƒ½ä¸å…ƒå®‡å®™å…ƒå®‡å®™ï¼ˆMetaverseï¼‰ï¼šæœ¬è´¨ä¸Šæ˜¯å¯¹ç°å®ä¸–ç•Œçš„è™šæ‹ŸåŒ–ã€æ•°å­—åŒ–è¿‡ç¨‹ï¼Œå…¶ä¸»è¦åŒ…æ‹¬åŸºç¡€è®¾æ–½ã€äººæœºäº¤äº’ã€ç©ºé—´è®¡ç®—ç­‰ä¸ƒå±‚æ¶æ„ï¼Œå…¶ä¸­è®¡ç®—æœºè§†è§‰ã€AIèŠ¯ç‰‡å’ŒåµŒå…¥å¼AIç­‰äººå·¥æ™ºèƒ½æŠ€æœ¯åŠåŸºç¡€è®¾æ–½å…±åŒåŠ©åŠ›å…ƒå®‡å®™åŠ é€Ÿè½åœ°ã€‚å…ƒå®‡å®™æ¶µç›–èŠ¯ç‰‡ã€äº‘è®¡ç®—ã€æŠ€æœ¯å¹³å°ã€é€šä¿¡ã€æ™ºèƒ½è®¾å¤‡ã€å†…å®¹æœåŠ¡ç­‰åºå¤§ç”Ÿæ€ç³»ç»Ÿã€‚ äººå·¥æ™ºèƒ½ä¸ç”Ÿå‘½ç§‘å­¦AlphaFoldæ˜¯ç”±è°·æ­Œæ——ä¸‹DeepMindå›¢é˜ŸåŸºäºæ·±åº¦å­¦ä¹ ç®—æ³•çš„è›‹ç™½è´¨ç»“æ„é¢„æµ‹çš„äººå·¥æ™ºèƒ½ç³»ç»Ÿï¼Œå…¶è¢«è§†ä½œäººå·¥æ™ºèƒ½æ·±å…¥åˆ°ç”Ÿç‰©é¢†åŸŸçš„ä¸€å¤§çªç ´ã€‚ç›®å‰AlphaFoldå·²å¯¹98.5%çš„äººç±»è›‹ç™½è´¨ç»“æ„åšå‡ºé¢„æµ‹ï¼Œæ­¤å¤–è¿˜å¯¹äºå¤§è‚ æ†èŒã€æœè‡ã€æ–‘é©¬é±¼ã€å°é¼ ç­‰ç ”ç©¶æ—¶å¸¸ç”¨ç”Ÿç‰©çš„è›‹ç™½è´¨ç»“æ„è¿›è¡Œé¢„æµ‹ã€‚ï¼ˆè¿™å—æ¯”è¾ƒæ„Ÿå…´è¶£ï¼Œæœ‰ç©ºç»§ç»­äº†è§£ä¸€ä¸‹ï¼‰ äººå·¥æ™ºèƒ½ä¸æ–°å† ç–«æƒ…Evaæ˜¯ç”¨äºæ£€æµ‹å…¥å¢ƒæ—…å®¢æ–°å† ç—…æ¯’çš„å¼ºåŒ–å­¦ä¹ ç³»ç»Ÿï¼Œå…¶ç”±ç¾å›½å—åŠ å·å¤§å­¦ã€ç¾å›½å®¾å¤•æ³•å°¼äºšå­¦ã€AgentRiskä»¥åŠå¸Œè…Šç›¸å…³ä¸“å®¶åˆä½œå¼€å‘ã€‚ 2020å¹´ï¼ŒEvaç³»ç»Ÿè¢«éƒ¨ç½²åˆ°å¸Œè…Šæ‰€æœ‰å…¥å¢ƒå£å²¸ï¼ˆæœºåœºã€æ¸¯å£ã€è½¦ç«™ç­‰ï¼‰ï¼Œç”¨äºè¯†åˆ«é™åˆ¶æ–°å† æ— ç—‡çŠ¶æ—…å®¢å…¥å¢ƒã€‚ï¼ˆè¿™é‡Œå­˜ç–‘ï¼Œç”¨ç®—æ³•ç¡®å®šæ–°å† å—æ£€è€…ï¼Œè™½ç„¶åœ¨ä¸€å®šç¨‹åº¦ä¸Šèƒ½ç¼“è§£æ–°å† æ£€æµ‹ç”¨å“æœ‰é™çš„ä¸åˆ©æƒ…å†µï¼Œä½†æ˜¯æ— ç–‘ä¼šæ¼æ‰éƒ¨åˆ†å…¥å¢ƒçš„å¯èƒ½æ„ŸæŸ“è€…ï¼Œä¸€æ—¦æ„ŸæŸ“çˆ†å‘å¾—ä¸å¿å¤±ï¼‰ äººå·¥æ™ºèƒ½ä¸åŠå¯¼ä½“AIä¸EDAç´§å¯†èåˆï¼Œä¿ƒä½¿èŠ¯ç‰‡PPAç»“æœæ›´åŠ ç¨³å®š ä¸ºä½¿PPAä¼˜åŒ–ç»“æœæ›´ä½³ï¼ŒåŒæ—¶ä¸ºåº”å¯¹èŠ¯ç‰‡å®‰å…¨æ€§éœ€æ±‚æå‡ã€è®¾è®¡è§„æ¨¡æ”€å‡åŠå·¥è‰ºèŠ‚ç‚¹å¾®ç¼©ç­‰è¶‹åŠ¿ï¼ŒEDAå‚å•†å¼€å§‹åˆ©ç”¨AIæŠ€æœ¯è§£å†³åŠå¯¼ä½“èŠ¯ç‰‡è®¾è®¡é—®é¢˜ã€‚åœ¨EDAä¸­ï¼Œæ•°æ®å¿«é€Ÿæå–æ¨¡å‹ã€å¸ƒå±€å’Œå¸ƒçº¿ã€ç”µè·¯ä»¿çœŸæ¨¡å‹ã€ PPAä¼˜åŒ–å†³ç­–ç­‰ç¯èŠ‚å‡æœ‰AIæŠ€æœ¯å‚ä¸ã€‚ äººå·¥æ™ºèƒ½ä¸ç¢³ä¸­å’Œäººå·¥æ™ºèƒ½åœ¨é¢„æµ‹ã€ç›‘æµ‹ã€ä¼˜åŒ–ä¸‰å¤§ç¯èŠ‚èµ‹èƒ½ç¢³ä¸­å’Œ å½“å‰ï¼Œç¢³ä¸­å’Œå·²è·å¾—å…¨çƒè¶…è¿‡40ä¸ªå›½å®¶å’Œåœ°åŒºæ‰¿è¯ºï¼Œå…¶ä¸­å¤§éƒ¨åˆ†å›½å®¶å®£å¸ƒå°†äº2050å¹´å·¦å³å®ç°ç¢³ä¸­å’Œç›®æ ‡ã€‚ä»æ•´ä½“æ¥çœ‹ï¼Œäººå·¥æ™ºèƒ½å°†ä»é¢„æµ‹ã€ç›‘æµ‹ã€ä¼˜åŒ–ä¸‰å¤§ç¯èŠ‚åŠ©åŠ›ç¢³ä¸­å’Œï¼Œå¦‚é¢„æµ‹æœªæ¥ç¢³æ’æ”¾é‡ã€å®æ—¶ç›‘æµ‹ç¢³è¶³è¿¹ã€ä¼˜åŒ–å·¥ä½œæµç¨‹ç­‰ã€‚ äººå·¥æ™ºèƒ½ä¸å†¬å¥¥ä¼š2022å¹´2æœˆï¼Œç¬¬24å±Šå†¬å­£å¥¥æ—åŒ¹å…‹è¿åŠ¨ä¼šæˆåŠŸåœ¨åŒ—äº¬ä¸¾åŠã€‚äººå·¥æ™ºèƒ½æŠ€æœ¯åœ¨å†¬å¥¥ä¼šå¼€å¹•å¼ã€æ¯”èµ›é¡¹ç›®ã€è¿åŠ¨å‘˜è®­ç»ƒç­‰å¤šä¸ªåœºæ™¯å®ç°åº”ç”¨ï¼ŒåŠ©åŠ›ç§‘æŠ€å†¬å¥¥ç›®æ ‡å®ç°ã€‚ 3. äººå·¥æ™ºèƒ½äº§ä¸šå‘å±•çš„è·¯å¾„æ¢ç©¶äººå·¥æ™ºèƒ½åœ¨â€œç§‘ç ”æˆæœâ€”å•†ä¸šåŒ–è½åœ°â€è¿‡ç¨‹ä¸­ä¾ç„¶å­˜åœ¨è¯¸å¤šæŒ‘æˆ˜ ä¼¦ç†ä¸å®‰å…¨äººå·¥æ™ºèƒ½å‘å±•é¢ä¸´éšç§ä¿æŠ¤ä¸ç®—æ³•åˆè§„ä½¿ç”¨ç­‰æ–¹é¢æŒ‘æˆ˜ éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„é«˜é€Ÿå‘å±•ä¸æ™®åŠåº”ç”¨ï¼Œç”±å…¶äº§ç”Ÿçš„ä¼¦ç†ä¸å®‰å…¨é—®é¢˜æ—¥ç›Šå—åˆ°å…³æ³¨ã€‚äººå·¥æ™ºèƒ½ä¸ä½†å»¶ç»­ä¿¡æ¯æŠ€æœ¯çš„ä¼¦ç†é—®é¢˜ï¼Œåˆå› æ·±åº¦å­¦ä¹ ç®—æ³•å…·æœ‰ä¸é€æ˜ã€éš¾è§£é‡Šã€è‡ªé€‚åº”ã€è¿ç”¨å¹¿æ³›ç­‰ç‰¹å¾è€Œåœ¨åŸºæœ¬äººæƒã€ç¤¾ä¼šç§©åºã€å›½å®¶å®‰å…¨ç­‰æ–¹é¢äº§ç”Ÿæ–°é—®é¢˜ã€‚ å›½å®¶é—´æŠ€æœ¯é™åˆ¶å›½å®¶é—´æŠ€æœ¯é™åˆ¶é˜»ç¢äººå·¥æ™ºèƒ½æŠ€æœ¯è¿›æ­¥ å½“å‰ï¼Œå¼€æºæ·±åº¦å­¦ä¹ æ¡†æ¶ã€å¼€æºå·¥å…·é›†ã€å¼€æºåº”ç”¨è½¯ä»¶å¿«é€Ÿå‘å±•ï¼Œå›½é™…é—´AIæŠ€æœ¯äº¤æµä¸æ–­æ·±å…¥ï¼Œä½†éƒ¨åˆ†å›½å®¶å’Œæ”¿åºœé—´ç»„ç»‡ä¸ºä¿æŒè‡ªèº«AI æŠ€æœ¯ä¼˜åŠ¿ï¼Œé™åˆ¶AIæŠ€æœ¯äº¤æµã€‚å¦‚ç¾å›½åœ¨2021å¹´6æœˆå‘å¸ƒã€Šåˆ›æ–°ä¸ç«äº‰æ³•æ¡ˆã€‹ï¼Œåœ¨AIã€æ— äººæœºã€èŠ¯ç‰‡ç­‰å¤šä¸ªé¢†åŸŸé™åˆ¶ä¸ä¸­å›½åˆä½œï¼›ç¾å›½å•†åŠ¡éƒ¨äº2019å¹´10æœˆå’Œ2020å¹´5æœˆå°†å•†æ±¤ç§‘æŠ€ã€ç§‘å¤§è®¯é£ç­‰å¤šå®¶ä¸­å›½AIå…¬å¸åŠ å…¥å…¶å®ä½“æ¸…å•ï¼Œå®æ–½æŠ•èµ„é™åˆ¶ï¼›2022å¹´ç™½å®«ä¿®è®¢â€œå…³é”®å’Œæ–°å…´æŠ€æœ¯ï¼ˆCETï¼‰æ¸…å•â€ï¼Œå¯¹AIæŠ€æœ¯å…·ä½“åˆ†ç±»å¹¶å®è¡ŒæŠ€æœ¯å°é”ã€‚æ¬§ç›Ÿåˆ™äº2021å¹´9æœˆé€šè¿‡æœ€æ–°å‡ºå£ç®¡åˆ¶æ³•è§„ï¼Œå†…å®¹æ¶µç›–äººè„¸è¯†åˆ«ç­‰AIæŠ€æœ¯ã€‚ ä¸Šè¿°ç›¸å…³æ”¿ç­–ä¸æœªæ¥äººå·¥æ™ºèƒ½å‘å±•è¶‹åŠ¿èƒŒé“è€Œé©°ï¼Œä¸åˆ©äºå„å›½å¼€å±•æŠ€æœ¯åˆä½œã€‚ æ·±åº¦å­¦ä¹ ç®—æ³•éƒ¨åˆ†å†…å®¹è¿ç§»å­¦ä¹ å°†çŸ¥è¯†ç”±æºåŸŸè¿ç§»è‡³ç›®æ ‡åŸŸï¼Œæé«˜æœºå™¨å­¦ä¹ æ•ˆç‡ è¿ç§»å­¦ä¹ ï¼ˆTransfer Learning,TLï¼‰ï¼šæ˜¯ä¸€ç§æœºå™¨å­¦ä¹ æ–¹æ³•,æ˜¯æŠŠå·²è®­ç»ƒå¥½çš„æ¨¡å‹å‚æ•°è¿ç§»åˆ°æ–°çš„æ¨¡å‹æ¥å¸®åŠ©æ–°æ¨¡å‹è®­ç»ƒï¼Œå…¶æ ¸å¿ƒç›®æ ‡æ˜¯å°†çŸ¥è¯†ä»æºåŸŸè¿ç§»åˆ°ç›®æ ‡åŸŸï¼Œè®©æœºå™¨ä¹Ÿå¯ä»¥åšåˆ°â€œè§¦ç±»æ—é€šâ€ã€‚ è¿ç§»å­¦ä¹ çš„ä¸»è¦ä¼˜ç‚¹æ˜¯èŠ‚çœæ¨¡å‹è®­ç»ƒæ—¶é—´ï¼Œä¸”åœ¨ç›®æ ‡åŸŸè®­ç»ƒæ•°æ®ä¸è¶³æ—¶ï¼Œæ¨¡å‹ä»èƒ½å–å¾—è¾ƒå¥½çš„æ€§èƒ½ã€‚ è¿ç§»å­¦ä¹ çš„è®­ç»ƒæ¡†æ¶å¯ä»¥æ¦‚æ‹¬ä¸ºï¼š1ï¼‰é€‰æ‹©æºæ¨¡å‹ï¼Œä»å¯ç”¨æ¨¡å‹ä¸­æŒ‘é€‰å‡ºé¢„è®­ç»ƒæ¨¡å‹ï¼›2ï¼‰é‡ç”¨æ¨¡å‹ï¼Œåœ¨ç›®æ ‡åŸŸä¸­ä½¿ç”¨æºæ¨¡å‹è¿›è¡Œè®­ç»ƒï¼›3ï¼‰è°ƒæ•´æ¨¡å‹ã€‚æ¨¡å‹å¯ä»¥åœ¨ç›®æ ‡æ•°æ®é›†ä¸­å¯¹è¾“å…¥-è¾“å‡ºè¿›è¡Œé€‰æ‹©æ€§å¾®è°ƒï¼Œä»¥è®©å…¶é€‚åº”ç›®æ ‡ä»»åŠ¡ã€‚ å®ç°è¿ç§»å­¦ä¹ çš„æ–¹å¼ä¸»è¦åŒ…æ‹¬æ ·æœ¬è¿ç§»ã€ç‰¹å¾è¿ç§»ã€æ¨¡å‹è¿ç§»ã€‚ç›®å‰ï¼Œè¿ç§»å­¦ä¹ ä¸»è¦åº”ç”¨åœ¨è®¡ç®—æœºè§†è§‰ã€è‡ªç„¶è¯­è¨€å¤„ç†ç­‰é¢†åŸŸã€‚ ç¥ç»ç½‘ç»œä¸å·ç§¯ç¥ç»ç½‘ç»œç¥ç»ç½‘ç»œå…·æœ‰é€‚åº”æ€§ç®€å•å•å…ƒç»„æˆçš„å¹¿æ³›å¹¶è¡Œäº’è”ç½‘ç»œ ç¥ç»ç½‘ç»œï¼ˆNeural Networkï¼‰ï¼šç”±æ•°åƒç”šè‡³æ•°ç™¾ä¸‡ä¸ªç´§å¯†äº’è¿çš„ç®€å•å¤„ç†èŠ‚ç‚¹ç»„æˆï¼Œå…¶ä¸»è¦åŒ…æ‹¬è¾“å…¥å±‚ï¼ˆè¾“å…¥æ•°æ®ï¼‰ã€ä¸­é—´å±‚&#x2F;éšè—å±‚ï¼ˆå­¦ä¹ å¤æ‚å†³ç­–è¾¹ç•Œï¼‰å’Œè¾“å‡ºå±‚ï¼ˆè¾“å‡ºç»“æœï¼‰ã€‚ ç¥ç»ç½‘ç»œå¯ä»¥ç”¨äºå›å½’ï¼Œä½†ä¸»è¦åº”ç”¨äºåˆ†ç±»é—®é¢˜ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šè¾“å…¥å±‚è¡¨ç¤ºè¾“å…¥å›¾åƒï¼ˆ64ç»´å‘é‡ï¼‰ï¼Œä¸­é—´å±‚ä½¿ç”¨Sigmoidç­‰éçº¿æ€§å‡½æ•°å¯¹äºè¾“å…¥å±‚æ•°æ®è¿›è¡Œè®¡ç®—ï¼Œè¾“å‡ºå±‚ä½¿ç”¨éçº¿æ€§å‡½æ•°å¯¹äºä¸­é—´å±‚æ•°æ®è¿›è¡Œè®¡ç®—ã€‚ ç¥ç»ç½‘ç»œé€šè¿‡é‡‡å–è®¾ç½®ä¸­é—´å±‚çš„æ–¹å¼ï¼Œåˆ©ç”¨å•ä¸€ç®—æ³•å­¦ä¹ å„ç§å†³ç­–è¾¹ç•Œï¼Œè°ƒèŠ‚ä¸­é—´å±‚æ•°é‡ä»¥åŠå±‚çš„æ·±åº¦ï¼Œç¥ç»ç½‘ç»œå¯å­¦ä¹ æ›´å¤æ‚çš„è¾¹ç•Œç‰¹å¾ï¼Œè€Œå¾—å‡ºæ›´åŠ å‡†ç¡®çš„ç»“æœã€‚ å·ç§¯ç¥ç»ç½‘ç»œä»¥å›¾åƒè¯†åˆ«ä¸ºæ ¸å¿ƒçš„æ·±åº¦å­¦ä¹ ç®—æ³• å·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Network,CNNï¼‰ï¼šç”±æ•°åƒç”šè‡³æ•°ç™¾ä¸‡ä¸ªç´§å¯†äº’è¿çš„ç®€å•å¤„ç†èŠ‚ç‚¹ç»„æˆï¼Œå…¶ä¸»è¦åŒ…æ‹¬è¾“å…¥å±‚ã€å·ç§¯å±‚ã€æ± åŒ–å±‚ã€å…¨è¿æ¥å±‚å’Œè¾“å‡ºå±‚ï¼Œé€‚åˆå¤„ç†å›¾ç‰‡ã€è§†é¢‘ç­‰ç±»å‹æ•°æ®ã€‚ 1980å¹´ï¼Œæ—¥æœ¬ç§‘å­¦å®¶ç¦å²›é‚¦å½¦æå‡ºä¸€ä¸ªåŒ…å«å·ç§¯å±‚ã€æ± åŒ–å±‚çš„ç¥ç»ç½‘ç»œç»“æ„ã€‚åœ¨æ­¤åŸºç¡€ä¸Šï¼ŒYann Lecunå°†BPç®—æ³•åº”ç”¨åˆ°è¯¥ç¥ç»ç½‘ç»œç»“æ„çš„è®­ç»ƒä¸Šï¼Œå½¢æˆå½“ä»£å·ç§¯ç¥ç»ç½‘ç»œçš„é›å½¢ï¼›1988å¹´ï¼ŒWei Zhangæå‡ºç¬¬ä¸€ä¸ªäºŒç»´å·ç§¯ç¥ç»ç½‘ç»œï¼šå¹³ç§»ä¸å˜äººå·¥ç¥ç»ç½‘ç»œï¼ˆSIANNï¼‰ï¼Œå¹¶å°†å…¶åº”ç”¨äºæ£€æµ‹åŒ»å­¦å½±åƒï¼›1998å¹´Yann LeCunåŠå…¶åˆä½œè€…æ„å»ºäº†æ›´åŠ å®Œå¤‡çš„å·ç§¯ç¥ç»ç½‘ç»œLeNet-5å¹¶åœ¨æ‰‹å†™æ•°å­—çš„è¯†åˆ«é—®é¢˜ä¸­å–å¾—æˆåŠŸã€‚ å·ç§¯å±‚ï¼šå›¾ç‰‡è¾“å…¥è½¬åŒ–æˆRGBå¯¹åº”çš„æ•°å­—ï¼Œç„¶åé€šè¿‡å·ç§¯æ ¸åšå·ç§¯ï¼Œç›®çš„æ˜¯æå–è¾“å…¥ä¸­çš„ä¸»è¦ç‰¹å¾ï¼Œå·ç§¯å±‚ä¸­ä½¿ç”¨åŒä¸€å·ç§¯æ ¸å¯¹æ¯ä¸ªè¾“å…¥æ ·æœ¬è¿›è¡Œå·ç§¯æ“ä½œï¼› æ± åŒ–å±‚ï¼šä½œç”¨åœ¨äºå‡å°å·ç§¯å±‚äº§ç”Ÿçš„ç‰¹å¾å›¾å°ºå¯¸ï¼ˆå‹ç¼©ç‰¹å¾æ˜ å°„å›¾å°ºå¯¸æœ‰åŠ©äºé™ä½åç»­ç½‘ç»œå¤„ç†çš„è´Ÿè½½ï¼‰ï¼› å…¨è¿æ¥å±‚ï¼šè®¡ç®—æ¿€æ´»å€¼ç„¶åé€šè¿‡æ¿€æ´»å‡½æ•°è®¡ç®—å„å•å…ƒè¾“å‡ºå€¼ï¼ˆæ¿€æ´»å‡½æ•°åŒ…æ‹¬Sigmoidã€tanhã€ReLUç­‰ï¼‰ è¾“å‡ºå±‚ï¼šä½¿ç”¨ä¼¼ç„¶å‡½æ•°è®¡ç®—å„ç±»åˆ«ä¼¼ç„¶æ¦‚ç‡ã€‚ å¾ªç¯ç¥ç»ç½‘ç»œä¸å›¾ç¥ç»ç½‘ç»œå¾ªç¯ç¥ç»ç½‘ç»œç”¨äºå¤„ç†åºåˆ—æ•°æ®çš„ç¥ç»ç½‘ç»œ å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRecurrent Neural Network,RNNï¼‰ï¼šæ˜¯ä¸€ç±»ä»¥åºåˆ—æ•°æ®ï¼ˆæŒ‡ç›¸äº’ä¾èµ–çš„æ•°æ®æµï¼Œæ¯”å¦‚æ—¶é—´åºåˆ—æ•°æ®ã€ä¿¡æ¯æ€§çš„å­—ç¬¦ä¸²ã€å¯¹è¯ç­‰ï¼‰ä¸ºè¾“å…¥ï¼Œåœ¨åºåˆ—çš„æ¼”è¿›æ–¹å‘è¿›è¡Œé€’å½’ä¸”æ‰€æœ‰èŠ‚ç‚¹ï¼ˆå¾ªç¯å•å…ƒï¼‰æŒ‰é“¾å¼è¿æ¥çš„ç¥ç»ç½‘ç»œã€‚ç›®å‰ï¼Œè¯­è¨€å»ºæ¨¡å’Œæ–‡æœ¬ç”Ÿæˆã€æœºå™¨ç¿»è¯‘ã€è¯­éŸ³è¯†åˆ«ã€ç”Ÿæˆå›¾åƒæè¿°ã€è§†é¢‘æ ‡è®°æ˜¯RNNåº”ç”¨æœ€å¤šçš„é¢†åŸŸã€‚ å›¾ç¥ç»ç½‘ç»œç”¨äºå¤„ç†å›¾ç»“æ„æ•°æ®çš„ç¥ç»ç½‘ç»œ å›¾ç¥ç»ç½‘ç»œï¼ˆGraph Neural Networksï¼ŒGNNï¼‰ï¼šå°†å›¾æ•°æ®å’Œç¥ç»ç½‘ç»œè¿›è¡Œç»“åˆï¼Œåœ¨å›¾æ•°æ®ä¸Šé¢è¿›è¡Œç«¯å¯¹ç«¯çš„è®¡ç®—ï¼Œå…·å¤‡ç«¯å¯¹ç«¯å­¦ä¹ ã€æ“…é•¿æ¨ç†ã€å¯è§£é‡Šæ€§å¼ºçš„ç‰¹ç‚¹ã€‚ å›¾ç¥ç»ç½‘ç»œå‘å±•å‡ºå¤šä¸ªåˆ†æ”¯ï¼Œä¸»è¦åŒ…æ‹¬å›¾å·ç§¯ç½‘ç»œã€å›¾æ³¨æ„åŠ›ç½‘ç»œã€å›¾è‡ªç¼–ç å™¨ã€å›¾ç”Ÿæˆç½‘ç»œå’Œå›¾æ—¶ç©ºç½‘ç»œç­‰ã€‚ å›¾ç¥ç»ç½‘ç»œçš„è®­ç»ƒæ¡†æ¶å¦‚ä¸‹ï¼šé¦–å…ˆï¼Œæ¯ä¸ªèŠ‚ç‚¹è·å–å…¶ç›¸é‚»èŠ‚ç‚¹çš„æ‰€æœ‰ç‰¹å¾ä¿¡æ¯ï¼Œå°†èšåˆå‡½æ•°ï¼ˆå¦‚æ±‚å’Œæˆ–å–å¹³å‡ï¼‰åº”ç”¨äºè¿™äº›ä¿¡æ¯ã€‚ èšåˆå‡½æ•°çš„é€‰æ‹©å¿…é¡»ä¸å—èŠ‚ç‚¹é¡ºåºå’Œæ’åˆ—çš„å½±å“ã€‚ä¹‹åï¼Œå°†å‰ä¸€æ­¥å¾—åˆ°çš„å‘é‡ä¼ å…¥ä¸€ä¸ªç¥ç»ç½‘ç»œå±‚ï¼ˆé€šå¸¸æ˜¯ä¹˜ä»¥æŸä¸ªçŸ©é˜µï¼‰ï¼Œç„¶åä½¿ç”¨éçº¿æ€§æ¿€æ´»å‡½æ•°ï¼ˆå¦‚ReLUï¼‰æ¥è·å¾—æ–°çš„å‘é‡è¡¨ç¤ºã€‚ ç›®å‰ï¼Œå›¾ç¥ç»ç½‘ç»œåœ¨è®¸å¤šé¢†åŸŸçš„å®é™…åº”ç”¨ä¸­éƒ½å±•ç°å‡ºå¼ºå¤§çš„è¡¨è¾¾èƒ½åŠ›å’Œé¢„æµ‹èƒ½åŠ›ï¼Œå¦‚ç‰©ç†ä»¿çœŸã€ç§‘å­¦ç ”ç©¶ã€ç”Ÿç‰©åŒ»è¯ã€é‡‘èé£æ§ç­‰ã€‚ é•¿çŸ­æœŸè®°å¿†ç¥ç»ç½‘ç»œåœ¨RNNä¸­åŠ å…¥é—¨æ§æœºåˆ¶ï¼Œè§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ é•¿çŸ­æœŸè®°å¿†ç¥ç»ç½‘ç»œï¼ˆLong Short-Term Memory,LSTMï¼‰ï¼šLSTMæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰ã€‚ä¼ ç»ŸRNNåœ¨è®­ç»ƒä¸­ï¼Œéšç€è®­ç»ƒæ—¶é—´çš„åŠ é•¿å’Œå±‚æ•°çš„å¢å¤šï¼Œå¾ˆå®¹æ˜“å‡ºç°æ¢¯åº¦çˆ†ç‚¸æˆ–æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ï¼Œå¯¼è‡´æ— æ³•å¤„ç†é•¿åºåˆ—æ•°æ®ï¼ŒLSTMå¯æœ‰æ•ˆè§£å†³ä¼ ç»ŸRNNâ€œé•¿æœŸä¾èµ–â€é—®é¢˜ã€‚ LSTMç”±çŠ¶æ€å•å…ƒã€è¾“å…¥é—¨ï¼ˆå†³å®šå½“å‰æ—¶åˆ»ç½‘ç»œçš„è¾“å…¥æ•°æ®æœ‰å¤šå°‘éœ€è¦ä¿å­˜åˆ°å•å…ƒçŠ¶æ€ï¼‰ã€é—å¿˜é—¨ï¼ˆå†³å®šä¸Šä¸€æ—¶åˆ»çš„å•å…ƒçŠ¶æ€æœ‰å¤šå°‘éœ€è¦ä¿ç•™åˆ°å½“å‰æ—¶åˆ»ï¼‰ã€è¾“å‡ºé—¨ï¼ˆæ§åˆ¶å½“å‰å•å…ƒçŠ¶æ€æœ‰å¤šå°‘éœ€è¦è¾“å‡ºåˆ°å½“å‰è¾“å‡ºå€¼ï¼‰ç»„æˆï¼Œä»¥æ­¤ä»¤é•¿æœŸè®°å¿†ä¸çŸ­æœŸè®°å¿†ç›¸ç»“åˆï¼Œè¾¾åˆ°åºåˆ—å­¦ä¹ çš„ç›®çš„ LSTMåº”ç”¨é¢†åŸŸä¸»è¦åŒ…æ‹¬æ–‡æœ¬ç”Ÿæˆã€æœºå™¨ç¿»è¯‘ã€è¯­éŸ³è¯†åˆ«ã€ç”Ÿæˆå›¾åƒæè¿°å’Œè§†é¢‘æ ‡è®°ç­‰ã€‚ï¼ˆæˆ‘å‰ä¸€ç¯‡åšå®¢åšçš„ttsç”¨äº†Tacotron2ï¼Œå…¶ç¼–ç å™¨æ¨¡å—ä¸­å°±å¼•å…¥äº†ä¸€ä¸ªåŒå‘LSTMå±‚ï¼‰ è‡ªç¼–ç å™¨é€šè¿‡æœŸæœ›è¾“å‡ºç­‰åŒäºè¾“å…¥æ ·æœ¬çš„è¿‡ç¨‹ï¼Œå®ç°å¯¹è¾“å…¥æ ·æœ¬æŠ½è±¡ç‰¹å¾å­¦ä¹  å…¸å‹æ·±åº¦æ— ç›‘ç£å­¦ä¹ æ¨¡å‹åŒ…æ‹¬è‡ªç¼–ç å™¨ã€å—é™æ³¢å°”å…¹æ›¼æœºä¸ç”Ÿæˆå¯¹æŠ—ç½‘ç»œã€‚ è‡ªç¼–ç å™¨ï¼ˆAutoencoder,AEï¼‰ï¼šåŒ…æ‹¬ç¼–ç å™¨å’Œè§£ç å™¨ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ç¼–ç å™¨å°†é«˜ç»´è¾“å…¥æ ·æœ¬æ˜ å°„åˆ°ä½ç»´æŠ½è±¡è¡¨ç¤ºï¼Œå®ç°æ ·æœ¬å‹ç¼©ä¸é™ç»´ï¼›è§£ç å™¨å°†æŠ½è±¡è¡¨ç¤ºè½¬æ¢ä¸ºæœŸæœ›è¾“å‡ºï¼Œå®ç°è¾“å…¥æ ·æœ¬çš„å¤ç°ã€‚è‡ªç å™¨çš„è¾“å…¥ä¸æœŸæœ›è¾“å‡ºå‡ä¸ºæ— æ ‡ç­¾æ ·æœ¬ï¼Œéšè—å±‚è¾“å‡ºåˆ™ä½œä¸ºæ ·æœ¬çš„æŠ½è±¡ç‰¹å¾è¡¨ç¤ºã€‚ è‡ªç¼–ç å™¨ä»…é€šè¿‡æœ€å°åŒ–è¾“å…¥æ ·æœ¬ä¸é‡æ„æ ·æœ¬ä¹‹é—´çš„è¯¯å·®æ¥è·å–è¾“å…¥æ ·æœ¬çš„æŠ½è±¡ç‰¹å¾è¡¨ç¤ºï¼Œæ— æ³•ä¿è¯è‡ªç¼–ç å™¨æå–åˆ°æ ·æœ¬çš„æœ¬è´¨ç‰¹å¾ã€‚ä¸ºé¿å…ä¸Šè¿°é—®é¢˜ï¼Œéœ€è¦å¯¹è‡ªç¼–ç å™¨æ·»åŠ çº¦æŸæˆ–ä¿®æ”¹ç½‘ç»œç»“æ„ï¼Œè¿›è€Œäº§ç”Ÿç¨€ç–è‡ªç¼–ç å™¨ã€å»å™ªè‡ªç¼–ç å™¨ã€æ”¶ç¼©è‡ªç¼–ç å™¨ç­‰æ”¹è¿›ç®—æ³•ã€‚ è‡ªç¼–ç å™¨å‡­å€Ÿå…¶ä¼˜å¼‚çš„ç‰¹å¾æå–èƒ½åŠ›ï¼Œä¸»è¦åº”ç”¨äºç›®æ ‡è¯†åˆ«ã€æ–‡æœ¬åˆ†ç±»ã€å›¾åƒé‡å»ºç­‰è¯¸å¤šé¢†åŸŸã€‚ ç”Ÿæˆå¯¹æŠ—ç½‘ç»œç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGenerative Adversarial Network,GANï¼‰ï¼šé€šè¿‡ä½¿ç”¨å¯¹æŠ—è®­ç»ƒæœºåˆ¶å¯¹ä¸¤ä¸ªç¥ç»ç½‘ç»œè¿›è¡Œè®­ç»ƒï¼Œé¿å…åå¤åº”ç”¨é©¬å°”å¯å¤«é“¾å­¦ä¹ æœºåˆ¶å¸¦æ¥çš„é…åˆ†å‡½æ•°è®¡ç®—ï¼Œæ˜æ˜¾æé«˜åº”ç”¨æ•ˆç‡ã€‚ ç”Ÿæˆå¯¹æŠ—ç½‘ç»œåŒ…å«ä¸€ç»„ç›¸äº’å¯¹æŠ—æ¨¡å‹â€”åˆ¤åˆ«å™¨å’Œç”Ÿæˆå™¨ï¼Œåˆ¤åˆ«å™¨ç›®çš„æ˜¯æ­£ç¡®åŒºåˆ†çœŸå®æ•°æ®å’Œç”Ÿæˆæ•°æ®ï¼Œä½¿å¾—åˆ¤åˆ«å‡†ç¡®ç‡æœ€å¤§åŒ–ï¼Œç”Ÿæˆå™¨æ˜¯å°½å¯èƒ½é€¼è¿‘çœŸå®æ•°æ®çš„æ½œåœ¨åˆ†å¸ƒã€‚ç”Ÿæˆå™¨ç±»ä¼¼äºé€ å‡é’çš„äººï¼Œå…¶åˆ¶é€ å‡ºä»¥å‡ä¹±çœŸçš„å‡é’ï¼Œåˆ¤åˆ«å™¨ç±»ä¼¼äºè­¦å¯Ÿï¼Œå°½å¯èƒ½é‰´åˆ«å‡ºå‡é’ï¼Œæœ€ç»ˆé€ å‡é’çš„äººå’Œè­¦å¯ŸåŒæ–¹åœ¨åšå¼ˆä¸­ä¸æ–­æå‡å„è‡ªèƒ½åŠ›ã€‚ï¼ˆåŒæ ·æ˜¯æˆ‘å‰é¢ä¸€ç¯‡åšå®¢è¯­éŸ³åˆæˆttsä¸­ï¼Œåº”ç”¨çš„HiFiGANå°±æ˜¯åŸºäºGANçš„å£°ç å™¨ï¼‰","categories":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://www.shelven.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"äººå·¥æ™ºèƒ½","slug":"äººå·¥æ™ºèƒ½","permalink":"http://www.shelven.com/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"}]},{"title":"go-cqhttpæ‰«ç ç™»å½•å¼‚å¸¸çš„è§£å†³æ–¹æ³•","slug":"go-cqhttpæ‰«ç ç™»å½•å¼‚å¸¸çš„è§£å†³æ–¹æ³•","date":"2022-09-09T11:43:05.000Z","updated":"2023-08-04T15:08:20.000Z","comments":true,"path":"2022/09/09/b.html","link":"","permalink":"http://www.shelven.com/2022/09/09/b.html","excerpt":"å‡æœŸç”¨è‡ªå·±çš„æœåŠ¡å™¨æ­å»ºäº†ä¸€ä¸ªåŸºäº Nonebot2 å’Œ go-cqhttp æ¡†æ¶çš„QQèŠå¤©æœºå™¨äººï¼Œä½¿ç”¨çš„å¼€æºé¡¹ç›®æ˜¯ç»ªå±±çœŸå¯»botï¼ˆé¡¹ç›®åœ°å€ç‚¹å‡»è¿™é‡Œï¼‰ã€‚å› ä¸ºé¡¹ç›®æä¾›äº†ä¸€é”®å®‰è£…åŒ…ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è¯´å®‰è£…è¿‡ç¨‹äº†ï¼Œç®€å•è¯´ä¸‹é¦–æ¬¡è¿è¡Œæˆ–è€…åˆ‡æ¢bot QQå·ä¼šç¢°åˆ°çš„go-cqhttpæ‰«ç ç™»é™†å¼‚å¸¸çš„é—®é¢˜ã€‚","text":"å‡æœŸç”¨è‡ªå·±çš„æœåŠ¡å™¨æ­å»ºäº†ä¸€ä¸ªåŸºäº Nonebot2 å’Œ go-cqhttp æ¡†æ¶çš„QQèŠå¤©æœºå™¨äººï¼Œä½¿ç”¨çš„å¼€æºé¡¹ç›®æ˜¯ç»ªå±±çœŸå¯»botï¼ˆé¡¹ç›®åœ°å€ç‚¹å‡»è¿™é‡Œï¼‰ã€‚å› ä¸ºé¡¹ç›®æä¾›äº†ä¸€é”®å®‰è£…åŒ…ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è¯´å®‰è£…è¿‡ç¨‹äº†ï¼Œç®€å•è¯´ä¸‹é¦–æ¬¡è¿è¡Œæˆ–è€…åˆ‡æ¢bot QQå·ä¼šç¢°åˆ°çš„go-cqhttpæ‰«ç ç™»é™†å¼‚å¸¸çš„é—®é¢˜ã€‚ æ³¨ï¼šå†™è¿™ç¯‡åšå®¢çš„æ—¶å€™go-cqhttpç‰ˆæœ¬ä¸º1.0.0ï¼Œå¾€åçš„ç‰ˆæœ¬å·²é€‚é…ç­¾åæœåŠ¡å™¨ï¼Œæœ¬æ–¹æ³•å·²ä¸å†é€‚ç”¨ï¼Œè¯¦æƒ…è¯·çœ‹[go-cqhttpç™»å½•å¼‚å¸¸ï¼ˆé”™è¯¯ç 45ï¼‰çš„è§£å†³åŠæ³•](https://www.shelven.com/2023/08/04/a.htmlï¼‰ é—®é¢˜æè¿°ï¼šé¦–æ¬¡è¿è¡Œæˆ–è€…åˆ‡æ¢bot QQå·åï¼Œgo-cqhttpä¼šè¦æ±‚éœ€è¦ç™»å½•éªŒè¯ï¼Œç”±äºçº¯linuxç³»ç»Ÿæ— æ³•ä½¿ç”¨æµè§ˆå™¨æŠ“å–æ»‘æ¡ï¼Œå› æ­¤ä¼šè‡ªåŠ¨è·³è½¬åˆ°æ‰‹æœºQQæ‰«ç éªŒè¯ã€‚ ä½†æ˜¯æ‰«ç ä¼šæç¤ºä¸¤ä¸ªè®¾å¤‡ä¸åœ¨ä¸€ä¸ªç½‘ç»œï¼Œæ— æ³•ç™»å½•ã€‚ï¼ˆå¾ˆæ˜æ˜¾æˆ‘çš„äº‘ç«¯linuxæœåŠ¡å™¨ä¸å¯èƒ½å’Œæ‰‹æœºèƒ½åœ¨ä¸€ä¸ªç½‘ç»œä¸­ï¼‰ è¿™ä¸ªé—®é¢˜æ˜¯è…¾è®¯QQå®‰å…¨æœºåˆ¶å¼•èµ·çš„ï¼Œå¾ˆæ˜æ˜¾æ˜¯é™åˆ¶QQæœºå™¨äººçš„æ‰‹æ®µï¼Œä¹Ÿå°±æ˜¯ä½ æ‰«ç çš„ç½‘ç»œç¯å¢ƒè¦å’ŒæœåŠ¡å™¨çš„ç½‘ç»œç¯å¢ƒä¸€è‡´æ‰å¯ä»¥ç™»å½•ã€‚ è§£å†³æ–¹æ³•ï¼šç¬¬ä¸€æ­¥ ä¸‹è½½å’Œè¿è¡Œwinç‰ˆgo-cqhttpé¡¹ç›®ä¸‹è½½åœ°å€Releases Â· Mrs4s&#x2F;go-cqhttp (github.com) é€‰æ‹©ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„go-cqhttp_windows_amd64ï¼Œè§£å‹åæœ‰ä¸‰ä¸ªæ–‡ä»¶ åŒå‡»exeæ–‡ä»¶ï¼Œæç¤ºè¦åœ¨power shellä¸­è¿è¡Œï¼Œç¡®è®¤ï¼Œè‡ªåŠ¨ç”Ÿæˆgo-cqhttp.batçš„æ‰¹å¤„ç†æ–‡ä»¶ åŒå‡»è¿è¡Œgo-cqhttp.batï¼Œé€‰æ‹©013ï¼Œå›è½¦ ä¿®æ”¹ç”Ÿæˆçš„config.ymlé…ç½®æ–‡ä»¶ï¼ˆä¸»è¦å°±æ˜¯æ”¹bot QQå·å’Œå¯†ç ï¼‰ ä¿®æ”¹ä¹‹åå†æ¬¡è¿è¡Œgo-cqhttp.batï¼Œçœ‹åˆ°è¿æ¥æˆåŠŸï¼Œç½‘ç»œæ²¡æœ‰é—®é¢˜å³å¯ å‰é¢çš„åå‘ä»£ç†å¤±è´¥ç»Ÿç»Ÿä¸ç”¨ç®¡ï¼ˆå› ä¸ºæˆ‘æ²¡æœ‰è®¾ç½®ï¼‰ï¼Œæˆ‘ä»¬åªéœ€è¦winç‰ˆgo-cqhttpæä¾›è®¾å¤‡ç™»å½•ä¿¡æ¯æ–‡ä»¶ï¼ˆdevice.jsonï¼‰å’Œå¯†é’¥ä¿¡æ¯æ–‡ä»¶ï¼ˆsession.tokenï¼‰å³å¯ã€‚è¿™ä¸¤ä¸ªæ–‡ä»¶ç‰¹åˆ«é‡è¦ï¼Œå°¤å…¶æ˜¯device.jsonï¼Œç¼ºä¸€ä¸ªéƒ½å°†ä¼šå¯¼è‡´ç™»é™†å¤±è´¥ã€‚ ç¬¬äºŒæ­¥ æ›¿æ¢æ–‡ä»¶æ›¿æ¢linuxæœåŠ¡å™¨go-cqhttpæ–‡ä»¶å¤¹ä¸‹çš„device.jsonå’Œsession.tokenï¼ˆæœ‰çš„è¯æ›¿æ¢ï¼Œæ— çš„è¯ç›´æ¥åŠ è¿›å»ï¼‰æ–‡ä»¶ï¼Œconfigæ–‡ä»¶æœ€å¥½ä¸è¦æ›¿æ¢ï¼Œä½ åªè¦æ”¹ä¸€ä¸‹qqå·å’Œå¯†ç å°±è¡Œï¼Œé˜²æ­¢åº•ä¸‹è®¾ç½®çš„åå‘è¿æ¥ç«¯å£å‡ºé”™ï¼ˆå¾ˆé‡è¦ï¼ï¼ï¼‰ã€‚ é‡æ–°åœ¨linuxä¸Šå¯åŠ¨go-cqhttpï¼Œé—®é¢˜è§£å†³ã€‚","categories":[{"name":"QQæœºå™¨äºº","slug":"QQæœºå™¨äºº","permalink":"http://www.shelven.com/categories/QQ%E6%9C%BA%E5%99%A8%E4%BA%BA/"}],"tags":[{"name":"qq bot","slug":"qq-bot","permalink":"http://www.shelven.com/tags/qq-bot/"},{"name":"go-cqhttp","slug":"go-cqhttp","permalink":"http://www.shelven.com/tags/go-cqhttp/"}]},{"title":"æ·±åº¦å­¦ä¹ â€”â€”è¯­éŸ³åˆæˆttsç¬”è®°ï¼ˆä¸‹ï¼‰","slug":"æ·±åº¦å­¦ä¹ â€”â€”è¯­éŸ³åˆæˆttsç¬”è®°ï¼ˆä¸‹ï¼‰","date":"2022-09-08T19:32:17.000Z","updated":"2022-12-03T16:20:43.000Z","comments":true,"path":"2022/09/09/a.html","link":"","permalink":"http://www.shelven.com/2022/09/09/a.html","excerpt":"ï¼ˆæ¥ä¸Šç¯‡åšå®¢ï¼‰åšå®Œæ•°æ®é›†ï¼Œæˆ‘ä»¬æ‰‹é‡Œç°åœ¨æœ‰è®­ç»ƒé›†ï¼ˆtrain setï¼‰å’Œæµ‹è¯•é›†ï¼ˆtest setï¼‰éŸ³é¢‘æ–‡ä»¶ï¼Œä»¥åŠå¯¹åº”çš„æ‹¼éŸ³æ–‡æœ¬ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥è·‘Tacotron2æ¥è®­ç»ƒæ¨¡å‹äº†ã€‚","text":"ï¼ˆæ¥ä¸Šç¯‡åšå®¢ï¼‰åšå®Œæ•°æ®é›†ï¼Œæˆ‘ä»¬æ‰‹é‡Œç°åœ¨æœ‰è®­ç»ƒé›†ï¼ˆtrain setï¼‰å’Œæµ‹è¯•é›†ï¼ˆtest setï¼‰éŸ³é¢‘æ–‡ä»¶ï¼Œä»¥åŠå¯¹åº”çš„æ‹¼éŸ³æ–‡æœ¬ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥è·‘Tacotron2æ¥è®­ç»ƒæ¨¡å‹äº†ã€‚ 2. è®­ç»ƒæ¨¡å‹ &amp; åˆæˆè¯­éŸ³Tacotron2é¡¹ç›®åœ°å€ç‚¹å‡»è¿™é‡Œ HiFi-GANé¡¹ç›®åœ°å€ç‚¹å‡»è¿™é‡Œ æœ¬ç¯‡åšå®¢è®­ç»ƒæ¨¡å‹&amp;åˆæˆè¯­éŸ³åŸºäºä»¥ä¸Šä¸¤ä¸ªå¼€æºé¡¹ç›®ï¼Œå†æ¬¡æ„Ÿè°¢åŸä½œè€…ï¼ 2.1 Tacotron2ç®€ä»‹ç®€å•è®²ä¸€è®²Tacotron2ï¼Œå®ƒæ˜¯ç”±googleæ¨å‡ºçš„ä»æ–‡æœ¬ä¸­åˆæˆè¯­éŸ³çš„ç¥ç»ç½‘ç»œç»“æ„ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªè¯­éŸ³åˆæˆï¼ˆText To Speechï¼ŒTTSï¼‰æ¡†æ¶ï¼Œå¯ä»¥å®ç°ç«¯åˆ°ç«¯çš„è¯­éŸ³åˆæˆã€‚Tacotron2ä¸å…¶å‰ä»£Tacotronç±»ä¼¼ï¼Œæ¯”è¾ƒé‡è¦çš„ä¸€ä¸ªåŒºåˆ«æ˜¯åœ¨ç¼–ç å™¨æ¨¡å—ä¸­å¼•å…¥äº†ä¸€ä¸ªåŒå‘LSTMå±‚å’Œå·ç§¯å±‚ï¼Œç›¸æ¯”åŸæ¥çš„CBHGå †å ç»“æ„å’ŒGRUå¾ªç¯å±‚æ›´ä¸ºç®€æ´ã€‚ æ¨¡å‹ä¸»è¦ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š å£°è°±é¢„æµ‹ç½‘ç»œï¼šç‰¹å¾é¢„æµ‹ç½‘ç»œï¼ŒåŒ…å«ä¸€ä¸ªç¼–ç å™¨å’Œä¸€ä¸ªå¼•å…¥æ³¨æ„åŠ›æœºåˆ¶ï¼ˆattentionï¼‰çš„è§£ç å™¨ï¼Œä½œç”¨æ˜¯å°†è¾“å…¥å­—ç¬¦åºåˆ—é¢„æµ‹ä¸ºæ¢…å°”é¢‘è°±çš„å¸§åºåˆ—ã€‚ å£°ç å™¨ï¼ˆvocoderï¼‰ï¼šå°†é¢„æµ‹çš„æ¢…å°”é¢‘è°±å¸§åºåˆ—è½¬æ¢äº§ç”Ÿæ—¶åŸŸæ³¢å½¢æ ·æœ¬ï¼Œç®—æ˜¯WaveNetçš„ä¿®è®¢ç‰ˆã€‚ åŸé¡¹ç›®ä¸­çš„å£°ç å™¨æˆ‘ä»¬æš‚æ—¶ä¸ç”¨ï¼ˆä¸Šé¢åœ°å€æä¾›çš„Tacotron 2å°±æ˜¯æ²¡æœ‰wavenetçš„ç‰ˆæœ¬ï¼‰ï¼Œå› ä¸ºæœ‰æ›´å¥½çš„å·¥å…·HiFi-GANã€‚ ä»£ç å®ç°è¯¦è§£æœ‰å¾ˆå¤šåšå®¢å¯ä»¥å‚è€ƒï¼ˆ(16æ¡æ¶ˆæ¯) Tacotron2 è®ºæ–‡ + ä»£ç è¯¦è§£_HJ_å½¼å²¸çš„åšå®¢-CSDNåšå®¢_tacotron2ï¼‰ï¼Œè¿™é‡Œåªè¦çŸ¥é“æˆ‘ä»¬æ˜¯ç”¨Tacotron2ç”Ÿæˆæ¢…å°”é¢‘è°±ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šç»“åˆæˆ‘ä»¬è¾“å…¥çš„å­—ç¬¦åºåˆ—ï¼ˆä¹Ÿå°±æ˜¯å¯¹åº”çš„æ‹¼éŸ³æ–‡æœ¬ï¼‰è®­ç»ƒæ¨¡å‹ã€‚ ç‰¹åˆ«æ³¨æ„ä¸€ç‚¹ï¼šTacotron 2æ˜¯åŸºäºtensorflow1.5ç‰ˆæœ¬è¿è¡Œçš„ï¼Œå¦‚æœæ˜¯è‡ªå·±ç”µè„‘ä¸Šé…ç½®ç¯å¢ƒçš„è¯ï¼ŒåŠ¡å¿…å°†pythonç‰ˆæœ¬é™åˆ°3.7ä»¥ä¸‹ï¼å¦åˆ™å°†ä¼šæ— æ³•å®‰è£…tensorflow1.5ï¼Œé™¤äº†tensorflowæœ‰ç¡¬æ€§ç‰ˆæœ¬è¦æ±‚ä¹‹å¤–ï¼Œå…¶ä»–ä¾èµ–éƒ½å¯ä»¥å®‰è£…æœ€æ–°ç‰ˆæœ¬â€”â€”åå¤é…ç½®ç¯å¢ƒæ²»å¥½äº†æˆ‘çš„ç²¾ç¥å†…è€— å¦‚æœä½ ä¸æƒ³å’Œæˆ‘ä¸€æ ·é…ç½®å¥½å‡ å¤©ç¯å¢ƒçš„è¯ï¼Œæˆ‘æ¨èæœ€å¥½ä½¿ç”¨google colabï¼Œä¸€é”®è§£å†³ç¯å¢ƒé—®é¢˜ï¼Œä¸‹é¢ä¼šè¯´åˆ°ã€‚ 2.2 HiFi-GANç®€ä»‹ç®€å•è¯´ä¸‹ï¼Œå£°ç å™¨çš„ä½œç”¨å°±æ˜¯å°†æ¢…å°”é¢‘è°±è½¬æ¢æˆè¯­éŸ³ä¿¡å·ï¼Œå’Œä¸Šé¢æ˜¯å¯¹åº”çš„ã€‚ ä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰ç”¨ä¸Šé¢Tacotron2çš„å£°ç å™¨å‘¢ï¼Œä¸»è¦åŸå› å°±æ˜¯ç°åœ¨æœ‰å¾ˆå¤šæ›´ä¼˜ç§€çš„å£°ç å™¨ä¾›æˆ‘ä»¬é€‰æ‹©ã€‚ æ—©æœŸæ¯”è¾ƒæœ‰åçš„å£°ç å™¨WaveNetï¼Œå®ƒæ˜¯ä¸€ç§è‡ªå›å½’å·ç§¯ç¥ç»ç½‘ç»œï¼Œåˆæˆçš„æ•ˆæœéå¸¸å¥½å¯ä»¥è¯´å’Œäººç±»å‘å£°éå¸¸ç›¸ä¼¼ï¼Œä½†æœ‰ä¸ªè‡´å‘½çš„ç¼ºç‚¹â€”â€”åˆæˆé€Ÿåº¦å¤ªæ…¢ã€‚ç›´åˆ°2020å¹´é¡¹ç›®ä½œè€…å¼€å‘äº†è¿™å¥—åŸºäºGANï¼ˆç”Ÿæˆå¼å¯¹æŠ—ç½‘ç»œï¼‰çš„ç¥ç»ç½‘ç»œå£°ç å™¨ï¼Œä»ä½œè€…çš„è®ºæ–‡é‡Œå¯ä»¥æ‰¾åˆ°ï¼ŒHiFi-GANåœ¨GPUä¸Šå¯ä»¥ä»¥æ¯”å®æ—¶é€Ÿåº¦å¿«167.9å€çš„é€Ÿåº¦ç”Ÿæˆ22.05 kHzçš„è¯­éŸ³ï¼Œåœ¨CPUä¸Šå¯ä»¥ä»¥æ¯”è‡ªå›å½’æ¨¡å‹å¿«13.4å€çš„é€Ÿåº¦ç”Ÿæˆè¯­éŸ³ï¼Œè¿™å°±æ˜¯å®ƒçš„ç‰›é€¼ä¹‹å¤„ã€‚ HiFi-GANä¸»è¦æœ‰ä¸€ä¸ªç”Ÿæˆå™¨å’Œä¸¤ä¸ªåˆ¤åˆ«å™¨ï¼Œå…·ä½“ç»“æ„å°±ä¸è¯´äº†ï¼ŒçŸ¥é“ä¸€ä¸‹ç”Ÿæˆå™¨å’Œä¸¤ä¸ªåˆ¤åˆ«å™¨æ˜¯é€šè¿‡å¯¹æŠ—å­¦ä¹ çš„æ–¹æ³•è®­ç»ƒçš„ï¼Œæ–°å¢åŠ äº†ä¸¤ä¸ªæŸå¤±å‡½æ•°æ¥æé«˜è®­ç»ƒçš„ç¨³å®šæ€§å’Œæé«˜æ¨¡å‹çš„æ€§èƒ½ã€‚æœ‰èƒ½åŠ›çš„å°ä¼™ä¼´å¯ä»¥çœ‹åŸè®ºæ–‡ï¼ˆHiFi-GAN: Generative Adversarial Networks for Efficient and High Fidelity Speech Synthesisï¼‰äº†è§£è¯¦æƒ…ã€‚ éœ€è¦æ³¨æ„ä¸€ä¸‹ä½œè€…ä½¿ç”¨VCTKæ•°æ®é›†è¿›è¡Œå®éªŒï¼Œæµ‹è¯•äº†3ä¸ªæ¨¡å‹ï¼ˆV1ã€V2å’ŒV3ï¼‰ï¼Œç®€å•æ¥è¯´V1æ˜¯æœ€ä¼˜æ¨¡å‹ï¼Œä½œè€…å‘å¸ƒçš„é¢„è®­ç»ƒæ¨¡å‹ä»¥åŠç›¸åº”çš„é…ç½®æ–‡ä»¶éƒ½æ˜¯ä»¥V1æ¨¡å‹ä¸ºåŸºç¡€çš„ã€‚æˆ‘åœ¨è¿™ç¯‡åšå®¢ä½¿ç”¨çš„HiFi-GANæ¨¡å‹g_02500000å°±æ˜¯ä½œè€…çš„é¢„è®­ç»ƒæ¨¡å‹ï¼Œé…ç½®æ–‡ä»¶ä¸ºconfig.jsonã€‚ HiFi-GANé¢„è®­ç»ƒæ¨¡å‹ä¸é…ç½®æ–‡ä»¶ä¸‹è½½åœ°å€ï¼š UNIVERSAL_V1 - Google äº‘ç«¯ç¡¬ç›˜ 2.2 æ³¨å†Œè°·æ­Œcolabå’Œè°·æ­Œäº‘ç›˜è®­ç»ƒæ¨¡å‹æ˜¯ä¸€ä»¶éå¸¸æ¶ˆè€—ç®—åŠ›çš„è¿‡ç¨‹ï¼Œå› ä¸ºæ¶‰åŠåˆ°å›¾å½¢å¤„ç†ï¼Œæˆ‘ä»¬è¦ç”¨GPUè¿›è¡ŒåŠ é€Ÿã€‚æˆ‘çš„ç¬”è®°æœ¬GPUéå¸¸æ‹‰è·¨ï¼Œè·‘æ¨¡å‹ç«‹é©¬çˆ†æ˜¾å­˜ï¼Œå› æ­¤æˆ‘ä¸ªäººæ¯”è¾ƒæ¨èç™½å«–è°·æ­Œcolabä¸Šé¢çš„å…è´¹ä¸“ä¸šçº§GPUï¼ˆNvidia K80ï¼‰ï¼Œå…è´¹ç”¨æˆ·åªèƒ½ç”¨è¿™ä¸€ç§GPUï¼Œè‡³å°‘æ¯”æˆ‘çš„ç¬”è®°æœ¬å¥½å¤šäº†ã€‚ éœ€è¦æ³¨æ„ä¸‹colabæœ€å¤§è¿æ¥æ—¶é•¿æ˜¯12å°æ—¶ï¼Œ12å°æ—¶åä¼šå¼ºè¡Œå…³é—­GPUè¿æ¥ï¼Œå› æ­¤éœ€è¦æ³¨æ„ä¸‹ä½ æ˜¯ä»€ä¹ˆæ—¶å€™å¼€å§‹ç”¨GPUè·‘æ¨¡å‹çš„ï¼Œå¹¶ä¸”åŠæ—¶ä¿å­˜æ•°æ®ã€‚å…³é—­åè¦ç­‰å¾…24å°æ—¶æ‰å¯ä»¥ç»§ç»­ä½¿ç”¨GPUï¼Œæ‰€ä»¥ç†è®ºä¸Šå¯ä»¥ç”¨ä¸‰ä¸ªå·ä¸é—´æ–­ç™½å«–GPUèµ„æºï¼ˆæˆ‘ç‰¹åœ°ç”³è¯·äº†4ä¸ªè°·æ­Œå·ï¼‰ï¼Œä½ åªéœ€è¦å¶å°”åˆ‡æ¢å±å¹•çœ‹ä¸‹æ˜¯å¦æœ‰è°·æ­Œçš„äººæœºéªŒè¯å°±è¡Œã€‚ è¿™é‡Œä¸ºä»€ä¹ˆè¿˜æ¨èè°·æ­Œäº‘ç›˜å‘¢ï¼Œæ˜¯å› ä¸ºè°·æ­Œäº‘ç›˜å¯ä»¥æŒ‚è½½åˆ°colabä¸Šï¼Œè¿™æ ·è°ƒç”¨æ–‡ä»¶å°±éå¸¸æ–¹ä¾¿ï¼ŒåŠæ—¶ä¿å­˜ä¸ç”¨æ‹…å¿ƒæ•°æ®ä¸¢å¤±ã€‚è°·æ­Œäº‘ç›˜æä¾›15GBçš„å…è´¹ç©ºé—´ï¼Œå¦‚æœä¿å­˜æ¨¡å‹æ¯”è¾ƒé¢‘ç¹çš„è¯å¯èƒ½ä¸å¤Ÿç”¨ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥ç”³è¯·æ— é™é‡çš„å›¢é˜Ÿç›˜ï¼ˆå…±äº«äº‘ç«¯ç¡¬ç›˜ï¼‰è–…ç¾Šæ¯›å¿…å¤‡ã€‚ 2.3 ä½¿ç”¨colabè®­ç»ƒæ¨¡å‹ &amp; åˆæˆè¯­éŸ³æˆ‘ä½¿ç”¨çš„colabç¬”è®°æ–‡ä»¶å› ä¸ºæ—¶é—´ä¹…è¿œå·²ç»æ‰¾ä¸åˆ°å‡ºå¤„äº†ï¼ˆåç»­å¦‚æœæ‰¾åˆ°ä¼šæ ‡æ³¨å‡ºæ¥ï¼Œå‘åŸä½œè€…è‡´è°¢ï¼ï¼‰ï¼Œä¸ºäº†è·‘ä¸­æ–‡è¯­éŸ³æ¨¡å‹ï¼Œè‡ªå·±ä¹Ÿä¿®æ”¹äº†å¾ˆå¤šå‚æ•°å’Œæ­¥éª¤ï¼Œä¸€ä¸€è§£é‡Šè¿‡äºéº»çƒ¦äº†â€¦.æ„Ÿå…´è¶£çš„å°ä¼™ä¼´å¯ä»¥çœ‹ç¬”è®°æ–‡ä»¶ã€‚å…·ä½“æ“ä½œæµç¨‹åœ¨åº•ä¸‹çš„è§†é¢‘ï¼ˆæˆ–è€…ç‚¹å‡»æ­¤å¤„çœ‹æˆ‘çš„Bç«™è§†é¢‘ï¼‰ã€‚ Your browser does not support the video tag. æ‰€æœ‰å·¥ç¨‹æ–‡ä»¶å’Œèµ„æºå¦‚ä¸‹ï¼š Tacotron2+HiFiGANæ‰“åŒ… é“¾æ¥ï¼šhttps://pan.baidu.com/s/1ngCUvifQM6ETwuG-NFQeGA æå–ç ï¼šz6h3 400æ¡æ´¾è’™è¯­éŸ³æµ‹è¯•é›† é“¾æ¥ï¼šhttps://pan.baidu.com/s/1g0C0Ck4P_BxdTgMirKRc-g æå–ç ï¼š5ew1 1800æ¡æ´¾è’™è¯­éŸ³è®­ç»ƒé›† é“¾æ¥ï¼šhttps://pan.baidu.com/s/1IDA4lppAJGHnophQAwkxNg æå–ç ï¼šf2xk éœ€è¦æåŠä¸€ç‚¹ï¼Œcolabåœ¨2022å¹´8æœˆ1å·ä¹‹åä¸å†æ”¯æŒtensorflow1.5ï¼Œè¯·æ•™å¤§ä½¬ä¹‹åæˆ‘å°†Tacotron2é¡¹ç›®ä¸‹è¶…å‚æ•°é…ç½®hparams.pyæ”¹æˆå¦‚ä¸‹å³å¯æ­£å¸¸è¿è¡Œï¼š 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788import tensorflow as tffrom text import symbolsclass hparams: def __init__(self) -&gt; None: super().__init__() ################################ # Experiment Parameters # ################################ epochs = 3 #500 iters_per_checkpoint = 1000 seed = 1234 dynamic_loss_scaling = True fp16_run = False distributed_run = False dist_backend = &quot;nccl&quot; dist_url = &quot;tcp://localhost:54321&quot; cudnn_enabled = True cudnn_benchmark = True ignore_layers = [&#x27;embedding.weight&#x27;] ################################ # Data Parameters # ################################ load_mel_from_disk = False #å®é™…ä¸Šæ˜¯åŒºåˆ«ç”¨ numpyè¯»wav ï¼Œè¿˜æ˜¯ç”¨scipyè¯»wav training_files = &#x27;filelists/zh_audio_text_train_filelist.txt&#x27; validation_files = &#x27;filelists/zh_audio_text_val_filelist.txt&#x27; text_cleaners = [&#x27;english_cleaners&#x27;] ################################ # Audio Parameters # ################################ max_wav_value = 32768.0 sampling_rate = 22050 #22050 filter_length = 1024 hop_length = 256 win_length = 1024 n_mel_channels = 80 mel_fmin = 0.0 mel_fmax = 8000.0 ################################ # Model Parameters # ################################ n_symbols = len(symbols) symbols_embedding_dim = 512 # Encoder parameters encoder_kernel_size = 5 encoder_n_convolutions = 3 encoder_embedding_dim = 512 # Decoder parameters n_frames_per_step = 1 # currently only 1 is supported decoder_rnn_dim = 1024 prenet_dim = 256 max_decoder_steps = 1000 gate_threshold = 0.5 p_attention_dropout = 0.1 p_decoder_dropout = 0.1 # Attention parameters attention_rnn_dim = 1024 attention_dim = 128 # Location Layer parameters attention_location_n_filters = 32 attention_location_kernel_size = 31 # Mel-post processing network parameters postnet_embedding_dim = 512 postnet_kernel_size = 5 postnet_n_convolutions = 5 ################################ # Optimization Hyperparameters # ################################ use_saved_learning_rate = False learning_rate = 1e-3 weight_decay = 1e-6 grad_clip_thresh = 1.0 batch_size = 2 #64 mask_padding = True # set model&#x27;s padded outputs to padded valuesdef create_hparams(hparams_string=None, verbose=False): return hparams 2.4 æ³¨æ„äº‹é¡¹ è®­ç»ƒçš„epochä¸æ˜¯è¶Šå¤šè¶Šå¥½ï¼Œæˆ‘ä¸ªäººç»éªŒepoch è¶…è¿‡400ä¼šå‘ç”Ÿè¿‡æ‹Ÿåˆï¼Œæµ‹è¯•é›†lossä¼šè¶Šæ¥è¶Šå¤§ï¼Œå½“ç„¶è¿™å’Œæ•°æ®é›†æœ‰ç€å¯†åˆ‡çš„å…³ç³»ã€‚è¿‡æ‹Ÿåˆå…·ä½“è¡¨ç°ä¸ºåˆæˆè¯­éŸ³æœ‰éƒ¨åˆ†å­—æ— æ³•å‘éŸ³ã€‚ æ¯ä¸ªepochè‡ªåŠ¨ä¿å­˜æ¨¡å‹ä¸”ä¼šè¦†ç›–è°·æ­Œäº‘ç›˜çš„åŸæ–‡ä»¶ï¼Œå› æ­¤åŠ¡å¿…è¦éš”ä¸€æ®µæ—¶é—´ä¿å­˜åˆ°æœ¬åœ°ï¼Œä»¥å…é”™è¿‡æœ€ä½³æ¨¡å‹ï¼ˆæˆ–è€…ä½ æ”¹ä»£ç ï¼Œæ¯”å¦‚50 epochä¿å­˜ä¸€æ¬¡ï¼‰ã€‚ å¯¹äºæ–‡æœ¬çš„å¤„ç†ï¼Œéœ€è¦å‚è€ƒTacotron 2é¡¹ç›®ä¸‹çš„textæ–‡ä»¶å¤¹ä¸­çš„å››ä¸ªæ–‡ä»¶cleaners.pyã€cmudict.pyã€numbers.pyå’Œsymbols.pyï¼Œæˆ‘æ˜¯è¿›è¡Œäº†æœ€ç®€å•çš„è®¾ç½®ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦æ›´æ”¹ã€‚ å¦‚æœä½ åŸå°ä¸åŠ¨ç”¨çš„æˆ‘çš„å·¥ç¨‹æ–‡ä»¶ï¼Œæƒ³åœ¨æœ¬åœ°è¿è¡Œåˆæˆè¯­éŸ³çš„æ¨ç†ç¨‹åºï¼ŒåŠ¡å¿…å°†cleanersé€‰æ‹©english_cleanerï¼ˆå¦åˆ™ä¼šå‡ºç°å¤ç¥çš„ä½è¯­ï¼‰ã€‚ å¦‚æœä½ æ˜¯è‡ªå·±è®­ç»ƒæ¨¡å‹ï¼Œä¸ªäººè®¤ä¸ºç­›é€‰æ•°æ®é›†éå¸¸é‡è¦ï¼Œå°½é‡æŠŠè¯­æ°”è¯å’ŒèƒŒæ™¯å™ªéŸ³å»æ‰ï¼Œå¦åˆ™æ•ˆæœä¼šå¾ˆå·®ã€‚ è®­ç»ƒæ¨¡å‹çš„å‚æ•°å¯ä»¥æ ¹æ®GPUè‡ªè¡Œè°ƒæ•´ï¼Œbatch_sizeæ˜¯å½±å“è®­ç»ƒé€Ÿåº¦æœ€å¤§çš„å› ç´ ï¼Œå½“ä½ ä¸ç¡®å®šæ˜¾å¡æ€§èƒ½å¦‚ä½•ï¼Œè¯·åŠ¡å¿…ç¡®ä¿è¿è¡Œä¸€æ®µæ—¶é—´åæ˜¾å­˜æ²¡æœ‰ç‚¸ï¼ˆæˆ‘å°±æ˜¯è¿è¡Œä»¥åç›´æ¥ç¡è§‰äº†ï¼Œé†’æ¥å‘ç°æ˜¾å­˜åœ¨è¿è¡ŒåŠå°æ—¶çš„æ—¶å€™ç‚¸äº†ï¼Œæˆ‘å¿ƒæ€ä¹Ÿç‚¸äº†ï¼‰ å…¶å®è¿™ä¸ªæ¨¡å‹æ•ˆæœä»ç„¶ä¸æ˜¯å¾ˆè®©æˆ‘æ»¡æ„ï¼Œæœ‰ç”µéŸ³çš„é—®é¢˜å¯ä»¥ç”¨HiFi-GANå†è®­ç»ƒè¿‡æ»¤ä¸€ä¸‹ï¼Œæˆ‘æ˜¯ç›´æ¥ç”¨çš„å®˜æ–¹é¢„è®­ç»ƒæ¨¡å‹ï¼Œå› æ­¤æ•ˆæœä¼šå·®ä¸€ç‚¹ã€‚ç”±äºç°åœ¨å¼€å­¦äº†è¦å¿™ç€æå¼€é¢˜ï¼Œæœ€è¿‘ä¹Ÿæ²¡æ—¶é—´å†ä¼˜åŒ–æ¨¡å‹äº†ï¼Œä»¥åæœ‰æƒ³æ³•ä¼šç»§ç»­è¡¥å……ã€‚ æˆ‘è‡ªå·±æœ‰è€ƒè™‘è¿‡å°†æ¨¡å‹ä¼ åˆ°æœåŠ¡å™¨ï¼Œç”¨æœåŠ¡å™¨cpuè¿è¡Œæ¨ç†ï¼Œæ‘†è„±colabçš„é™åˆ¶ï¼Œä½†æ˜¯æœåŠ¡å™¨ä¸å ªé‡è´Ÿâ€¦ä¸€è¿è¡Œæ¨ç†è¿å­˜å°±ç‚¸â€¦githubä¸Šæœ‰ä¸å°‘å‰äººåšè¿‡çº¯cpuæ¨ç†çš„GUIï¼ˆæ¯”å¦‚MoeTTSï¼‰ï¼Œäº²æµ‹å¯è¡Œã€‚ å“¦å¯¹äº†ï¼Œæˆ‘åœ¨åšè¿™ä¸ªé¡¹ç›®çš„æ—¶å€™ï¼Œå‘ç°å·²ç»æœ‰äººåŸºäºVITSåšäº†åŒä¸ªæ¸¸æˆçš„ç«¯åˆ°ç«¯è¯­éŸ³åˆæˆï¼Œç”šè‡³å¼€å‘å…¬å¸ƒäº†APIâ€¦ä¸å¾—ä¸æ„Ÿæ…¨è¿™äº›å¤§ä½¬çœŸçš„ç”¨å¿ƒäº†ï¼Œæœ‰APIå°±æ„å‘³ç€æœ‰æ›´å¤šçš„ä½¿ç”¨æ–¹å¼ã€‚æˆ‘æ­äº†ä¸ªé¡ºé£è½¦ï¼Œé€šè¿‡æ­å»ºQQæœºå™¨äººï¼Œå†™äº†ä¸ªåŸç¥è¯­éŸ³åˆæˆæ’ä»¶ï¼Œæ•ˆæœæ˜¯å¯ä»¥æŒ‡å®šåŸç¥ä»»ä½•è§’è‰²åˆæˆä»»æ„æƒ³è¯´çš„è¯­éŸ³å¹¶ä¸”å‘åœ¨QQç¾¤é‡Œï¼ˆæ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼Œå†…è¡Œçœ‹ä¸ªç¬‘è¯ï¼‰ï¼Œæœ‰ç©ºå°½é‡æ›´æ–°å‡ºæ¥å§ï¼ 2022&#x2F;9&#x2F;10æ›´æ–° å·²å°†æ’ä»¶æ›´æ–°è‡³æˆ‘çš„githubä»“åº“ï¼Œåœ°å€Phantom-Aria&#x2F;zhenxun_plugin_tts: çœŸå¯»botæ’ä»¶ï¼ŒåŸç¥è§’è‰²è¯­éŸ³åˆæˆtts (github.com) ç”±äºä»£ç å†™çš„æ¯”è¾ƒå¹¼ç¨šï¼Œå°±ä¸ç”³è¯·å®˜æ–¹æ’ä»¶ç´¢å¼•äº† é€‚é…ç»ªå±±çœŸå¯»bot åŠŸèƒ½ï¼šæŒ‡å®šæŸåŸç¥è§’è‰²åˆæˆæƒ³è¦è¯´çš„è¯ æŒ‡ä»¤ï¼š[è§’è‰²å]è¯´&#x2F;è¯´è¿‡[æ–‡æœ¬] 2022&#x2F;10&#x2F;7æ›´æ–°ç”±äºåŸAPIå·²ä¸‹çº¿ï¼Œæ­¤æ’ä»¶ä¸å†ç”Ÿæ•ˆï¼Œåç»­å†æ›´æ–°","categories":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://www.shelven.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"google colab","slug":"google-colab","permalink":"http://www.shelven.com/tags/google-colab/"},{"name":"Tacotron2","slug":"Tacotron2","permalink":"http://www.shelven.com/tags/Tacotron2/"},{"name":"HiFiGAN","slug":"HiFiGAN","permalink":"http://www.shelven.com/tags/HiFiGAN/"}]},{"title":"æ·±åº¦å­¦ä¹ â€”â€”è¯­éŸ³åˆæˆttsç¬”è®°ï¼ˆä¸Šï¼‰","slug":"æ·±åº¦å­¦ä¹ â€”â€”è¯­éŸ³åˆæˆttsç¬”è®°ï¼ˆä¸Šï¼‰","date":"2022-09-07T19:15:04.000Z","updated":"2022-12-03T16:20:24.000Z","comments":true,"path":"2022/09/08/a.html","link":"","permalink":"http://www.shelven.com/2022/09/08/a.html","excerpt":"ä¸¤ä¸ªæœˆçš„æš‘å‡å·²ç»ç»“æŸäº†ï¼Œå‡æœŸé‡Œè‡ªå­¦äº†ä¸€ç‚¹æ·±åº¦å­¦ä¹ çš„å†…å®¹ï¼Œå¾ˆå¤šåœ°æ–¹è¿˜æ˜¯ä¸€çŸ¥åŠè§£çš„ï¼Œè¿™é‡Œç¨å¾®è®°å½•ä¸€ä¸‹ã€‚ä¹‹å‰åˆ·åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„è¯­éŸ³åˆæˆè§†é¢‘ï¼ŒæŠ±ç€è¯•è¯•çœ‹çš„å¿ƒæ€æƒ³è‡ªå·±åšä¸€ä¸ªæ¨¡å‹ï¼Œäºæ˜¯ç»™è‡ªå·±æŒ–äº†ä¸€ä¸ªå¤§å‘â€¦â€¦æ¶‰åŠåˆ°æ·±åº¦å­¦ä¹ çš„çŸ¥è¯†æˆ‘è¿˜éœ€è¦æ…¢æ…¢å­¦ï¼Œå› æ­¤æœ¬ç¯‡åšå®¢é‡ç‚¹è¿˜æ˜¯è®°å½•ä¸‹è‡ªå·±çš„è¸©å‘æ“ä½œåŸç†éƒ¨åˆ†ä»¥åææ˜ç™½äº†å†æ›´æ–°","text":"ä¸¤ä¸ªæœˆçš„æš‘å‡å·²ç»ç»“æŸäº†ï¼Œå‡æœŸé‡Œè‡ªå­¦äº†ä¸€ç‚¹æ·±åº¦å­¦ä¹ çš„å†…å®¹ï¼Œå¾ˆå¤šåœ°æ–¹è¿˜æ˜¯ä¸€çŸ¥åŠè§£çš„ï¼Œè¿™é‡Œç¨å¾®è®°å½•ä¸€ä¸‹ã€‚ä¹‹å‰åˆ·åˆ°ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„è¯­éŸ³åˆæˆè§†é¢‘ï¼ŒæŠ±ç€è¯•è¯•çœ‹çš„å¿ƒæ€æƒ³è‡ªå·±åšä¸€ä¸ªæ¨¡å‹ï¼Œäºæ˜¯ç»™è‡ªå·±æŒ–äº†ä¸€ä¸ªå¤§å‘â€¦â€¦æ¶‰åŠåˆ°æ·±åº¦å­¦ä¹ çš„çŸ¥è¯†æˆ‘è¿˜éœ€è¦æ…¢æ…¢å­¦ï¼Œå› æ­¤æœ¬ç¯‡åšå®¢é‡ç‚¹è¿˜æ˜¯è®°å½•ä¸‹è‡ªå·±çš„è¸©å‘æ“ä½œåŸç†éƒ¨åˆ†ä»¥åææ˜ç™½äº†å†æ›´æ–° æ€»çš„æ¥è¯´ï¼Œæˆ‘é€šè¿‡æ‹†åŒ…æ¸¸æˆå®¢æˆ·ç«¯è·å¾—5.6ä¸‡æ¡è¯­éŸ³æ–‡ä»¶ï¼Œé€šè¿‡githubä¸Šçš„ä¸€ä¸ªå£°çº¹è¯†åˆ«é¡¹ç›®åˆ†ç¦»å…¶ä¸­ä¸€ä¸ªè§’è‰²çš„è¯­éŸ³æ–‡ä»¶ã€‚æ¥ç€ç”¨ç™¾åº¦çš„è¯­éŸ³è¯†åˆ«APIå°†è¯­éŸ³è¯†åˆ«ä¸ºæ–‡æœ¬åï¼Œäººå·¥æ ¡æ­£ä¸€éæ–‡æœ¬ï¼Œç„¶åè½¬æ¢ä¸ºæ‹¼éŸ³+éŸ³æ ‡ï¼Œä»¥æ­¤åˆ¶ä½œè¯­éŸ³æ•°æ®è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚åŸºäºå¼€æºé¡¹ç›®Tacotron2è®­ç»ƒè§’è‰²è¯­éŸ³æ¨¡å‹ï¼Œç»å†400 epochååˆæ­¥è®­ç»ƒæˆå‹ï¼Œæœ€ååŸºäºHiFiGANåˆæˆè¯­éŸ³ã€‚æ•´ä¸ªååŠæ®µæµç¨‹æ˜¯åœ¨google colabä¸Šå®Œæˆçš„ï¼Œä¸ºäº†å®Œæˆæ¨¡å‹è®­ç»ƒæˆ‘ç”³è¯·äº†4ä¸ªè°·æ­Œè´¦å·â€¦ä¸å¾—ä¸è¯´ç™½å«–çš„GPUçœŸé¦™~ 1. åˆ¶ä½œæ•°æ®é›†å¯ä»¥è¯´æ•´ä¸ªé¡¹ç›®å¤§éƒ¨åˆ†æ—¶é—´èŠ±è´¹åœ¨æ•´ç†æ•°æ®é›†ä¸Šï¼Œæ ¹æ®æˆ‘è‡ªå·±çš„ç»éªŒï¼Œæ•°æ®é›†çš„è¯­éŸ³é•¿åº¦åœ¨2ç§’-10ç§’ä¹‹é—´æ•ˆæœæœ€å¥½ï¼Œæ•°é‡å¤§çº¦åœ¨2000æ¡å·¦å³ï¼ˆä¸ºäº†æ¶µç›–å°½å¯èƒ½å¤šçš„æ±‰å­—å‘éŸ³ï¼‰ã€‚éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä¸ç®¡æ‹†åŒ…çš„åŸè¯­éŸ³é‡‡æ ·ç‡å¦‚ä½•ï¼Œéƒ½è¦ç»Ÿä¸€é‡é‡‡æ ·åˆ°22050 hzï¼Œè¿™æ˜¯Tacotron2è®­ç»ƒæ¨¡å‹çš„è¦æ±‚ã€‚ 1.1 Extractor2.5 + vgmstream-winæ‹†åŒ…é¦–å…ˆæ˜¯è¿™æ¬¾å›½å†…æ¸¸æˆçš„æ‹†åŒ…ï¼Œæ‰€æœ‰è§’è‰²çš„è¯­éŸ³æ–‡ä»¶éƒ½åœ¨ç›®å½•D:\\Genshin Impact\\Genshin Impact Game\\YuanShen_Data\\StreamingAssets\\Audio\\GeneratedSoundBanks\\Windows\\Chineseä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨è½¯ä»¶Extractor2.5è¿›è¡ŒéŸ³é¢‘æ–‡ä»¶æ‹†åŒ…ã€‚ Extractor2.5æ˜¯ä¸ªéå¸¸å¥½ç”¨çš„æ¸¸æˆè§£åŒ…å·¥å…·ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰pckæºæ–‡ä»¶æ‰€åœ¨ç›®å½•è¾“è¿›å»ï¼ˆå¯ä»¥æ‰¹é‡é€‰ä¸­æ–‡ä»¶ï¼‰ï¼Œç¡®å®šè¾“å‡ºç›®å½•ï¼Œç‚¹å‡»å¼€å§‹å³å¯ã€‚ è¿è¡Œç»“æŸä¹‹åå¯ä»¥çœ‹åˆ°è¿™ä¸ªæ¸¸æˆæ‹†åŒ…æœ‰56958æ¡è¯­éŸ³æ–‡ä»¶â€¦ç‚¹å‡»å·¦ä¸‹è§’åé€‰ï¼Œå…¨éƒ¨è§£å‹åˆ°è‡ªå·±çš„æ–‡ä»¶å¤¹ä¸­ã€‚ ä½†æ˜¯ä½ ä¼šå‘ç°è§£å‹å‡ºæ¥çš„wavæ–‡ä»¶æ— æ³•æ‰“å¼€ï¼Œéœ€è¦ä½¿ç”¨vgmstreamè¿›è¡Œè§£å¯†å’Œè½¬ç ï¼ˆé¡¹ç›®åœ°å€æˆ³è¿™é‡Œï¼‰ã€‚ å¯ä»¥çœ‹åˆ°vgmstream-winæ–‡ä»¶å¤¹åªæœ‰ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºtest.exeï¼Œå…¶ä»–éƒ½æ˜¯dllåº“æ–‡ä»¶ã€‚ è¿™ä¸ªtest.exeæ˜¯ä¸èƒ½ç›´æ¥è¿è¡Œçš„ï¼Œéœ€è¦æŠŠç¨‹åºæ‹–åˆ°åˆšæ‰æ‹†åŒ…çš„è¯­éŸ³æ–‡ä»¶ä¸Šï¼Œä½†æ˜¯å‡ ä¸‡æ¡è¯­éŸ³æˆ‘ä»¬ä¸å¯èƒ½ä¸€ä¸ªä¸ªæ‹–è¿‡å»ï¼Œå› æ­¤æˆ‘ä»¬åœ¨è¯­éŸ³çš„æ–‡ä»¶å¤¹ä¸‹ï¼Œå†™ä¸€ä¸ªå¦‚ä¸‹çš„æ‰¹å¤„ç†æ–‡ä»¶ï¼ˆå‘½åä¸ºæ‰¹å¤„ç†.batï¼‰ï¼Œè¿è¡Œæ‰¹å¤„ç†å°±å¯ä»¥äº†ã€‚ 12345@echo offfor /r %%i in (*.wav) do ( &quot;D:\\zhuomian\\vgmstream-win\\test.exe&quot; &quot;%%~nxi&quot; #è·¯å¾„æ”¹æˆä½ è‡ªå·±çš„ï¼Œæ³¨æ„è·¯å¾„ä¸èƒ½æœ‰ä¸­æ–‡)pause è¿è¡Œåç”Ÿæˆçš„wav.wavæ–‡ä»¶å°±å¯ä»¥æ­£å¸¸æ’­æ”¾äº†ï¼Œæ‰€æœ‰éŸ³é¢‘é‡‡æ ·ç‡å‡ä¸º48000Hzï¼ˆé‡‡æ ·ç‡å¾ˆé‡è¦ï¼Œè´¯ç©¿æ•´ä¸ªé¡¹ç›®ï¼‰ã€‚ 1.2 åŸºäºTensorflowçš„å£°çº¹è¯†åˆ«è¿™éƒ¨åˆ†å†…å®¹æ¥æºäºgithubï¼ˆé¡¹ç›®åœ°å€æˆ³è¿™é‡Œï¼‰ï¼Œä½œè€…åŸºäºtensorflowåšäº†ä¸ªå£°çº¹è¯†åˆ«æ¨¡å‹ï¼Œé€šè¿‡æŠŠè¯­éŸ³æ•°æ®è½¬æ¢çŸ­æ—¶å‚…é‡Œå¶å˜æ¢çš„å¹…åº¦è°±ï¼Œä½¿ç”¨librosaè®¡ç®—éŸ³é¢‘çš„ç‰¹å¾ï¼Œä»¥æ­¤æ¥è®­ç»ƒã€è¯„ä¼°æ¨¡å‹ã€‚å› ä¸ºæˆ‘åªç”¨åˆ°äº†å¯¹æ¯”éƒ¨åˆ†ï¼Œå› æ­¤æˆ‘ä¸‹è½½äº†ä½œè€…é¢„è®­ç»ƒçš„æ¨¡å‹ï¼Œä»¥åŠå¯¹å£°çº¹å¯¹æ¯”æ–‡ä»¶infer_contrast.pyåšäº†ä¿®æ”¹ã€‚ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162import argparseimport functoolsimport numpy as npimport tensorflow as tffrom utils.reader import load_audiofrom utils.utility import add_arguments, print_argumentsimport os,shutilimport gcos.environ[&#x27;TF_CPP_MIN_LOG_LEVEL&#x27;]=&#x27;2&#x27;parser = argparse.ArgumentParser(description=__doc__)add_arg = functools.partial(add_arguments, argparser=parser)add_arg(&#x27;audio_path1&#x27;, str, &#x27;audio_db/Paimon.wav&#x27;, &#x27;æ ‡å‡†çš„æ´¾è’™éŸ³é¢‘&#x27;) # è‡ªå·±å‡†å¤‡çš„æ ‡å‡†éŸ³é¢‘ï¼Œä¸‹é¢ä¸¤ä¸ªä¹Ÿæ˜¯add_arg(&#x27;audio_path2&#x27;, str, &#x27;audio_db/Klee.wav&#x27;, &#x27;æ ‡å‡†çš„å¯è‰éŸ³é¢‘&#x27;)add_arg(&#x27;audio_path3&#x27;, str, &#x27;audio_db/Kokomi.wav&#x27;, &#x27;æ ‡å‡†çš„å¿ƒæµ·éŸ³é¢‘&#x27;)add_arg(&#x27;input_shape&#x27;, str, &#x27;(257, 257, 1)&#x27;, &#x27;æ•°æ®è¾“å…¥çš„å½¢çŠ¶&#x27;)add_arg(&#x27;threshold&#x27;, float, 0.8, &#x27;åˆ¤æ–­æ˜¯å¦ä¸ºåŒä¸€ä¸ªäººçš„é˜ˆå€¼&#x27;)add_arg(&#x27;model_path&#x27;, str, &#x27;models1/infer_model.h5&#x27;, &#x27;é¢„æµ‹æ¨¡å‹çš„è·¯å¾„&#x27;) # ä½œè€…çš„é¢„è®­ç»ƒæ¨¡å‹args = parser.parse_args()# åŠ è½½æ¨¡å‹model = tf.keras.models.load_model(args.model_path,compile=False)model = tf.keras.models.Model(inputs=model.input, outputs=model.get_layer(&#x27;batch_normalization&#x27;).output)# æ•°æ®è¾“å…¥çš„å½¢çŠ¶input_shape = eval(args.input_shape)# é¢„æµ‹éŸ³é¢‘def infer(audio_path): data = load_audio(audio_path, mode=&#x27;test&#x27;, spec_len=input_shape[1]) data = data[np.newaxis, :] feature = model.predict(data) return featureif __name__ == &#x27;__main__&#x27;: # é¢„æµ‹çš„ä¸¤ä¸ªéŸ³é¢‘æ–‡ä»¶ feature1 = infer(args.audio_path1)[0] feature2 = infer(args.audio_path2)[0] feature3 = infer(args.audio_path3)[0] datapath = &quot;./test2&quot; #ä¸Šä¼ åˆ°é›†ç¾¤çš„è§£åŒ…éŸ³é¢‘æ–‡ä»¶ä½ç½® dirs = os.listdir(datapath) for audio in dirs: personx = &#x27;test2/%s&#x27; % (audio) featurex = infer(personx)[0] # å¯¹è§’ä½™å¼¦å€¼ dist1 = np.dot(feature1, featurex) / (np.linalg.norm(feature1) * np.linalg.norm(featurex)) if dist1 &gt; args.threshold: print(&quot;%s ç¬¦åˆæ´¾è’™æ¨¡å‹ï¼Œç›¸ä¼¼åº¦ä¸ºï¼š%f&quot; % (personx, dist1)) shutil.move(&quot;./test2/%s&quot; % (audio),&quot;./dataset/Paimon&quot;) # ç§»åŠ¨éŸ³é¢‘æ–‡ä»¶ï¼Œè·¯å¾„è‡ªé€‰ else: dist2 = np.dot(feature2, featurex) / (np.linalg.norm(feature2) * np.linalg.norm(featurex)) if dist2 &gt; args.threshold: print(&quot;%s ç¬¦åˆå¯è‰æ¨¡å‹ï¼Œç›¸ä¼¼åº¦ä¸ºï¼š%f&quot; % (personx, dist2)) shutil.move(&quot;./test2/%s&quot; % (audio),&quot;./dataset/Klee&quot;) else: dist3 = np.dot(feature3, featurex) / (np.linalg.norm(feature3) * np.linalg.norm(featurex)) if dist3 &gt; args.threshold: print(&quot;%s ç¬¦åˆå¿ƒæµ·æ¨¡å‹ï¼Œç›¸ä¼¼åº¦ä¸ºï¼š%f&quot; % (personx, dist3)) shutil.move(&quot;./test2/%s&quot; % (audio),&quot;./dataset/Kokomi&quot;) gc.collect() éœ€è¦æ³¨æ„ä¸€ç‚¹ï¼Œä¸ºäº†æé«˜è¯†åˆ«çš„å‡†ç¡®æ€§ï¼Œè¿™ä¸ªé¡¹ç›®è¦æ±‚çš„è¯­éŸ³é•¿åº¦ä¸èƒ½ä½äº1.7sï¼Œå› æ­¤æˆ‘ç”¨ffmpegå°†æ‰€æœ‰é•¿åº¦ä½äº2sçš„çŸ­éŸ³é¢‘å…¨éƒ¨è¿‡æ»¤äº†ï¼ˆè¿™é‡Œä¸èµ˜è¿°å®ç°è¿‡ç¨‹ï¼‰ã€‚ ä¹‹åå°†ä¸‰ä¸ªè§’è‰²çš„æ ‡å‡†è¯­éŸ³åˆ†åˆ«æ”¾åœ¨audio_dbæ–‡ä»¶å¤¹ä¸‹ï¼Œè¯†åˆ«çš„åŸç†æ˜¯é€šè¿‡é¢„æµ‹å‡½æ•°æå–ä¸‰ä¸ªè§’è‰²çš„éŸ³é¢‘ç‰¹å¾å€¼ï¼Œå¯¹5.6ä¸‡æ¡éŸ³é¢‘åˆ†åˆ«æ¯”å¯¹ä¸‰ä¸ªè§’è‰²çš„æ ‡å‡†éŸ³é¢‘ç‰¹å¾ï¼Œæ±‚å¯¹è§’ä½™å¼¦å€¼ï¼Œåœ¨å¤šæ¬¡è¯•éªŒåé€‰æ‹©äº†å¯¹è§’ä½™å¼¦å€¼0.8ï¼Œä½œä¸ºåˆ¤æ–­ä¸¤æ¡è¯­éŸ³æ˜¯å¦ä¸ºåŒä¸€ä¸ªäººçš„é˜ˆå€¼ã€‚ ç›´æ¥åœ¨é›†ç¾¤ä¸Šè¿è¡Œinfer_contrast.pyï¼Œç›¸ä¼¼åº¦é«˜äº0.8çš„éŸ³é¢‘åˆ™ä¼šè¢«æŒ‘é€‰åˆ°å¯¹åº”çš„datasetæ–‡ä»¶å¤¹ä¸­ã€‚ å®é™…ä¸Šè¿™ä¸ªå£°çº¹è¯†åˆ«çš„ç»“æœä»…èƒ½ä½œä¸ºå‚è€ƒï¼Œä¸èƒ½ä¿è¯ç™¾åˆ†ç™¾æ­£ç¡®ï¼ŒåŸå› æœ‰å¾ˆå¤šï¼š 1.å£°ä¼˜éƒ½æ˜¯æ€ªç‰©ï¼Œä¸€ä¸ªäººç”¨å¥½å¤šç›¸ä¼¼çš„å£°çº¿é…äº†ä¸åŒè§’è‰²ï¼Œå¯¼è‡´æ— æ³•åˆ†è¾¨å‡ºä¸åŒè§’è‰²çš„è¯­éŸ³ï¼ˆå‡é˜³æ€§ï¼‰ã€‚ 2.ä¸€å¥è¯çš„è¯­è°ƒä¸åŒä¼šè¡¨ç°å‡ºéŸ³é¢‘ç‰¹å¾å€¼ä¸åŒï¼Œè€Œè¿™ä¸ªç®—æ³•ä¸‹ä¼šå¯¼è‡´å¯¹è§’ä½™å¼¦å€¼åå°ï¼Œä»è€Œåˆ¤æ–­æˆå‘å£°çš„æ˜¯ä¸åŒçš„äººï¼ˆå‡é˜´æ€§ï¼‰ã€‚ å› æ­¤è¯†åˆ«çš„ç»“æœéœ€è¦è¿›è¡Œäººå·¥æ ¡æ­£ï¼Œä¹Ÿå°±æ˜¯éœ€è¦è‡ªå·±å¬ä¸€éåˆ°åº•æ˜¯ä¸æ˜¯è¿™ä¸ªè§’è‰²çš„è¯­éŸ³&#x3D; &#x3D;ï¼ˆæœ€å¥½åŒä¸‹ä¸€æ­¥ä¸€èµ·è¿›è¡Œï¼Œçœæ—¶é—´ï¼‰ è¿™é‡Œæˆ‘éªŒè¯å¹¶åˆ†ç¦»å‡º2293æ¡é•¿åº¦2ç§’ä»¥ä¸Šçš„æ´¾è’™è¯­éŸ³ï¼Œä»¥å…¶ä¸­çš„1820æ¡ä½œä¸ºè®­ç»ƒé›†ï¼Œ473æ¡ä½œä¸ºæµ‹è¯•é›†ã€‚åç»­è®­ç»ƒæ¨¡å‹ç”¨åˆ°çš„æ—¶å€™ä¼šè¯´ã€‚ 1.3 åŸºäºç™¾åº¦è¯­éŸ³è¯†åˆ«APIçš„è¯­éŸ³è½¬æ–‡æœ¬å…‰æœ‰è¯­éŸ³è¿˜ä¸è¡Œï¼Œæˆ‘ä»¬è¦è®­ç»ƒæ¨¡å‹å°±è¦æœ‰å¯¹åº”çš„æ–‡æœ¬ã€‚å¾ˆå¤šå•æœºæ¸¸æˆï¼ˆæ¯”å¦‚æŸšå­ç¤¾çš„æ¸¸æˆï¼‰æœ‰è§£åŒ…è„šæœ¬ï¼Œå¯ä»¥å®Œæ•´è§£å‡ºæ‰€æœ‰èµ„æºï¼Œå…¶ä¸­å°±åŒ…æ‹¬è¯­éŸ³æ–‡ä»¶å’Œå¯¹åº”çš„æ–‡æœ¬ã€‚ä½†æ˜¯è§£åŒ…æœ‰å®¢æˆ·ç«¯çš„æ¸¸æˆä¸åŒï¼Œæ¯”å¦‚è¿™æ¬¾æ¸¸æˆå‘å¸ƒä¸åŒç‰ˆæœ¬çš„å®¢æˆ·ç«¯ï¼Œæ–‡ä»¶ç»“æ„å°±ä¼šå‘ç”Ÿå¾ˆå¤§çš„æ”¹å˜ï¼Œå¯¼è‡´ä»¥å‰åšçš„æ–‡ä»¶å®šä½ç»Ÿç»Ÿå¤±æ•ˆï¼Œè€Œä¸”åŒ…æ‹¬æ–‡æœ¬åœ¨å†…çš„å¾ˆå¤šæ–‡ä»¶ä¹Ÿæ˜¯åŠ å¯†çš„ï¼Œæ— æ³•è§£å‡ºï¼ˆä¹Ÿå¯èƒ½æ˜¯æˆ‘ä¸ªäººé—®é¢˜ï¼‰ã€‚ å› æ­¤ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å€ŸåŠ©è¯­éŸ³è¯†åˆ«çš„è½¯ä»¶å°†è¯­éŸ³è½¬æˆæ–‡æœ¬ã€‚è¿™é‡Œæ¶‰åŠåˆ°å¦ä¸€ä¸ªé—®é¢˜ï¼Œä¸ç®¡å¤šä¹ˆå¼ºå¤§çš„è¯­éŸ³è½¬æ–‡å­—æŠ€æœ¯ï¼Œéƒ½æ˜¯åœ¨å·²æœ‰çš„æ•°æ®é›†åŸºç¡€ä¸Šä¸æ–­è®­ç»ƒæ¨¡å‹è€Œäº§ç”Ÿçš„ï¼Œæ¸¸æˆä¸­æœ‰ç›¸å½“å¤šæ–°é€ çš„è¯ï¼ˆæ¯”å¦‚ä¸­äºŒå°è¯ï¼Œæ¸¸æˆäººåï¼Œåœ°ç‚¹ç­‰ç­‰ï¼‰ï¼Œè¿™åœ¨è½¬åŒ–æ–‡æœ¬è¿‡ç¨‹ä¸­æ˜¯è‚¯å®šæ— æ³•ç™¾åˆ†ç™¾å‡†ç¡®çš„ï¼Œç”šè‡³ä¼šâ€œç©ºè€³â€äº§ç”Ÿæ­§ä¹‰ã€‚ å› æ­¤è½¬æ–‡æœ¬è¿™ä¸€æ­¥ç»“æŸåéœ€è¦äººå·¥æ ¡å‡†ï¼Œè‡³å°‘ä¿è¯è¯»éŸ³æ­£ç¡®ã€‚ æˆ‘æ˜¯åœ¨ç™¾åº¦AIå¼€æ”¾å¹³å°ç”³è¯·äº†è¯­éŸ³è¯†åˆ«APIï¼Œæ¯ä¸ªè´¦å·æœ‰200ä¸‡æ¬¡å…è´¹è°ƒç”¨é¢åº¦ï¼Œä½†æ˜¯é™åˆ¶å¹¶å‘æ•°2ï¼ˆæ²¡åŠæ³•ï¼Œæ—¢ç„¶æ˜¯ç™½å«–å°±å¿å¿ï¼‰ã€‚ æŸ¥çœ‹å®˜æ–¹æ”¾åœ¨githubä¸Šçš„demoï¼Œæ”¹ä¸€æ”¹å°±å¯ä»¥è°ƒç”¨APIäº†ï¼ˆæ¯å½“é—®æˆ‘ä¸ä¼šä½¿ç”¨çš„æ—¶å€™éƒ½æ˜¯çœ‹demoç„¶åé­”æ”¹2333ï¼‰ã€‚ æˆ‘è¿™é‡Œä»¥å®˜ç½‘æä¾›çš„asr_raw.pyä¸ºä¾‹ï¼Œç›´æ¥ä¸‹è½½ï¼Œå¹¶ä¿®æ”¹æˆå¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112# coding=utf-8import sysimport jsonimport timeimport gcimport osimport timeIS_PY3 = sys.version_info.major == 3 # åˆ¤æ–­ä½ ç”¨çš„æ˜¯python3.xè¿˜æ˜¯2.xç‰ˆæœ¬ï¼Œæ¨èè¿˜æ˜¯ç”¨3.xif IS_PY3: from urllib.request import urlopen from urllib.request import Request from urllib.error import URLError from urllib.parse import urlencode timer = time.perf_counterelse: import urllib2 from urllib2 import urlopen from urllib2 import Request from urllib2 import URLError from urllib import urlencode if sys.platform == &quot;win32&quot;: timer = time.clock else: # On most other platforms the best timer is time.time() timer = time.timeAPI_KEY = &#x27;XXXXXXXX&#x27; # æ”¹æˆä½ è‡ªå·±çš„ï¼Œä¸‹é¢ä¸€æ¡ä¸€æ ·SECRET_KEY = &#x27;XXXXXXXX&#x27; FORMAT = &quot;wav&quot;; # æ–‡ä»¶åç¼€åªæ”¯æŒ pcm/wav/amr æ ¼å¼CUID = &#x27;123456PYTHON&#x27;;RATE = 16000; # å›ºå®šå€¼ï¼Œè¿™é‡Œä¸€å®šä¸€å®šè¦æ³¨æ„é‡‡æ ·ç‡DEV_PID = 1537; # 1537 è¡¨ç¤ºè¯†åˆ«æ™®é€šè¯ï¼Œä½¿ç”¨è¾“å…¥æ³•æ¨¡å‹ã€‚æ ¹æ®æ–‡æ¡£å¡«å†™PIDï¼Œé€‰æ‹©è¯­è¨€åŠè¯†åˆ«æ¨¡å‹ASR_URL = &#x27;http://vop.baidu.com/server_api&#x27;SCOPE = &#x27;audio_voice_assistant_get&#x27; # æœ‰æ­¤scopeè¡¨ç¤ºæœ‰asrèƒ½åŠ›ï¼Œæ²¡æœ‰è¯·åœ¨ç½‘é¡µé‡Œå‹¾é€‰ï¼Œéå¸¸æ—§çš„åº”ç”¨å¯èƒ½æ²¡æœ‰class DemoError(Exception): pass&quot;&quot;&quot; TOKEN start &quot;&quot;&quot;TOKEN_URL = &#x27;http://aip.baidubce.com/oauth/2.0/token&#x27;# æ ¸å¯¹tokendef fetch_token(): params = &#123;&#x27;grant_type&#x27;: &#x27;client_credentials&#x27;, &#x27;client_id&#x27;: API_KEY, &#x27;client_secret&#x27;: SECRET_KEY&#125; post_data = urlencode(params) if (IS_PY3): post_data = post_data.encode(&#x27;utf-8&#x27;) req = Request(TOKEN_URL, post_data) try: f = urlopen(req) result_str = f.read() except URLError as err: print(&#x27;token http response http code : &#x27; + str(err.code)) result_str = err.read() if (IS_PY3): result_str = result_str.decode() result = json.loads(result_str) if (&#x27;access_token&#x27; in result.keys() and &#x27;scope&#x27; in result.keys()): if SCOPE and (not SCOPE in result[&#x27;scope&#x27;].split(&#x27; &#x27;)): # SCOPE = False å¿½ç•¥æ£€æŸ¥ raise DemoError(&#x27;scope is not correct&#x27;) return result[&#x27;access_token&#x27;] else: raise DemoError(&#x27;MAYBE API_KEY or SECRET_KEY not correct: access_token or scope not found in token response&#x27;)&quot;&quot;&quot; TOKEN end &quot;&quot;&quot;if __name__ == &#x27;__main__&#x27;: token = fetch_token() &quot;&quot;&quot; httpHandler = urllib2.HTTPHandler(debuglevel=1) opener = urllib2.build_opener(httpHandler) urllib2.install_opener(opener) &quot;&quot;&quot; for audio in range(1,1825): AUDIO_FILE = str(&#x27;/public/home/wlxie/test4voice/baiduyun/training_16K/train&#x27; + str(audio) + &#x27;.wav&#x27;) #è·¯å¾„æ”¹æˆè‡ªå·±çš„ speech_data = [] with open(AUDIO_FILE, &#x27;rb&#x27;) as speech_file: speech_data = speech_file.read() length = len(speech_data) if length == 0: raise DemoError(&#x27;file %s length read 0 bytes&#x27; % AUDIO_FILE) params = &#123;&#x27;cuid&#x27;: CUID, &#x27;token&#x27;: token, &#x27;dev_pid&#x27;: DEV_PID&#125; params_query = urlencode(params); headers = &#123; &#x27;Content-Type&#x27;: &#x27;audio/&#x27; + FORMAT + &#x27;; rate=&#x27; + str(RATE), &#x27;Content-Length&#x27;: length &#125; url = ASR_URL + &quot;?&quot; + params_query req = Request(ASR_URL + &quot;?&quot; + params_query, speech_data, headers) try: begin = timer() f = urlopen(req) result_str = f.read() except URLError as err: print(&#x27;asr http response http code : &#x27; + str(err.code)) result_str = err.read() #è¾“å‡ºè½¬æ–‡å­—ç»“æœ result_str = result_str.decode() result = json.loads(result_str) res = result[&#x27;result&#x27;][0] print(&#x27;train&#x27; +str(audio) + &#x27;.wav&#x27; + &#x27;è¯†åˆ«ç»“æœï¼š&#x27; + res) with open(&quot;training_1800_result.txt&quot;, &quot;a&quot;) as of: of.write(&#x27;train&#x27; + str(audio) + &#x27;.wav&#x27; + &quot;|&quot; + res + &#x27;\\n&#x27;) # è½¬æˆâ€œè·¯å¾„|æ–‡æœ¬â€çš„æ ¼å¼ï¼Œæ–¹ä¾¿äººå·¥æ ¡å‡† gc.collect() è¿™é‡Œä¹Ÿæœ‰ä¸€ä¸ªå¤§å‘ï¼Œè¿™ä¸ªè¯­éŸ³è½¬æ–‡æœ¬APIè¦æ±‚éŸ³æºé‡‡æ ·ç‡å¿…é¡»æ˜¯16000Hzï¼Œå‰é¢è¯´åˆ°æˆ‘ä»¬è§£åŒ…å¾—åˆ°çš„éŸ³é¢‘æ˜¯48000Hzï¼Œè€Œä¸”åé¢è®­ç»ƒæ¨¡å‹è¦æ±‚é‡‡æ ·ç‡ä¸º22050Hzï¼ä¹Ÿå°±æ˜¯è¯´å¦‚æœæˆ‘ä»¬ç°åœ¨æŠŠæ‰€æœ‰éŸ³é¢‘è½¬æˆ16000Hzçš„è¯ï¼ŒåŠ¿å¿…ä¼šå¯¹è®­ç»ƒæ¨¡å‹äº§ç”Ÿå½±å“ï¼ˆé«˜é¢‘å¯ä»¥è½¬ä½é¢‘ï¼Œä½†æ˜¯ä½é¢‘è½¬é«˜é¢‘è¯­éŸ³è´¨é‡ä¸ä¼šæœ‰ä¸€ä¸ç‚¹å„¿çš„æå‡ï¼‰ï¼Œå› æ­¤æˆ‘è¿™è¾¹ç”¨æ‹†åŒ…éŸ³é¢‘åšäº†ä¸¤ä¸ªå¤‡ä»½ï¼Œä¸€ä¸ªæ˜¯è½¬æˆ16000Hzï¼Œæ”¾åœ¨training_16Kæ–‡ä»¶ä¸‹ï¼Œä¸“é—¨ç”¨äºè¯­éŸ³è½¬æ–‡æœ¬ï¼›ä¸€ä¸ªæ˜¯è½¬æˆ22050Hzï¼Œæ”¾åœ¨training_22Kæ–‡ä»¶ä¸‹ï¼Œä¸“é—¨ç”¨äºåç»­è®­ç»ƒæ¨¡å‹ã€‚é‡é‡‡æ ·ä»ç„¶ç”¨æˆ‘ä»¬çš„è€æœ‹å‹ffmpegï¼Œå› ä¸ºå°±ä¸€è¡Œå‘½ä»¤çš„äº‹è¿™é‡Œä¹Ÿä¸èµ˜è¿°äº†ã€‚ å‰é¢ä¹Ÿè¯´åˆ°è¿™ä¸ªAPIå¹¶å‘æ•°é™åˆ¶ä¸º2ï¼Œç»å¸¸æ˜¯ç”¨ç€ç”¨ç€å°±æ–­å¼€äº†ï¼ˆä¹Ÿæ˜¯æˆ‘æ¯”è¾ƒç¬¨æ¯”ï¼Œä¸ä¼šå†™é™åˆ¶å¹¶å‘æ•°å‘é€è¯·æ±‚çš„ä»£ç ï¼‰ï¼Œæ‰€ä»¥æˆ‘å°†è®­ç»ƒé›†çš„1825ä¸ªè¯­éŸ³å†™äº†ä¸ªå°è„šæœ¬ï¼Œé‡å‘½åä¸ºtrain1.wav-train1825.wavï¼Œæ‰€ä»¥æ‰ç”¨äº†forå¾ªç¯ä¸€å¥ä¸€å¥è°ƒç”¨APIè½¬æ–‡æœ¬ï¼Œåˆ°å“ªä¸ªåœ°æ–¹æ–­äº†ä¹Ÿå¯ä»¥è¿…é€Ÿæ‰¾å‡ºæ¥å¹¶ç»§ç»­ã€‚ æ€»ä¹‹æ•ˆæœå¦‚ä¸‹ï¼Œè®­ç»ƒé›†1825æ¡è¯­éŸ³å’Œæµ‹è¯•é›†473æ¡è¯­éŸ³å…¨éƒ¨è½¬æ¢ä¸ºæ–‡æœ¬ï¼Œä¸”èƒ½æ¸…æ™°åœ°çœ‹åˆ°ä¸€ä¸€å¯¹åº”å…³ç³»ï¼š ä¸€çœ¼çœ‹æ•ˆæœè¿˜ä¸é”™ï¼Œä¸ºäº†ä¿è¯å‡†ç¡®ç‡ï¼Œå°†txtæ–‡ä»¶ä¼ å›æœ¬åœ°ï¼Œäººå·¥æ ¡æ­£å§ï¼ˆè¯­æ°”è¯éƒ¨åˆ†æœ¬æ¥æ˜¯è¦å»é™¤çš„ï¼Œä½†æ˜¯å·¥ä½œé‡ä¼šæ¯”è¾ƒå¤§æ”¾å¼ƒäº†ï¼Œèµ·ç è¦ä¿è¯å‘éŸ³æ²¡é—®é¢˜ï¼‰ã€‚ è¿™ä¸ªæ•°æ®é›†å› ä¸ºä¸æ˜¯æ ‡å‡†çš„æ™®é€šè¯æ•°æ®é›†ï¼ˆæ ‡å‡†æ•°æ®é›†å¯ä»¥æ‰¾æ ‡è´ï¼Œå°±æœ‰é‚£ç§çº¯åˆæˆçš„æ ‡å‡†æ™®é€šè¯ï¼‰ï¼Œå£°ä¼˜ä¹Ÿæœ‰ç‰¹æ®Šçš„å£ç™–å’Œå‘éŸ³ï¼Œé¢ï¼Œè¿™æ˜¯æ— æ³•é¿å…çš„ã€‚ 1.4 åŸºäºpypinyinçš„æ±‰å­—è½¬æ‹¼éŸ³å› ä¸ºåé¢è®­ç»ƒæ¨¡å‹çš„Tacotron2æ˜¯åŸºäºè‹±æ–‡æ¨¡å‹å¼€å‘å‡ºæ¥çš„ï¼Œæˆ‘ä»¬æ— æ³•ç›´æ¥ç”¨ä¸­æ–‡æ–‡æœ¬è®­ç»ƒã€‚ä¸€ä¸ªè¡Œä¹‹æœ‰æ•ˆçš„æ–¹æ³•æ˜¯å°†ä¸­æ–‡è½¬æ¢æˆæ‹¼éŸ³+æ•°å­—å£°è°ƒçš„æ–¹å¼ï¼Œè¿™æ ·æ•°æ®å°±å¯ä»¥é¡ºåˆ©åœ°è¢«è½½å…¥ã€‚ è¿™é‡Œæ¨èä¸€ä¸‹pypinyinæ¨¡å—ï¼Œè¯¥æ¨¡å—å®‰è£…æ¯”è¾ƒæ–¹ä¾¿ï¼ˆç›´æ¥ç”¨pipï¼‰ï¼Œä¹Ÿæ˜¯ä¸ªéå¸¸å®ç”¨å’Œé«˜è´¨é‡çš„æ±‰å­—æ‹¼éŸ³è½¬æ¢å·¥å…·ï¼ æˆ‘å°†äººå·¥æ ¡å‡†åçš„txtæ–‡ä»¶ä¼ å›é›†ç¾¤ï¼Œå»æ‰å‰é¢çš„â€œ|â€ä¹‹å‰çš„å†…å®¹ï¼Œå†å†™ä¸ªå°è„šæœ¬å°†æ‰€æœ‰æ ‡ç‚¹ç¬¦å·åˆ é™¤ï¼Œæ¥ç€æ±‰å­—è½¬æ‹¼éŸ³ï¼Œè¿™é‡Œå°±è®°å½•ä¸‹pypinyinçš„ç”¨æ³•å§ã€‚ 123456789from pypinyin import lazy_pinyin, Styleimport linecacheoutput_file = open(&quot;/public/home/wlxie/test4voice/baiduyun/training_pinyin.txt&quot;,&quot;w&quot;)readlist = list(range(1,1821)) # äººå·¥æ ¡å‡†çš„æ—¶å€™å»æ‰äº†4æ¡ä¸æ˜¯è¯¥è§’è‰²çš„éŸ³é¢‘for i in readlist: text = linecache.getline(&quot;/public/home/wlxie/test4voice/baiduyun/cheat_training.txt&quot;,i) text = &quot; &quot;.join(lazy_pinyin(text, style=Style.TONE3)) output_file.write(text) ç„¶åå°†æ‹¼éŸ³å‰æŒ‰ç…§Tacotron2è®­ç»ƒçš„è¦æ±‚ï¼ŒåŠ ä¸Šäº†éŸ³é¢‘æ–‡ä»¶å¯¹åº”çš„colabè·¯å¾„ï¼ˆä¸ºä»€ä¹ˆç”¨è¿™ä¸ªè·¯å¾„æˆ‘ä¸‹ä¸€ç¯‡åšå®¢å†è¯´æ˜ï¼‰ï¼Œä»¥åŠæ¯å¥è¯æœ«å°¾åŠ ä¸ªè‹±æ–‡çš„å¥å·ï¼Œæœ€åè¾“å‡ºç»“æœå¦‚ä¸‹ï¼š åŒæ ·çš„æ–¹æ³•å¯¹æµ‹è¯•é›†ä¹Ÿè½¬æ‹¼éŸ³ï¼Œè¿™æ ·å‰æœŸçš„æ•°æ®é›†æ–‡ä»¶å°±åˆ¶ä½œå®Œæˆå•¦ï¼æ¥ä¸‹æ¥å°±æ˜¯é‡ç‚¹â€”â€”è®­ç»ƒæ¨¡å‹ã€‚ä¸‹ç¯‡åšå®¢æ¥ç€è¯´å®Œã€‚","categories":[{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://www.shelven.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"æ‹†åŒ…","slug":"æ‹†åŒ…","permalink":"http://www.shelven.com/tags/%E6%8B%86%E5%8C%85/"},{"name":"å£°çº¹è¯†åˆ«","slug":"å£°çº¹è¯†åˆ«","permalink":"http://www.shelven.com/tags/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"},{"name":"è¯­éŸ³è½¬æ–‡æœ¬","slug":"è¯­éŸ³è½¬æ–‡æœ¬","permalink":"http://www.shelven.com/tags/%E8%AF%AD%E9%9F%B3%E8%BD%AC%E6%96%87%E6%9C%AC/"}]},{"title":"frpå†…ç½‘ç©¿é€é…ç½®ç¬”è®°","slug":"frpå†…ç½‘ç©¿é€é…ç½®ç¬”è®°","date":"2022-07-12T19:55:04.000Z","updated":"2022-12-03T16:11:04.000Z","comments":true,"path":"2022/07/13/a.html","link":"","permalink":"http://www.shelven.com/2022/07/13/a.html","excerpt":"è¿‡ä¸€æ®µæ—¶é—´è¦åˆ°æ ¡å¤–å­¦ä¹ ï¼Œè€Œå­¦æ ¡çš„èµ„æºåªèƒ½åœ¨æ ¡å›­å†…ç½‘ä¸‹æ‰èƒ½ä½¿ç”¨ï¼ˆç™»å½•é›†ç¾¤å¯ä»¥çœ‹åˆ°ç™»å½•ipæ˜¯10å¼€å¤´çš„Aç±»åœ°å€ï¼Œæ— æ³•å…¬ç½‘ipè®¿é—®ï¼‰ã€‚ä¸ºäº†æ–¹ä¾¿åœ¨æ ¡å¤–è®¿é—®æ ¡å›­å†…ç½‘çš„é›†ç¾¤ï¼Œæˆ‘æ‰‹é‡Œæ­£å¥½ä¹Ÿæœ‰ä¸€ä¸ªå¤‡æ¡ˆè¿‡çš„æœåŠ¡å™¨å’ŒåŸŸåï¼Œäºæ˜¯è‡ªå·±ç”¨frpæ­å»ºäº†ä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ï¼Œç©¿é€äº†æ ¡å›­å†…ç½‘ï¼Œè¿™é‡Œè®°å½•ä¸‹è‡ªå·±æ­å»ºè¿‡ç¨‹ã€‚","text":"è¿‡ä¸€æ®µæ—¶é—´è¦åˆ°æ ¡å¤–å­¦ä¹ ï¼Œè€Œå­¦æ ¡çš„èµ„æºåªèƒ½åœ¨æ ¡å›­å†…ç½‘ä¸‹æ‰èƒ½ä½¿ç”¨ï¼ˆç™»å½•é›†ç¾¤å¯ä»¥çœ‹åˆ°ç™»å½•ipæ˜¯10å¼€å¤´çš„Aç±»åœ°å€ï¼Œæ— æ³•å…¬ç½‘ipè®¿é—®ï¼‰ã€‚ä¸ºäº†æ–¹ä¾¿åœ¨æ ¡å¤–è®¿é—®æ ¡å›­å†…ç½‘çš„é›†ç¾¤ï¼Œæˆ‘æ‰‹é‡Œæ­£å¥½ä¹Ÿæœ‰ä¸€ä¸ªå¤‡æ¡ˆè¿‡çš„æœåŠ¡å™¨å’ŒåŸŸåï¼Œäºæ˜¯è‡ªå·±ç”¨frpæ­å»ºäº†ä¸€ä¸ªåå‘ä»£ç†æœåŠ¡å™¨ï¼Œç©¿é€äº†æ ¡å›­å†…ç½‘ï¼Œè¿™é‡Œè®°å½•ä¸‹è‡ªå·±æ­å»ºè¿‡ç¨‹ã€‚ å…¶å®ä¸€å¼€å§‹æˆ‘æ‰“ç®—ç›´æ¥ç”¨å¼€å‘æ¯”è¾ƒæˆç†Ÿçš„èŠ±ç”Ÿå£³è½¯ä»¶åšå†…ç½‘ç©¿é€ï¼Œä½†æ˜¯ä¸çŸ¥é“æ€ä¹ˆå›äº‹ï¼Œæ˜¾ç¤ºè¿æ¥æˆåŠŸä½†æ˜¯sshè¿œç¨‹ç™»é™†ä¸ä¸Šï¼Œåæ¥å°±æ”¾å¼ƒäº†ï¼Œæœ€åå†³å®šç”¨è‡ªå·±çš„æœåŠ¡å™¨å’ŒåŸŸåç©¿é€ï¼ˆåæ¥æˆ‘è¿˜ç”³è¯·äº†èŠ±ç”Ÿå£³å­¦ç”Ÿç‰ˆï¼Œç¾Šæ¯›å…ˆè–…åˆ°ä»¥åå†è¯´ç”¨ä¸ç”¨ï¼‰ã€‚ frpæ˜¯ä¸€ä¸ªgoè¯­è¨€å†™çš„å¼€æºå†…ç½‘ç©¿é€å’Œåå‘ä»£ç†è½¯ä»¶ï¼Œæ”¯æŒtcp, udp, http, httpsç­‰åè®®ï¼Œæ”¯æŒlinuxã€macã€windowså¹³å°ï¼Œæ“ä½œä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œéå¸¸é€‚åˆæˆ‘è¿™ç§å°ç™½ã€‚ 1 ä¸‹è½½frpæºä»£ç ä½œè€…å‘å¸ƒåœ¨githubï¼Œç‚¹å‡»è¿™é‡Œã€‚ é€‰æ‹©æœ€æ–°çš„releaseç‰ˆæœ¬ï¼Œæ³¨æ„frpåœ¨serviceç«¯å’Œclientç«¯æœ‰ä¸¤ä¸ªä¸åŒçš„ç¨‹åºå’Œé…ç½®æ–‡ä»¶ï¼Œserviceç«¯æ˜¯ä½ æƒ³è¦åšåå‘ä»£ç†çš„æœ‰å…¬ç½‘ipçš„æœåŠ¡å™¨ï¼Œclientç«¯æ˜¯å¤„äºå†…ç½‘ä¹‹ä¸‹çš„ä½ æƒ³è¦ç©¿é€çš„æœåŠ¡å™¨ã€‚ serviceç«¯å’Œclientç«¯ä¸€å®šè¦åŒä¸€ä¸ªç‰ˆæœ¬ã€‚è¿™é‡Œæˆ‘çš„serviceç«¯å’Œclientç«¯éƒ½æ˜¯linuxæ“ä½œç³»ç»Ÿï¼Œæ‰€ä»¥æˆ‘ç›´æ¥ä¸‹è½½äº†linux_arm64.tar.gzï¼ˆæˆ‘æƒ³é¡ºä¾¿è¿œç¨‹æ“æ§å®éªŒå®¤ç”µè„‘ï¼Œæ‰€ä»¥ä¹Ÿä¸‹è½½äº†windowsç‰ˆæœ¬ï¼Œé»˜è®¤windowsè¿œç¨‹æ¡Œé¢ç«¯å£å·æ˜¯3389ï¼Œè¿™ä¸ªä»¥åå†è¯´ï¼‰ã€‚ å°†tar.gzæ–‡ä»¶ä¼ åˆ°ä¸¤å°æœåŠ¡å™¨ä¸Šï¼Œtar -zxvfè§£å‹å°±å¯ä»¥ä½¿ç”¨äº†ï¼ˆä¸éœ€è¦ç¼–è¯‘ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ï¼‰ã€‚ åœ¨serviceç«¯ä¿ç•™frpsç¨‹åºå’Œç›¸åº”çš„inié…ç½®æ–‡ä»¶ï¼Œåœ¨clientç«¯ä¿ç•™frpcç¨‹åºå’Œç›¸åº”çš„inié…ç½®æ–‡ä»¶ï¼ˆä¸»è¦é˜²æ­¢è‡ªå·±æé”™ï¼‰ã€‚é…ç½®æ–‡ä»¶æœ‰ä¸¤ç§ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼›iniæ˜¯æœ€ç®€å•çš„é…ç½®æ–‡ä»¶ï¼Œfull.inié…ç½®æ–‡ä»¶ä¸­è®°å½•äº†å…¨éƒ¨é…ç½®å‚æ•°å’Œè‹±æ–‡è§£é‡Šï¼Œéœ€è¦çš„æ—¶å€™å¯ä»¥è‡ªå·±æ ¹æ®æƒ…å†µä¿®æ”¹ã€‚ 2 ä¿®æ”¹é…ç½®æ–‡ä»¶ç½‘ä¸Šçš„æ•™ç¨‹å¾ˆå¤šï¼Œfull.iniä¹Ÿè®°è½½äº†å…¨éƒ¨çš„é…ç½®æ–¹æ³•ï¼Œæˆ‘è¿™é‡Œåªè®°å½•ä¸‹æˆ‘è‡ªå·±çš„é…ç½®ï¼ˆæ•æ„Ÿä¿¡æ¯å°±ä¸å±•ç¤ºäº†ï¼‰ã€‚ 2.1 serviceç«¯é…ç½®frps.inié…ç½®æ–‡ä»¶ä¿®æ”¹å¦‚ä¸‹ï¼š 123456789101112131415[common]bind_port = 7000 # frpç›‘å¬çš„ç«¯å£ï¼Œé»˜è®¤7000ï¼Œå¯æ”¹bind_udp_port = 7400 # UDPé€šè®¯ç«¯å£ï¼Œå¯ä¸è®¾ç½®ï¼Œç”¨äºç‚¹å¯¹ç‚¹ç©¿é€token = xxxxxxxx # å®‰å…¨è€ƒè™‘éœ€è¦è®¾ç½®å£ä»¤ï¼Œclientç«¯éœ€è¦ç”¨åˆ°dashboard_port = 7500 # frpç®¡ç†ç«¯å£ï¼Œå¯æ”¹dashboard_user = xxxx # ç®¡ç†ç«¯å£è®¤è¯çš„ç”¨æˆ·åï¼Œç”¨äºèº«ä»½è¯†åˆ«ï¼Œè‡ªå·±è®¾ç½®dashboard_pwd = xxxx # ç®¡ç†ç«¯å£è®¤è¯çš„å¯†ç ï¼Œç”¨äºèº«ä»½è¯†åˆ«ï¼Œè‡ªå·±è®¾ç½®enable_prometheus = truesubdomain_host = xxx.xxx.xxx # è®¾ç½®å­åŸŸåï¼Œä¸»è¦æ–¹ä¾¿ç™»å½•ç®¡ç†ç•Œé¢ã€‚ä¸ç”¨ipåœ°å€ï¼Œç”¨åŸŸå+ç«¯å£çš„æ–¹å¼ç›´æ¥è®¿é—®log_file = /usr/local/frp/frps.log # frpæ—¥å¿—é…ç½®ï¼Œè¿™é‡Œæ˜¯è®°å½•3å¤©çš„æ—¥å¿—ä¿¡æ¯log_level = infolog_max_days = 3 å­åŸŸåè®¾ç½®ä¸»è¦æ˜¯æ–¹ä¾¿ç™»å½•ç®¡ç†ç•Œé¢ï¼Œä¸æ˜¯å¿…é¡»çš„ï¼Œåæ­£æˆ‘è®°ä¸ä½æœåŠ¡å™¨ä¸€é•¿ä¸²ipåœ°å€â€¦è¿™ä¸ªåŸŸåéœ€è¦DNSè§£æåæ‰èƒ½ä½¿ç”¨ åå°ä¸æŒ‚èµ·è¿è¡Œfrpsï¼š 1nohup ./frps -c frps.ini &amp; è¿™ä¸ªæ—¶å€™æˆ‘ä»¬æ˜¯çœ‹ä¸åˆ°è¿è¡Œæ—¥å¿—çš„ï¼Œæ‰“å¼€åˆšåˆšè®¾ç½®çš„frps.logæ–‡ä»¶ å‡ ä¸ªè®¾ç½®ç«¯å£éƒ½ç›‘å¬æˆåŠŸï¼Œæœ€åä¹Ÿæ˜¾ç¤ºfrps started successfullyè¯´æ˜å¼€å¯æˆåŠŸã€‚ 2.2 clientç«¯é…ç½®frpc.inié…ç½®æ–‡ä»¶ä¿®æ”¹å¦‚ä¸‹ï¼š 12345678910[common]server_addr = xxx.xxx.xxx.xxx # å¡«å†™ä½ çš„serviceç«¯æœåŠ¡å™¨å…¬ç½‘ipï¼Œè¿™é‡Œæˆ‘å†™æˆ‘çš„äº‘æœåŠ¡å™¨ipserver_port = 7000 # å‰é¢è®¾ç½®çš„frpç›‘å¬ç«¯å£ï¼Œéœ€è¦ä¿æŒä¸€è‡´token = xxxxxxxx # å‰é¢è®¾ç½®çš„å£ä»¤[ssh] # è¿™é‡Œåªæ¼”ç¤ºsshç«¯å£çš„æ˜ å°„ï¼Œå…¶ä»–å‚è€ƒfrpc_full.initype = tcp # tcpåè®®local_ip = 127.0.0.1 # è¿™ä¸ªåœ°å€ä»£è¡¨æœ¬æœºlocal_port = 22 # sshç«¯å£ï¼Œé»˜è®¤22ï¼Œç”±ä½ sshç™»å½•çš„clientæœåŠ¡å™¨å†³å®šremote_port = 6000 # æ˜ å°„çš„serviceç«¯æœåŠ¡å™¨çš„ç«¯å£ï¼Œè‡ªå·±å®šä¹‰ æ³¨æ„ä¸‹remote_portè¿™ä¸ªè®¾ç½®çš„æ˜¯serviceç«¯ä¹Ÿå°±æ˜¯äº‘æœåŠ¡å™¨çš„ç«¯å£ï¼Œé€šè¿‡è¿™ä¸ªç«¯å£è®¿é—®clientç«¯çš„22ç«¯å£ï¼Œä¹Ÿå°±æ˜¯ç«¯å£æ˜ å°„ã€‚ åŒæ ·çš„åå°ä¸æŒ‚èµ·è¿è¡Œfrpcï¼š 1nohup ./frpc -c frpc.ini &amp; æ‰“å¼€nohupçš„è¾“å‡ºæ–‡ä»¶ï¼š æ˜¾ç¤ºlogin to service successè¡¨ç¤ºå’Œserviceç«¯è¿æ¥æˆåŠŸã€‚ å…¨éƒ¨è®¾ç½®å®Œæˆåï¼Œç†è®ºä¸Šæˆ‘å°±å¯ä»¥é€šè¿‡äº‘æœåŠ¡å™¨çš„ä¸»æœºåœ°å€+6000ç«¯å£ï¼Œé€šè¿‡sshæ–¹å¼è®¿é—®å­¦æ ¡å†…ç½‘ä¸­çš„é›†ç¾¤ä¸»æœºåœ°å€+22ç«¯å£äº†ã€‚ ä½†æ˜¯æˆ‘çš„äº‘æœåŠ¡å™¨æ¯”è¾ƒç‰¹æ®Šï¼Œè¿˜éœ€è¦è¿›è¡Œä¸€æ­¥å¼€æ”¾é˜²ç«å¢™ç«¯å£ã€‚ 3 å¼€æ”¾servicedæœåŠ¡å™¨ç«¯å£å¦‚æœåœ¨2.2è¿™ä¸€æ­¥é…ç½®ä¹‹åä¸€ç›´è¿ä¸ä¸Šserviceç«¯ï¼Œé‚£ææœ‰å¯èƒ½æ˜¯serviceæœåŠ¡å™¨çš„ç«¯å£æ²¡æœ‰å¼€æ”¾ã€‚ ç‰¹åˆ«æ³¨æ„ä¸€ç‚¹ï¼Œå¦‚æœæ˜¯ä¹°çš„äº‘æœåŠ¡å™¨ï¼ˆæ¯”å¦‚æˆ‘ä¹°çš„è…¾è®¯äº‘æœåŠ¡å™¨ï¼‰ï¼Œä¸ä»…è¦åœ¨æ§åˆ¶å°é¡µé¢å¼€æ”¾ç«¯å£ï¼Œè¿˜éœ€è¦åœ¨linuxäº‘æœåŠ¡å™¨å¼€æ”¾ç«¯å£ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è¿™é‡Œç”¨åˆ°çš„äº‘æœåŠ¡å™¨ç«¯å£æ˜¯7000ï¼Œ7400ï¼Œ7500å’Œ6000ï¼Œé¦–å…ˆè¦åœ¨æ§åˆ¶å°é˜²ç«å¢™é¡µé¢ å¼€æ”¾è¿™å‡ ä¸ªç«¯å£ã€‚ ç„¶ååœ¨äº‘æœåŠ¡å™¨ä¸Šæ‰“å¼€é˜²ç«å¢™ï¼Œå¼€æ”¾å¯¹åº”ç«¯å£ï¼š 1234systemctl start firewalld # æ‰“å¼€é˜²ç«å¢™firewall-cmd --permanent --add-port=7000/tcp # æ°¸ä¹…å¼€æ”¾æŒ‡å®šçš„7000ç«¯å£ï¼ˆå…¶ä»–ç«¯å£åŒç†ï¼‰firewall-cmd --reload # é‡å¯é˜²ç«å¢™firewall-cmd --list-ports # æŸ¥çœ‹é˜²ç«å¢™å¼€æ”¾çš„æ‰€æœ‰ç«¯å£ æ³¨æ„ä¸€ä¸‹é˜²ç«å¢™ç«¯å£è®¾å®šå®Œæˆåï¼Œéœ€è¦é‡è½½é˜²ç«å¢™æ‰ä¼šç”Ÿæ•ˆã€‚ æˆ‘ä»¬æŠŠè‡ªå·±äº‘æœåŠ¡å™¨çš„é˜²ç«å¢™å’Œç«¯å£é…ç½®å¥½å°±è¡Œï¼ˆå­¦æ ¡é›†ç¾¤ä½ ä¸æ˜¯rootç”¨æˆ·ä½ ä¹Ÿé…ç½®ä¸äº†ï¼Œä¸€èˆ¬æ¥è¯´ä¹Ÿä¸ä¼šè®¾ç½®é˜²ç«å¢™ï¼‰ã€‚ 4 frpç®¡ç†é¢æ¿æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥è®¿é—®ï¼š serviceç«¯æœåŠ¡å™¨ ipåœ°å€:ç«¯å£å· è®¾ç½®å­åŸŸååå¯ä»¥ç”¨ å­åŸŸå:ç«¯å£å· ç”¨æˆ·åå¯†ç è®¤è¯åï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š ä¸»è¦å°±æ˜¯çœ‹ä¸€ä¸‹è¿æ¥æ•°é‡ï¼Œè¿æ¥æ–¹å¼ï¼Œäº§ç”Ÿçš„æµé‡ç­‰ç­‰ï¼Œå…·ä½“å°±ä¸ç»†è¯´äº†ã€‚ å¼€ä¸ªæ‰‹æœºçƒ­ç‚¹ï¼Œç”¨xshellç™»é™†ä¸€ä¸‹é›†ç¾¤ï¼Œå‘ç°æ˜¾ç¤ºçš„ç™»å½•ipå˜æˆäº†localhostï¼Œè€Œä¸æ˜¯10å¼€å¤´çš„Aç±»åœ°å€äº†ï¼Œè¯´æ˜åå‘ä»£ç†æˆåŠŸã€‚ è¿æ¥é€Ÿåº¦éå¸¸å¿«ï¼Œè€Œä¸”ç¨³å®šï¼ä»¥åç™»å½•é›†ç¾¤å°±å†ä¹Ÿä¸ç”¨æ ¡å›­ç½‘å•¦ï¼ 5 å†™åœ¨æœ€åè¿™ç§ç”¨å¤–ç½‘æœåŠ¡å™¨åšåå‘ä»£ç†æœåŠ¡å™¨ï¼Œé€šè¿‡ç«¯å£è½¬å‘çš„æ–¹å¼è®¿é—®å†…ç½‘æœåŠ¡å™¨è¿˜æ˜¯æœ‰ä¸€å®šå®‰å…¨é£é™©çš„ï¼Œè¯¥å¼€é˜²ç«å¢™å¼€é˜²ç«å¢™ï¼Œå°å¿ƒé©¶å¾—ä¸‡å¹´èˆ¹ã€‚ è¿˜æœ‰ï¼Œè¿™ç§æ–¹æ³•ä¹Ÿæœ‰ä¸ªç¼ºç‚¹ã€‚æ‰“ä¸ªæ¯”æ–¹å¦‚æœä½ åœ¨æ ¡å¤–ï¼Œè€Œå­¦æ ¡æœåŠ¡å™¨å› ä¸ºæŸç§ä¸å¯æŠ—åŠ›é‡å¯äº†ï¼ˆæ¯”å¦‚åœç”µï¼Œè¿™åœ¨æ–°ç–†çœŸçš„å¤ªå¸¸è§äº†ï¼‰è¿™å°±ç›¸å½“äºä½ æŒ‚åœ¨åå°nohupçš„ç¨‹åºè¢«å¼ºåˆ¶æ€æ‰äº†ã€‚ç­‰åˆ°ç®¡ç†å‘˜é‡å¯åï¼Œclientç«¯çš„frpcç¨‹åºå°±éœ€è¦å†æ‰§è¡Œä¸€æ¬¡æ‰èƒ½ç”Ÿæ•ˆï¼Œè¿™ä¸ªæ—¶å€™å°±åªèƒ½æ‹œæ‰˜æœ‰å­¦æ ¡é›†ç¾¤è´¦å·çš„äººå¸®ä½ åœ¨åå°æ‰§è¡Œnohupï¼Œä½ æ‰èƒ½ä»å¤–ç½‘è®¿é—®é›†ç¾¤ã€‚ è¦åº”å¯¹è¿™ç§æƒ…å†µï¼Œæœ€ç®€å•çš„æ˜¯ä½ å†™ä¸ªå¼€æœºè‡ªå¯åŠ¨è„šæœ¬æ‰§è¡Œfrpcï¼Œä½†æ˜¯ä½ æ²¡æœ‰rootæƒé™æ˜¯ä¸å¯è¡Œçš„â€¦æˆ–è€…ä½ è®©é›†ç¾¤ç®¡ç†å‘˜ç»™ä½ suæƒé™ï¼Œè¿™ä¸€èˆ¬æ¥è¯´ä¹Ÿä¸å¤ªå¯èƒ½â€¦å¦‚ä½•å®Œç¾è§£å†³è¿™ä¸ªé—®é¢˜è¿˜æœ‰å¾…ç ”ç©¶","categories":[{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"}],"tags":[{"name":"å†…ç½‘ç©¿é€","slug":"å†…ç½‘ç©¿é€","permalink":"http://www.shelven.com/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"},{"name":"åå‘ä»£ç†","slug":"åå‘ä»£ç†","permalink":"http://www.shelven.com/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"}]},{"title":"blastn & blastp å¯»æ‰¾åŒæºåŸºå› ","slug":"blastn-blastp-å¯»æ‰¾åŒæºåŸºå› ","date":"2022-07-05T11:25:26.000Z","updated":"2022-12-03T16:11:26.000Z","comments":true,"path":"2022/07/05/a.html","link":"","permalink":"http://www.shelven.com/2022/07/05/a.html","excerpt":"ä»Šå¤©æ¥åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œå¤§è‡´å†…å®¹æ˜¯åœ¨ä¸€ä¸ªæ¤ç‰©çš„å…¨é•¿è½¬å½•ç»„æ•°æ®ä¸­æ‰¾æ‹Ÿå—èŠ¥çš„ä¸‰ä¸ªåŒæºåŸºå› ã€‚ç®€ç®€å•å•çš„æè¿°ï¼Œæˆ‘çš„æƒ³æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥æ‰¾åŸºå› çš„CDSåºåˆ—åšblastnæ¯”å¯¹å°±å®Œäº‹äº†ï¼Œç»“æœå´æ²¡æœ‰é‚£ä¹ˆé¡ºåˆ©â€¦è®°å½•ä¸€ä¸‹è¸©çš„å‘å’Œè§£å†³åŠæ³•ã€‚","text":"ä»Šå¤©æ¥åˆ°ä¸€ä¸ªä»»åŠ¡ï¼Œå¤§è‡´å†…å®¹æ˜¯åœ¨ä¸€ä¸ªæ¤ç‰©çš„å…¨é•¿è½¬å½•ç»„æ•°æ®ä¸­æ‰¾æ‹Ÿå—èŠ¥çš„ä¸‰ä¸ªåŒæºåŸºå› ã€‚ç®€ç®€å•å•çš„æè¿°ï¼Œæˆ‘çš„æƒ³æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç›´æ¥æ‰¾åŸºå› çš„CDSåºåˆ—åšblastnæ¯”å¯¹å°±å®Œäº‹äº†ï¼Œç»“æœå´æ²¡æœ‰é‚£ä¹ˆé¡ºåˆ©â€¦è®°å½•ä¸€ä¸‹è¸©çš„å‘å’Œè§£å†³åŠæ³•ã€‚ 1 blastnå¯»æ‰¾åŒæºåŸºå› ä¸‰ä¸ªåŸºå› TAIRå·æ˜¯AT4G28590ã€AT2G43010å’ŒAT2G34640ï¼Œä»å…¨é•¿è½¬å½•ç»„æµ‹åºæŠ¥å‘Šä¸­ï¼Œæˆ‘æ‰¾åˆ°äº†éå†—ä½™çš„è½¬å½•æœ¬åºåˆ—æ–‡ä»¶CD-hit-est.fastaï¼Œé¦–å…ˆç¬¬ä¸€æ­¥å°±æ˜¯æœ¬åœ°å»ºæ ¸é…¸åºåˆ—åº“ã€‚ 1makeblastdb -in CD-hit-est.fasta -dbtype nucl -input_type fasta -out Kc å› ä¸ºç»™çš„æ˜¯TAIRå·ï¼Œæ‰€ä»¥ç›´æ¥å»TRIRå®˜ç½‘æŸ¥æ‰¾ç›¸åº”åŸºå› çš„CDSåºåˆ—åšæ¯”å¯¹ æ‰‹åŠ¨åˆ›å»ºquery geneçš„faåºåˆ—æ–‡ä»¶ 1234vim RCB_cds.fna# æ‰‹åŠ¨åˆ›å»ºfaæ–‡ä»¶&gt;AT4G28590ATGAGTTTCTTCGCTGTTGCTTGCTCCGCGCCAAGATCTTCTATGCTTCTCACCGGCTTGAATTCGAGCTTCTCTGATATGCATCGCAGCCCACTATTTGTTTTCCCGGTGACTATATCATCCCGGAGCGTGAAACGCTTCGCCGCTGTTTCGTCTGATTCCGTACTAGACCCTGAATCCAAAAATCAAACTCGGTCCCGTCGCAAAAATAAGGAAGCAGTTACGCCAATTGCTGAAACCGAGAACAATGAAAAGTTTCCGACAAAGGTCCCGCGTAAATCGAAGCGTGGGCGGCGGAGTGAAGCAGACGCTGTGGAAGATTACGTGAGAAGCTCCCTCGAGCGTACTTTCTCCACCATAAAGGAGCAGAATCCGGAGGTTTTTGAGAACAAGGAGAAGGCGAATTTCATCAAAGACAGAGGCGTTGATGAAGAAGAGGAAGAAGAAGAAGAGATGGTGGTGGAAGAGGAAGATCCAGATTGGCCAGTAGATACAGACGTTGGATGGGGAATCAAAGCTTCGGAGTATTTCGATACACATCCAATCAAAAACGTGGTTGGAGATGATGGGAGTGAGATTGATTGGGAAGGTGAGATTGATGATAGTTGGGTCAAGGAGATCAATTGTTTGGAATGGGAAAGCTTTGCTTTTCATCCTAGTCCACTCGTTGTCCTTGTATTCGAGCGATACAAAAGAGCTAGTGATAACTGGAAGACATTGAAGGAGCTTGAGAAAGCTATCAAAGTTTATTGGGATGCGAAAGATCGATTACCTCCACGGGCGGTTAAGATTGACCTGAACATCGAGACAGATTTGGCATATGCTCTTAAAGCTAAGGAATGCCCACAGATTCTCTTCTTACGCGGAAACCGGATTCTGTACAGGGAGAAAGACTTTCGCACGGCGGATGAATTGGTTCATATGATTGCGCATTTCTACTATAAAGCGAAGAGGCCTTCGTGTGTCGACAAGGCTAATGTAACCCCGTACTGTTAG blastnæ¯”å¯¹ 1blastn -query RCB_cds.fna -out RCB_blastn_Kc.out -db Kc -outfmt 6 -evalue 1e-5 -num_threads 4 RCB_blastn_Kc.outæ˜¯blastçš„m8æ ¼å¼è¾“å‡ºæ–‡ä»¶ï¼Œæ‰¾åˆ°åŒ¹é…é•¿åº¦æœ€é•¿çš„ï¼ˆä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¡ï¼‰subject gene idï¼Œå›åˆ°éå†—ä½™è½¬å½•æœ¬ï¼Œæ‰¾åˆ°subject geneåœ¨å“ªè¡Œï¼Œæœ€åæ‰¾å‡ºè½¬å½•æœ¬åºåˆ—ã€‚ 1234# æ‰¾åˆ°subject geneæ‰€åœ¨è¡Œï¼ˆsubject gene idä¸­æœ‰æ‰€åœ¨è¡Œæ•°ï¼Œè¿™é‡ŒéªŒè¯ä¸‹ï¼‰cat CD-hit-est.fasta | grep -n &quot;Kc-zong_1-10k_transcript/10791&quot;# æå–åºåˆ—awk &#x27;NR&gt;=10719 &amp;&amp; NR&lt;=10720&#x27; CD-hit-est.fasta ç´§æ¥ç€å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼šAT2G43010å’ŒAT2G34640è¿™ä¸¤ä¸ªåŸºå› æ— æ³•é€šè¿‡blastnæ¯”å¯¹æ‰¾åˆ°åŒæºåºåˆ—ï¼Œevalueå€¼ä¸ç®¡æ”¾åˆ°å¤šå®½éƒ½æ¯”å¯¹ä¸ä¸Šã€‚ å› ä¸ºè¿™ä¸ªæ¤ç‰©åœ¨NCBIä¸Šæ²¡æœ‰å‚è€ƒåŸºå› ç»„ï¼Œæˆ‘ä»¬è¯¾é¢˜ç»„ä¹Ÿåªæµ‹äº†å…¨é•¿è½¬å½•ç»„è€Œæ²¡æœ‰æµ‹åŸºå› ç»„ï¼Œæ‰€ä»¥å½“ä¸€å¼€å§‹æ²¡æœ‰æ¯”å¯¹å‡ºç»“æœçš„æ—¶å€™ï¼Œæˆ‘ä¸€åº¦æ€€ç–‘æ˜¯è¿™ç§æ¤ç‰©å‹æ ¹å„¿å°±æ²¡æœ‰è¿™ä¿©åŸºå› ï¼Œæˆ–è€…è¿™ä¸ªæ ·å“å¶ç‰‡ï¼ˆæµ‹åºçš„éƒ¨ä½ï¼‰åœ¨æ£€æµ‹çš„æ—¶é—´ç‚¹å°±æ²¡æœ‰è½¬å½•ç›¸åº”çš„åŸºå› ã€‚ æœ¬åœ°blastæ‰¾ä¸åˆ°åŒæºåŸºå› ï¼Œæˆ‘åˆä»è¿‘ç¼˜èŠç§‘æ¤ç‰©å¼€å§‹æŠ˜è…¾ï¼Œæ€è·¯æ˜¯å¦‚æœèŠç§‘æœ‰åŒæºåŸºå› åˆ™å¯»æ‰¾ä¿å®ˆç»“æ„åŸŸï¼Œè®¾è®¡å¼•ç‰©å°†CDSåŒºåŸŸå…‹éš†å‡ºæ¥ã€‚è‡³ä»Šå·²å‘è¡¨çš„æ¤ç‰©åŸºå› ç»„å¯ä»¥ä»ç½‘ç«™Plabipdï¼ˆæœ¬ç«™ç½‘å€å¯¼èˆªæ æœ‰æ”¶å½•ï¼‰æ‰¾åˆ°ï¼Œè¿™ä¸ªç½‘ç«™å¾ˆè´´å¿ƒåœ°æŠŠç‰©ç§ç§å±å…³ç³»ä¹Ÿåˆ—äº†å‡ºæ¥ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ‰¾ç‰©ç§å­¦åå’Œè¿‘ç¼˜å…³ç³»ã€‚ ç†æƒ³å¾ˆä¸°æ»¡ç°å®å¾ˆéª¨æ„Ÿï¼Œæˆ‘ä»èŠç§‘ä¸€çº§ä¸€çº§å¾€ä¸Šæ‰¾ï¼Œç›´åˆ°Eudicotyledoneaeï¼ˆçœŸåŒå­å¶æ¤ç‰©åˆ†æ”¯ï¼‰æ‰ç”¨blastnæ¯”å¯¹ä¸ŠåŒæºåŸºå› ï¼Œè€Œä¸”æ— ä¸€ä¾‹å¤–æ¯”å¯¹ä¸Šçš„å…¨æ˜¯åå­—èŠ±ç§‘ï¼ˆæ‹Ÿå—èŠ¥æ‰€åœ¨ç§‘ï¼‰æ¤ç‰©ï¼Œæ ¹æœ¬ä¸ç®—è¿‘ç¼˜ç‰©ç§â€¦.æ— å¥ˆä¹‹ä¸‹è¯•äº†blastçš„å…¶ä»–åŠŸèƒ½ï¼Œç”¨æ°¨åŸºé…¸åºåˆ—è·‘äº†ä¸€éblastpï¼Œç„¶åå‘ç°èŠç§‘ä¹Ÿæœ‰åºåˆ—å¯ä»¥æ¯”å¯¹ä¸Šäº†ï¼è¿™æ‰æ‰“å¼€æ–°ä¸–ç•Œçš„å¤§é—¨ 2 blastpå¯»æ‰¾åŒæºåŸºå› åŸºäºç¿»è¯‘é˜…è¯»æ¡†å¯¹å»å†—ä½™çš„å…¨é•¿è½¬å½•æœ¬è¿›è¡ŒCDSé¢„æµ‹ï¼ˆTransDecoderè½¯ä»¶ï¼‰ï¼Œç»“æœä»¥fastaæ ¼å¼ä¿å­˜ï¼Œåç»­æˆ‘ä¼šå¯¹è¿™ä¸ªæ–‡ä»¶éªŒè¯ä¸€éï¼Œå…ˆå»ºè›‹ç™½åº“åšblastpæ¯”å¯¹ã€‚ 1makeblastdb -in transdecoder.pep.fa -dbtype prot -input_type fasta -out nr_Kc å¯ä»¥çœ‹åˆ°åªæœ‰25128ä¸ªç¼–ç è›‹ç™½åŸºå› ï¼Œå¯¹äºåŸºå› ç»„å¤§å°åœ¨1Gå·¦å³çš„èŠç§‘ç‰©ç§æ¥è¯´ï¼Œè¿™ä¸ªåŸºå› æ•°é‡è¿‡å°‘ã€‚å› æ­¤åç»­è¿˜éœ€è¦å¯¹å…¨é•¿è½¬å½•ç»„æ•°æ®å†è·‘ä¸€ééªŒè¯ä¸€ä¸‹ï¼Œè¿™ä¸ªæ˜¯åè¯ã€‚ é€šè¿‡TAIRå·åœ¨TAIRå®˜ç½‘æŸ¥æ‰¾è›‹ç™½åºåˆ—ï¼Œåˆ›å»ºfaæ–‡ä»¶åè¿›è¡Œæœ¬åœ°blastpæ¯”å¯¹ 12blastp -query PIF4_pep.fna -out PIF4_blastp_nr_Kc.out -db nr_Kc -outfmt 6 -evalue 1e-5 -num_threads 4blastp -query HMR_pep.fna -out HMR_blastp_nr_Kc.out -db nr_Kc -outfmt 6 -evalue 1e-5 -num_threads 4 æ³¨æ„ä¸‹ç»“æœæ–‡ä»¶åå†™æ¸…æ¥šä»€ä¹ˆåŸºå› ï¼Œç”¨çš„ä»€ä¹ˆæ–¹æ³•æ¯”å¯¹ï¼Œæ¯”å¯¹çš„ä»€ä¹ˆåº“ã€‚è¿™ä¸ªæ—¶å€™å†æŸ¥çœ‹å„è‡ªçš„ç»“æœæ–‡ä»¶ï¼Œå‘ç°æœ‰æ¯”å¯¹ç»“æœï¼Œå†å›åˆ°éå†—ä½™è½¬å½•æœ¬æ–‡ä»¶æ‰¾å¯¹åº”çš„cdsåºåˆ—ã€‚æ“ä½œè¿‡ç¨‹éƒ½ä¸€æ ·ï¼Œè¿™é‡Œä¸å†èµ˜è¿°äº†ã€‚ 3 æ€»ç»“æ‰¾ä¸‰æ¡åŒæºåŸºå› èŠ±äº†ä¸€æ•´å¤©çš„æ—¶é—´ï¼Œä¸»è¦åŸå› è¿˜æ˜¯å¯¹åŒæºåºåˆ—äº†è§£ä¸å¤Ÿæ·±åˆ»ã€‚ åŒæºå°±æ˜¯æœ‰å…±åŒçš„è¿›åŒ–ç¥–å…ˆï¼Œåºåˆ—ç›¸ä¼¼æ€§æœç´¢å¯ä»¥é€šè¿‡æ£€æµ‹è¿‡é«˜çš„ç›¸ä¼¼æ€§æ¥è¯†åˆ«åŒæºè›‹ç™½è´¨æˆ–åŸºå› ï¼šå½“ä¸¤ä¸ªåºåˆ—çš„ç›¸ä¼¼æ€§è¶…è¿‡å¶ç„¶çš„é¢„æœŸæ—¶ï¼Œæˆ‘ä»¬æ¨æ–­è¿™ä¸¤ä¸ªåºåˆ—å­˜åœ¨åŒæºæ€§ã€‚ å½“è§‚å¯Ÿåˆ°è¿‡é«˜çš„ç›¸ä¼¼æ€§æ—¶ï¼Œè¿™ä¸¤ä¸ªåºåˆ—ä¸æ˜¯ç‹¬ç«‹å‡ºç°çš„ï¼Œå®ƒä»¬èµ·æºäºä¸€ä¸ªå…±åŒçš„ç¥–å…ˆã€‚ é€šè¿‡ç®—æ³•è¿›è¡Œåºåˆ—å¯¹åº“æ¯”å¯¹çš„å·¥å…·ï¼Œæ¯”å¦‚blastç­‰ï¼Œæ˜¯é€šè¿‡è¿‡é«˜ç›¸ä¼¼æ€§æ¥å‡å°‘å‡é˜³æ€§çš„ç»“æœã€‚æ‰€ä»¥é€šè¿‡ç®—æ³•åœ¨ç»Ÿè®¡å­¦ä¸Šæ‰¾ä¸åˆ°åº“é‡Œæ˜¾è‘—çš„åŒ¹é…é¡¹ï¼Œä¸ä»£è¡¨è¿™ä¸ªç‰©ç§ä¸­ä¸€å®šæ²¡æœ‰åŒæºåŸºå› ã€‚ ä»è¿™æ¬¡blastnå’Œblastpæ¯”å¯¹ç»“æœæ¥çœ‹ï¼Œæ ¸é…¸åºåˆ—æ¯”å¯¹å¯èƒ½æ›´ä¸å®¹æ˜“æ‰¾åˆ°åŒæºåºåˆ—ã€‚å…¶å®ä¹Ÿå¥½ç†è§£ï¼Œç”Ÿç‰©åœ¨è¿›åŒ–çš„å‡ äº¿å¹´æ—¶é—´é‡Œï¼Œå¾ˆéš¾ä¿è¯ä¸åŒç‰©ç§æœ‰é«˜ç›¸ä¼¼æ€§çš„æ ¸é…¸åºåˆ—ã€‚åŒä¸ªæ°¨åŸºé…¸æœ‰ä¸åŒå¯†ç å­ï¼ˆç®€å¹¶æ€§ï¼‰ï¼Œä¹Ÿèƒ½è¯æ˜è›‹ç™½è´¨ä¸€çº§ç»“æ„æ‰æ˜¯å¯¹ç”Ÿç‰©å½±å“æœ€å¤§çš„ï¼Œè›‹ç™½è´¨åºåˆ—ç›¸åŒï¼Œå°±ä¼šæœ‰ç›¸ä¼¼ç»“æ„å’ŒåŠŸèƒ½ã€‚å› æ­¤ï¼Œè›‹ç™½è´¨åºåˆ—ä¹Ÿå°±æ˜¯æ°¨åŸºé…¸åºåˆ—ï¼Œå¯¹ç›¸ä¼¼æ€§çš„æœç´¢æ¯”æ ¸é…¸åºåˆ—è¦æ•æ„Ÿçš„å¤šã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"blast","slug":"blast","permalink":"http://www.shelven.com/tags/blast/"}]},{"title":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ4ï¼‰â€”â€”åˆæ­¥ç»„è£…äºŒä»£æ•°æ®","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ4ï¼‰â€”â€”åˆæ­¥ç»„è£…äºŒä»£æ•°æ®","date":"2022-07-03T11:28:52.000Z","updated":"2022-12-03T16:12:27.000Z","comments":true,"path":"2022/07/03/a.html","link":"","permalink":"http://www.shelven.com/2022/07/03/a.html","excerpt":"ç»è¿‡å‰é¢çš„å…¨åŸºå› ç»„ç‰¹å¾è°ƒæŸ¥ï¼ˆsurveyï¼‰åï¼Œæˆ‘ä»¬å‘ç°è¿™æ˜¯ä¸€ä¸ªå¤æ‚åŸºå› ç»„ï¼Œæ‚åˆåº¦è¾ƒé«˜ï¼Œå¯ä»¥ä»¥äºŒä»£+ä¸‰ä»£æµ‹åºæŠ€æœ¯ç›¸ç»“åˆçš„ç­–ç•¥è¿›è¡Œå…¨åŸºå› ç»„ç»„è£…ï¼Œè¿˜å¯ä»¥ä»¥Hi-Cï¼ˆé«˜é€šé‡æŸ“è‰²ä½“æ•è·æŠ€æœ¯ï¼ŒHigh-through chromosome conformation captureï¼‰æŠ€æœ¯è¿›è¡Œè¾…åŠ©ç»„è£…ã€‚è¿™é‡Œæˆ‘ç”¨åå¤§å¼€å‘çš„äºŒä»£æµ‹åºç»„è£…å·¥å…·SOAPdenovoï¼Œç”¨äºŒä»£æµ‹åºæ•°æ®å¯¹è¿›è¡Œåˆæ­¥åŸºå› ç»„ç»„è£…ã€‚","text":"ç»è¿‡å‰é¢çš„å…¨åŸºå› ç»„ç‰¹å¾è°ƒæŸ¥ï¼ˆsurveyï¼‰åï¼Œæˆ‘ä»¬å‘ç°è¿™æ˜¯ä¸€ä¸ªå¤æ‚åŸºå› ç»„ï¼Œæ‚åˆåº¦è¾ƒé«˜ï¼Œå¯ä»¥ä»¥äºŒä»£+ä¸‰ä»£æµ‹åºæŠ€æœ¯ç›¸ç»“åˆçš„ç­–ç•¥è¿›è¡Œå…¨åŸºå› ç»„ç»„è£…ï¼Œè¿˜å¯ä»¥ä»¥Hi-Cï¼ˆé«˜é€šé‡æŸ“è‰²ä½“æ•è·æŠ€æœ¯ï¼ŒHigh-through chromosome conformation captureï¼‰æŠ€æœ¯è¿›è¡Œè¾…åŠ©ç»„è£…ã€‚è¿™é‡Œæˆ‘ç”¨åå¤§å¼€å‘çš„äºŒä»£æµ‹åºç»„è£…å·¥å…·SOAPdenovoï¼Œç”¨äºŒä»£æµ‹åºæ•°æ®å¯¹è¿›è¡Œåˆæ­¥åŸºå› ç»„ç»„è£…ã€‚ 1 å®‰è£…SOAPdenovo 2.0githubä¸Šè¿™ä¸ªè½¯ä»¶çš„ç‰ˆæœ¬æ˜¯2.0ï¼Œç½‘å€ç‚¹å‡»è¿™é‡Œ è½¯ä»¶ä¸‹è½½å®‰è£…è¿‡ç¨‹éå¸¸é¡ºåˆ©ï¼Œå¦‚æœæœ‰æŠ¥é”™æ— æ³•è§£å†³çš„è¯å¯ä»¥åœ¨Issueé‡Œå‘ä½œè€…åé¦ˆã€‚ 1234# é›†ç¾¤å¦‚æœæ— æ³•ç™»å½•githubï¼Œä¸‹è½½æºç åŒ…ï¼Œé€šè¿‡xftpä¼ åˆ°é›†ç¾¤tar -zxvf SOAPdenovo2cd SOAPdenovo2-r242make ç¼–è¯‘ä¹‹åå¯ä»¥çœ‹åˆ°æœ‰å¦‚ä¸‹å‡ ä¸ªæ–‡ä»¶ SOAPdenovo-127merå’ŒSOAPdenovo-63meræ˜¯ç”¨äºç»„è£…çš„ä¸¤ä¸ªç¨‹åºï¼Œåˆ†åˆ«ä»£è¡¨æ”¯æŒçš„æœ€å¤§k-merä¸º127å’Œ63ï¼Œç”¨æ³•ä¸Šæ˜¯å®Œå…¨ç›¸åŒçš„ã€‚ example.configæ˜¯é…ç½®æ–‡ä»¶ï¼Œç»„è£…ä¹‹å‰æˆ‘ä»¬è¦è®¾ç½®å…¶ä¸­çš„å‚æ•°å†…å®¹ï¼›README.mdæ˜¯å¸®åŠ©æ–‡ä»¶ï¼Œè¯¦ç»†è®°å½•äº†å„é¡¹å‚æ•°çš„ä½œç”¨å’Œè®¾ç½®æ–¹æ³•ã€‚è¿™ä¸ªåé¢ä¼šè®²åˆ°ã€‚ 2 kmergenieè®¡ç®—æœ€ä½³kå€¼ç°åœ¨ç»„è£…åŸºå› ç»„çš„ç®—æ³•ä¸»è¦æœ‰ä¸‰ç§ï¼šDe Bruijn graphï¼ŒOverlap-Layout-Consensuså’ŒString Graphã€‚SOAPdenovoè½¯ä»¶ç»„è£…åŸºå› ç»„ç”¨çš„æ˜¯De Bruijn graphç®—æ³•ï¼Œç®€å•ç†è§£æ˜¯é€šè¿‡å°†readsæ‰“æ–­æˆk-meråï¼Œåˆ©ç”¨k-merä¹‹é—´çš„é‡å¤éƒ¨åˆ†æ„å»ºå›¾ï¼Œå¾—åˆ°æœ€ä¼˜åŒ–è·¯å¾„ä»è€Œæ‹¼æ¥contigã€‚è¦å…·ä½“äº†è§£ä»€ä¹ˆæ˜¯De Bruijn graphï¼Œå¯ä»¥å‚è€ƒè¿™ä¸€ç¯‡åšæ–‡ã€‚ ä¸åŒk-merå€¼æ„å»ºçš„De Bruijn graphä¸ä¸€æ ·ï¼Œä¼šå¯¼è‡´ç»„è£…è´¨é‡çš„å·®å¼‚ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é€‰æ‹©ä¸€ä¸ªæœ€ä½³çš„ç»„è£…k-merå¤§å°ï¼ˆå°½ç®¡å¯ä»¥ç”¨é»˜è®¤å€¼23ç›´æ¥ç»„è£…ï¼Œä½†æ˜¯æ•ˆæœä¸ä¸€å®šæ˜¯æœ€å¥½çš„ï¼‰ã€‚ kmergenieè½¯ä»¶å’Œä¹‹å‰çš„Jellyfishç±»ä¼¼ï¼Œéƒ½å¯ä»¥ç”¨äºç»Ÿè®¡k-meræ•°é‡ï¼Œkmergenieæœ€å¤§ä¼˜ç‚¹æ˜¯å¯ä»¥å¯¹é¢„è®¾çš„å¤šä¸ªk-merè¿›è¡Œåˆ†æï¼Œæ‰¾åˆ°æœ€ä½³çš„k-merã€‚ç‚¹å‡»è¿™é‡Œè¿›å…¥Kmergenieå®˜ç½‘ï¼Œä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„è½¯ä»¶ã€‚ æ³¨æ„ä¸‹è¿™ä¸ªè½¯ä»¶å®‰è£…éœ€è¦python &gt; 2.7ï¼Œå¹¶ä¸”éœ€è¦å®‰è£…Rå’Œzlibã€‚ 12345678tar -zxvf kmergenie-1.7051.tar.gzcd kmergenie-1.7051makepython setup.py install --user # å®‰è£…åˆ°ç”¨æˆ·ç¯å¢ƒä¸­ï¼Œä¸æŠ¥é”™è¯´æ˜å¯ä»¥ä½¿ç”¨vim file.txt # å°†ä¸¤ä¸ªfqæ–‡ä»¶è·¯å¾„å†™è¿›å»ï¼Œä¸€è¡Œä¸€ä¸ª/public/home/wlxie/biosoft/kmergenie-1.7051/kmergenie file.txt -o ./kmergenie_res -l 15 -k 65 -s 5 -t 30 --diploid # è¿è¡Œkmergenie -o # è¾“å‡ºæ–‡ä»¶ä½ç½®å’Œåç§° -l # è®¾å®šçš„æœ€å°kå€¼ -k # è®¾å®šçš„æœ€å¤§kå€¼ -s # æœ€å°kå€¼åˆ°æœ€å¤§kå€¼ï¼Œæ¯æ¬¡å¢åŠ çš„é—´éš”ï¼ˆæ ¹æ®éœ€è¦è®¾å®šé—´éš”å¤§å°ï¼‰ -t # è¿è¡Œçš„çº¿ç¨‹ï¼ˆCPUæ ¸ï¼‰æ•° --diploid # äºŒå€ä½“æ¨¡å¼ï¼Œå‰é¢æˆ‘ä»¬å·²ç»ç”¨jellyfishç¡®è®¤è¿‡è¿™æ˜¯ä¸ªå¤æ‚åŸºå› ç»„ã€‚é»˜è®¤æ˜¯å•å€ä½“æ¨¡å¼ å…¶åŸç†å°±æ˜¯è®¾ç½®ä¸åŒkå€¼è¿›è¡ŒåŸºå› ç»„å¤§å°é¢„ä¼°ï¼Œå°†ç»„è£…çš„åŸºå› ç»„æœ€å¤§çš„kå€¼ä½œä¸ºæœ€ä½³kå€¼ã€‚ æœ€ç»ˆä¼šç»™å‡ºkmergenie_resä¸ºå‰ç¼€çš„ä¸€ç³»åˆ—æŠ¥å‘Šï¼Œç”Ÿæˆçš„.histoæ–‡ä»¶è¿˜å¯ä»¥ç”¨æ¥ä¸Šä¸€ç¯‡ç¬”è®°ä¸­çš„GenomeScopeåˆ†æï¼Œè¿™é‡Œæˆ‘ä»¬åªéœ€è¦çœ‹æ€»ç»“çš„htmlæ–‡ä»¶ã€‚ ç¡®å®šç»„è£…çš„æœ€ä½³kå€¼ä¸º51 3 SOAPdenovo2ç»„è£…contigs&#x2F;scaffoldså¤åˆ¶ä¸€ä»½example.configé…ç½®æ–‡ä»¶ï¼Œé‡å‘½åä¸ºrun_configï¼Œä¿®æ”¹éƒ¨åˆ†å‚æ•° 123456789101112131415161718192021222324252627282930#maximal read length#å…¨å±€é…ç½®å‚æ•°ï¼Œåªè¦é«˜äºè¿™ä¸ªå‚æ•°çš„åºåˆ—éƒ½ä¼šè¢«æˆªå–åˆ°è¿™ä¸ªé•¿åº¦max_rd_len=150#æ–‡åº“é…ç½®ä»¥[LIB]å¼€å¤´[LIB]#average insert size#æ–‡åº“æ’å…¥ç‰‡æ®µçš„å¹³å‡é•¿åº¦ï¼Œåœ¨å®é™…è®¾ç½®æ—¶ï¼Œå¯ä»¥å‚è€ƒæ–‡åº“sizeåˆ†å¸ƒå›¾ï¼Œå–å³°å€¼ï¼ˆé»˜è®¤200ï¼‰avg_ins=200#if sequence needs to be reversed#æ˜¯å¦éœ€è¦å°†åºåˆ—åå‘äº’è¡¥ï¼Œå¯¹äºpair-endæ•°æ®ï¼Œä¸éœ€è¦åå‘äº’è¡¥ï¼Œè®¾ç½®ä¸º0ï¼›å¯¹äºmate-pairæ•°æ®ï¼Œéœ€è¦åå‘äº’è¡¥ï¼Œè®¾ç½®ä¸º1reverse_seq=0#in which part(s) the reads are used#1è¡¨ç¤ºåªç»„è£…contigï¼Œ2è¡¨ç¤ºåªç»„è£…scaffoldï¼Œ3è¡¨ç¤ºåŒæ—¶ç»„è£…contigå’Œscaffoldï¼Œ4è¡¨ç¤ºåªè¡¥gapasm_flags=3#use only first 100 bps of each read#åºåˆ—é•¿åº¦é˜ˆå€¼ï¼Œä½œç”¨å’Œmax_rd_lenç›¸åŒï¼Œå¤§äºè¯¥é•¿åº¦çš„åºåˆ—ä¼šè¢«åˆ‡é™¤åˆ°è¯¥é•¿åº¦rd_len_cutoff=150#in which order the reads are used while scaffolding#è®¾ç½®ä¸åŒæ–‡åº“æ•°æ®çš„ä¼˜å…ˆçº§é¡ºåºï¼Œå–å€¼èŒƒå›´ä¸ºæ•´æ•°ï¼Œrankå€¼ç›¸åŒçš„å¤šä¸ªæ–‡åº“ï¼Œåœ¨ç»„è£…scaffoldæ—¶ï¼Œä¼šåŒæ—¶ä½¿ç”¨ã€‚rank=1#cutoff of pair number for a reliable connection (at least 3 for short insert size)#contigæˆ–è€…scaffoldä¹‹å‰çš„æœ€å°overlapä¸ªæ•°ï¼Œå¯¹äºpair-endæ•°æ®ï¼Œé»˜è®¤å€¼ä¸º3ï¼›å¯¹äºmate-pairdæ•°æ®ï¼Œé»˜è®¤å€¼ä¸º5pair_num_cutoff=3#minimum aligned length to contigs for a reliable read location (at least 32 for short insert size)#æ¯”å¯¹é•¿åº¦çš„æœ€å°é˜ˆå€¼ï¼Œå¯¹äºpair-endæ•°æ®ï¼Œé»˜è®¤å€¼ä¸º32ï¼›å¯¹äºmate-pairæ•°æ®ï¼Œé»˜è®¤å€¼ä¸º35map_len=32#a pair of fastq file, read 1 file should always be followed by read 2 file#è¿‡æ»¤åçš„åŒç«¯æµ‹åºæ•°æ®æ–‡ä»¶è·¯å¾„ï¼Œqä¸ºfastqæ ¼å¼ï¼Œfä¸ºfastaæ ¼å¼ï¼Œbä¸ºbamæ ¼å¼q1=/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Second-generation_sequencing/20211106-BaiYiHuiNeng01/01.rawFq/00.mergeRawFq/1/clean_data/1_r aw_1_val_1.fqq2=/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Second-generation_sequencing/20211106-BaiYiHuiNeng01/01.rawFq/00.mergeRawFq/1/clean_data/1_r aw_2_val_2.fq SOAPdenovoæœ‰6ä¸ªå­å‘½ä»¤pregraphã€sparse_pregraphã€contigã€mapã€scaffå’Œallï¼Œå‰5ä¸ªå‘½ä»¤å¯¹åº”5ä¸ªç»„è£…æ­¥éª¤ï¼Œç¬¬ä¸€å’Œç¬¬äºŒæ˜¯ä¸¤ç§ä¸åŒæ„å›¾æ–¹å¼ï¼Œallå‘½ä»¤ä¸€æ¬¡æ‰§è¡Œæ‰€æœ‰æ­¥éª¤ï¼Œç”¨allå‘½ä»¤æ¯”è¾ƒçœäº‹å„¿ã€‚ SOAPdenovoå‘½ä»¤è¿˜æœ‰ä¸€äº›å‚æ•°ç”¨äºè°ƒæ•´ï¼Œå‚æ•°å‚è€ƒ 123456789101112131415-s # é…ç½®æ–‡ä»¶-o # è¾“å‡ºæ–‡ä»¶çš„å‰ç¼€-K # è¾“å…¥çš„K-merå€¼å¤§å°ï¼Œé»˜è®¤å€¼23-p # ç¨‹åºè¿è¡Œæ—¶è®¾å®šçš„çº¿ç¨‹æ•°ï¼Œé»˜è®¤å€¼8-R # åˆ©ç”¨readé‰´åˆ«çŸ­çš„é‡å¤åºåˆ—ï¼Œé»˜è®¤å€¼ä¸è¿›è¡Œæ­¤æ“ä½œ-d # å»é™¤é¢‘æ•°ä¸å¤§äºè¯¥å€¼çš„k-merï¼Œé»˜è®¤å€¼ä¸º0-D # å»é™¤é¢‘æ•°ä¸å¤§äºè¯¥å€¼çš„ç”±k-merè¿æ¥çš„è¾¹ï¼Œé»˜è®¤å€¼ä¸º1ï¼Œå³è¯¥è¾¹ä¸Šæ¯ä¸ªç‚¹çš„é¢‘æ•°éƒ½å°äºç­‰äº1æ—¶æ‰å»é™¤-M # è¿æ¥contigæ—¶åˆå¹¶ç›¸ä¼¼åºåˆ—çš„ç­‰çº§ï¼Œé»˜è®¤å€¼ä¸º1ï¼Œæœ€å¤§å€¼3ã€‚-F # åˆ©ç”¨readå¯¹scaffoldä¸­çš„gapè¿›è¡Œå¡«è¡¥ï¼Œé»˜è®¤ä¸æ‰§è¡Œ-u # æ„å»ºscaffoldå‰ä¸å±è”½é«˜è¦†ç›–åº¦çš„contigï¼Œè¿™é‡Œé«˜é¢‘ç‡è¦†ç›–åº¦æŒ‡å¹³å‡contigè¦†ç›–æ·±åº¦çš„2å€ã€‚é»˜è®¤å±è”½-G # ä¼°è®¡gapçš„å¤§å°å’Œå®é™…è¡¥gapçš„å¤§å°çš„å·®å¼‚ï¼Œé»˜è®¤å€¼ä¸º50bpã€‚-L # ç”¨äºæ„å»ºscaffoldçš„contigçš„æœ€çŸ­é•¿åº¦ï¼Œé»˜è®¤ä¸ºï¼šKmerå‚æ•°å€¼ Ã—2-k # mapæ­¥éª¤ä¸­kmerçš„å¤§å°ï¼Œé»˜è®¤æ˜¯å’ŒKä¸€æ ·çš„kmerå¤§å°-N # åŸºå› ç»„å¤§å°-V # è¾“å‡ºå¯è§†åŒ–çš„ç»„è£…ä¿¡æ¯ è¿è¡Œç»„è£…å‘½ä»¤ 1/public/home/wlxie/biosoft/SOAPdenovo2-r242/SOAPdenovo-63mer all -s /public/home/wlxie/biosoft/SOAPdenovo2-r242/run_config -K 51 -R -V -o A_venetum -p 30 ç¨‹åºè¿è¡Œäº†3ä¸ªå°æ—¶ï¼Œç»“æŸåç”Ÿæˆäº†ä»¥ä¸‹æ–‡ä»¶ 4 ç»„è£…ç»“æœè§£è¯»ç»„è£…ç»“æœæ–‡ä»¶å…¶å®åªæœ‰ä¸¤ä¸ªï¼Œåˆ†åˆ«ä»¥**.contigç»“å°¾å’Œ.scafseqç»“å°¾**ã€‚å› ä¸ºæˆ‘æ˜¯åœ¨é›†ç¾¤ä¸Šè¿è¡Œçš„ï¼Œslurm-11168.outæ˜¯é›†ç¾¤çš„è¾“å‡ºæ—¥å¿—æ–‡ä»¶ï¼Œè®°å½•äº†è¯¦ç»†çš„ç»„è£…è¿‡ç¨‹å’Œç»“æœã€‚ æœ€ç»ˆå¾—åˆ°935861ä¸ªcontigsï¼Œæ€»é•¿åº¦295302126 bpï¼Œå¹³å‡é•¿åº¦315 bpï¼Œæœ€é•¿çš„é•¿åº¦38673 bpï¼Œcontig N50æ˜¯532 bpï¼Œcontig N90æ˜¯103 bpï¼›scaffoldä¸ªæ•°77918ï¼Œæ€»é•¿åº¦192992858 bpï¼Œå¹³å‡é•¿åº¦2476 bpï¼Œæœ€é•¿çš„é•¿åº¦108587 bpï¼Œscaffold N50æ˜¯3385 bpï¼Œscaffold N90æ˜¯130 bpã€‚ï¼ˆå¯ä»¥åšä¸€ä¸ªç»Ÿè®¡è¡¨ï¼‰ ä»ç»„è£…çš„contigè¦†ç›–æ·±åº¦å’Œæ•°é‡è¿˜å¯ä»¥åšä¸€ä¸ªæŸ±çŠ¶å›¾ï¼Œç†è®ºä¸Šæ¥è¯´æ˜¯å’Œå‰é¢k-meråˆ†å¸ƒå›¾å‘ˆç°ä¸€æ ·çš„è¶‹åŠ¿ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªä¸»å³°å’Œä¸€ä¸ªæ‚å³°ï¼Œä¸¤ä¸ªå›¾ç›¸äº’å°è¯ç›®æ ‡åŸºå› ç»„æ˜¯ä¸ªå¤æ‚åŸºå› ç»„ã€‚ å…¶ä»–çš„ç»“æœæ–‡ä»¶åœ¨githubä¸Šæœ‰è§£é‡Šï¼Œæˆ‘å…ˆç›´æ¥å¤åˆ¶è¿‡æ¥ï¼Œä»¥åç”¨åˆ°å†ç¿»è¯‘ç¿»è¯‘â€¦â€¦ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950511. Output files from the command &quot;pregraph&quot;a. *.kmerFreq Each row shows the number of Kmers with a frequency equals the row number. Note that those peaks of frequencies which are the integral multiple of 63 are due to the data structure.b. *.edge Each record gives the information of an edge in the pre-graph: length, Kmers on both ends, average kmer coverage, whether it&#x27;s reverse-complementarily identical and the sequence.c. *.markOnEdge &amp; *.path These two files are for using reads to solve small repeats.e. *.preArc Connections between edges which are established by the read paths.f. *.vertex Kmers at the ends of edges.g. *.preGraphBasic Some basic information about the pre-graph: number of vertex, K value, number of edges, maximum read length etc. 2. Output files from the command &quot;contig&quot;a. *.contig Contig information: corresponding edge index, length, kmer coverage, whether it&#x27;s tip and the sequence. Either a contig or its reverse complementry counterpart is included. Each reverse complementary contig index is indicated in the *.ContigIndex file.b. *.Arc Arcs coming out of each edge and their corresponding coverage by readsc. *.updated.edge Some information for each edge in graph: length, Kmers at both ends, index difference between the reverse-complementary edge and this one.d. *.ContigIndex Each record gives information about each contig in the *.contig: it&#x27;s edge index, length, the index difference between its reverse-complementary counterpart and itself. 3. Output files from the command &quot;map&quot;a. *.peGrads Information for each clone library: insert-size, read index upper bound, rank and pair number cutoff for a reliable link. This file can be revised manually for scaffolding tuning.b. *.readOnContig Reads&#x27; locations on contigs. Here contigs are referred by their edge index. Howerver about half of them are not listed in the *.contig file for their reverse-complementary counterparts are included already.c. *.readInGap This file includes reads that could be located in gaps between contigs. This information will be used to close gaps in scaffolds if &quot;-F&quot; is set. 4. Output files from the command &quot;scaff&quot;a. *.newContigIndex Contigs are sorted according their length before scaffolding. Their new index are listed in this file. This is useful if one wants to corresponds contigs in *.contig with those in *.links.b. *.links Links between contigs which are established by read pairs. New index are used.c. *.scaf_gap Contigs in gaps found by contig graph outputted by the contiging procedure. Here new index are used.d. *.scaf Contigs for each scaffold: contig index (concordant to index in *.contig), approximate start position on scaffold, orientation, contig length, and its links to others contigs.e. *.gapSeq Gap sequences between contigs.f. *.scafSeq Sequences of each scaffolds.g. *.contigPosInscaff Contigs&#x27; positions in each scaffold.h. *.bubbleInScaff Contigs that form bubble structures in scaffolds. Every two contigs form a bubble and the contig with higher coverage will be kept in scaffold.i. *.scafStatistics Statistic information of final scaffold and contig.","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"kmergenie","slug":"kmergenie","permalink":"http://www.shelven.com/tags/kmergenie/"},{"name":"SOAPdenovo2","slug":"SOAPdenovo2","permalink":"http://www.shelven.com/tags/SOAPdenovo2/"}]},{"title":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ3ï¼‰â€”â€”å…¨åŸºå› ç»„Survey","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ3ï¼‰â€”â€”å…¨åŸºå› ç»„Survey","date":"2022-07-02T07:08:17.000Z","updated":"2022-12-03T16:13:20.000Z","comments":true,"path":"2022/07/02/a.html","link":"","permalink":"http://www.shelven.com/2022/07/02/a.html","excerpt":"ä¹‹å‰è¯´åˆ°å¦‚ä½•å¯¹ä¸‰ä»£æµ‹åºæ•°æ®åšæ±¡æŸ“è¯„ä¼°ï¼Œå–éšæœºåºåˆ—åšblastnæ¯”å¯¹ntåº“ï¼Œç¡®å®šç‰©ç§åˆ†å¸ƒæƒ…å†µã€‚å®é™…blastæ¯”å¯¹è¿˜è¦è€ƒè™‘æ¯”å¯¹çš„åºåˆ—é•¿åº¦å’ŒONTæœ¬èº«æ•°æ®é”™è¯¯ç‡ï¼Œä»¥åŠç»“åˆGC-depthç¡®å®šæ˜¯å¦æœ‰æ±¡æŸ“ã€‚åŸºå› ç»„ä¸‰ä»£æµ‹åºæ•°æ®ç»„è£…ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜è¦åšä¸€ä¸ªå…¨åŸºå› ç»„surveyã€‚ä¸»è¦æ˜¯ä¸ºäº†å‡å°‘ç›²ç›®æ€§ï¼Œå…ˆåšä½æ·±åº¦çš„åŸºå› ç»„åˆ†æï¼Œä¹Ÿæ˜¯åˆæ­¥äº†è§£ç‰©ç§åŸºå› ç»„ç‰¹å¾çš„æœ‰æ•ˆæ–¹æ³•ï¼Œæ¯”å¦‚è¯„ä¼°åŸºå› ç»„å¤§å°å’Œæ‚åˆæƒ…å†µï¼Œä¸ºåç»­å…¨åŸºå› ç»„de novoç»„è£…ç­–ç•¥æŒ‡å®šæä¾›æŒ‡å¯¼ã€‚","text":"ä¹‹å‰è¯´åˆ°å¦‚ä½•å¯¹ä¸‰ä»£æµ‹åºæ•°æ®åšæ±¡æŸ“è¯„ä¼°ï¼Œå–éšæœºåºåˆ—åšblastnæ¯”å¯¹ntåº“ï¼Œç¡®å®šç‰©ç§åˆ†å¸ƒæƒ…å†µã€‚å®é™…blastæ¯”å¯¹è¿˜è¦è€ƒè™‘æ¯”å¯¹çš„åºåˆ—é•¿åº¦å’ŒONTæœ¬èº«æ•°æ®é”™è¯¯ç‡ï¼Œä»¥åŠç»“åˆGC-depthç¡®å®šæ˜¯å¦æœ‰æ±¡æŸ“ã€‚åŸºå› ç»„ä¸‰ä»£æµ‹åºæ•°æ®ç»„è£…ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜è¦åšä¸€ä¸ªå…¨åŸºå› ç»„surveyã€‚ä¸»è¦æ˜¯ä¸ºäº†å‡å°‘ç›²ç›®æ€§ï¼Œå…ˆåšä½æ·±åº¦çš„åŸºå› ç»„åˆ†æï¼Œä¹Ÿæ˜¯åˆæ­¥äº†è§£ç‰©ç§åŸºå› ç»„ç‰¹å¾çš„æœ‰æ•ˆæ–¹æ³•ï¼Œæ¯”å¦‚è¯„ä¼°åŸºå› ç»„å¤§å°å’Œæ‚åˆæƒ…å†µï¼Œä¸ºåç»­å…¨åŸºå› ç»„de novoç»„è£…ç­–ç•¥æŒ‡å®šæä¾›æŒ‡å¯¼ã€‚ åŸºå› ç»„å¤æ‚ç¨‹åº¦çš„ç»éªŒæ€§æ ‡å‡†ï¼š ç®€å•åŸºå› ç»„: å•å€ä½“ï¼›æˆ–çº¯åˆäºŒå€ä½“ï¼›æˆ–æ‚åˆåº¦ä½äº0.5%, ä¸”é‡å¤åºåˆ—ä½äº50%, ä¸”GCå«é‡åœ¨35%-65%çš„äºŒå€ä½“ã€‚ å¤æ‚åŸºå› ç»„: æ‚åˆåº¦åœ¨0.5%~1.2%ä¹‹é—´ï¼Œæˆ–é‡å¤åºåˆ—é«˜äº50%ï¼Œæˆ–GCå«é‡å¼‚å¸¸(&lt;35%æˆ–&gt;65%)çš„äºŒå€ä½“ï¼Œæˆ–è€…å¤šå€ä½“ã€‚å¤æ‚åŸºå› ç»„å¯ä»¥é‡‡ç”¨â€œ2+3â€å³äºŒä»£å’Œä¸‰ä»£æµ‹åºæŠ€æœ¯ç›¸ç»“åˆï¼ŒåŠ ä¹‹Hi-Cè¾…åŠ©ç»„è£…çš„ç»„è£…ç­–ç•¥ã€‚ é«˜å¤æ‚åŸºå› ç»„: æ‚åˆåº¦&gt;1.2%ï¼›æˆ–é‡å¤åºåˆ—å æ¯”å¤§äº65%ã€‚ æœ‰æ¡ä»¶çš„è¯ï¼Œä¹Ÿå¯ä»¥ç”¨æµå¼ç»†èƒä»ªå¯¹åŸºå› ç»„å¤§å°åšä¸ªé¢„ä¼°ã€‚æˆ‘è¿™é‡Œåªæœ‰äºŒä»£åŸºå› ç»„æµ‹åºæ•°æ®ï¼Œå› æ­¤ç”¨åŸºå› ç»„äºŒä»£æµ‹åºæ•°æ®åšå…¨åŸºå› ç»„surveyã€‚å½“ç„¶ï¼Œè¿™é‡Œè¦æ³¨æ„ä¸€ç‚¹ï¼Œåšå…¨åŸºå› ç»„surveyçš„æ ·æœ¬å’Œåç»­de novoç»„è£…çš„æ ·æœ¬è¦æ¥è‡ªåŒä¸€ä¸ªä¸ªä½“ï¼Œé¿å…ä¸ªä½“é—´åŸºå› ç»„ç‰¹å¾çš„å·®å¼‚ã€‚ 1 åŸå§‹æ•°æ®è´¨æ§å› ä¸ºæ˜¯å¯¹äºŒä»£æµ‹åºæ•°æ®è¿›è¡Œåˆ†æï¼Œè´¨æ§çš„è¿‡ç¨‹æœ¬è´¨ä¸Šå’Œä¹‹å‰å¤„ç†è½¬å½•ç»„äºŒä»£æ•°æ®ä¸€æ ·ï¼Œè¿™é‡Œåªæä¸‹è¿‡ç¨‹å’Œç»“æœã€‚ 1.1 fastqcç”Ÿæˆè´¨æ§æŠ¥å‘Š1fastqc *.fq.gz -o ./ äºŒä»£æµ‹åºæ˜¯åŒç«¯æµ‹åºç»“æœï¼Œæˆ‘è¿™é‡Œåªæˆªå›¾äº†éƒ¨åˆ†qcæŠ¥å‘Šï¼Œå¯ä»¥çœ‹å‡ºGCå«é‡æ¯”è¾ƒç¨³å®šï¼Œæµ‹åºè´¨é‡ä¹Ÿæ¯”è¾ƒé«˜ã€‚ 1.2 trim-galoreæ•°æ®è¿‡æ»¤æŠ¥å‘Šä¸­çš„ç»“æœè™½ç„¶å¥½ï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦è¿‡æ»¤ä¸€éï¼ŒæŠŠæœ«ç«¯æ¥å¤´adapteråºåˆ—è¿‡æ»¤æ‰ã€‚ 1trim_galore -q 25 -phred33 -length 100 -stringency 1 -paired -o clean_data 1_raw_1.fq.gz 1_raw_2.fq.gz å‚æ•°åœ¨è¿™ç¯‡åšå®¢ è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ1ï¼‰â€”â€”å¦‚ä½•ç”¨fastqcå’Œtrim-galoreåšæµ‹åºæ•°æ®è´¨æ§ æœ‰æåˆ°ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ çœ‹ä¸‹reportæ–‡ä»¶ï¼Œè¿‡æ»¤äº†Qå€¼25ä»¥ä¸‹çš„readså’Œadapteråºåˆ— 2 k-meråˆ†æå…ˆè¯´ä¸€ä¸‹k-merçš„æ¦‚å¿µï¼šk-meråœ¨è¿™é‡ŒæŒ‡å°†readsè¿­ä»£æ‹†åˆ†æˆåŒ…å«kä¸ªç¢±åŸºçš„åºåˆ—ï¼ˆç±»ä¼¼blastä¸­çš„word lengthï¼Œè›‹ç™½è´¨æ˜¯3ï¼Œæ ¸é…¸æ˜¯11ï¼‰ï¼Œæˆ‘ä»¬åé¢è¦åˆ†æçš„åŸºå› ç»„ç‰¹å¾éƒ½æ˜¯åŸºäºk-meråˆ†å¸ƒåŸºç¡€ä¸Šè¿›è¡Œçš„ã€‚ åŸºå› ç»„å¤§å°å¯ä»¥é€šè¿‡æ€» ï¼ˆK-mer æ•°é‡ï¼‰&#x2F;ï¼ˆK-mer æœŸæœ›æµ‹åºæ·±åº¦ï¼‰æ¥ä¼°è®¡ k-meråˆ†å¸ƒæ›²çº¿çš„ä¸»å³°æ‰€åœ¨æ¨ªåæ ‡å¯ä»¥ä½œä¸ºæœŸæœ›çš„æµ‹åºæ·±åº¦ æµ‹åºè¦†ç›–å‡åŒ€ã€ä¸å­˜åœ¨æµ‹åºè¯¯å·®å’ŒåŸºå› ç»„é‡å¤åºåˆ—çš„ç†è®ºæ¡ä»¶ä¸‹ï¼ŒK-meråˆ†å¸ƒæ›²çº¿ä¼šç¬¦åˆæ³Šæ¾åˆ†å¸ƒ å•å€ä½“æˆ–çº¯åˆåŸºå› ç»„çš„ K-mer åˆ†å¸ƒæ›²çº¿åªæœ‰ä¸€ä¸ªä¸»å³° æ‚åˆäºŒå€ä½“åŸºå› ç»„çš„ K-mer åˆ†å¸ƒæ›²çº¿æœ‰ä¸¤ä¸ªå³°ï¼Œ åˆ†åˆ«ä¸ºæ‚åˆå³°ï¼ˆä¸»å³°1&#x2F;2å¤„ï¼‰å’Œçº¯åˆå³°ï¼ˆä¸»å³°ï¼‰ï¼Œå‰è€…æ·±åº¦åªæœ‰åè€…çš„ä¸€åŠ é‡å¤åºåˆ—å«é‡è¾ƒé«˜æ—¶ä¼šåœ¨ä¸»å³°åé¢å½¢æˆä¸€ä¸ªé‡å¤å³°ï¼ˆä¸»å³°çš„2å€å¤„ï¼‰æˆ–è€…å½¢æˆæ‹–å°¾ ä¸€èˆ¬é€‰æ‹©17-merè¯„ä¼°åŸºå› ç»„å¤§å°ï¼Œå› ä¸ºATCGç»„æˆé•¿åº¦ä¸º17çš„æ ¸é…¸åºåˆ—ï¼Œç†è®ºä¸Šæœ‰4çš„17æ¬¡æ–¹ç§å¯èƒ½ï¼Œè¶³ä»¥è¦†ç›–ä¸€èˆ¬çš„æ­£å¸¸åŸºå› ç»„ã€‚ä¸ºäº†é¿å…å›æ–‡åºåˆ—ï¼ŒK-meråˆ†æé€‰æ‹©Ké•¿åº¦å‡ä¸ºå¥‡æ•°ã€‚ 2.1 å®‰è£…jellyfishæ ¹æ®ä¸Šé¢è¯´çš„k-meræ¦‚å¿µï¼Œå¯ä»¥ç†è§£k-meråˆ†ææ˜¯éå¸¸è€—è®¡ç®—èµ„æºçš„ã€‚æˆ‘ä»¬è¦è‡ªå·±ç”¨è„šæœ¬å®ç°çš„è¯ï¼Œéœ€è¦å°†åå‡ ä¸ªGçš„readsåˆ†å‰²æˆä¸åŒé•¿åº¦ç‰‡æ®µï¼Œå†ç»Ÿè®¡å‡ºç°çš„æ¬¡æ•°ï¼Œè€—æ—¶è€Œä¸”éº»çƒ¦ã€‚jellyfishæ˜¯ä¸€æ¬¾ç»Ÿè®¡DNAåºåˆ—ä¸­Kmerçš„åˆ†å¸ƒçš„è½¯ä»¶ï¼Œå®ƒè¿è¡Œé€Ÿåº¦å¿«ï¼Œå†…å­˜æ¶ˆè€—ä½ï¼Œæ”¯æŒå¹¶è¡Œï¼Œä¹Ÿæ˜¯ç”¨çš„æœ€å¤šçš„ç»Ÿè®¡k-merçš„è½¯ä»¶ã€‚ é‡ç‚¹æ˜¯å¯ä»¥é€šè¿‡condaç›´æ¥å®‰è£…â€¦â€¦æœ€å¥½ä¸è¦ç”¨condaå®‰è£…ï¼Œæˆ‘ä¹‹å‰è¿è¡Œäº†1å¤©æ²¡å‡ºç»“æœä¹Ÿæ²¡æŠ¥é”™ï¼ˆä¸€åº¦æ€€ç–‘æˆ‘çš„å‚æ•°è®¾ç½®æ˜¯ä¸æ˜¯æœ‰é—®é¢˜ï¼‰ï¼Œç™¾æ€ä¸å¾—å…¶è§£ã€‚åæ¥ä»githubä¸Šé‡æ–°ä¸‹è½½ï¼Œç¼–è¯‘å’Œå®‰è£…ä¹‹åï¼Œä¸åˆ°10åˆ†é’Ÿå°±è·‘å‡ºç»“æœäº†â€¦æˆ‘ä¸çŸ¥é“ä¸¤ç§å®‰è£…æ–¹å¼æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œè¿™é‡Œå°±è®°å½•ä¸‹è‡ªå·±è¸©çš„å‘ã€‚ å› ä¸ºjellyfishä¸æ”¯æŒ.gzçš„å‹ç¼©æ–‡ä»¶ï¼Œæ‰€ä»¥ä¹‹å‰ç”¨tram galoreè¿‡æ»¤åå¾—åˆ°çš„clean readséœ€è¦ç”¨gunzipå‘½ä»¤è§£å‹ã€‚ 1conda install -c bioconda jellyfish # å¯ä»¥ç”¨condaå®‰è£…ï¼Œæˆ‘è¿è¡Œçš„æ—¶å€™å‡ºäº†é—®é¢˜ï¼Œæš‚æœªè§£å†³ï¼Œä¸æ¨è ç‚¹å‡»è¿™é‡Œè¿›å…¥jellyfishçš„githubä¸‹è½½åœ°å€ æˆ‘ä»¬ç”¨æœ¬åœ°å®‰è£…çš„æ–¹å¼ï¼Œå…ˆä¸‹è½½tar.gzçš„æºç åŒ…ï¼Œtar -zxvfè§£å‹åè¿›å…¥jellyfish-2.3.0æ–‡ä»¶å¤¹ã€‚ æˆ‘æ˜¯é›†ç¾¤ç™»å½•çš„ï¼Œä¸‹é¢è®²çš„æ­¥éª¤éƒ½æ˜¯åœ¨é›†ç¾¤ä¸Šæ“ä½œï¼ˆérootè´¦æˆ·ï¼‰ 12345678# ç¬¬ä¸€æ­¥æ£€æµ‹ã€‚æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªshellè„šæœ¬ï¼Œæ ¹æ®ç³»ç»Ÿç¯å¢ƒäº§ç”Ÿåˆé€‚çš„makefileæ–‡ä»¶æˆ–è€…Cçš„å¤´æ–‡ä»¶ï¼ˆ.hç»“å°¾çš„æ–‡ä»¶ï¼‰ï¼Œérootè´¦æˆ·ä¸‹--prefixåé¢æ¥ä¸Šè‡ªå·±è´¦æˆ·çš„ç»å¯¹è·¯å¾„ã€‚./configure --prefix=/public/home/wlxie# ç¬¬äºŒæ­¥ç¼–è¯‘ã€‚å¯¹æºä»£ç åŒ…è¿›è¡Œç¼–è¯‘ï¼Œå¦‚æœæœ‰é”™è¯¯è‡ªå·±çœ‹æ˜¯å¦æœ‰ä¾èµ–åº“çš„ç¼ºå¤±ï¼Œä¸»è¦æ˜¯è¿™ä¸ªé—®é¢˜ã€‚make# ç¬¬ä¸‰æ­¥å®‰è£…ã€‚å¦‚æœå‰é¢æ²¡æœ‰æŒ‡å®šè‡ªå·±è´¦æˆ·çš„è·¯å¾„ï¼Œè¿™ä¸€æ­¥æ˜¯ä¼šæŠ¥é”™æ²¡æœ‰æƒé™çš„ï¼ˆç”¨æˆ·ä¸èƒ½å‘ç³»ç»Ÿç›®å½•å†™å…¥æ–‡ä»¶ï¼‰ã€‚make install# ç¬¬å››æ­¥è‡ªæ£€ã€‚make check makeå’Œmake checkè¿™ä¸¤æ­¥éƒ½ä¼šå› ä¸ºåŠ¨æ€é“¾æ¥åº“å‘½åä¸åŒï¼Œå¯¼è‡´æŠ¥é”™æ— æ³•æ‰¾åˆ°åŠ¨æ€åº“ï¼›ä»¥åŠæˆ‘åœ¨æ£€æµ‹é€šè¿‡ä¹‹åï¼Œç”¨é›†ç¾¤è¿è¡Œç¨‹åºä»ç„¶å‡ºç°äº†åŠ¨æ€åº“çš„æŸä¸ªæ¨¡å—æ— æ³•è°ƒç”¨çš„æƒ…å†µã€‚è¿™é‡Œç»Ÿä¸€è¯´ä¸‹è§£å†³æ–¹æ³•ã€‚ å‰é¢configureä¼šåœ¨æˆ‘ä»¬çš„å®¶ç›®å½•ä¸‹ç”Ÿæˆbinã€libå’Œshareç›®å½•ï¼Œè¿™é‡Œæ¯”è¾ƒé‡è¦çš„æ˜¯binå’Œlibç›®å½•ã€‚æˆ‘ä»¬è¿è¡Œçš„å‘½ä»¤åœ¨binç›®å½•é‡Œï¼Œå¯¹åº”è¦æ”¹ç¯å¢ƒå˜é‡PATHï¼›è€Œéœ€è¦è°ƒç”¨çš„åŠ¨æ€åº“æ˜¯åœ¨libç›®å½•ä¸‹ï¼Œå¯¹åº”è¦æ”¹ç¯å¢ƒå˜é‡LD_LIBRARY_PATHã€‚å®¶ç›®å½•ä¸‹çš„.bashrcæ–‡ä»¶åŠ å…¥ä»¥ä¸‹å†…å®¹ 12export PATH=&quot;/public/home/wlxie/bin:$PATH&quot;export LD_LIBRARY_PATH=&quot;/public/home/wlxie/lib:$LD_LIBRARY_PATH&quot; æ·»åŠ ä¹‹åä¿å­˜é€€å‡ºï¼Œå¹¶ä¸”source ~&#x2F;.bashrcåˆ·æ–°ä¸€ä¸‹ç³»ç»Ÿç¯å¢ƒå˜é‡ã€‚ æˆ‘ç¢°åˆ°çš„æŠ¥é”™æ˜¯libcrypto.so.1.0.0å’Œlibstdc++.so.6è¿™ä¸¤ä¸ªåŠ¨æ€åº“æ‰¾ä¸åˆ°ï¼Œä½†æ˜¯locateå‘½ä»¤æŸ¥çœ‹è¿™ä¸¤ä¸ªåŠ¨æ€åº“ï¼Œåœ¨ç³»ç»Ÿç›®å½•&#x2F;lib64&#x2F;ä¸‹éƒ½èƒ½æ‰¾åˆ°æ–‡ä»¶ï¼Œå› æ­¤å°†è¿™ä¸¤ä¸ªåŠ¨æ€åº“æ–‡ä»¶ç›´æ¥å¤åˆ¶åˆ°å®¶ç›®å½•çš„libæ–‡ä»¶å¤¹ï¼Œé—®é¢˜å°±å…¨éƒ¨è§£å†³äº†ã€‚ å¦‚æœlibstdc++.so.6æŠ¥é”™æŸç‰ˆæœ¬çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå¯ä»¥å…ˆåˆ°åŠ¨æ€åº“ç›®å½•ä¸‹ï¼Œè¿è¡Œstringså‘½ä»¤æŸ¥çœ‹åŠ¨æ€åº“ä¸­æ˜¯å¦æœ‰å¯¹åº”çš„æ–‡ä»¶ï¼š 1strings /lib64/libstdc++.so.6 | grep CXXABI # æ¯”å¦‚æ‰¾ä¸åˆ°GLIBCXX_3.4.26ï¼Œçœ‹çœ‹åŠ¨æ€åº“ä¸­æ˜¯å¦å­˜åœ¨è¿™ä¸ªç‰ˆæœ¬çš„æ–‡ä»¶ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œæ›´æ–°åŠ¨æ€åº“ï¼›å¦‚æœå­˜åœ¨ä½†æ˜¯æ‰¾ä¸åˆ°ï¼Œå»ºè®®ç›´æ¥æ‹·è´åˆ°è‡ªå·±çš„libç›®å½•ä¸‹ make checkä¹‹åä¼šç”Ÿæˆä¸€ä¸ªæ—¥å¿—æ–‡ä»¶test-suite.logï¼Œæ²¡æœ‰failçš„é¡¹ç›®è¯´æ˜è½¯ä»¶å®‰è£…æˆåŠŸï¼Œæ²¡æœ‰é—®é¢˜ã€‚ 2.2 k-meré¢‘æ•°åˆ†å¸ƒ123456# k-merè®¡æ•°jellyfish count -m 17 -s 300M -t 50 -C -o 17-mer.jf ./1_raw_1_val_1.fq ./1_raw_2_val_2.fq# k-meré¢‘æ•°ç»Ÿè®¡jellyfish histo -t 4 17-mer.jf &gt; 17-mer.histo# ç»Ÿè®¡æ€»k-meræ•°å’Œç‰¹å¾k-meræ•°ç­‰jellyfish stats 17-mer.jf -o counts_stats.txt è®°å½•ä¸€ä¸‹å„ä¸ªå‚æ•°çš„æ„ä¹‰ï¼š -m # k-meré•¿åº¦è®¾ç½®ä¸º17bpï¼Œè¿›è¡Œè®¡æ•° -s # å­˜å‚¨ç”¨çš„hashè¡¨å¤§å°ï¼Œè¯´å®è¯æˆ‘æ²¡çœ‹æ‡‚ä»€ä¹ˆæ„æ€ï¼ŒåŸºå› ç»„ä¼°è®¡æœ‰å¤šå¤§å°±ç”¨å¤šå¤§å°±æ˜¯äº†ï¼Œå•ä½æ˜¯Mæˆ–è€…G -t # ä½¿ç”¨çš„çº¿ç¨‹æ•°ï¼Œä¹Ÿå°±æ˜¯cpuæ ¸æ•° -C # å¤§å†™çš„Cï¼Œå¯¹æ­£è´Ÿé“¾readséƒ½è¿›è¡Œç»Ÿè®¡ï¼ŒåŒç«¯æµ‹åºä¸€å®šè¦åŠ è¿™ä¸ªå‚æ•° -o # ç»“æœæ–‡ä»¶çš„å‰ç¼€åï¼Œç»“æœæ–‡ä»¶æ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ æ­£å¸¸æ¥è¯´ï¼Œ10åˆ†é’Ÿå°±èƒ½è·‘å®Œç¨‹åºå¹¶ç»™å‡ºk-merè®¡æ•°ç»“æœæ–‡ä»¶ã€‚æˆ‘ç”¨condaå®‰è£…çš„jellyfishåŒæ ·æ¡ä»¶è¿è¡Œäº†20ä¸ªå°æ—¶æ²¡æœ‰ç»“æŸâ€¦â€¦è€Œä¸”è¿˜ä¸æŠ¥é”™ï¼ç¬¬ä¸€æ¬¡è¿è¡Œè¿™ä¸ªè½¯ä»¶ï¼Œæ²¡æœ‰äººå‚è€ƒå’Œäº¤æµï¼Œç™¾åº¦åˆ°çš„æ•™ç¨‹éƒ½æ˜¯æŠ„æ¥æŠ„å»çš„ä¹Ÿæ²¡æœ‰äººè¯´æ˜æ—¶é—´çš„é—®é¢˜â€¦â€¦ä»¥åè¿˜æ˜¯å»å®˜ç½‘å®‰è£…ç”Ÿä¿¡è½¯ä»¶äº†ï¼Œè™½ç„¶éº»çƒ¦ä¸€ç‚¹ä½†æ˜¯é è°±â€¦â€¦ è¿™ä¸ªè½¯ä»¶çš„å¸®åŠ©æ–‡æ¡£åœ¨&#x2F;jellyfish-2.3.0&#x2F;docç›®å½•ä¸‹ï¼Œæ‰€æœ‰åŠŸèƒ½å’Œå‚æ•°éƒ½æœ‰è‹±æ–‡è¯¦è§£ã€‚ k-meré¢‘æ•°ç»Ÿè®¡æ˜¯åœ¨è®¡æ•°ç»“æœæ–‡ä»¶ä¸Šè¿›ä¸€æ­¥ç»Ÿè®¡å„ä¸ªk-merå‡ºç°çš„æ¬¡æ•°ï¼Œé¢‘æ•°ç»Ÿè®¡ç»“æœæ–‡ä»¶17-mer.histoå°†k-merä»1ç»Ÿè®¡åˆ°10000ï¼Œæœ€åä¸€è¡Œæ˜¯10001ä»¥åå¯¹åº”çš„æ€»é¢‘æ¬¡ã€‚counts_stats.txtæ˜¯æ€»çš„ç»Ÿè®¡ç»“æœï¼ŒåŒ…æ‹¬k-meræ€»æ•°ï¼ˆTotalï¼‰ï¼Œç‰¹å¼‚çš„k-meræ•°ç›®ï¼ˆDistinctï¼‰åªå‡ºç°è¿‡ä¸€æ¬¡çš„k-meræ•°é‡ï¼ˆUniqueï¼‰ï¼Œé¢‘æ•°æœ€é«˜çš„k-meræ•°é‡ï¼ˆMax_countï¼‰å››é¡¹ã€‚ æœ‰äº†é¢‘æ•°ç»Ÿè®¡ç»“æœæ–‡ä»¶17-mer.histoå°±å¯ä»¥ç”¨Rä½œå›¾äº†ï¼Œä»¥ä¸‹Rä½œå›¾ä»£ç æ¥è‡ªäºCSDNåšä¸» ç”Ÿä¿¡æŠ€å·¥ 1234567kmer &lt;- read.table(&#x27;17-mer.histo&#x27;)kmer &lt;- subset(kmer, V1 &gt;=5 &amp; V1 &lt;=500) # åªå–5-500bpé•¿åº¦çš„k-merç»Ÿè®¡é¢‘æ¬¡Frequency &lt;- kmer$V1Number &lt;- kmer$V2png(&#x27;kmer_plot.png&#x27;)plot(Frequency, Number, type = &#x27;l&#x27;, col = &#x27;blue&#x27;)dev.off() # ä¿å­˜png k-meråˆ†å¸ƒå›¾å¦‚ä¸‹ï¼Œå½“ç„¶è¿™åªæ˜¯ä¸€ä¸ªç®€ç•¥å›¾ï¼Œä¸Šé¢Rä½œå›¾ä»£ç è¿˜æœ‰å¾ˆå¤šç»†èŠ‚å¯ä»¥è¡¥å…… 2.3 åŸºå› ç»„å¤§å°ã€é‡å¤ç‡ã€æ‚åˆç‡ä¼°ç®—æ¨ªåæ ‡è¡¨ç¤ºk-meræ·±åº¦ï¼Œçºµåæ ‡ä¸ºk-meræ•°é‡ï¼Œå¯ä»¥çœ‹å¾—å‡ºæ¥æµ‹åºçš„æ ·æœ¬æ˜¯ä¸ªæ‚åˆäºŒå€ä½“ã€‚ä¸»å³°åæ ‡ï¼ˆ116ï¼Œ2584902ï¼‰ï¼Œæ‚åˆå³°åæ ‡ï¼ˆ57ï¼Œ1188461ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´k-meræœŸæœ›æ·±åº¦ä¸º116ï¼›k-meræ€»æ•°ä¸º34655456060ï¼›ä¸»å³°2å€æ·±åº¦ä¹Ÿå°±æ˜¯232ä¹‹åçš„k-merä¸ºé‡å¤åºåˆ—k-merï¼Œæ€»æ•°å¯ä»¥é€šè¿‡å¯¼å‡º17-mer.histoæ–‡ä»¶è¿›è¡Œç»Ÿè®¡ï¼ˆæ”¹æˆcsvæ ¼å¼ç›´æ¥ä¸¤æ­¥ç®—å‡ºï¼‰ï¼Œå…±16361378388 k-meråˆ†å¸ƒæ›²çº¿ä¸­æ— å¼‚å¸¸å³°ï¼Œè¯´æ˜äºŒä»£æµ‹åºæå–çš„DNAçº¯åº¦è¾ƒé«˜ï¼Œæ²¡æœ‰è¢«æ±¡æŸ“ æ ¹æ®ï¼ˆK-mer æ•°é‡ï¼‰&#x2F;ï¼ˆK-mer æœŸæœ›æµ‹åºæ·±åº¦ï¼‰ä¼°ç®—åŸºå› ç»„å¤§å°ä¸º298Mã€‚å»é™¤æ·±åº¦å°äº5çš„é”™è¯¯k-merï¼Œä¼°ç®—åŸºå› ç»„å¤§å°ä¸º292M. æ ¹æ®ï¼ˆé‡å¤åºåˆ—çš„k-meræ€»æ•°ï¼‰&#x2F;ï¼ˆK-mer æœŸæœ›æµ‹åºæ·±åº¦ï¼‰ä¼°è®¡é‡å¤åºåˆ—å¤§å°ä¸º141Mï¼Œå³é‡å¤ç‡48.29% å•æ‹·è´åºåˆ—å¤§å°U&#x3D;292-141&#x3D;151Mï¼Œè¦è®¡ç®—æ‚åˆç‡ï¼Œéœ€è¦ç»Ÿè®¡éé‡å¤k-merçš„æ€»æ•°ï¼Œä¹Ÿå°±æ˜¯è®¡ç®—æ‚åˆå³°é¢ç§¯ï¼Œå»ºè®®è¿˜æ˜¯ç”¨è½¯ä»¶æˆ–è€…åœ¨çº¿å·¥å…·æ¯”å¦‚genomescope2.0 jellyfish + GenomeScopeæ˜¯ä¸€å¥—åº”ç”¨éå¸¸å¹¿æ³›çš„åŸºå› ç»„surveyæ–¹æ³•ï¼ŒGenomeScope2.0é€‚åˆç”¨äºåˆ†æäºŒå€ä½“ç”Ÿç‰©ã€‚ ä¸Šé¢æ˜¯GenomeScope2.0ç½‘é¡µç‰ˆç•Œé¢ï¼Œåªè¦æˆ‘ä»¬æä¾›jellyfishç”Ÿæˆçš„.histoç»“æœæ–‡ä»¶ï¼Œè®¾ç½®å‚æ•°å°±è¡Œ k-mer length # k-meré•¿åº¦ Ploidy # æŸ“è‰²ä½“å€æ€§ Max k-mer coverage # é»˜è®¤-1ï¼Œå³ä¸é™åˆ¶æœ€å¤§k-meræ·±åº¦ï¼Œæˆ‘è¿™é‡Œé™åˆ¶äº†10000 Average k-mer coverage for polyploid genome # é»˜è®¤-1ï¼Œä¸è¿›è¡Œç­›é€‰ æäº¤åå‡ åˆ†é’Ÿå°±ç”Ÿæˆäº†å¯ç”¨äºå‘è¡¨çš„å›¾å’ŒæŠ¥å‘Š å¯ä»¥çœ‹åˆ°ä¼°è®¡çš„åŸºå› ç»„å¤§å°æ˜¯200Mï¼Œæ‚åˆç‡0.865%ï¼Œæ‚åˆå³°è¦†ç›–åº¦ï¼ˆæ·±åº¦ï¼‰58.3ã€‚ä¸‹é¢è¯´ä¸‹è¿™ä¸ªå›¾å¦‚ä½•è§£è¯»ï¼š è“è‰²åŒºåŸŸæ˜¯å®é™…è§‚æµ‹å€¼ é»‘è‰²æ‹Ÿåˆçº¿æ˜¯å»é™¤é”™è¯¯ï¼ˆerrorsï¼‰åå‰©ä¸‹çš„k-meråˆ†å¸ƒï¼Œè®¤ä¸ºæ˜¯æ­£ç¡®çš„æ•°æ®å¹¶ä»¥æ­¤è¯„ä¼°åŸºå› ç»„å¤§å° é»„è‰²æ‹Ÿåˆçº¿æ˜¯éé‡å¤åŒºåŸŸçš„k-meråˆ†å¸ƒï¼ˆç†æƒ³æƒ…å†µï¼‰ æ©™è‰²æ‹Ÿåˆçº¿åŒºåŸŸæ˜¯ä½æ·±åº¦çš„é”™è¯¯k-merï¼Œè®¤ä¸ºæ˜¯æµ‹åºé”™è¯¯å¼•å…¥çš„ é»‘è‰²è™šçº¿æ˜¯k-merçš„å‡ ä¸ªå³°å€¼ ä¹‹æ‰€ä»¥ä¼°è®¡çš„åŸºå› ç»„å¤§å°æ¯”ä¹‹å‰è‡ªå·±ä¼°è®¡çš„è¦å°ï¼Œæ˜¯å› ä¸ºå»é™¤errorçš„æ ‡å‡†ä¸åŒï¼Œæˆ‘ä¹‹å‰åªæ˜¯ç®€å•å»é™¤äº†k-meræ·±åº¦1-4çš„é”™è¯¯åºåˆ—ï¼Œè¿™é‡Œæ˜¯æ„å»ºæ¨¡å‹é€‰æ‹©çš„é”™è¯¯åºåˆ—ï¼Œæ›´å‡†ç¡®ä¸€äº›ã€‚ ç½‘é¡µç‰ˆæœ€åçš„resultsé‡Œè¿˜æœ‰æ€»çš„ç»Ÿè®¡ç»“æœï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿åœ°è®¡ç®—é‡å¤ç‡ï¼Œä¸€çœ¼å°±èƒ½çœ‹æ˜ç™½è¿™é‡Œå°±ä¸èµ˜è¿°äº†ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"jellyfish","slug":"jellyfish","permalink":"http://www.shelven.com/tags/jellyfish/"},{"name":"GenomeScope2.0","slug":"GenomeScope2-0","permalink":"http://www.shelven.com/tags/GenomeScope2-0/"}]},{"title":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ2ï¼‰â€”â€”æ•°æ®æ±¡æŸ“è¯„ä¼°","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ2ï¼‰â€”â€”æ•°æ®æ±¡æŸ“è¯„ä¼°","date":"2022-06-19T17:17:30.000Z","updated":"2023-01-13T11:02:00.000Z","comments":true,"path":"2022/06/20/a.html","link":"","permalink":"http://www.shelven.com/2022/06/20/a.html","excerpt":"åšå®ŒåŸºå› ç»„ä¸‰ä»£æµ‹åºæ•°æ®è´¨æ§ä¹‹åï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰readsçš„Qå€¼æ§åˆ¶åœ¨7ä»¥ä¸Šï¼Œæ¯ä¸ªreadçš„é•¿åº¦åœ¨1000bpä»¥ä¸Šã€‚æˆ‘ä»¬ä¸èƒ½æ˜ç¡®è‡ªå·±çš„æµ‹åºæ•°æ®æ˜¯å¦è¢«å…¶ä»–ç‰©ç§æ±¡æŸ“ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨balstæ¯”å¯¹çš„æ–¹æ³•ç¡®å®šæµ‹åºæ•°æ®æ˜¯å¦è¢«æ±¡æŸ“ï¼Œä»¥åŠæ±¡æŸ“çš„æ¥æºã€‚","text":"åšå®ŒåŸºå› ç»„ä¸‰ä»£æµ‹åºæ•°æ®è´¨æ§ä¹‹åï¼Œæˆ‘ä»¬æŠŠæ‰€æœ‰readsçš„Qå€¼æ§åˆ¶åœ¨7ä»¥ä¸Šï¼Œæ¯ä¸ªreadçš„é•¿åº¦åœ¨1000bpä»¥ä¸Šã€‚æˆ‘ä»¬ä¸èƒ½æ˜ç¡®è‡ªå·±çš„æµ‹åºæ•°æ®æ˜¯å¦è¢«å…¶ä»–ç‰©ç§æ±¡æŸ“ï¼Œè¿™ä¸ªæ—¶å€™å°±è¦ç”¨balstæ¯”å¯¹çš„æ–¹æ³•ç¡®å®šæµ‹åºæ•°æ®æ˜¯å¦è¢«æ±¡æŸ“ï¼Œä»¥åŠæ±¡æŸ“çš„æ¥æºã€‚ 1 ä¸‹è½½balst+å·¥å…·å’Œæ•°æ®åº“åœ¨ä¹‹å‰çš„ä¸€ç¯‡åšå®¢ä¸­ï¼Œæˆ‘è¯¦ç»†ä»‹ç»äº†å¦‚ä½•æœ¬åœ°å®‰è£…NCBIçš„blast+å·¥å…·ï¼Œä»¥åŠä¸‹è½½nr&#x2F;ntåº“ï¼Œå»ºç«‹æœ¬åœ°çš„æ•°æ®åº“ã€‚è¯¦æƒ…ç‚¹å‡»è¿™é‡Œã€‚ åœ¨åšæ•°æ®æ±¡æŸ“è¯„ä¼°çš„æ—¶å€™ï¼Œæˆ‘ä»¬è¿˜éœ€è¦çŸ¥é“blastæœ€ä½³ç»“æœå¯¹åº”çš„ç‰©ç§åï¼Œå› æ­¤è¿˜éœ€è¦ä¸‹è½½åˆ†ç±»æ•°æ®åº“çš„ä»¥ä¸‹ä¸¤ä¸ªå­åº“ï¼š 12345678# ascpå·¥å…·ä¸‹è½½å¤§æ•°æ®ï¼Œwgetå‘½ä»¤ä¸‹è½½å°æ–‡ä»¶ï¼ˆmd5æ ¡éªŒæ–‡ä»¶ï¼‰ascp -QT -i /public/home/wlxie/miniconda3/envs/biosoft/etc/asperaweb_id_dsa.openssh -k1 -l 500m anonftp@ftp.ncbi.nlm.nih.gov:/pub/taxonomy/accession2taxid/nucl_gb.accession2taxid.gz ./wget https://ftp.ncbi.nlm.nih.gov/pub/taxonomy/accession2taxid/nucl_gb.accession2taxid.gz.md5ascp -QT -i /public/home/wlxie/miniconda3/envs/biosoft/etc/asperaweb_id_dsa.openssh -k1 -l 500m anonftp@ftp.ncbi.nlm.nih.gov:/pub/taxonomy/taxdump.tar.gz ./wget https://ftp.ncbi.nlm.nih.gov/pub/taxonomy/taxdump.tar.gz.md5 md5æ–‡ä»¶æ ¡éªŒå®Œæˆä¹‹åï¼Œä¸¤ä¸ªæ•°æ®åº“åˆ†åˆ«è§£å‹ã€‚æ³¨æ„.gzæ–‡ä»¶ç”¨gunzipï¼Œ.tar.gzæ–‡ä»¶ç”¨tar -zxvf çœ‹çœ‹è¿™ä¸¤ä¸ªæ•°æ®åº“é•¿ä»€ä¹ˆæ ·ï¼š ç¬¬ä¸€å¼ å›¾ç‰‡æ˜¯nucl_gb.accession2taxidï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°ç¬¬äºŒåˆ—ç‰ˆæœ¬ä¿¡æ¯å’Œç¬¬ä¸‰åˆ—çš„taxidã€‚ ç¬¬äºŒå¼ å›¾ç‰‡æ˜¯names.dmpï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°æœ‰taxidï¼Œå­¦åå’Œscientific nameå­—ç¬¦ä¸²çš„è¡Œã€‚ è¿™ä¸¤ä¸ªæ•°æ®åº“æ€ä¹ˆä½¿ç”¨åé¢ä¼šè¯¦ç»†è¯´æ˜ã€‚åˆ†ææ€è·¯æ¥è‡ªäºCSDNçš„åšä¸»é£é£æ˜¯è¶…äººï¼Œé—æ†¾çš„æ˜¯ä»17å¹´å¼€å§‹ï¼ŒNCBIä¸å†æä¾›giå·ä¸blastnç»“æœçš„å…³è”ï¼Œåšä¸»çš„æœ¬åœ°æ•°æ®åº“å¯èƒ½ç‰ˆæœ¬æ¯”è¾ƒæ—©ï¼Œé‡‡ç”¨çš„æ˜¯giå·åˆ†æã€‚ æˆ‘å°†åç»­çš„ä»£ç åšäº†ä¿®æ”¹ï¼Œä¸‹è½½çš„ä¹Ÿéƒ½æ˜¯æœ€æ–°çš„æ•°æ®åº“ã€‚æ€»çš„é€»è¾‘æ˜¯åˆ©ç”¨blastç»“æœçš„versionå·ï¼Œå¾—åˆ°nucl_gb.accession2taxidæ•°æ®åº“ä¸­çš„taxidå·ï¼Œæœ€åé€šè¿‡names.dmpä¸­çš„taxidå·å¾—åˆ°å­¦åã€‚ä»£ç æ–¹é¢åšäº†å°‘è®¸ä¼˜åŒ–ï¼Œå¯¹é›†ç¾¤æœåŠ¡å™¨å¯èƒ½æ›´å‹å¥½ä¸€ç‚¹ï¼Ÿ 2 fqæ–‡ä»¶å¤„ç†å’Œblastè´¨æ§åçš„æ•°æ®fqæ–‡ä»¶æ˜¯â€œ@â€å¼€å¤´çš„ï¼Œæˆ‘ä»¬è¦æ”¹æˆfaæ ¼å¼ä¹Ÿå°±æ˜¯â€œ&gt;â€å¼€å¤´ã€‚å–å‰10000æ¡åºåˆ—ï¼Œæ¯ä¸ªåºåˆ—æœ‰4è¡Œï¼Œåªå–ç¬¬ä¸€è¡Œæ ‡é¢˜å’Œç¬¬äºŒè¡Œåºåˆ—ã€‚ 12345# NRè¡¨ç¤ºå½“å‰è¡Œï¼Œåˆ¤æ–­é™¤ä»¥4çš„ä½™æ•°ï¼Œä½™æ•°1ä¸ºæ ‡é¢˜è¡Œï¼Œåªè¾“å‡ºç¬¬ä¸€ä¸ªå…ƒç´ å³reads idï¼›ä½™æ•°2åˆ™ä¸ºåºåˆ—è¡Œï¼Œè¾“å‡ºæ‰€æœ‰å…ƒç´ ä¹Ÿå°±æ˜¯æ•´æ¡åºåˆ—ã€‚æœ€åæ›¿æ¢@ç¬¦å·ï¼Œæ–‡ä»¶åä¸ºtest.fazcat clean_filter.fq.gz | head -n 40000 | awk &#x27;&#123;if(NR%4==1)&#123;print $1&#125;else if(NR%4==2)&#123;print $0&#125;&#125;&#x27; | sed &#x27;s/@/&gt;/g&#x27; &gt;test.fa# æ‰¹é‡blastç¨‹åºblastn -query test.fa -out test_blastn_nt.xml -db nt -outfmt 5 -evalue 1e-5 -num_threads 20 -max_target_seqs 1 æ‰¹é‡blastç¨‹åºæ³¨æ„ä¸‹æˆ‘ä»¬è¾“å‡ºçš„æ ¼å¼ä¸ºxmlæ ¼å¼ï¼Œä¹Ÿå°±æ˜¯- outfmt 5ã€‚ä¸ºä»€ä¹ˆè¦ç”¨xmlæ ¼å¼ï¼Œå› ä¸ºxmlæ ¼å¼èƒ½ç»™å‡ºçš„ä¿¡æ¯æœ€å…¨ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“è¾“å‡ºçš„ç‰ˆæœ¬å· evalueå€¼æ ¹æ®éœ€è¦è®¾å®šï¼Œè¿™é‡Œæˆ‘è®¾ç½®1e-5 æœ€å¤§åŒ¹é…æ•°é‡æ³¨æ„ä¸‹è®¾ç½®1ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“å’Œå“ªä¸ªç‰©ç§ç›¸ä¼¼åº¦æœ€é«˜ï¼Œä¸€ä¸ªè¾“å‡ºç»“æœå°±è¶³å¤Ÿäº†ï¼ˆè™½ç„¶è®¾ç½®1ä¼šæœ‰è­¦å‘Šï¼‰ã€‚ çœ‹ä¸‹blastç”Ÿæˆçš„test_blastn_nt.xmlè¿™ä¸ªç»“æœæ–‡ä»¶ï¼š è™½ç„¶æ˜¯ç¬¬ä¸€æ¬¡æ¥è§¦xmlæ ¼å¼ï¼Œä½†æ˜¯æ„Ÿè§‰éå¸¸ç†Ÿæ‚‰ï¼ä¹‹å‰åšçš„ä¸€ä¸ªå¾®åšçˆ¬è™«å°ç¨‹åºå°±æ˜¯æ‰’äº†ä¸€ä¸ªç±»ä¼¼çš„htmlæ ¼å¼çš„æ–‡ä»¶â€¦â€¦xmlæ ¼å¼ä¹ŸæŒºå®¹æ˜“è§£æçš„ï¼Œå¯ä»¥çœ‹åˆ°æ¯”å¯¹ä¿¡æ¯ä»¥æ ‡ç­¾&lt;Iteration&gt;å¼€å§‹ï¼Œä»¥&lt;&#x2F;Iteration&gt;æ ‡ç­¾ç»“æŸï¼Œ&lt;Hit&gt;æ ‡ç­¾å¼€å§‹è¡¨ç¤ºçš„æ˜¯æ¯”å¯¹ä¸Šçš„ç»“æœï¼ˆå› ä¸ºæˆ‘è®¾ç½®äº†æœ€å¤§æ¯”å¯¹åºåˆ—æ•°é‡æ˜¯1ï¼Œæ‰€ä»¥&lt;Hit_num&gt;åªæœ‰1ï¼‰ï¼›&lt;Hsp&gt;æ ‡ç­¾è¡¨ç¤ºæŸä¸€å—çš„æ¯”å¯¹ç»“æœï¼ˆåŒä¸€æ¡åºåˆ—ï¼Œè‹¥å¹²ç‰‡æ®µæ¯”å¯¹ä¸Šï¼‰ï¼Œå› æ­¤&lt;Hsp_num&gt;æ ‡ç­¾çš„æ•°é‡å¯èƒ½ä¸æ­¢ä¸€ä¸ªã€‚ å½“ç„¶ï¼Œè¿™äº›éƒ½å¯ä»¥ä¸ç”¨å…³å¿ƒï¼Œåˆ†æéœ€è¦çš„ä¿¡æ¯æˆ‘ç”¨çº¢æ¡†æ ‡äº†å‡ºæ¥ã€‚æ¯”è¾ƒé‡è¦çš„æ˜¯&lt;Hit_def&gt;æ ‡ç­¾ï¼Œé‡Œé¢çš„å­—ç¬¦ä¸²æ˜¯ç©ºæ ¼éš”å¼€çš„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯æˆ‘ä»¬éœ€è¦çš„ç‰©ç§ç‰ˆæœ¬å·ã€‚ 3 XMLæ–‡ä»¶è§£æå‰é¢è¯´äº†è§£æçš„æ€è·¯ï¼Œä»¥ä¸‹æ˜¯ä»£ç çš„å®ç°ã€‚å› ä¸ºç”¨çš„pythonè¯­è¨€å†™çš„ç¨‹åºï¼Œæˆ‘çš„å»ºè®®æ˜¯åœ¨vscodeä¸€ç±»çš„ç¼–ç¨‹è½¯ä»¶ä¸­å†™è¿™äº›ä»£ç ï¼Œå¦‚æœæœ‰é”™è¯¯å¯ä»¥åŠæ—¶è°ƒè¯•ã€‚ 123456789101112131415161718192021222324252627282930313233import sysimport refrom collections import defaultdict# å¯ä»¥ä¸å†™ï¼Œæˆ‘æ˜¯ä¸ºäº†ç¡®ä¿å¯¼å…¥çˆ¶ç›®å½•çš„æ¨¡å—ä¸å‡ºé”™sys.path.append(&quot;./&quot;)xmlfile = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/test_blastn_nt.xml&quot;,&quot;r&quot;)outfile = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/filted_accession_version.txt&quot;,&quot;w&quot;)# å®šä¹‰ä¸€ä¸ªç©ºçš„å­—å…¸ï¼Œæå–æœ‰queryIDå’ŒsubjectIDçš„è¡Œdict1 = defaultdict(list)for lines in xmlfile: line = lines.strip() read_id = re.match(&#x27;&lt;Iteration_query-def&gt;.*&lt;/Iteration_query-def&gt;&#x27;,line) Hit_def = re.match(&#x27;&lt;Hit_def&gt;.*&lt;/Hit_def&gt;&#x27;,line) # è§£æqueryID if read_id != None: read_id = read_id.group() read_id = read_id.split(&quot;&lt;&quot;)[1].split(&quot;&gt;&quot;)[1] key=read_id # å­—å…¸keyå€¼å’Œvalueå€¼èµ‹å€¼ elif Hit_def !=None: Hit_def = Hit_def.group() Hit_def = Hit_def.split(&quot;&lt;&quot;)[1].split(&quot;&gt;&quot;)[1] dict1[key].append(Hit_def)# å†™å…¥æ–‡ä»¶ï¼Œåˆ¶è¡¨ç¬¦åˆ†å‰²for key in dict1: outfile.write(key + &quot;\\t&quot; + &quot;\\t&quot;.join(dict1[key])+&quot;\\n&quot;) çœ‹ä¸‹è¿è¡Œç»“æŸåè§£æå¾—åˆ°çš„æ–‡ä»¶ï¼š ä¸€å…±æ˜¯ä¸¤åˆ—ï¼Œç¬¬ä¸€åˆ—æ˜¯readsçš„queryIDï¼Œç¬¬äºŒåˆ—subjectIDå°±æ˜¯æ¯”å¯¹ä¸Šçš„åºåˆ—ä¿¡æ¯ã€‚å¯ä»¥çœ‹åˆ°ç¬¬äºŒåˆ—å¯ä»¥ä»¥ç©ºæ ¼ä¸ºåˆ†éš”ç¬¦ï¼Œæå–ç¬¬ä¸€ä¸ªå…ƒç´ ä¹Ÿå°±æ˜¯ç‰©ç§ç‰ˆæœ¬å·ï¼Œåé¢ä¼šè¯´ã€‚ ä¸ºä»€ä¹ˆè¦æŠŠç‰©ç§ç‰ˆæœ¬å·æå‡ºæ¥è€Œä¸ç›´æ¥ç”¨è¿™æ®µå†…å®¹é‡Œçš„ç‰©ç§åå‘¢ï¼Ÿå› ä¸ºä¸åŒçš„ç‰©ç§åå­—æ®µæ•°é‡å’Œä½ç½®ä¸ä¸€æ ·ï¼Œæ— æ³•ç”¨ç»Ÿä¸€çš„å‘½ä»¤ç›´æ¥æå–ï¼Œç²¾ç¡®çš„ç‰ˆæœ¬å·å¯ä»¥å¯¹åº”å”¯ä¸€ä¸€ä¸ªtaxidï¼Œä»è€Œè¢«ç²¾å‡†åœ°æ³¨é‡Šä¸Šç‰©ç§å­¦åã€‚ 4 åŒ¹é…ç‰©ç§å­¦åè¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼Œblastç”¨çš„ntåº“è¿˜æœ‰ç‰©ç§åˆ†ç±»ç”¨åˆ°çš„ä¸¤ä¸ªæ•°æ®åº“ï¼Œä»–ä»¬çš„æ›´æ–°æ—¶é—´æ˜¯ä¸ä¸€è‡´çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç‰©ç§ç‰ˆæœ¬å·ä¸ä¸€å®šèƒ½å®Œå…¨åŒ¹é…ä¸Štaxidï¼Œè€Œtaxidä¹Ÿä¸ä¸€å®šèƒ½åŒ¹é…ä¸Šå­¦åã€‚ è€Œpythonè¯­è¨€å†™çš„ç¨‹åºï¼Œç”¨åˆ°å­—å…¸ç±»å‹æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„keyå€¼åŒ¹é…æ˜¯ä¼šæŠ¥é”™çš„ï¼Œä¸ä¼šç»§ç»­æ‰§è¡Œä¸‹å»ã€‚ä¸€ä¼šå„¿è§£é‡Šï¼Œä»£ç å¦‚ä¸‹ï¼š 12345678910111213141516171819202122232425262728293031323334353637383940import sysimport gcsys.path.append(&quot;./&quot;)accession = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/filted_accession_version.txt&quot;,&quot;r&quot;)accession2taxid = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/nucl_gb.accession2taxid&quot;,&quot;r&quot;)taxid2name = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/names.dmp&quot;,&quot;r&quot;)final_res = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/final_res.txt&quot;,&quot;w&quot;)# ä»names.dmpæå–taxidå’Œå­¦åï¼ŒåŒ¹é…æœ‰scientific nameçš„è¡Œtaxid_name_dict = &#123;&#125; for lines in taxid2name: if &quot;scientific name&quot; in lines: line = lines.strip().split(&quot;|&quot;) taxid = line[0].strip() name = line[1].strip() taxid_name_dict[taxid] = name# ä»nucl_gb.accession2taxidæå–taxidå’Œç‰ˆæœ¬å·accession_taxid_dict = &#123;&#125; for lines in accession2taxid: line = lines.strip().split(&quot;\\t&quot;) TAXID = line[2] VERSION = line[1] accession_taxid_dict[VERSION] = TAXID# æ·»åŠ ä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œç‰ˆæœ¬å·åŒ¹é…ä¸ä¸Štaxidå’ŒtaxidåŒ¹é…ä¸ä¸Šå­¦åçš„æƒ…å†µã€‚gc.collect()é‡Šæ”¾å†…å­˜ã€‚for lines in accession: line = lines.strip().split(&quot;\\t&quot;) version = line[1].split()[0] if version in accession_taxid_dict: taxid = accession_taxid_dict[version] if taxid in taxid_name_dict: final_res.write(&quot;\\t&quot;.join(line)+&quot;\\t&quot;+taxid_name_dict[taxid]+&quot;\\n&quot;) else: final_res.write(&quot;\\t&quot;.join(line)+&quot;\\t&quot;+&quot;INVALID TAXID&quot;+&quot;\\n&quot;) else: final_res.write(&quot;\\t&quot;.join(line)+&quot;\\t&quot;+&quot;INVALID ACCESSION VERSION&quot;+&quot;\\n&quot;) gc.collect() å¦‚æœä¸åŠ æœ€åä¸¤ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œç¨‹åºä¼šåœ¨æŠ¥é”™çš„é‚£è¡Œreadåºåˆ—ç»ˆæ­¢ã€‚ é€šè¿‡æ¯”è¾ƒä¸¤ä¸ªè¾“å‡ºç»“æœæ–‡ä»¶è¡Œæ•°æ˜¯å¦ä¸€è‡´æ¥åˆ¤æ–­åŒ¹é…æ˜¯å¦å®Œå…¨ã€‚ ä¸¤ä¸ªæ–‡ä»¶è¾“å‡ºç»“æœä¸€è‡´è¯´æ˜åŒ¹é…å®Œæˆï¼Œä¸ºä»€ä¹ˆè¿™é‡Œæ˜¯9338è€Œä¸æ˜¯æˆ‘ä»¬ä¸€å¼€å§‹blastçš„10000æ¡åºåˆ—å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºæœ‰662æ¡åºåˆ—balstç»“æœçš„Eå€¼å¤§äº1e-5ï¼Œæ²¡æœ‰åœ¨ntä¸­æ¯”å¯¹ä¸Šåˆé€‚çš„åºåˆ— 5 è¾“å‡ºç‰©ç§æ³¨é‡Šåˆ†å¸ƒç»“æœåˆ°è¿™ä¸€æ­¥å°±æœ‰å¾ˆå¤šç§å¤„ç†æ–¹æ³•äº†ï¼Œå¯ä»¥æŠŠç»“æœæ–‡ä»¶ç›´æ¥ç”¨excelæ‰“å¼€ï¼Œç»Ÿè®¡readsåœ¨ntåº“çš„åˆ†å¸ƒæƒ…å†µå’Œæ¯”å¯¹ä¸Šçš„ç‰©ç§åˆ†å¸ƒã€‚ä¹Ÿå¯ä»¥ç›´æ¥å†™ä¸ªpythonè„šæœ¬åšä¸ªæ•°æ®ç»Ÿè®¡ã€‚ ç»Ÿè®¡å‰æˆ‘ä»¬å…ˆæ£€æŸ¥ä¸€ä¸‹æ˜¯å¦å­˜åœ¨ä¸Šä¸€æ­¥åŒ¹é…å¤±è´¥çš„readsã€‚ 123# ç»Ÿè®¡åŒ¹é…å¤±è´¥çš„readscat final_res.txt | grep &quot;INVALID TAXID&quot;cat final_res.txt | grep &quot;INVALID ACCESSION VERSION&quot; æç¤ºæœ‰8æ¡readsçš„ç‰©ç§ç‰ˆæœ¬å·æ¯”å¯¹ä¸ä¸Štaxidï¼Œä¸”éƒ½æ˜¯Pyrus x bretschneideriè¿™ä¸ªç‰©ç§ï¼Œè¯´æ˜è¿™ä¸ªç‰©ç§è¿˜æœªåœ¨nucl_gb.accession2taxidè¿™ä¸ªNCBIå®˜æ–¹æ•°æ®åº“ä¸­æ›´æ–°ã€‚åœ¨ç»“æœæ–‡ä»¶ä¸­å°†å…¶æ›¿æ¢æ‰ã€‚ 12# sedå‘½ä»¤åœ¨åŸæ–‡ä»¶è¿›è¡Œå…¨å±€æ›¿æ¢sed -i &#x27;s/INVALID ACCESSION VERSION/Pyrus x bretschneideri/g&#x27; final_res.txt ä¿®æ”¹å®Œæˆï¼Œæ£€æŸ¥æ— è¯¯åï¼Œç”¨ä»¥ä¸‹pythonè„šæœ¬ç»Ÿè®¡ç‰©ç§æ³¨é‡Šåˆ†å¸ƒï¼š 123456789101112131415161718192021222324252627from collections import Counter # å¼•å…¥counteræ¨¡å—import syssys.path.append(&quot;./&quot;)name_file = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/final_res.txt&quot;,&quot;r&quot;)res_stastics = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/stastics.txt&quot;,&quot;w&quot;)name_list = []for lines in name_file: line = lines.strip().split(&quot;\\t&quot;) name = line[-1] # å–æœ€åä¸€åˆ— name_list.append(name)# Counter()å‡½æ•°ç»Ÿè®¡è¯é¢‘count_result = Counter(name_list)count_list = list(count_result.items()) # æ³¨æ„éœ€è¦åˆ›å»ºä¸€ä¸ªlistcount_list.append((&#x27;Unmap&#x27;,662)) # æ³¨æ„æ‰‹åŠ¨æ·»åŠ blastå¤±è´¥çš„åºåˆ—æ¡æ•°åˆ°listä¸­count_list.sort(key=lambda x:x[1],reverse=True) # ä»¥ç¬¬äºŒç»´æ•°æ®å€¼ï¼Œå³ç»Ÿè®¡çš„ç‰©ç§å­¦åå‡ºç°æ¬¡æ•°æ’åºres_stastics.write(&quot;Name\\tHit_reads\\tpercentage\\n&quot;)for i in count_list: name = i[0] number = i[1] reads_num = 10000 percentage =&quot;%.2f%%&quot;%(100*float(number)/float(reads_num)) # æµ®ç‚¹ä¸¤ä½å°æ•°çš„ç™¾åˆ†æ¯” res_stastics.write(name+&quot;\\t&quot;+str(number)+&quot;\\t&quot;+str(percentage)+&quot;\\n&quot;) éœ€è¦æ³¨æ„æ‰‹åŠ¨æ·»åŠ blastå¤±è´¥çš„åºåˆ—æ¡æ•°ï¼Œæ–¹ä¾¿æœ€åä¸€èµ·ç»Ÿè®¡ã€‚æ‰“å¼€ç”Ÿæˆçš„stastics.txtæ–‡ä»¶ï¼š è¿™ä¸ªæ•°æ®æ˜¯åˆ¶è¡¨ç¬¦åˆ†å‰²çš„ï¼Œå¯ä»¥ç”¨excelåšä¸€ä¸ªåˆ†å¸ƒç»Ÿè®¡è¡¨ï¼Œæˆ–è€…ç”¨Råšä¸€ä¸ªæŸ±çŠ¶å›¾ï¼Œåº•ä¸‹å±•ç¤ºç»“æœ å¯ä»¥çœ‹åˆ°ï¼Œ10000æ¡åºåˆ—æ¯”å¯¹ç»“æœå æ¯”æœ€é«˜çš„å‰ä¸¤æ¡åºåˆ—ï¼ˆæ©˜é»„è‰²çš„ï¼‰æ˜¯ç»†èŒçš„æ ¸é…¸åºåˆ—ï¼Œæ€»æ•°è¾¾åˆ°3437æ¡ã€‚992æ¡åºåˆ—æ¯”å¯¹ä¸Šç½—å¸ƒéº»ï¼Œ662æ¡åºåˆ—æœªæ¯”å¯¹ä¸Šntåº“ã€‚å¯ä»¥è®¤ä¸ºè¿™ä¸ªåºæµ‹åºæ•°æ®è¢«ç»†èŒæ±¡æŸ“ï¼Œå¯ä»¥å’Œæµ‹åºå…¬å¸battleè¦æ±‚é‡æ–°æµ‹ä¸€éäº†â€¦â€¦ 6 è¡¥å……è¯´æ˜2022&#x2F;12&#x2F;4 æ›´æ–°ç§‰ç€ç§‘å­¦ä¸¥è°¨çš„æ€åº¦ï¼Œå†æ›´æ–°ä¸€äº›å†…å®¹æŸ¥æ¼è¡¥ç¼ºã€‚ è´¨æ§è¿‡æ»¤åçš„readsæœ‰183ä¸‡æ¡ï¼Œè€Œæˆ‘åªå–äº†å‰1ä¸‡æ¡ã€‚è€ƒè™‘åˆ°æµ‹åºå¼€å¤´çš„ä½è´¨é‡readså¯èƒ½ä¼šå¯¹åˆ†æç»“æœäº§ç”Ÿå¹²æ‰°ï¼ˆæ¯”å¦‚å¼€å¤´çš„ç”µä¿¡å·ä¸ç¨³å®šï¼‰ï¼Œæˆ‘å†™äº†ä¸ªpythonè„šæœ¬å¯¹è¿‡æ»¤åçš„æ•°æ®éšæœºå–10000æ¡readsï¼Œè¿™æ ·å°±åªæœ‰éšæœºè¯¯å·®å½±å“åˆ†æç»“æœäº†ã€‚ åœ¨ç¬¬2æ­¥fqæ–‡ä»¶å¤„ç†éƒ¨åˆ†ï¼Œä¸ºäº†pythonè°ƒç”¨æ–¹ä¾¿ï¼Œå…ˆè§£å‹clean_filter.fq.gzæ–‡ä»¶ 1gunzip clean_filter.fq.gz è¯»å–è§£å‹åçš„æ–‡ä»¶éœ€è¦49Gå†…å­˜ï¼Œæˆ‘åªèƒ½åœ¨é›†ç¾¤ä¸Šå¤„ç†ï¼Œæ¥ç€è¿è¡Œå¦‚ä¸‹pythonè„šæœ¬ 123456789101112131415import random # è°ƒç”¨randomæ¨¡å—äº§ç”Ÿéšæœºæ•°import linecache # è°ƒç”¨linecacheæ¨¡å—è¯»å…¥æŒ‡å®šè¡Œimport gcoutput_file = open(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/random_test.fa&quot;,&quot;w&quot;)reads_list = list(range(1,1834926)) # å…±æœ‰1834925æ¡readsline = random.sample(reads_list,10000)for i in line: text1 = linecache.getline(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/clean_filter.fq&quot;,4*i-3) text2 = linecache.getline(&quot;/public/home/wlxie/luobuma/luobuma/sample_1_rawdata/Third_generation_sequencing/clean_filter.fq&quot;,4*i-2) query_id = text1.split()[0] query_id_fa = query_id.replace(&quot;@&quot;, &quot;&gt;&quot;) output_file.write(query_id_fa + &quot;\\n&quot; + text2) gc.collect() å¤„ç†æ–¹å¼æ¯”ä¹‹å‰å¤šäº†å‡ æ­¥ï¼Œæˆ‘è¿è¡Œäº†ä¸¤æ¬¡è„šæœ¬ï¼Œå‘ç°ä¸¤æ¬¡äº§ç”Ÿçš„æ–‡ä»¶å¤§å°éƒ½åœ¨135Må·¦å³ï¼Œä¹Ÿå°±æ˜¯éšæœºå–10000æ¡readsäº§ç”Ÿçš„æ–‡ä»¶æ¯”å–å‰10000æ¡readsäº§ç”Ÿçš„æ–‡ä»¶å¤§äº†40Mã€‚è¯æ˜ä¸‰ä»£æµ‹åºå¼€å¤´æµ‹å¾—åºåˆ—è´¨é‡ä¸å¤ªè¡Œï¼ˆçŸ­åºåˆ—ä¸ä¸€å®šè´¨é‡ä¸å¥½ï¼Œä½†æ˜¯è´¨é‡ä¸å¥½çš„åºåˆ—ä¸€å®šæ˜¯çŸ­åºåˆ—ï¼‰ï¼Œæ‹¿åˆ°éšæœºäº§ç”Ÿçš„10000æ¡readsåšblastï¼Œåç»­æ­¥éª¤éƒ½ä¸€æ ·ã€‚ 2023&#x2F;1&#x2F;13æ›´æ–°ä¸æµ‹åºå…¬å¸æŠ€æœ¯äººå‘˜æ²Ÿé€šåï¼Œçº æ­£ä¸€äº›è¯¯åŒºï¼š ä¸‰ä»£æµ‹åºæ•°æ®æ˜¯é•¿è¯»é•¿ç‰‡æ®µï¼Œç›´æ¥ä½¿ç”¨é•¿è¯»é•¿åºåˆ—è¿›è¡Œblastnæ¯”å¯¹ï¼Œèƒ½æ¯”å¯¹ä¸Šæ•°æ®åº“çš„æ¦‚ç‡ä¼šå¤§å¾ˆå¤šï¼ˆæ€»æœ‰äº›åŒºåŸŸèƒ½æ¯”å¯¹ä¸Šä¸€äº›åŒæºåºåˆ—ï¼Œä¸€æ¡readsä¹Ÿå¯èƒ½æ¯”å¯¹ä¸Šä¸åŒçš„ç‰©ç§ï¼‰ã€‚ çœŸæ ¸ç”Ÿç‰©åŸºå› ç»„å«æœ‰å¤§é‡çš„é‡å¤åºåˆ—ï¼Œå¯¹ä¸‰ä»£æµ‹åºæ•°æ®ä¸€èˆ¬è¦è¿›è¡Œéšæœºæ‰“æ–­æˆ250-500bpå¤§å°ï¼Œç„¶åéšæœºå–ä¸€æ¡è¿›è¡Œblastnæ¯”å¯¹ï¼Œå¦‚æœè¿™æ¡åºåˆ—åˆšå¥½æ˜¯é‡å¤åºåˆ—ç‰‡æ®µï¼Œå°±ä¼šå‡ºç°æ¯”å¯¹ä¸ä¸Šçš„ç»“æœï¼ˆé‡å¤åŒºåŸŸæµ‹åºå‡†ç¡®åº¦ä¹Ÿç›¸å¯¹è¾ƒä½ï¼‰ã€‚ å› æ­¤ï¼Œä»¥ä¸Šçš„æ–¹æ³•æ›´é€‚åˆäºŒä»£æµ‹åºæ•°æ®çš„æ±¡æŸ“è¯„ä¼°ï¼Œä¸‰ä»£æ•°æ®æ±¡æŸ“è¯„ä¼°éœ€è¦åœ¨ä»£ç ä¸Šè€ƒè™‘å®ç°éšæœºæ‰“æ–­æˆçŸ­ç‰‡æ®µï¼ˆ250-500bpï¼‰ï¼Œå†è¿›è¡Œblastnæ¯”å¯¹ntæ•°æ®åº“ã€‚ æ€»çš„æ¥è¯´ï¼Œè¿™ç§éšæœºå–æµ‹åºreadè¿›è¡Œblastnæ¥ç¡®å®šæ•°æ®æ±¡æŸ“çš„æ–¹æ³•ï¼Œåªæ˜¯ç®€å•ç²—æš´çš„çœ‹ä¸€ä¸‹æ ·æœ¬æ±¡æŸ“æƒ…å†µï¼Œå¦‚æœæ±¡æŸ“æ¯”ä¾‹ä½ï¼ˆé€šå¸¸å°äº1%ï¼‰ï¼Œè¯´æ˜æ•°æ®å¯ä»¥ä½¿ç”¨ï¼Œè¿˜éœ€è¦ç»“åˆGC-depthåšå…·ä½“åˆ†æï¼ˆåªæœ‰ä¸€ä¸ªçº¢è‰²åŒºåŸŸè¯´æ˜æ•°æ®æ— æ±¡æŸ“ï¼‰ã€‚blastnæ¯”å¯¹è¿™éƒ¨åˆ†å†…å®¹ä¸€èˆ¬ä¸ä¼šåœ¨æ–‡ç« ä¸­åšå±•ç¤ºã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"},{"name":"blast+","slug":"blast","permalink":"http://www.shelven.com/tags/blast/"}]},{"title":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ1ï¼‰â€”â€”æ•°æ®è´¨æ§","slug":"0åŸºç¡€å­¦ä¹ åŸºå› ç»„ä¸‰ä»£æµ‹åºç»„è£…ï¼ˆ1ï¼‰â€”â€”æ•°æ®è´¨æ§","date":"2022-06-17T14:31:19.000Z","updated":"2022-12-03T16:14:50.000Z","comments":true,"path":"2022/06/17/b.html","link":"","permalink":"http://www.shelven.com/2022/06/17/b.html","excerpt":"æœ€è¿‘æ‹¿åˆ°ä¸€ä¸ªæ¤ç‰©åŸºå› ç»„çš„ä¸‰ä»£å’ŒäºŒä»£æµ‹åºæ•°æ®ï¼Œæƒ³é€šè¿‡ä»¥ä¸‰ä»£æµ‹åºæ•°æ®ä¸ºä¸»ï¼ŒäºŒä»£æµ‹åºæ•°æ®ä¸ºè¾…çš„æ–¹å¼å­¦ä¹ ä¸€ä¸‹å¦‚ä½•æ‹¼æ¥ç»„è£…ä¸€ä¸ªåŸºå› ç»„ã€‚ä½†æ˜¯ä¸‰ä»£æµ‹åºæ•°æ®åˆšåˆ°æ‰‹å°±æ‡µäº†ï¼Œä¸ä¹‹å‰å­¦ä¹ çš„è½¬å½•ç»„åˆ†æä¸ä¸€æ ·ï¼Œä¸‰ä»£æµ‹åºè¿”å›çš„å‡ ä¸ªæ–‡ä»¶ä¸æ˜¯å•çº¯çš„fqæ–‡ä»¶ï¼Œäºæ˜¯æˆ‘åˆå¼€å§‹æ¶è¡¥äº†ä¸€äº›ä¸‰ä»£æµ‹åºçš„åŸºç¡€çŸ¥è¯†ï¼Œå¼€å‘å†™ä¸ªä¸‰ä»£åŸºå› ç»„æµ‹åºç»„è£…çš„ç³»åˆ—ç¬”è®°~","text":"æœ€è¿‘æ‹¿åˆ°ä¸€ä¸ªæ¤ç‰©åŸºå› ç»„çš„ä¸‰ä»£å’ŒäºŒä»£æµ‹åºæ•°æ®ï¼Œæƒ³é€šè¿‡ä»¥ä¸‰ä»£æµ‹åºæ•°æ®ä¸ºä¸»ï¼ŒäºŒä»£æµ‹åºæ•°æ®ä¸ºè¾…çš„æ–¹å¼å­¦ä¹ ä¸€ä¸‹å¦‚ä½•æ‹¼æ¥ç»„è£…ä¸€ä¸ªåŸºå› ç»„ã€‚ä½†æ˜¯ä¸‰ä»£æµ‹åºæ•°æ®åˆšåˆ°æ‰‹å°±æ‡µäº†ï¼Œä¸ä¹‹å‰å­¦ä¹ çš„è½¬å½•ç»„åˆ†æä¸ä¸€æ ·ï¼Œä¸‰ä»£æµ‹åºè¿”å›çš„å‡ ä¸ªæ–‡ä»¶ä¸æ˜¯å•çº¯çš„fqæ–‡ä»¶ï¼Œäºæ˜¯æˆ‘åˆå¼€å§‹æ¶è¡¥äº†ä¸€äº›ä¸‰ä»£æµ‹åºçš„åŸºç¡€çŸ¥è¯†ï¼Œå¼€å‘å†™ä¸ªä¸‰ä»£åŸºå› ç»„æµ‹åºç»„è£…çš„ç³»åˆ—ç¬”è®°~ 1 æŠ€æœ¯èƒŒæ™¯å½“ç¬¬äºŒä»£é«˜é€šé‡æµ‹åºæŠ€æœ¯è¿›å…¥æˆç†Ÿé˜¶æ®µåï¼Œè¯»é•¿è¿‡çŸ­ã€PCRæ‰©å¢å¸¦æ¥çš„åå‘æ€§ç­‰é—®é¢˜å¼€å§‹æ—¥ç›Šå‡¸æ˜¾ï¼›ä½œä¸ºåŸºå› ç»„å­¦ä¸Šæ–°çš„è½¬æŠ˜ç‚¹ï¼Œä»¥PacBioå•åˆ†å­å®æ—¶æµ‹åºæŠ€æœ¯åŠçº³ç±³å­”å•åˆ†å­æµ‹åºæŠ€æœ¯ä¸ºé¦–çš„ç¬¬ä¸‰ä»£é«˜é€šé‡æµ‹åºæŠ€æœ¯ï¼ˆThird-generation Sequencingï¼‰å¼€å§‹è¿›å…¥ç§‘ç ”åº”ç”¨ï¼Œä»å•åˆ†å­æ°´å¹³ä¸Šå¯¹DNAåˆ†å­çš„å®æ—¶æµ‹åºï¼ŒæˆåŠŸè§£å†³äº†äºŒä»£æµ‹åºå‡ å¤§å›°æ‰°ï¼šæç«¯ GCå«é‡åŒºåŸŸè¦†ç›–åº¦ä½ã€é«˜åº¦é‡å¤åŒºåŸŸæ— æ³•è¾ƒå¥½åœ°æ‹¼è£…ã€å¤§ç‰‡æ®µå˜å¼‚éš¾ä»¥å‡†ç¡®æ£€æµ‹ã€ä¸èƒ½ç›´æ¥æ£€æµ‹ç¢±åŸºä¿®é¥°ç­‰é—®é¢˜ã€‚ ONTï¼ˆOxford Nanopore Technologiesï¼‰ç‰›æ´¥çº³ç±³å­”æµ‹åºæŠ€æœ¯ä½œä¸ºç¬¬ä¸‰ä»£å•åˆ†å­å®æ—¶æµ‹åºæŠ€æœ¯ï¼Œå…¶åŸç†æ˜¯åŸºäºé«˜åˆ†å­è†œä¸¤ä¾§ç”µå‹å’Œå…¶ä¸­çš„è›‹ç™½è´¨çº³ç±³å­”ï¼Œå½“å•åˆ†å­DNAä»çº³ç±³å­”é€šè¿‡æ—¶ï¼Œä¼šå¼•èµ·å­”ä¸¤ä¾§ç”µä½å·®æ¥å®ç°ä¿¡å·æ£€æµ‹ï¼Œ è€ŒATCGå››ç§ç¢±åŸºçš„å¸¦ç”µæ€§è´¨ä¸ä¸€æ ·ï¼Œå› æ­¤åˆ©ç”¨ç”µä¿¡å·çš„å·®å¼‚å°±èƒ½æ£€æµ‹å‡ºé€šè¿‡çš„ç¢±åŸºç±»å‹ï¼Œä»è€Œå®ç°æµ‹åºã€‚ Nanoporeå•†ä¸šåŒ–å¹³å°æœ‰ä¸‰ä¸ªï¼šMinIONã€GridIONåŠPromethIONã€‚æœ¬ç³»åˆ—ç¬”è®°çš„ä¸‰ä»£æµ‹åºæ•°æ®æ¥æºäºPromethIONæµ‹åºå¹³å°æµ‹åºçš„ä¸€ä¸ªcellï¼ŒPromethIONæµ‹åºä»ªæ‹¥æœ‰48ä¸ªæµåŠ¨æ§½ï¼Œæ¯ä¸ªæµåŠ¨æ§½æ‹¥æœ‰3000ä¸ªçº³ç±³å­”é€šé“ï¼ˆæ€»è®¡144000ä¸ªï¼‰ï¼Œé€‚ç”¨äºå¤§æ ·æœ¬é‡çš„é«˜é€šé‡å¿«é€Ÿæµ‹åºã€‚ 2 æ•°æ®è´¨æ§basecallingåœ¨ONTçš„æµ‹åºå¹³å°ä¸­ï¼Œå°†é€šè¿‡çº³ç±³å­”çš„DNAæˆ–RNAé“¾äº§ç”Ÿçš„ç”µä½ä¿¡å·è½¬åŒ–ä¸ºç›¸åº”çš„ç¢±åŸºåºåˆ—çš„è¿‡ç¨‹ï¼Œç§°ä¸ºbasecallingã€‚Nanoporeæµ‹åºçš„ä¸‹æœºæ•°æ®çš„åŸå§‹æ•°æ®æ ¼å¼ä¸ºåŒ…å«åŸå§‹æµ‹åºç”µä¿¡å·çš„fast5æ ¼å¼ï¼Œå®˜æ–¹æœ‰æä¾›å·¥å…·Guppyè¿›è¡Œbasecallingï¼Œä»¥mean_qscore_templateçš„æ•°å€¼å¤§äºç­‰äº7ä¸ºæ ‡å‡†ï¼ˆä¹Ÿå°±æ˜¯æµ‹åºè´¨é‡å¤§äº7çš„readsï¼‰å¾—åˆ°åŸå§‹æµ‹åºæ•°æ®ï¼Œè¿™æ ·å¾—åˆ°çš„basecallingæ•°æ®ä¸ºfastqæ ¼å¼ï¼ˆ.fastqæˆ–è€….fqç»“å°¾ï¼‰ï¼Œæ‰€ä»¥æˆ‘æ‹¿åˆ°çš„å°±æ˜¯å·²ç»basecallingåçš„ç»“æœã€‚ fast5: åŸå§‹ç”µä¿¡å·æ–‡ä»¶ï¼Œä»¥.fast5ä¸ºæ–‡ä»¶ç»“å°¾ã€‚æ­¤æ–‡ä»¶æ—¢æœ‰æµ‹åºå¾—åˆ°çš„åºåˆ—ä¿¡æ¯ï¼Œè¿˜æœ‰ç”²åŸºåŒ–ä¿®é¥°ä¿¡æ¯ï¼ˆç”²åŸºåŒ–ä½ç‚¹ç”µä¿¡å·ä¼šä¸ä¸€æ ·ï¼‰ã€‚ fastq: fast5æ–‡ä»¶è½¬æ¢è€Œæ¥ï¼Œå››è¡Œä¸€ä¸ªå•ä½ï¼Œåºåˆ—å’Œç¢±åŸºè´¨é‡ä¸€ä¸€å¯¹åº”ã€‚ basecallingçš„åŒæ—¶è¿˜å¯ä»¥ä¸€èµ·æ‹†åˆ†barcodeæ¡ç åºåˆ—ï¼Œè¿™é‡Œæˆ‘æ²¡ç”¨åˆ°guppyè¿™ä¸ªè½¯ä»¶ï¼Œäº†è§£ä¸€ä¸‹å°±è¡Œã€‚ç»è¿‡basecallingåï¼Œæ–‡ä»¶ä¼šåˆ†ä¸ºfailå’Œpassä¸¤éƒ¨åˆ†ï¼Œpasséƒ¨åˆ†å°±æ˜¯æ»¡è¶³Qå€¼&gt;7çš„åºåˆ—ï¼ˆäºŒä»£æµ‹åºè´¨æ§æ ‡å‡†æ˜¯Q20ï¼Œè¿™é‡Œçš„ä¸‰ä»£æµ‹åºè´¨æ§æ ‡å‡†æ˜¯Q7ï¼Œå‡†ç¡®æ€§ä¸åŠäºŒä»£æµ‹åºï¼‰ã€‚ è¿˜æœ‰ä¸€ä¸ªsummary.txtæ–‡ä»¶ï¼Œè¿™æ˜¯ä¸€ä¸ªæµ‹åºæ±‡æ€»æ–‡ä»¶ï¼Œç»“æ„å¦‚ä¸‹ï¼š ç¬¬ä¸€çœ¼çœ‹ä¸Šå»å¾ˆä¹±ï¼Œå‡ ä¸ªé‡è¦çš„åˆ—å«ä¹‰å¦‚ä¸‹ï¼š filename_fastq fasqæ–‡ä»¶å filename_fast5 fast5æ–‡ä»¶å read_id æ¯æ¡readå¯¹åº”çš„idå· run_id è¿™ä¸€æ¬¡è¿è¡Œäº§ç”Ÿçš„idå·ï¼Œä¸€ä¸ªflowcellé€šå¸¸ä¸ºä¸€ä¸ªrun channel mux è¯¥æ¡readåœ¨å“ªä¸ªchannelæµ‹çš„ start_time è¿™æ¡readæµ‹åºèµ·å§‹æ—¶é—´ duration è¿™æ¡readæµ‹åºç»è¿‡æ—¶é—´ passes_filtering Qå€¼å¤§äº7ä¸ºTRUEå¦åˆ™ä¸ºFALSE sequence_length_template readé•¿åº¦ï¼Œä¸‰ä»£æµ‹åºæ•°æ®è¿‡æ»¤çš„æŒ‡æ ‡ä¹‹ä¸€ mean_qscore_template éå¸¸é‡è¦çš„æŒ‡æ ‡ï¼Œæ¯ä¸€ä¸ªreadçš„å¹³å‡Qå€¼ æœ‰å…³barcodeçš„éƒ½æ˜¯æ ‡ç­¾åºåˆ—ç›¸å…³å‚æ•°ï¼Œå› ä¸ºä¸åŒæ ·å“æ¥å¤´ä¼šæ·»åŠ ä¸åŒçš„æ ‡ç­¾åºåˆ—ï¼Œæ··æµ‹çš„æ—¶å€™æ ¹æ®æ ‡ç­¾åºåˆ—ä¸æ ·å“çš„å¯¹åº”å…³ç³»æ¥åŒºåˆ†ä¸åŒæ ·å“ã€‚ è¿”å›çš„æ•°æ®æ˜¯guppyå¤„ç†è¿‡çš„ï¼Œä¹Ÿå°±æ˜¯raw readsï¼Œæ¥ä¸‹æ¥è´¨æ§çš„è¿‡ç¨‹å°±éœ€è¦è‡ªå·±åŠ¨æ‰‹äº†ã€‚ nanoplotè´¨æ§å…ˆè¯´æ˜ä¸‹ä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªå·¥å…·ï¼Œä¸‰ä»£æµ‹åºçš„æ•°æ®è¯»é•¿æ¯”äºŒä»£æµ‹åºé•¿å¾ˆå¤šï¼Œè€Œä¸”æ¯æ¡åºåˆ—çš„é•¿åº¦éƒ½æ˜¯ä¸ä¸€æ ·çš„ã€‚ä¸èƒ½ç”¨ä¹‹å‰è½¬å½•ç»„æ•°æ®åˆ†æä¸­çš„fastqå·¥å…·ï¼Œä¼šæŠ¥é”™ï¼Œå› æ­¤ä½¿ç”¨nanoplotå·¥å…·æ¥ç”Ÿæˆè´¨æ£€æŠ¥å‘Šï¼ŒåŒæ ·ä¹Ÿæ˜¯ä¼šç”Ÿæˆå„ç§htmlæ–‡ä»¶æ–¹ä¾¿æµè§ˆç»“æœã€‚ å…ˆåˆ›å»ºä¸€ä¸ªnanoplotä¸“ç”¨çš„ç¯å¢ƒï¼Œä¸‹è½½nanoplotï¼Œä¹‹åçš„è´¨æ§è¿‡ç¨‹éƒ½åœ¨è¿™ä¸ªç¯å¢ƒä¸‹è¿›è¡Œã€‚ 12345678# åˆ›å»ºç¯å¢ƒå¹¶ä¸‹è½½nanoplotconda create -n nanoplot -y -c bioconda nanoplot# æ¿€æ´»ç¯å¢ƒ. activate nanoplot# ç”Ÿæˆè´¨æ£€æŠ¥å‘Šã€‚å¯ä»¥ç”¨pass.fqæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨summery.txtæ–‡ä»¶ã€‚-oå‚æ•°åé¢æ˜¯è¾“å‡ºæ–‡ä»¶å¤¹åç§°ã€‚NanoPlot --summary summary.txt --loglength -o summary-plots-log-transformedNanoPlot -t 4 --fastq pass.fq.gz --plots hex dot -o nanoplot_out# è¯¦ç»†å‚æ•°è®¾ç½®å¯ä»¥åœ¨NanoPlot --helpä¸­æŸ¥çœ‹ è¿è¡Œç»“æŸä¹‹åä¼šç”Ÿæˆsummary-plots-log-transformedè¿™ä¸ªæ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨xftpå·¥å…·æŸ¥çœ‹é‡Œé¢çš„htmlç»“æœæ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æŒ‘å–ä¸€äº›æ•°æ®åšæ•°æ®è´¨é‡ç»Ÿè®¡è¡¨ã€‚ æ”¾ä¸€å¼ åŸå§‹æµ‹åºæ•°æ®è¯»é•¿åˆ†å¸ƒå›¾ç¤ºæ„ä¸€ä¸‹ï¼š ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç”¨summary.txtç”Ÿæˆçš„è´¨æ§æŠ¥å‘Š ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ç”¨pass.fq.gzç”Ÿæˆçš„è´¨æ§æŠ¥å‘Šï¼ˆæ¨èç”¨è¿™ä¸ªï¼‰ ä¸¤ç§æ–¹æ³•ç”Ÿæˆçš„è´¨æ§æŠ¥å‘Šç•¥å¾®æœ‰ç‚¹å·®åˆ«ï¼Œå› ä¸ºsummary.txtæ–‡ä»¶ä¸­è®°å½•äº†æ‰€æœ‰åºåˆ—ï¼Œå¯ä»¥çœ‹åˆ°æœ‰éƒ¨åˆ†åºåˆ—è´¨é‡åœ¨Q5-Q7ä¹‹é—´ï¼›è€Œpass.fg.gzç”Ÿæˆçš„è´¨æ§æŠ¥å‘Šä¸­ï¼Œæ‰€æœ‰åºåˆ—çš„è´¨é‡éƒ½åœ¨Q7åŠä»¥ä¸Šã€‚åç»­ä»¥åˆ†æpass.fq.gzæ–‡ä»¶ç”Ÿæˆçš„è´¨æ§æŠ¥å‘Šä¸ºå‡†ï¼Œå¯¹è¿™ä¸ªæ–‡ä»¶åºåˆ—çš„é•¿åº¦è¿›è¡Œè¿‡æ»¤ã€‚ å¦‚æœä¸éœ€è¦å›¾ï¼Œåªéœ€è¦çŸ¥é“æœ‰å¤šå°‘æ¡readsã€readså¹³å‡é•¿åº¦ã€N50ã€N90è¿™äº›æ•°æ®åšè¡¨æ ¼çš„è¯ï¼Œè¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå®ç”¨çš„perlè„šæœ¬ï¼Œæ€ä¹ˆä½¿ç”¨å°±ä¸èµ˜è¿°äº†ï¼Œæºä»£ç æ”¾åº•ä¸‹å‚è€ƒã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354#/usr/bin/perl -wuse strict;use warnings;### *fastq.gz æ•°æ®ç»Ÿè®¡ N50 N90 num_seqs sum_len min_len avg_len max_len ### usage: perl stat.fastq.gz.N50.N90.pl *.fastq.gzmy $fastq_gz = $ARGV[0];open(IN,&quot;gzip -dc $fastq_gz|&quot;) or die (&quot;can not open $fastq_gz\\n&quot;);open(OUT,&quot;&gt;$fastq_gz.stat&quot;);print OUT &quot;name num_seqs sum_len min_len avg_len max_len N50 N90\\n&quot;;print OUT &quot;$fastq_gz\\t&quot;;my ($len,$total,$num_seqs,$min_len,$max_len)=(0,0,0,0,0);my @length_list;while(&lt;IN&gt;)&#123; my $title = $_; my $seq = &lt;IN&gt;; my $add = &lt;IN&gt;; my $quality = &lt;IN&gt;; $seq =~ s/\\r|\\n|\\r\\n//mg; $len = length($seq); if($len&gt;0)&#123; $total += $len; push @length_list,$len; &#125; if($min_len == 0)&#123;$min_len = $len;&#125;elsif($min_len &gt; $len)&#123;$min_len = $len;&#125; if($max_len == 0)&#123;$max_len = $len;&#125;elsif($max_len &lt; $len)&#123;$max_len = $len;&#125; $len=0; $num_seqs++;&#125;my $avg_len = $total/$num_seqs;print OUT &quot;$num_seqs\\t&quot;;print OUT &quot;$total\\t&quot;;print OUT &quot;$min_len\\t&quot;;print OUT &quot;$avg_len\\t&quot;;print OUT &quot;$max_len\\t&quot;;@length_list=sort&#123;$b&lt;=&gt;$a&#125; @length_list;my ($count,$half)=(0,0);for (my $j=0;$j&lt;@length_list;$j++)&#123; $count+=$length_list[$j]; if (($count&gt;=$total/2)&amp;&amp;($half==0))&#123; print OUT &quot;$length_list[$j]\\t&quot;; $half=$length_list[$j] &#125;elsif ($count&gt;=$total*0.9)&#123; print OUT &quot;$length_list[$j]\\t\\n&quot;; exit; &#125;&#125; filtlongè¿‡æ»¤æ•°æ®å‰é¢è¯´è¿‡ï¼ŒäºŒä»£æµ‹åºæ˜¯åŒç«¯æµ‹åºï¼Œä¸‰ä»£æµ‹åºæ˜¯å•ç«¯æµ‹åºï¼Œä¸¤è€…è¿‡æ»¤æ•°æ®çš„è¦æ±‚ä¸åŒã€‚ä¸‰ä»£æµ‹åºä¸»è¦æ˜¯è¿‡æ»¤é•¿åº¦è¿‡çŸ­çš„åºåˆ—å’Œæµ‹åºè´¨é‡è¾ƒä½çš„åºåˆ—ã€‚åœ¨basecallingä¸­æˆ‘ä»¬è¿‡æ»¤äº†Qå€¼å°äº7çš„åºåˆ—ï¼Œç°åœ¨è¿˜è¦è¿‡æ»¤readé•¿åº¦å°äº1000bpçš„åºåˆ—ã€‚è¿‡æ»¤åçš„åºåˆ—å¯ä»¥ç›´æ¥ç”¨äºåç»­çš„ç»„è£…ã€‚ 1234# å®‰è£…filtlongè½¯ä»¶conda install -y filtlong# è®¾ç½®åºåˆ—æœ€çŸ­ä¸º1000bpï¼Œå‹ç¼©ç»“æœæ–‡ä»¶åˆ°æ–°æ–‡ä»¶ä¸­filtlong --min_length 1000 pass.fq.gz | gzip &gt; clean_filter.fq.gz å¯ä»¥çœ‹åˆ°è¿‡æ»¤äº†ä¸€éƒ¨åˆ†æ•°æ®ï¼Œç”¨è¿‡æ»¤åçš„æ•°æ®å†è·‘ä¸€æ¬¡NanoPlot 1NanoPlot -t 4 --fastq clean_filter.fq.gz --plots hex dot -o filt_nanoplot_out æµ‹åºæ•°æ®è¯»é•¿åˆ†å¸ƒå¦‚ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°å·²ç»æ²¡æœ‰1kbä»¥ä¸‹çš„readsäº†ï¼š ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹è¿‡æ»¤åçš„è´¨æ§æŠ¥å‘Š è‡³æ­¤è´¨æ§è¿‡æ»¤æµç¨‹ç»“æŸï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€ä¸ªä¸‹æœºæ•°æ®è´¨æ§ç»Ÿè®¡è¡¨ï¼š Type Bases(bp) Reads Number Reads mean length(bp) Reads N50 length(bp) Raw Reads 25,584,046,180.0 1,933,526.0 13,231.8 28,127.0 Filtered Reads 25,531,304,191.0 1,834,925.0 13,914.1 28,184.0","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"nanoplot","slug":"nanoplot","permalink":"http://www.shelven.com/tags/nanoplot/"},{"name":"filtlong","slug":"filtlong","permalink":"http://www.shelven.com/tags/filtlong/"}]},{"title":"NCBIçš„BLAST+å·¥å…·æœ¬åœ°å®‰è£…ï¼Œæœ¬åœ°å»ºåº“å’ŒBLASTæ¯”å¯¹","slug":"NCBIçš„BLAST+å·¥å…·æœ¬åœ°å®‰è£…ï¼Œæœ¬åœ°å»ºåº“å’ŒBLASTæ¯”å¯¹","date":"2022-06-16T18:33:56.000Z","updated":"2022-12-03T16:10:04.000Z","comments":true,"path":"2022/06/17/a.html","link":"","permalink":"http://www.shelven.com/2022/06/17/a.html","excerpt":"æ¥è§¦è¿‡ç”Ÿç‰©å­¦çš„å°ä¼™ä¼´å¯¹NCBIåœ¨çº¿BLASTç½‘é¡µä¸€å®šä¸é™Œç”Ÿï¼Œç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ªç½‘é¡µçš„5ç§æ¯”å¯¹å·¥å…·ï¼šblastnã€blastpã€blastxã€tblastnå’Œtblastxï¼Œä»¥åŠå¦‚ä½•è¿›è¡Œæœ¬åœ°å»ºåº“å’Œblastæ¯”å¯¹ã€‚","text":"æ¥è§¦è¿‡ç”Ÿç‰©å­¦çš„å°ä¼™ä¼´å¯¹NCBIåœ¨çº¿BLASTç½‘é¡µä¸€å®šä¸é™Œç”Ÿï¼Œç®€å•ä»‹ç»ä¸€ä¸‹è¿™ä¸ªç½‘é¡µçš„5ç§æ¯”å¯¹å·¥å…·ï¼šblastnã€blastpã€blastxã€tblastnå’Œtblastxï¼Œä»¥åŠå¦‚ä½•è¿›è¡Œæœ¬åœ°å»ºåº“å’Œblastæ¯”å¯¹ã€‚ blastn ç”¨æ ¸è‹·é…¸åºåˆ—æ£€ç´¢æ ¸è‹·é…¸æ•°æ®åº“ blastp ç”¨è›‹ç™½è´¨åºåˆ—æ£€ç´¢è›‹ç™½è´¨æ•°æ®åº“ blastx æ ¸è‹·é…¸åºåˆ—é€šè¿‡6ç§é˜…è¯»æ¡†ç¿»è¯‘ä¸åŒè›‹ç™½åºåˆ—åï¼Œæ£€ç´¢è›‹ç™½æ•°æ®åº“ tblastn è›‹ç™½åºåˆ—æ¯”å¯¹æ ¸é…¸åº“ï¼Œæ ¸é…¸æ•°æ®åº“é€šè¿‡6ç§å¼€æ”¾é˜…è¯»æ¡†ç¿»è¯‘ä¸åŒè›‹ç™½è´¨ tblastx æ ¸é…¸åºåˆ—å’Œæ ¸é…¸æ•°æ®åº“éƒ½é€šè¿‡6ç§å¼€æ”¾é˜…è¯»æ¡†ç¿»è¯‘åæ¯”å¯¹ å¹³å¸¸æˆ‘ä»¬ç”¨çš„æœ€å¤šçš„å°±æ˜¯blastnå’Œblastpï¼Œè¿›å…¥ç½‘é¡µï¼Œé€‰æ‹©blastæ–¹å¼ï¼Œç„¶åè´´ä¸Šè‡ªå·±çš„quaryåºåˆ—ï¼Œé€‰æ‹©æ•°æ®åº“ï¼Œé€‰æ‹©æ¯”å¯¹çš„ç‰©ç§ï¼Œè®¾ç½®å‚æ•°å¦‚Eå€¼ï¼Œwordlengthé•¿åº¦ç­‰ç­‰ã€‚ä½†æ˜¯NCBIç½‘ç«™çš„BLASTåœ¨çº¿å·¥å…·æœ‰ä¸ªè®©äººç‰¹åˆ«æ— è¯­çš„ç¼ºç‚¹ï¼šå›½å†…è®¿é—®é€Ÿåº¦å·¨æ…¢ï¼ä¸ä»…ä»…æ˜¯æ¯”å¯¹è¿‡ç¨‹æ…¢ï¼Œä¸€æ¡åºåˆ—è¿˜å¥½ï¼Œå¤§æ‰¹é‡æ•°æ®æ¯”å¯¹å°±ä¸è¦æƒ³äº†ï¼Œæœ‰çš„æ—¶å€™ç½‘é¡µéƒ½æ‰“ä¸å¼€ä¸€ç›´è½¬åœˆåœˆã€‚å› æ­¤æœ¬åœ°åŒ–blastå·¥å…·è¿˜æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚ å¥½åœ¨NCBIå¾ˆè´´å¿ƒåœ°æä¾›äº†blast+å·¥å…·ï¼Œæˆ‘ä»¬å®‰è£…å¥½blast+å·¥å…·å’Œä¸‹è½½å¥½æ•°æ®åº“ä»¥åï¼Œå°±å¯ä»¥ä¸ä¾èµ–ç½‘é¡µå’ŒNCBIåœ°æœåŠ¡å™¨ï¼Œåœ¨æœ¬åœ°æœåŠ¡å™¨ä¸Šè¿è¡Œäº†ã€‚ 1 å®‰è£…blast+æœ€æ–°ç‰ˆblast+å·¥å…·å¯ä»¥é€šè¿‡ftpæ–¹å¼è·å¾—ï¼Œç‚¹å‡»è¿™é‡Œ æˆ‘æ˜¯åœ¨é›†ç¾¤è´¦æˆ·ä¸‹å®‰è£…ï¼Œé›†ç¾¤æœºå™¨éƒ½æ˜¯linuxæ“ä½œç³»ç»Ÿçš„ï¼Œå› æ­¤æˆ‘é€‰æ‹©çš„æœ€æ–°linuxç‰ˆæœ¬ åˆ«å¿˜äº†è¦è¿md5æ ¡éªŒæ–‡ä»¶ä¸€èµ·ä¸‹è½½ï¼Œè°éƒ½ä¸çŸ¥é“ä¸‹è½½è¿‡ç¨‹ä¸­æ˜¯å¦ä¼šå‡ºé”™ï¼Œå› æ­¤å¤§çš„æ–‡ä»¶ä¸‹è½½å®Œä»¥åéƒ½æ˜¯éœ€è¦éªŒè¯æ–‡ä»¶å®Œæ•´æ€§çš„ï¼ å°†ä¸Šé¢çš„ftpåœ°å€æ‹¼å‡‘ä¸€ä¸‹ï¼Œç½‘é€Ÿå¥½çš„è¯å¯ä»¥ç›´æ¥ç”¨wgetä¸‹è½½ï¼Œä½†æ˜¯æˆ‘è¿™è¾¹æœåŠ¡å™¨è¿NCBIç½‘é€Ÿå®åœ¨å¤ªæ…¢äº†ï¼Œwgetåªæœ‰10Kb&#x2F;sçš„é€Ÿåº¦ï¼Œç”šè‡³è¿˜ä¼šæ–­å¼€é‡è¿ã€‚çœ‹çš„æˆ‘é«˜è¡€å‹éƒ½è¦çŠ¯äº†ï¼Œæ— å¥ˆä¹‹ä¸‹æŒ‚äº†ä¸ªæ¢¯å­ï¼Œåœ¨è‡ªå·±ç”µè„‘ä¸Šä¸‹è½½å¥½è¿™ä¸¤ä»½æ–‡ä»¶ï¼Œé€šè¿‡xftpä¼ åˆ°äº†æœåŠ¡å™¨ä¸Šã€‚ åœ¨æœåŠ¡å™¨ä¸Šé¦–å…ˆæ ¡éªŒæ–‡ä»¶å®Œæ•´æ€§: md5sum -c ncbi-blast-2.13.0+-x64-linux.tar.gz.md5 æ˜¾ç¤ºç»“æœOKåï¼Œè§£å‹ï¼š tar -zxvf ncbi-blast-2.13.0+-x64-linux.tar.gz åå­—å¤ªé•¿äº†ï¼Œä¸æ–¹ä¾¿ä»¥åæ‰¾ï¼Œé¡ºä¾¿æ”¹ä¸ªåå°±å«blastï¼š mv ncbi-blast-2.13.0+-x64-linux.tar.gz blast ç„¶åæ˜¯é…ç½®ç¯å¢ƒå˜é‡ï¼š 123vim ~/.bashrc # ç¼–è¾‘ç¯å¢ƒå˜é‡æ–‡ä»¶# åœ¨.bashrcæ–‡ä»¶æœ€åä¸€è¡ŒåŠ å…¥å¦‚ä¸‹å†…å®¹ï¼ˆæ ¹æ®è‡ªå·±è·¯å¾„ä¿®æ”¹ï¼‰export PATH=&quot;/public/home/wlxie/blast/bin:$PATH&quot; ä¿å­˜é€€å‡ºåé‡æ–°sourceä¸€ä¸‹.bashrcæ–‡ä»¶ï¼Œblast+å·¥å…·å°±å®‰è£…å¥½äº†ã€‚ 2 ä¸‹è½½nr&#x2F;ntæ•°æ®åº“æˆ‘ä»¬æ¯”å¯¹ä¸€èˆ¬ç”¨çš„æ˜¯NCBIçš„éå†—ä½™è›‹ç™½&#x2F;æ ¸é…¸æ•°æ®åº“ï¼Œæœ‰ä¸¤ç§æ–¹æ³•ä¸‹è½½nr&#x2F;ntæ•°æ®åº“ï¼š 1.é€šè¿‡blast+å·¥å…·è‡ªå¸¦çš„æ›´æ–°ç¨‹åºä¸‹è½½ 2.é€šè¿‡asperaå·¥å…·ä¸‹è½½ åŒæ ·æ˜¯ç½‘é€Ÿçš„é—®é¢˜ï¼Œå¦‚æœç”¨ç¬¬ä¸€ç§æ–¹æ³•ä¸‹è½½ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨~&#x2F;blast&#x2F;binç›®å½•ä¸‹æ‰¾åˆ°å¦‚ä¸‹çš„perlç¨‹åº ç›´æ¥è¿è¡Œå‘½ä»¤ perl update_blastdb.pl nt ä½†æ˜¯10å‡ kb&#x2F;sçš„é€Ÿåº¦çœŸçš„è®©äººæŠ“ç‹‚ï¼Œæ‰€ä»¥æˆ‘æ¨èç¬¬äºŒç§æ–¹æ³•ï¼šç”¨IBMå…¬å¸å¼€å‘çš„å¿«é€Ÿä¸‹è½½ç¥å™¨â€”â€”aspera å®‰è£…asperaåœ¨æˆ‘ä¹‹å‰å†™çš„ä¸€ç¯‡åšå®¢é‡Œæ¨èè¿‡sra-toolså·¥å…·ä¸­çš„prefetchï¼Œç”¨æ¥ä¸‹è½½SRAæ•°æ®ä¸­å­˜æ”¾çš„é«˜é€šé‡æµ‹åºåŸå§‹æ•°æ®ã€‚prefetchè½¯ä»¶å°±æ˜¯é»˜è®¤é€šè¿‡asperaå·¥å…·è¿›è¡Œä¸‹è½½çš„ã€‚ å¦‚æœä¹‹å‰æ²¡æœ‰å®‰è£…è¿‡asperaï¼Œå¯ä»¥ç”¨condaç›´æ¥å®‰è£…ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š conda install -c hcc aspera-cli è¿™é‡Œæ³¨æ„ä¸‹aspera-cliæ˜¯asperaçš„å‘½ä»¤è¡Œç‰ˆæœ¬ï¼Œå„ç§ä¸åŒç‰ˆæœ¬çš„æœ¬è´¨ä¸Šä¸‹è½½éƒ½æ˜¯è°ƒç”¨ascpç¨‹åºï¼Œå¹¶ä¸”éœ€è¦opensshå…¬é’¥è®¤è¯ï¼Œä¸åŒç‰ˆæœ¬çš„asperaå…¬é’¥æ–‡ä»¶å­˜æ”¾çš„ä½ç½®ä¸åŒã€‚å› ä¸ºæˆ‘ä»¬æ˜¯é€šè¿‡condaå®‰è£…çš„asperaï¼Œaspera-cliå…¬é’¥æ–‡ä»¶çš„ä½ç½®åœ¨ä½ çš„condaç¯å¢ƒç›®å½•ä¸‹çš„etcæ–‡ä»¶å¤¹ä¸­ï¼Œæ¯”å¦‚æˆ‘çš„aspera-cliå…¬é’¥æ–‡ä»¶åœ¨&#x2F;public&#x2F;home&#x2F;wlxie&#x2F;miniconda3&#x2F;envs&#x2F;biosoft&#x2F;etc è€Œä¸”å› ä¸ºæ˜¯condaå®‰è£…çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦ä¿®æ”¹ä»€ä¹ˆé…ç½®æ–‡ä»¶å’Œä¾èµ–å…³ç³»ï¼Œè¿˜æ˜¯æŒºçœäº‹çš„ã€‚ ç”¨asperaä¸‹è½½æ•°æ®åº“nr&#x2F;ntnr&#x2F;ntæ•°æ®åº“ä¹Ÿå¯ä»¥é€šè¿‡ftpæ–¹å¼è·å¾—ï¼Œç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ftpç½‘å€ ä¸ºäº†æ–¹ä¾¿æ‰¾åˆ°ä¸‹è½½åˆ°æœ¬åœ°çš„æ•°æ®åº“ï¼Œå…ˆåœ¨å®¶ç›®å½•æ–°å»ºdb&#x2F;blastæ–‡ä»¶å¤¹ï¼Œè¿›å…¥è¿™ä¸ªæ–‡ä»¶å¤¹åï¼Œåœ¨å½“å‰ç›®å½•ä¸‹è¿è¡Œå¦‚ä¸‹å‘½ä»¤ï¼š ascp -QT -i /public/home/wlxie/miniconda3/envs/biosoft/etc/asperaweb_id_dsa.openssh -k1 -l 500m anonftp@ftp.ncbi.nlm.nih.gov:/blast/db/FASTA/nt.gz ./ è¿™é‡Œæ˜¯å…¶ä¸­ä¸€ä¸ªntæ•°æ®åº“ï¼Œnræ•°æ®åº“åªè¦æ”¹ä¸€ä¸ªå­—æ¯å°±è¡Œäº†ï¼Œä¸¤ä¸ªæ•°æ®åº“éƒ½è¦ä¸‹è½½ã€‚ ç¨å¾®è§£é‡Šä¸‹å„å‚æ•°çš„å«ä¹‰ï¼š -Q ç”¨äºè‡ªé€‚åº”æµé‡æ§åˆ¶ï¼Œç£ç›˜é™åˆ¶æ‰€éœ€ï¼›-T æ˜¯å–æ¶ˆåŠ å¯†ï¼Œå¦åˆ™æœ‰æ—¶å€™æ•°æ®ä¸‹è½½ä¸äº†ã€‚ä¸¤ä¸ªå‚æ•°æ˜¯æ­é…ä¸€èµ·ä½¿ç”¨çš„ -i è¾“å…¥ç§é’¥æ–‡ä»¶ï¼Œæ³¨æ„ä¸‹è½½çš„ascpç‰ˆæœ¬ä¸ä¸€æ ·æ–‡ä»¶ä½ç½®ä¹Ÿä¸ä¸€æ · -k1 è¿™é‡Œæ˜¯åŠ ä¸Šäº†æ–­ç‚¹ä¼ ç»­åŠŸèƒ½ -l é™åˆ¶æœ€å¤§ä¸‹è½½é€Ÿåº¦ åé¢ä¸€ä¸²æ˜¯è´¦æˆ·@ftpåœ°å€:è·¯å¾„ã€‚æ³¨æ„@å’Œå†’å·ã€‚NCBIå…¬å…±è´¦å·æ˜¯anonftpï¼Œä¹Ÿå°±æ˜¯ä½ ä¸‹è½½SRAæ•°æ®åº“æ•°æ®ä¹Ÿå¯ä»¥ç”¨è¿™ä¸ªè´¦å·ï¼›EBIå…¬å…±è´¦å·æ˜¯era-fasp æœ€åæŒ‡å®šä¸‹è½½æ–‡ä»¶çš„è·¯å¾„ï¼Œæˆ‘ç”¨äº†å½“å‰è·¯å¾„ å¯ä»¥çœ‹åˆ°ä¸‹è½½é€Ÿåº¦æ æ çš„ï¼Œæå‡äº†ä¸çŸ¥é“å¤šå°‘å€â€¦ä¸‹è½½å¤§æ•°æ®éƒ½å¯ä»¥ç”¨ascpå‘½ä»¤ã€‚ ä¸‹è½½å¥½ä¹‹ååŒæ ·åˆ«å¿˜äº†æ ¡éªŒmd5æ–‡ä»¶ï¼Œæ ¡éªŒågunzipç›´æ¥è§£å‹åˆ°å½“å‰æ–‡ä»¶å¤¹ã€‚ 3 æœ¬åœ°å»ºåº“è§£å‹å®Œæˆä»¥åæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸¤ä¸ªæ•°æ®åº“æ€»å¤§å°åœ¨980G ç°åœ¨è¿˜ä¸èƒ½ç”¨è¿™ä¸¤ä¸ªæ•°æ®åº“ï¼Œéœ€è¦å¯¹è¿™ä¸¤ä¸ªè¶…å¤§çš„æ•°æ®æ–‡ä»¶å»ºç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯æœ¬åœ°å»ºåº“ã€‚ ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š makeblastdb -in nt -dbtype nucl -input_type fasta -out nt makeblastdb -in nr -dbtype prot -input_type fasta -out nr -in: å¾…æ ¼å¼åŒ–çš„åºåˆ—æ–‡ä»¶ -dbtype: æ•°æ®ç±»å‹ï¼Œprotä¸ºè›‹ç™½åºåˆ—ï¼Œnuclä¸ºæ ¸é…¸åºåˆ— -input_type: è¾“å…¥æ•°æ®çš„ç±»å‹ï¼Œé»˜è®¤ä¸ºfastaæ ¼å¼ -out: è‡ªå®šä¹‰çš„æ•°æ®åº“åç§° è¿™ä¸€æ­¥éœ€è¦éå¸¸é•¿æ—¶é—´ï¼Œåœ¨ç›®å½•ä¸‹èƒ½çœ‹åˆ°æœ‰æ–‡ä»¶ç”Ÿæˆå¹¶ä¸”æ²¡æœ‰æŠ¥é”™å°±è¡Œäº†ï¼ŒåŒæ ·çš„æ“ä½œæ–¹æ³•å¯ä»¥ç”¨è‡ªå·±çš„åŸºå› ç»„æ•°æ®å»ºåº“ã€‚ è¿™é‡Œæœ‰ä¸¤æ¡æ ¸è‹·é…¸åºåˆ—å¯èƒ½æœ‰é—®é¢˜ï¼Œåºåˆ—å½•åˆ°äº†å¼€å¤´ç¬¬ä¸€è¡Œï¼Œä¸è¿‡å°±åªæœ‰ä¸¤æ¡åºåˆ—åº”è¯¥ä¸å½±å“ã€‚ntåº“å½•å…¥äº†0.8äº¿æ¡åºåˆ—ï¼Œnråº“å½•å…¥äº†4.8äº¿æ¡åºåˆ—ã€‚ 4 åˆ›å»ºblastå…¨å±€é…ç½®æ–‡ä»¶åœ¨å®¶ç›®å½•ä¸‹åˆ›å»ºblastå…¨å±€é…ç½®æ–‡ä»¶ï¼š 123456789101112131415161718192021222324252627282930313233$vim .ncbirc # å®¶ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶.ncbircï¼Œè¾“å…¥å¦‚ä¸‹å†…å®¹; Start the section for BLAST configuration[BLAST]; Specifies the path where BLAST databases are installedBLASTDB=/public/home/wlxie/db/blast; Specifies the data sources to use for automatic resolution; for sequence identifiersDATA_LOADERS=blastdb; Specifies the BLAST database to use resolve protein sequencesBLASTDB_PROT_DATA_LOADER=/public/home/wlxie/db/blast/nr; Specifies the BLAST database to use resolve protein sequencesBLASTDB_NUCL_DATA_LOADER=/public/home/wlxie/db/blast/ntBATCH_SIZE=10G; Windowmasker settings[WINDOW_MASKER]WINDOW_MASKER_PATH=/public/home/wlxie/db/blast/windowmasker; end of file ä»¥ä¸Šè®¾ç½®ä¸­å®šä¹‰äº†blastnå’Œblastpé»˜è®¤çš„åœ°å€ï¼Œè¿™æ ·æˆ‘ä»¬åœ¨æ¯”å¯¹æ•°æ®åº“çš„æ—¶å€™å¯ä»¥ç›´æ¥è¾“å…¥æ•°æ®åº“çš„åç§°è€Œä¸ç”¨ç»™å‡ºç»å¯¹è·¯å¾„ï¼Œæ–¹ä¾¿ä¸€ç‚¹ï¼ˆè¿™æ­¥ä¸æ˜¯å¿…é¡»çš„ï¼Œå¯é€‰ï¼‰ã€‚ 5 è¿è¡Œblastç¨‹åºä»¥ä¸Šå‡†å¤‡å·¥ä½œå®Œæˆåï¼Œå‡†å¤‡ä¸€æ®µqueryåºåˆ—è¯•ä¸€ä¸‹ï¼Œæˆ‘çš„queryåºåˆ—åç§°æ˜¯gene.fna è¿è¡Œblastnç¨‹åºï¼š blastn -query gene.fna -out gene_blastn_nr.out -db nt -outfmt 6 -evalue 1e-5 -num_threads 10 -query: ç”¨æ¥æŸ¥è¯¢çš„è¾“å…¥åºåˆ— -db: æŒ‡å®šçš„æ•°æ®åº“åç§° -out: è‡ªå®šä¹‰è¾“å‡ºçš„ç»“æœæ–‡ä»¶ï¼Œæœ€å¥½ç»Ÿä¸€æ ¼å¼ã€‚æˆ‘æ˜¯åŸºå› å_æ¯”å¯¹æ–¹æ³•_æ•°æ®åº“.outï¼Œè¿™æ ·æ¯”è¾ƒç›´è§‚çŸ¥é“æ¯”å¯¹äº†ä»€ä¹ˆï¼Œæ€ä¹ˆæ¯”å¯¹çš„ -outfmt: blastç»“æœçš„å‘ˆç°å½¢å¼ï¼Œä¸€èˆ¬ç”¨6æ¯”è¾ƒå¤šï¼Œä¹Ÿå°±æ˜¯m8æ ¼å¼ï¼Œä»¥åˆ¶è¡¨ç¬¦ä¸ºåˆ†éš”ç¬¦ï¼Œæœ‰éƒ¨åˆ†ä¿¡æ¯ä¼šç¼ºå¤±ã€‚5æ˜¯XMLæ ¼å¼æ¯”è¾ƒé€‚åˆè§£æï¼Œ7åœ¨6åŸºç¡€ä¸ŠåŠ äº†è¡¨å¤´ã€‚ -evalue: é™å®šEå€¼ -num_threads: æŒ‡å®šå¤šå°‘ä¸ªæ ¸è¿è¡Œblastç¨‹åº è¿˜æœ‰å…¶ä»–å‚æ•°æ¯”å¦‚å°±ä¸ä¸€ä¸€ä»‹ç»äº†ï¼Œè¯´æ˜ä¸€ä¸‹ï¼Œä¸€ä¸ªåºåˆ—çš„blastå¯ä»¥ç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œå¤šä¸ªåºåˆ—çš„blaståŒæ ·é€‚ç”¨ï¼ŒæŠŠå¤šä¸ªfastaæ ¼å¼çš„åºåˆ—æ”¾è¿›å»å³å¯ã€‚ å½“ç„¶ï¼Œæ‰¹é‡blastçš„ç»“æœéœ€è¦é™å®šåŒ¹é…çš„ç»“æœæ•°é‡ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¸å¯èƒ½å‡ ç™¾ä¸Šåƒä¸ªåºåˆ—ä¸€ä¸€æŸ¥çœ‹ï¼Œå¯ä»¥æŒ‡å®šå‚æ•°-max_target_seqs 5é™åˆ¶æ¯ä¸ªåºåˆ—çš„æœ€å¤§åŒ¹é…æ•°é‡ï¼Œè¿™ä¸ªæ•°å€¼æ¨èæ˜¯åœ¨5ä»¥ä¸Šï¼Œ5ä»¥ä¸‹ä¼šæœ‰è­¦å‘Šä¿¡æ¯ã€‚ blastç»“æœm8æ ¼å¼å¦‚ä¸‹ï¼š ä¸€å…±12åˆ—ï¼Œåˆ†åˆ«èƒ½è·å¾—å¦‚ä¸‹ä¿¡æ¯ï¼š 1ã€Query idï¼šæŸ¥è¯¢åºåˆ—IDæ ‡è¯† 2ã€Subject idï¼šæ¯”å¯¹ä¸Šçš„ç›®æ ‡åºåˆ—IDæ ‡è¯† 3ã€% identityï¼šåºåˆ—æ¯”å¯¹çš„ä¸€è‡´æ€§ç™¾åˆ†æ¯” 4ã€alignment lengthï¼šç¬¦åˆæ¯”å¯¹çš„æ¯”å¯¹åŒºåŸŸçš„é•¿åº¦ 5ã€mismatchesï¼šæ¯”å¯¹åŒºåŸŸçš„é”™é…æ•° 6ã€gap openingsï¼šæ¯”å¯¹åŒºåŸŸçš„gapæ•°ç›® 7ã€q. startï¼šæ¯”å¯¹åŒºåŸŸåœ¨æŸ¥è¯¢åºåˆ—(Query id)ä¸Šçš„èµ·å§‹ä½ç‚¹ 8ã€q. endï¼šæ¯”å¯¹åŒºåŸŸåœ¨æŸ¥è¯¢åºåˆ—(Query id)ä¸Šçš„ç»ˆæ­¢ä½ç‚¹ 9ã€s. startï¼šæ¯”å¯¹åŒºåŸŸåœ¨ç›®æ ‡åºåˆ—(Subject id)ä¸Šçš„èµ·å§‹ä½ç‚¹ 10ã€s. endï¼šæ¯”å¯¹åŒºåŸŸåœ¨ç›®æ ‡åºåˆ—(Subject id)ä¸Šçš„ç»ˆæ­¢ä½ç‚¹ 11ã€e-valueï¼šæ¯”å¯¹ç»“æœçš„æœŸæœ›å€¼ï¼Œè§£é‡Šæ˜¯å¤§æ¦‚å¤šå°‘æ¬¡éšå³æ¯”å¯¹æ‰èƒ½å‡ºç°ä¸€æ¬¡è¿™ä¸ªscoreï¼ŒEvalueè¶Šå°ï¼Œè¡¨æ˜è¿™ç§æƒ…å†µä»æ¦‚ç‡ä¸Šè¶Šä¸å¯èƒ½å‘ç”Ÿï¼Œé‚£ä¹ˆå‘ç”Ÿäº†å³è¯´æ˜è¿™æ›´æœ‰å¯èƒ½æ˜¯çœŸå®çš„ç›¸ä¼¼åºåˆ— 12ã€bit scoreï¼šæ¯”å¯¹ç»“æœçš„bit scoreå€¼ï¼Œè¶Šé«˜è¶Šå¥½","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"}],"tags":[{"name":"BLAST+","slug":"BLAST","permalink":"http://www.shelven.com/tags/BLAST/"},{"name":"aspera","slug":"aspera","permalink":"http://www.shelven.com/tags/aspera/"}]},{"title":"perlè¯­è¨€å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰","slug":"perlè¯­è¨€å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰","date":"2022-06-15T16:07:31.000Z","updated":"2022-12-03T16:06:51.000Z","comments":true,"path":"2022/06/16/a.html","link":"","permalink":"http://www.shelven.com/2022/06/16/a.html","excerpt":"æœ€è¿‘åœ¨å¤„ç†ä¸‰ä»£æµ‹åºçš„ä¸‹æœºæ•°æ®ï¼Œç”¨åˆ°äº†ä¸€äº›æŒºå¥½ç”¨çš„perlè„šæœ¬ï¼Œä½†æ˜¯è‹¦äºæ²¡æ¥è§¦è¿™ç§ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œæƒ³æ ¹æ®æƒ…å†µæ”¹ä¸€äº›ä»£ç å´çœ‹ä¸æ‡‚å®ç°æ–¹å¼&#x3D; &#x3D;","text":"æœ€è¿‘åœ¨å¤„ç†ä¸‰ä»£æµ‹åºçš„ä¸‹æœºæ•°æ®ï¼Œç”¨åˆ°äº†ä¸€äº›æŒºå¥½ç”¨çš„perlè„šæœ¬ï¼Œä½†æ˜¯è‹¦äºæ²¡æ¥è§¦è¿™ç§ç±»å‹çš„ç¼–ç¨‹è¯­è¨€ï¼Œæƒ³æ ¹æ®æƒ…å†µæ”¹ä¸€äº›ä»£ç å´çœ‹ä¸æ‡‚å®ç°æ–¹å¼&#x3D; &#x3D; å‰é¢è¯´å­¦ä¹ perlå¯ä»¥åªå­¦æ€ä¹ˆè°ƒç”¨æ¨¡å—ï¼Œé©¬ä¸Šå•ªå•ªæ‰“è„¸äº†ï¼Œè¿™è´§å’Œpythonè¿˜æ˜¯æœ‰ç‚¹ä¸ä¸€æ ·çš„ï¼Œè¿˜æ˜¯æŠ½ç©ºè¡¥è¡¥åŸºç¡€å§~ç°åœ¨åšç”Ÿä¿¡ç”¨çš„æœ€å¤šçš„å°±æ˜¯Rã€pythonå’Œperlï¼Œå¤šæŒæ¡ä¸€é—¨ç¼–ç¨‹è¯­è¨€è¿˜æ˜¯æŒºæœ‰å¿…è¦çš„ã€‚è®°å½•ä¸€ä¸‹è‡ªå­¦çš„è¿‡ç¨‹å’Œç¬”è®°ï¼Œè‡ªå­¦è§†é¢‘æ¥æºæ˜¯bç«™upä¸»ç”Ÿä¿¡æŠ€èƒ½æ ‘-jimmy ç¤ºä¾‹é¦–å…ˆäº†è§£ä¸€ä¸‹perlè„šæœ¬çš„ç»“æ„ï¼Œä»¥blastç»“æœè¿‡æ»¤çš„perlè„šæœ¬ä¸ºä¾‹ï¼Œè¾“å…¥æ–‡ä»¶blast_m8.outæ˜¯ä¸€ä¸ª12åˆ—ï¼Œåˆ†éš”ç¬¦ä¸ºç©ºæ ¼çš„æ–‡ä»¶ï¼š 123456789101112131415#!/bin/perl -w # é€‰æ‹©è§£é‡Šå™¨ç±»å‹ä¸ºperlï¼Œ-wæ˜¯è¿è¡Œé”™è¯¯æ—¶æä¾›è­¦å‘Šä¿¡æ¯open IN,&quot;blast_m8.out&quot;; # æ‰“å¼€æ–‡ä»¶ï¼Œm8æ ¼å¼è¾“å‡ºçš„blastoutæ–‡ä»¶ã€‚æ¯æ¬¡åªè¯»ä¸€è¡Œwhile (&lt;IN&gt;) &#123; # å¤§æ‹¬å·ä¸ºç¨‹åºå—ï¼Œæ¯ä¸ªç¨‹åºå—æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„éƒ¨åˆ†ï¼Œæ‰§è¡Œç›¸å¯¹ç‹¬ç«‹çš„åŠŸèƒ½ chomp; # å»æ‰è¯»è¿›æ¥æ•°æ®ç»“å°¾çš„æ¢è¡Œç¬¦\\nï¼ˆæ²¡æœ‰æ¢è¡Œç¬¦åˆ™ä¸èµ·ä½œç”¨ï¼‰ my @line=split /\\s+/,$_; # ä»¥ç©ºç™½åˆ†å‰²(\\sæ˜¯åŒ¹é…ä»»ä½•ç©ºç™½ç¬¦ï¼Œ+è¡¨ç¤ºåŒ¹é…ä»»æ„å¤šä¸ª),å­˜å…¥æ•°ç»„ä¸­ if ($line[2] &gt;=50 &amp;&amp; $line[3] &gt;=100) &#123; print &quot;$_\\n&quot;; # å°†ç¬¬ä¸‰åˆ—identityå€¼å¤§äº50ï¼Œç¬¬å››åˆ—åºåˆ—é•¿åº¦å¤§äº100çš„blastç»“æœè¾“å‡º &#125; else &#123; next; # å¦åˆ™è¿›å…¥ä¸‹ä¸€ä¸ªå¾ªç¯ &#125;&#125;close IN;# è¿™ä¸ªè„šæœ¬ç¬¬å››è¡Œçš„myä¹Ÿè¦æ³¨æ„ä¸‹ï¼Œä¸€èˆ¬æ˜¯éœ€è¦ç”³æ˜use strict;ä¹Ÿå°±æ˜¯ä½¿ç”¨ä¸¥è°¨çš„æ–¹å¼ï¼Œåœ¨è¿™ç§æ–¹å¼ä¸‹ï¼Œä»»ä½•å˜é‡éƒ½å¿…é¡»å…ˆå®šä¹‰ï¼Œä¸ä½¿ç”¨myçš„è¯å®šä¹‰ç¬¬ä¸€æ¬¡å‡ºç°çš„$å’Œ@è¿è¡Œä¼šæŠ¥é”™ã€‚åˆå­¦å¯ä»¥ä¸ä½¿ç”¨use strictã€‚# $_è¿™ä¸ªå˜é‡æ˜¯ä½¿ç”¨éå¸¸å¤šçš„ï¼Œå¦‚æœæ²¡æœ‰å®šä¹‰å˜é‡åç§°ï¼Œåˆ™é»˜è®¤ä½¿ç”¨$_ OKï¼Œæ ¼å¼ä¸pythonä¸ä¸€æ ·ï¼Œä»¥åˆ†å·ä½œä¸ºæ¯ä¸€è¡Œç»“å°¾ï¼ŒåŸºç¡€è¯­æ³•ç±»ä¼¼ä½†ä¸å®Œå…¨ä¸€æ ·ï¼Œå…ˆä»åŸºç¡€å­¦èµ·ã€‚ 1 æ ‡é‡æ•°æ®æ ‡é‡æ•°æ®ç‰¹ç‚¹ perlä¸­æœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ å¯ä»¥æ˜¯æ•°å­—ã€å­—æ¯ æ— éœ€å®šä¹‰ç±»å‹ï¼ˆæ‰€æœ‰perlè¯­è¨€çš„æ•°æ®éƒ½æ˜¯åŒç²¾åº¦æµ®ç‚¹å‹ï¼Œä¸éœ€è¦å¯¹æ•°æ®ç±»å‹è¿›è¡Œå®šä¹‰ï¼Œä»£ä»·æ˜¯æ¶ˆè€—å†…å­˜ï¼‰ â€œå•æ•°ä¸ºæ ‡é‡â€ å­—ç¬¦ä¸²è¿ç®— å­—ç¬¦ä¸²å°±æ˜¯ä¸€è¿ä¸²å­—ç¬¦ç»„åˆï¼Œå¯ä»¥æ˜¯å­—æ¯æ•°å­—æ ‡ç‚¹ç­‰ å¯¹DNAåºåˆ—å¤„ç†æœ¬è´¨ä¸Šå°±æ˜¯å¤„ç†å­—ç¬¦ä¸² å­—ç¬¦ä¸²å¯ä»¥ä¸ºç©º éœ€è¦â€œå¼•å·â€ï¼Œå°½é‡ä½¿ç”¨åŒå¼•å· å­—ç¬¦ä¸²è¿æ¥â€œ.â€æˆ–è€…â€œxâ€ å¦‚ â€œhelloâ€ . â€œworldâ€ æ ‡é‡å˜é‡æ ‡é‡å˜é‡ç”¨æ¥åŠ¨æ€å­˜å‚¨æ ‡é‡å€¼ï¼Œä»¥ç¾å…ƒç¬¦å·$è¡¨ç¤ºï¼ˆå®šä¹‰æ•°ç»„ç”¨@ç¬¦å·ï¼‰ï¼Œå’Œlinuxä¸€æ ·ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ 123456# ä¸€ä¸ª=è¡¨ç¤ºèµ‹å€¼ï¼Œä¸¤ä¸ª==è¡¨ç¤ºåˆ¤æ–­ï¼Œè¿™é‡Œå’Œpythonæ˜¯ä¸€æ ·çš„$gene_num=3$gene_num=$gene_num+4$gene_num+=4 # åŒç›®è¿ç®—ç¬¦ï¼Œè¿ç®—æ‰€éœ€å˜é‡ä¸ºä¸¤ä¸ªè¿ç®—ç¬¦ï¼Œè¿™ä¸ªç®€å†™æ˜¯éå¸¸å¸¸ç”¨çš„$dna=&quot;ATCGGGTATCG&quot;$dna.=&quot;ATCGGGTCG&quot; # åŒç›®è¿ç®—ç¬¦åŒæ ·å¯ä»¥ç”¨äºå­—ç¬¦ä¸²æ“ä½œï¼Œå¾—åˆ°æ ‡é‡å˜é‡ä¸ºè¿æ¥çš„å­—ç¬¦ä¸² 2 æ•°ç»„å’Œåˆ—è¡¨æ•°ç»„æ„å»ºåˆ—è¡¨ï¼ˆlistï¼‰æŒ‡æ ‡é‡çš„æœ‰åºé›†åˆï¼Œæ•°ç»„ï¼ˆarrayï¼‰åˆ™æ˜¯å­˜å‚¨åˆ—è¡¨çš„å˜é‡ 1234567@array=ï¼ˆ1,&quot;hello&quot;,undef,$dna,5ï¼‰; # å·¦è¾¹ä¸ºæ•°ç»„ï¼Œå³è¾¹ä¸ºåˆ—è¡¨ï¼Œæ„å»ºåˆ—è¡¨ä¸­é—´ç”¨é€—å·éš”å¼€$array[0]=1;$array[1]=&quot;hello&quot; # æ³¨æ„ä¸‹æ ‡æ•°å­—ä»0å¼€å§‹ï¼Œ0è¡¨ç¤ºç¬¬ä¸€ä¸ªå…ƒç´ æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ è§’æ ‡$#arrayï¼Œå› æ­¤æ•°ç»„å…ƒç´ ä¸ªæ•°=$#array+1@number=(1..100) # èŒƒå›´æ“ä½œç¬¦(..)æ¯æ¬¡åŠ ä¸€@string=qw (fred barney betty wilma dino) # qwæ“ä½œç¬¦å¯ä»¥çœç•¥é€—å· splitå’Œjoinå‡½æ•° splitå°†å­—ç¬¦ä¸²æ ¹æ®å›ºå®šçš„åˆ†éš”ç¬¦è¿›è¡Œåˆ‡å‰²ï¼Œåˆ‡å‰²åå¾—åˆ°ä¸€ä¸ªæ•°ç»„ joinä¸splitç›¸åï¼Œå°†æ•°ç»„è¿æ¥æˆä¸€ä¸ªæ ‡é‡ 12345678#!/bin/perl$scalar=&quot;a:bcd:123:de&quot;;@array=split /:/,$scalar; # ä»¥å†’å·ä½œä¸ºåˆ†éš”ç¬¦åˆ†å‰²print &quot;@array\\n&quot;$new_scalar=join &quot;\\t&quot;,@array; # ä»¥åˆ¶è¡¨ç¬¦ä½œä¸ºåˆ†å‰²ç¬¦ï¼Œå¥½å¤„æ˜¯excelé‡Œæ‰“å¼€æ¯ä¸ªå…ƒç´ åœ¨ä¸åŒå•å…ƒæ ¼print &quot;$new_scalar\\n&quot; popå’Œpushå‡½æ•°12345#!/bin/perl@number=(1,2,3,4,5);$value=pop @number; # popæå–æ•°ç»„çš„æœ€åä¸€ä¸ªå…ƒç´ push @number,6; # pushæ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°æ•°ç»„çš„æœ«å°¾print &quot;$value\\n@number\\n&quot;; shiftå’Œunshiftå‡½æ•°12345#!/bin/perl@number=(1,2,3,4,5);$value=shift @number; # shiftæå–æ•°ç»„ç¬¬ä¸€ä¸ªå…ƒç´ unshift @number,10; # unshiftæ·»åŠ ä¸€ä¸ªå…ƒç´ åˆ°æ•°ç»„çš„å¼€å¤´print &quot;$value\\n@number\\n&quot;; ä¸€èˆ¬æ¥è¯´popå’Œshiftç”¨çš„æ¯”è¾ƒå¤šï¼Œä¸€ä¸ªæå–æ•°ç»„æœ«å°¾å…ƒç´ ï¼Œä¸€ä¸ªæå–æ•°ç»„å¼€å¤´å…ƒç´ ã€‚ å› ä¸ºæˆ‘ä»¬ç”¨perlå¤„ç†çš„å¾€å¾€æ˜¯çŸ©é˜µæ–‡ä»¶ï¼Œç¬¬ä¸€è¡Œæ˜¯IDä¿¡æ¯ï¼Œæˆ‘ä»¬å¾€å¾€æ˜¯è¯»å…¥ä¸€è¡Œæ•°æ®ï¼Œå»æ‰æ¢è¡Œç¬¦ï¼Œå­˜å‚¨ä¸ºæ ‡é‡ï¼Œåˆ†å‰²æ•°ç»„ã€‚è¿™ä¸ªæ—¶å€™å°±è¦ç”¨shiftå‡½æ•°ï¼Œå°†IDæå–å‡ºæ¥ï¼Œè¿™æ ·å‘¢åé¢éƒ½æ˜¯åŒä¸€ç§ç±»å‹çš„æ•°æ®ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ“ä½œï¼Œä¹Ÿå°±æ˜¯åº•ä¸‹è¿™ä¸ªæ¡†æ¶ï¼š 1234567#!/bin/perlwhile (&lt;IN&gt;) &#123; chomp; my @line=split /\\s+/,$_; my @id=shift @lineï¼› print &quot;$id\\n&quot;&#125; sortå’Œreverseå‡½æ•°1234#!/bin/perl@number=(1..10);@number_sort=sort @number; # sortå‡½æ•°ä½¿æ•°ç»„æŒ‰ç…§ASCIIç å¤§å°æ’åºprint &quot;@number_sort\\n&quot;; å¯ä»¥çœ‹åˆ°10åœ¨1çš„åé¢ï¼Œå› ä¸ºsortå‡½æ•°æ˜¯ä»¥ASCIIç å¤§å°è¿›è¡Œæ’åºçš„ã€‚ 1234#!/bin/perl$dna=&quot;ATCGCGTAGCATCGATGCTGATCATGC&quot;;$dna_reverse=reverse $dna; # reverseå‡½æ•°å¯ä»¥ä½¿æ•°ç»„æˆ–è€…å­—ç¬¦ä¸²åè½¬print &quot;$dna_reverse\\n&quot;; reverseå‡½æ•°åœ¨åšDNAåå‘äº’è¡¥é…å¯¹çš„æ—¶å€™èƒ½ç”¨åˆ°ã€‚ foreachéå†æ•°ç»„123456789101112#!/bin/perl@number=(1..10);foreach $num (@number) &#123; # éå†æ•°ç»„ä¸­çš„å€¼ä¾è¿­ä»£ print &quot;$num\\n&quot;;&#125;# ä¹Ÿå¯ä»¥çœç•¥ä¸€éƒ¨åˆ†å†…å®¹#!/bin/perl@number=(1..10);foreach (@number) &#123; # çœç•¥äº†$numï¼Œå­˜å‚¨åˆ°é»˜è®¤çš„$_ä¸­ print;&#125;","categories":[{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"perl","slug":"perl","permalink":"http://www.shelven.com/tags/perl/"}]},{"title":"åŸºå› ç»„æ³¨é‡Šæ–‡ä»¶gbffæ ¼å¼è½¬æ¢gff3æ ¼å¼","slug":"åŸºå› ç»„æ³¨é‡Šæ–‡ä»¶gbffæ ¼å¼è½¬æ¢gff3æ ¼å¼","date":"2022-06-13T17:09:45.000Z","updated":"2022-12-03T16:19:26.000Z","comments":true,"path":"2022/06/14/a.html","link":"","permalink":"http://www.shelven.com/2022/06/14/a.html","excerpt":"å‰å‡ å¤©è€å¸ˆå¸ƒç½®äº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¯»æ‰¾å¤¹ç«¹æ¡ƒç§‘Apocynaceaeåˆ†ç±»ä¸‹çš„ç‰©ç§å‚è€ƒåŸºå› ç»„ï¼Œæˆ‘åœ¨plaBiPDç½‘ç«™å’ŒNCBIçš„genomeæ•°æ®åº“ä¸­åªæ‰¾åˆ°åŒ…æ‹¬ç½—å¸ƒéº»åœ¨å†…çš„5ä¸ªå·²å‘è¡¨ç‰©ç§å‚è€ƒåŸºå› ç»„ï¼Œä¸”éƒ½æ˜¯gbffæ ¼å¼çš„ã€‚æäº¤ä¹‹åè¢«å‘ŠçŸ¥éœ€è¦gffæ ¼å¼çš„ï¼Œå› ä¸ºgbfæ ¼å¼ä¸­æ²¡æœ‰åŸºå› ç›¸å…³ç»“æ„çš„ä½ç½®ä¿¡æ¯ã€‚æ‰¾äº†ä¸€ä¸ªperlè„šæœ¬å®Œæˆäº†ä»»åŠ¡ã€‚","text":"å‰å‡ å¤©è€å¸ˆå¸ƒç½®äº†ä¸€ä¸ªä»»åŠ¡ï¼Œå¯»æ‰¾å¤¹ç«¹æ¡ƒç§‘Apocynaceaeåˆ†ç±»ä¸‹çš„ç‰©ç§å‚è€ƒåŸºå› ç»„ï¼Œæˆ‘åœ¨plaBiPDç½‘ç«™å’ŒNCBIçš„genomeæ•°æ®åº“ä¸­åªæ‰¾åˆ°åŒ…æ‹¬ç½—å¸ƒéº»åœ¨å†…çš„5ä¸ªå·²å‘è¡¨ç‰©ç§å‚è€ƒåŸºå› ç»„ï¼Œä¸”éƒ½æ˜¯gbffæ ¼å¼çš„ã€‚æäº¤ä¹‹åè¢«å‘ŠçŸ¥éœ€è¦gffæ ¼å¼çš„ï¼Œå› ä¸ºgbfæ ¼å¼ä¸­æ²¡æœ‰åŸºå› ç›¸å…³ç»“æ„çš„ä½ç½®ä¿¡æ¯ã€‚æ‰¾äº†ä¸€ä¸ªperlè„šæœ¬å®Œæˆäº†ä»»åŠ¡ã€‚ emmmmmâ€¦.å…¶å®ä¸æ˜¯å¾ˆç†è§£ï¼Œå› ä¸ºgbffæ ¼å¼å’Œgffæ ¼å¼æ˜¯å¯ä»¥ç›¸äº’è½¬æ¢çš„ï¼Œå¦‚æœgbffæ³¨é‡Šæ–‡ä»¶ä¸­æœ‰ä¿¡æ¯ç¼ºå¤±ï¼Œé‚£ä¹ˆgffæ ¼å¼ä¹ŸåŒæ ·æ²¡æœ‰ç›¸å…³ä¿¡æ¯â€¦.ä¸ç®¡æ€ä¹ˆæ ·å…ˆè½¬æ¢ä¸ªæ ¼å¼äº¤å·®ï¼Œç½‘ä¸Šæœäº†ä¸‹æœ‰å‰äººå†™çš„perlè„šæœ¬å¯ä»¥ç”¨ï¼Œä½†æ˜¯æˆ‘ä»¥å‰æ²¡æ¥è§¦è¿‡perlè¯­è¨€ï¼Œè¿™é‡Œåšä¸ªç¬”è®°å†™ä¸€ä¸‹è‡ªå·±çæ£é¼“çš„è¿‡ç¨‹ã€‚ 1. perlè¯­è¨€å’ŒCPANæ¨¡å—åº“ä»ç™¾åº¦ç™¾ç§‘ä¸­å¼•ç”¨å¯¹perlè¯­è¨€çš„ä¸€æ®µæè¿°ï¼š Perlæ˜¯ä¸€ç§åŠŸèƒ½ä¸°å¯Œçš„è®¡ç®—æœºç¨‹åºè¯­è¨€ï¼Œæ˜“äºä½¿ç”¨ã€é«˜æ•ˆã€å®Œæ•´ï¼Œè€Œä¸æ˜¯ç¾è§‚ï¼ˆå°å·§ï¼Œä¼˜é›…ï¼Œç®€çº¦ï¼‰ã€‚åŒæ—¶æ”¯æŒè¿‡ç¨‹å’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå¯¹æ–‡æœ¬å¤„ç†å…·æœ‰å¼ºå¤§çš„å†…ç½®æ”¯æŒï¼Œå¹¶ä¸”æ‹¥æœ‰ç¬¬ä¸‰æ–¹æ¨¡å—é›†åˆä¹‹ä¸€ã€‚ Perlå€Ÿå–äº†Cã€sedã€awkã€shellè„šæœ¬è¯­è¨€ä»¥åŠå¾ˆå¤šå…¶ä»–ç¨‹åºè¯­è¨€çš„ç‰¹æ€§ï¼Œå…¶ä¸­æœ€é‡è¦çš„ç‰¹æ€§æ˜¯å®ƒå†…éƒ¨é›†æˆäº†æ­£åˆ™è¡¨è¾¾å¼çš„åŠŸèƒ½ï¼Œä»¥åŠå·¨å¤§çš„ç¬¬ä¸‰æ–¹ä»£ç åº“CPANã€‚ çœ‹åˆ°è¿™ä¸ªç®€ä»‹ï¼Œä¸ªäººçš„ç†è§£å°±æ˜¯perlè¯­è¨€å°±åƒpythonä¸€æ ·ï¼Œè‡ªå·±æœ‰ä¸°å¯Œçš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥è°ƒç”¨ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…·ä½“äº†è§£æ¯ä¸ªæ¨¡å—çš„å®ç°æ–¹å¼å’Œåº•å±‚ä»£ç ï¼Œåªè¦çŸ¥é“ä¼šè°ƒç”¨ç›¸å…³çš„æ¨¡å—å®ç°è‡ªå·±çš„ç›®æ ‡å³å¯ã€‚ CPANæ˜¯perlçš„ä¸€ä¸ªç¬¬ä¸‰æ–¹æºç æ¨¡å—åº“ï¼Œé‡Œé¢æœ‰ä¸Šç™¾ä¸‡çš„perlæ¨¡å—ï¼Œç”¨äºæ”¯æ’‘perlçš„å„ç§åŠŸèƒ½ã€‚ä¸ºäº†æ–¹ä¾¿å®‰è£…perlçš„å„ç§æ¨¡å—ï¼Œå‰äººåšäº†ä¸€ä¸ªCPANæ¨¡å—ï¼Œç”¨cpanå‘½ä»¤æ¥å®‰è£…perlçš„å„ä¸ªæ¨¡å—ã€‚ä¹Ÿå¯ä»¥é€šè¿‡cpanå‘½ä»¤æ¥å®‰è£…bioperlæ¨¡å—ï¼Œé‡Œé¢æœ‰éå¸¸å¤šçš„æœ‰å…³ç”Ÿä¿¡åˆ†æçš„perlè„šæœ¬ã€‚ 2. å®‰è£…å’Œé…ç½®bioperlè¿è¡Œgbffè½¬æ¢gff3çš„perlè„šæœ¬éœ€è¦è°ƒç”¨bioperlçš„ä¸€äº›æ¨¡å—ï¼Œå› æ­¤ç¬¬ä¸€æ­¥éœ€è¦å®‰è£…bioperlï¼Œä»¥åŠé…ç½®ç›¸åº”çš„ç¯å¢ƒã€‚ ç™»å½•å­¦æ ¡é›†ç¾¤ï¼Œå‘ç°ç³»ç»Ÿè‡ªå¸¦å®‰è£…äº†perlç¨‹åºå’ŒCPANæ¨¡å—ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨CPANæ¥å®‰è£…bioperlã€‚ 12# åœ¨å‘½ä»¤è¡Œè¿›å…¥CPANäº¤äº’å¼ç•Œé¢perl -MCPAN -e shell è¿›å…¥CPANäº¤äº’å¼ç•Œé¢å¦‚ä¸‹ï¼š 1234# åœ¨çº¿å¯»æ‰¾bioperlå®‰è£…åŒ…cpan&gt;d /bioperl/# å®‰è£…å¯¹åº”ç‰ˆæœ¬çš„bioperlï¼Œæ³¨æ„ç›®å½•å’Œç‰ˆæœ¬å·æ ¹æ®æœå‡ºæ¥çš„ç»“æœä¸åŒè€Œä¸åŒcpan&gt;install S/SE/SENDU/bioperl-1.5.2_100.tar.gz ä¹‹åå°±æ˜¯æ¼«é•¿çš„å®‰è£…è¿‡ç¨‹äº†ï¼Œæ‰€æœ‰ä¾èµ–å…³ç³»ä¹Ÿä¼šä¸€å¹¶å®‰è£…ï¼Œå®‰è£…çš„æ—¶é—´è¾ƒé•¿ï¼Œå¤§æ¦‚éœ€è¦åŠä¸ªå°æ—¶ã€‚ å®‰è£…å®Œæˆä¹‹åæ˜¯é…ç½®ç¯å¢ƒå˜é‡ï¼Œä¸é…ç½®çš„è¯å³ä½¿å®‰è£…äº†bioperlï¼Œä¹Ÿä¼šæ‰¾ä¸åˆ°å¯¹åº”çš„æ¨¡å—ã€‚æˆ‘çš„bioperlå®‰è£…è·¯å¾„æ˜¯&#x2F;public&#x2F;home&#x2F;wlxie&#x2F;miniconda3&#x2F;envs&#x2F;biosoft&#x2F;lib&#x2F;perl5&#x2F;site_perl&#x2F;5.22.0&#x2F;Bio&#x2F;ï¼Œå¯ä»¥é€šè¿‡echo $PERL5LIBæ¥æŸ¥çœ‹å½“å‰perlæ¨¡å—çš„è°ƒç”¨è·¯å¾„ï¼Œç„¶ååœ¨å®¶ç›®å½•çš„.bashrcç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­å°†bioperlçš„æ¨¡å—è·¯å¾„åŠ åˆ°perlæ¨¡å—è°ƒç”¨çš„è·¯å¾„å½“ä¸­ã€‚ 12# åœ¨ã€‚bashrcæ–‡ä»¶æœ€åä¸€è¡ŒåŠ å…¥bioperlæ¨¡å—è°ƒç”¨è·¯å¾„export PERL5LIB=&quot;/public/home/wlxie/miniconda3/envs/biosoft/lib/perl5/site_perl/5.22.0/:$PERL5LIB&quot; è¿™æ ·æ‰€æœ‰çš„é…ç½®å°±å®Œæˆäº†ã€‚ 3. gbffæ ¼å¼è½¬æ¢gff3githubä¸Šæœ‰è®¸å¤šgbffæ ¼å¼è½¬gff3æ ¼å¼çš„è„šæœ¬ä»£ç ï¼Œæœ‰ç”¨biopythonåšçš„ï¼Œä¹Ÿæœ‰bioperlåšçš„ï¼Œå¯èƒ½æ˜¯æˆ‘é…ç½®çš„é—®é¢˜ï¼Œè¯•äº†å‡ ä¸ªè„šæœ¬ååªæœ‰ä¸€ä¸ªå¯ä»¥é¡ºåˆ©è½¬æ¢ã€‚æœ¬æ¥æƒ³ç ”ç©¶ä¸€ä¸‹è„šæœ¬çš„å®ç°æ–¹å¼ï¼Œå¯æ˜¯æºä»£ç 2000å¤šè¡Œçœ‹çš„æˆ‘å®åœ¨ä¸çŸ¥ä»ä½•ä¸‹æ‰‹ï¼Œè¿™é‡Œåªè®°å½•ä¸€ä¸‹ä½¿ç”¨æ–¹æ³•å’Œå¤‡ä»½è„šæœ¬æ–‡ä»¶ã€‚ æºä»£ç çš„å‡ºå¤„å·²ç»æ‰¾ä¸åˆ°äº†â€¦ç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹æºä»£ç åœ¨æœ¬ç«™çš„å¤‡ä»½ ä½¿ç”¨æ–¹æ³•ï¼š å°†è„šæœ¬æ–‡ä»¶bp_genbank2gff3.plæ”¾åœ¨è¦è½¬æ¢æ ¼å¼çš„gbffæ–‡ä»¶åŒä¸€ä¸ªç›®å½•ä¸‹ï¼Œè¿è¡Œå‘½ä»¤ 12# perl bp_genbank2gff3.pl gbffæ–‡ä»¶åperl bp_genbank2gff3.pl Asclepias_syriaca-GCA_002018285.1_ASM201828v1_genomic.gbff è„šæœ¬è‡ªåŠ¨è¿è¡Œï¼Œç»“æŸåä¼šåœ¨å½“å‰ç›®å½•ç”ŸæˆåŒåçš„gff3æ–‡ä»¶","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"bioperl","slug":"bioperl","permalink":"http://www.shelven.com/tags/bioperl/"},{"name":"perl","slug":"perl","permalink":"http://www.shelven.com/tags/perl/"}]},{"title":"é›†ç¾¤å’Œslurmè°ƒåº¦ç³»ç»Ÿä½¿ç”¨å¿ƒå¾—","slug":"é›†ç¾¤å’Œslurmè°ƒåº¦ç³»ç»Ÿä½¿ç”¨å¿ƒå¾—","date":"2022-05-24T18:05:26.000Z","updated":"2023-02-24T03:53:40.000Z","comments":true,"path":"2022/05/25/a.html","link":"","permalink":"http://www.shelven.com/2022/05/25/a.html","excerpt":"éšç€å„ç§ç»„å­¦æŠ€æœ¯å’Œç”Ÿç‰©ä¿¡æ¯å­¦æŠ€æœ¯çš„å‘å±•ï¼Œé«˜é€šé‡æµ‹åºç°åœ¨å·²ç»å¹¿æ³›åº”ç”¨åˆ°ç”Ÿå‘½ç§‘å­¦çš„å¤šä¸ªé¢†åŸŸï¼Œè¿™äº›æµ‹åºæ•°æ®åŠ¨è¾„å‡ ä¸ªGç”šè‡³å‡ åä¸Šç™¾Gï¼ˆä¸»è¦çœ‹ç‰©ç§å’Œæµ‹åºæ·±åº¦ï¼‰ï¼Œä¸ªäººç”µè„‘å¯¹è¿™äº›å¤§é‡çš„æ•°æ®å¤„ç†æ—¶æœ‰äº›åŠ›ä¸ä»å¿ƒã€‚","text":"éšç€å„ç§ç»„å­¦æŠ€æœ¯å’Œç”Ÿç‰©ä¿¡æ¯å­¦æŠ€æœ¯çš„å‘å±•ï¼Œé«˜é€šé‡æµ‹åºç°åœ¨å·²ç»å¹¿æ³›åº”ç”¨åˆ°ç”Ÿå‘½ç§‘å­¦çš„å¤šä¸ªé¢†åŸŸï¼Œè¿™äº›æµ‹åºæ•°æ®åŠ¨è¾„å‡ ä¸ªGç”šè‡³å‡ åä¸Šç™¾Gï¼ˆä¸»è¦çœ‹ç‰©ç§å’Œæµ‹åºæ·±åº¦ï¼‰ï¼Œä¸ªäººç”µè„‘å¯¹è¿™äº›å¤§é‡çš„æ•°æ®å¤„ç†æ—¶æœ‰äº›åŠ›ä¸ä»å¿ƒã€‚ æ¯”å¦‚æˆ‘çš„å°ç ´ç”µè„‘ï¼Œ4æ ¸ï¼Œ2Gè¿è¡Œå†…å­˜ï¼Œåœ¨å¯¹16ä¸ª10Xæµ‹åºæ·±åº¦çš„æ‹Ÿå—èŠ¥è½¬å½•ç»„æ•°æ®è¿›è¡Œå›å¸–å‚è€ƒåŸºå› ç»„æ—¶ï¼Œcpuæ»¡è½½çš„æƒ…å†µä¸‹è·‘äº†æ•´æ•´ä¸€ä¸ªæ™šä¸Šï¼Œæ‹Ÿå—èŠ¥çš„å‚è€ƒåŸºå› ç»„è¿˜æ˜¯æ¯”è¾ƒå°çš„ï¼ˆåªæœ‰116Må¤§å°ï¼‰ã€‚å› æ­¤åœ¨éœ€è¦åšå¤§é‡æ•°æ®å¤„ç†çš„æ—¶å€™æˆ‘ä»¬å¾€å¾€éƒ½ä¼šç”¨åˆ°è®¡ç®—æœºé›†ç¾¤ã€‚ å…ˆæ”¾æœ‰ç”¨çš„ä¸œè¥¿ï¼šslurmå®˜ç½‘å¿«é€Ÿå¼€å§‹æ‰‹å†Œ ä»¥åŠæ­¦æ±‰å¤§å­¦æµ‹ç»˜å­¦é™¢åšçš„ä¸­æ–‡æ‰‹å†Œï¼šç‚¹å‡»æµè§ˆå’Œä¸‹è½½ 1. è®¡ç®—æœºé›†ç¾¤ä»‹ç»å…ˆä¸Šä¸€æ®µç™¾åº¦ç™¾ç§‘çš„ä»‹ç» è®¡ç®—æœºé›†ç¾¤ç®€ç§°é›†ç¾¤ï¼Œæ˜¯ä¸€ç§è®¡ç®—æœºç³»ç»Ÿï¼Œ å®ƒé€šè¿‡ä¸€ç»„æ¾æ•£é›†æˆçš„è®¡ç®—æœºè½¯ä»¶æˆ–ç¡¬ä»¶è¿æ¥èµ·æ¥é«˜åº¦ç´§å¯†åœ°åä½œå®Œæˆè®¡ç®—å·¥ä½œã€‚åœ¨æŸç§æ„ä¹‰ä¸Šï¼Œä»–ä»¬å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸€å°è®¡ç®—æœºã€‚ é›†ç¾¤ç³»ç»Ÿä¸­çš„å•ä¸ªè®¡ç®—æœºé€šå¸¸ç§°ä¸ºèŠ‚ç‚¹ï¼Œé€šå¸¸é€šè¿‡å±€åŸŸç½‘è¿æ¥ï¼Œä½†ä¹Ÿæœ‰å…¶å®ƒçš„å¯èƒ½è¿æ¥æ–¹å¼ã€‚é›†ç¾¤è®¡ç®—æœºé€šå¸¸ç”¨æ¥æ”¹è¿›å•ä¸ªè®¡ç®—æœºçš„è®¡ç®—é€Ÿåº¦å’Œ&#x2F;æˆ–å¯é æ€§ã€‚ä¸€èˆ¬æƒ…å†µä¸‹é›†ç¾¤è®¡ç®—æœºæ¯”å•ä¸ªè®¡ç®—æœºï¼Œæ¯”å¦‚å·¥ä½œç«™æˆ–è¶…çº§è®¡ç®—æœºæ€§èƒ½ä»·æ ¼æ¯”è¦é«˜å¾—å¤šã€‚ ç®€å•æ¥è¯´é›†ç¾¤å°±æ˜¯ä¸€ç¾¤ç”µè„‘è¿æ¥åœ¨ä¸€èµ·å®ŒæˆåŒä¸€ä¸ªå·¥ä½œï¼Œè‡ªç„¶æ˜¯æ¯”å•ä¸ªç”µè„‘å·¥ä½œæ•ˆç‡é«˜å¾—å¤šã€‚ å¡”å¤§æœ‰ç€å—ç–†æœ€å¤§çš„è¶…ç®—ä¸­å¿ƒï¼Œæˆ‘ç”¨æµ‹è¯•è´¦å·ç™»å½•å¤§è‡´çœ‹äº†ä¸‹èŠ‚ç‚¹é…ç½®ä¿¡æ¯å’Œå­˜å‚¨è§„æ¨¡ï¼š å¯ä»¥çœ‹åˆ°å¡”å¤§é›†ç¾¤æœ‰ä¸‰ä¸ªåˆ†åŒºï¼šdebugã€normalå’Œoperationï¼Œå…¶ä¸­debugæ˜¯é»˜è®¤åˆ†åŒºã€‚ æ¯ä¸ªåˆ†åŒºä¸‹éƒ½æœ‰admin91ã€admin92å’Œcomputer1-6å…±è®¡8ä¸ªèŠ‚ç‚¹ï¼Œä»çŠ¶æ€æ å¯ä»¥çœ‹åˆ°admin91èŠ‚ç‚¹å¤„äºdownçŠ¶æ€ï¼Œä¸€èˆ¬æ¥è¯´åªæœ‰æ•…éšœèŠ‚ç‚¹æ‰ä¼šæ˜¾ç¤ºçŠ¶æ€downï¼Œä½†æ˜¯æˆ‘çœ‹äº†ä¸‹ç™»å½•èŠ‚ç‚¹çš„hostnameå°±æ˜¯admin91ï¼ˆadmin91æ˜¯ç™»å½•èŠ‚ç‚¹ï¼‰ï¼Œå¯èƒ½å°±æ˜¯è¿™æ ·è®¾ç½®çš„ï¼Œé˜²æ­¢ç”¨æˆ·ç”³è¯·åˆ°ç™»å½•èŠ‚ç‚¹èµ„æºï¼ˆå­¦æ ¡è§„å®šç¦æ­¢åœ¨ç™»å½•èŠ‚ç‚¹è¿è¡Œè„šæœ¬ç¨‹åºï¼Œä¸ºäº†é˜²æ­¢ç”¨æˆ·å ç”¨å¤ªå¤šç™»å½•èŠ‚ç‚¹èµ„æºï¼‰ã€‚computer1-6éƒ½æ˜¯è®¡ç®—èŠ‚ç‚¹ï¼Œå¯ä»¥çœ‹åˆ°çŠ¶æ€æ æ˜¯idleä¹Ÿå°±æ˜¯ç©ºé—²çš„ã€‚admin92æ˜¯ä¸ªèƒ–èŠ‚ç‚¹ï¼ŒçŠ¶æ€å´æ˜¯drainä¹Ÿå°±æ˜¯ä¸èƒ½åˆ†é…ï¼Œè¿™ä¸ªæˆ‘ä¸ç†è§£ï¼Œå¦‚æœè¦è¿è¡Œå¹¶è¡Œå‘½ä»¤å°±è¦ç”¨åˆ°èƒ–èŠ‚ç‚¹ã€‚ è£¸å‚¨å­˜å®¹é‡ç®—ä¸ªå¤§æ¦‚450TBå·¦å³ï¼Œä¸ç®—å¤§ä¸ç®—å°ï¼Œå¤Ÿç”¨å°±è¡Œã€‚ é¡ºä¾¿çœ‹ä¸€ä¸‹å„ä¸ªèŠ‚ç‚¹çš„æ€§èƒ½ï¼š ç¨å¾®è®¡ç®—ä¸€ä¸‹å¯ä»¥å‘ç°ï¼Œè®¡ç®—èŠ‚ç‚¹computer1-6æ¯ä¸ªèŠ‚ç‚¹æœ‰128ä¸ªæ ¸ï¼Œæ¯ä¸ªæ ¸2Gè¿è¡Œå†…å­˜ï¼›ç™»å½•èŠ‚ç‚¹admin91æœ‰64ä¸ªæ ¸ï¼Œæ¯ä¸ªæ ¸4Gè¿è¡Œå†…å­˜ï¼ˆä¸æ˜¯å¾ˆç†è§£ç™»å½•èŠ‚ç‚¹ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆè±ªåâ€¦â€¦ï¼‰ï¼›èƒ–èŠ‚ç‚¹admin92æœ‰256ä¸ªæ ¸ï¼Œæ¯ä¸ªæ ¸4Gè¿è¡Œå†…å­˜ã€‚æ€»çš„æ¥è¯´ï¼Œæ”¾åœ¨å†…åœ°æ¯”å¯èƒ½ç¡®å®ä¸æ€ä¹ˆæ ·ï¼Œä½†æ˜¯åœ¨æ–°ç–†å¯ä»¥è¯´æ˜¯å¥¢åé¡¶é…äº†â€¦â€¦ 2. slurmè°ƒåº¦ç³»ç»Ÿä»‹ç»å¡”å¤§é›†ç¾¤ç”¨çš„æ˜¯slurmè°ƒåº¦ç³»ç»Ÿï¼Œç®€å•æ¥è¯´å°±æ˜¯å€ŸåŠ©slurmè¿™ä¸ªèµ„æºç®¡ç†ç³»ç»Ÿï¼Œå°†è¶…ç®—ä¸­å¿ƒçš„é›†ç¾¤è®¡ç®—æœºç»Ÿä¸€ç®¡ç†ã€‚slurmæ˜¯ä¸ªå¼€æºåˆ†å¸ƒå¼èµ„æºç®¡ç†è½¯ä»¶ï¼Œç®¡ç†è¿™ç§å¤§å‹çš„è®¡ç®—æœºé›†ç¾¤è¿˜æ˜¯æ¯”è¾ƒé«˜æ•ˆçš„ï¼Œæ¯”å¦‚å¤©æ²³äºŒå·ä¸Šå°±ä½¿ç”¨äº† è¯¥èµ„æºç®¡ç†ç³»ç»Ÿã€‚é›†ç¾¤æ“ä½œå’Œä¸ªäººç”µè„‘æ“ä½œä¸ä¸€æ ·çš„åœ°æ–¹æ˜¯ï¼Œæˆ‘ä»¬éœ€è¦ç”³è¯·è®¡ç®—èŠ‚ç‚¹ç„¶åæ‰èƒ½è¿è¡Œè®¡ç®—çš„å‘½ä»¤ï¼Œéœ€è¦äº†è§£ä¸€ä¸‹slurmçš„ä½œä¸šè°ƒåº¦ç³»ç»Ÿã€‚ äº†è§£ä¸€ä¸‹åŸºæœ¬æ¦‚å¿µï¼šä¸€ä¸ªåˆ†åŒºï¼ˆpartitionï¼‰å°±æ˜¯èŠ‚ç‚¹çš„é€»è¾‘åˆ†ç»„ï¼Œå¯ä»¥æœ‰ä¸åŒçš„èŠ‚ç‚¹ï¼ˆnodeï¼‰ï¼›å¯ä»¥è°ƒç”¨å‡ ä¸ªèŠ‚ç‚¹çš„èµ„æºåˆ›å»ºä½œä¸šæ­¥ï¼ˆjob stepï¼‰ï¼Œä¸€ä¸ªä½œä¸šï¼ˆjobï¼‰å°±æ˜¯ä¸€æ¬¡èµ„æºåˆ†é…ï¼Œå¯ä»¥æœ‰å¤šä¸ªä½œä¸šæ­¥å¹¶ä¸”å¯ä»¥å¹¶å‘è¿è¡Œã€‚ å†æ¥çœ‹ä¸€ä¸‹slurmè°ƒåº¦ç³»ç»Ÿçš„ç»„æˆæˆåˆ†ï¼š ä¸»è¦æœ‰æ§åˆ¶è¿›ç¨‹slurmcldï¼Œè®°è´¦å­˜å‚¨è¿›ç¨‹Slurmdbdï¼ˆæœ‰çš„é›†ç¾¤æ˜¯æ”¶è´¹çš„ï¼‰ï¼ŒèŠ‚ç‚¹ç›‘æ§è¿›ç¨‹slurmdï¼Œä½œä¸šç®¡ç†è¿›ç¨‹slurmstepdå’Œç”¨æˆ·å‘½ä»¤å·¥å…·ç»„æˆï¼Œæˆ‘ä»¬å¯ä»¥ä¸ç”¨äº†è§£è¿™äº›è¿›ç¨‹ä¹‹é—´çš„ç›¸äº’å…³ç³»ï¼Œç†Ÿæ‚‰ç”¨æˆ·å‘½ä»¤æ¯”å¦‚åˆ›å»ºä½œä¸šï¼Œæäº¤ä½œä¸šå’ŒæŸ¥çœ‹ä½œä¸šçŠ¶æ€å³å¯ã€‚ 2.1 åˆ›å»ºå’Œæäº¤ä½œä¸šslurmä½œä¸šè°ƒåº¦ç³»ç»Ÿæœ‰ä¸‰ç§æ¨¡å¼åˆ›å»ºå’Œæäº¤ä½œä¸šï¼šäº¤äº’æ¨¡å¼â€”â€”srunï¼Œæ‰¹å¤„ç†æ¨¡å¼â€”â€”sbatchå’Œåˆ†é…æ¨¡å¼â€”â€”sallocï¼Œåˆ†åˆ«ä»‹ç»ä¸€ä¸‹~è¿˜æ˜¯å†æ¬¡å¼ºè°ƒä¸€ä¸‹ï¼Œå­¦æ ¡é›†ç¾¤ç¦æ­¢åœ¨ç™»å½•ç•Œé¢ç›´æ¥è¿è¡Œè®¡ç®—å‘½ä»¤ï¼Œç¬¬ä¸€æ¬¡å‘ç°ä¼šå¼ºåˆ¶ç»ˆæ­¢è¿›ç¨‹ï¼Œç¬¬äºŒæ¬¡ç®¡ç†å‘˜ä¼šæ³¨é”€ç”¨æˆ·è´¦å·ã€‚ 2.1.1 äº¤äº’æ¨¡å¼â€”â€”srunäº¤äº’æ¨¡å¼è¯´ç™½äº†å°±æ˜¯æˆ‘ä»¬é€šè¿‡å‘½ä»¤è¡Œä¸é›†ç¾¤äº§ç”Ÿå¯ä»¥äº’åŠ¨çš„â€œäº¤æµâ€ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š é€šè¿‡ç»ˆç«¯æäº¤èµ„æºåˆ†é…è¯·æ±‚ï¼ŒæŒ‡å®šèµ„æºæ•°ç›®å’Œé™åˆ¶ ç­‰å¾…èµ„æºåˆ†é… è·å¾—èµ„æºåï¼Œè‡ªåŠ¨åŠ è½½è®¡ç®—ä»»åŠ¡ è¿è¡Œä¸­ï¼Œä»»åŠ¡I&#x2F;Oä¼ é€’ç»ˆç«¯ï¼Œå¯ä¸ä»»åŠ¡è¿›è¡Œäº¤äº’ ä»»åŠ¡ç»“æŸåï¼Œèµ„æºè¢«é‡Šæ”¾ ä¸€æ¬¡æ‰§è¡Œsrunç”Ÿæˆä¸€ä¸ªä½œä¸šæ­¥ï¼Œä¹Ÿå°±æ˜¯ä¸€æ¬¡ä»»åŠ¡åŠ è½½ï¼Œæ‰§è¡Œä¸€æ¬¡æœ€ç®€å•çš„hostnameå‘½ä»¤å¦‚ä¸‹ï¼š -n å‚æ•°æŒ‡å®šæ ¸æ•°ï¼Œ-wå‚æ•°æŒ‡å®šèŠ‚ç‚¹ï¼Œå› æ­¤æ˜¾ç¤ºçš„hostnameå°±æ˜¯computer3ã€‚è¿è¡Œç»“æŸåç›´æ¥é‡Šæ”¾èµ„æºã€‚ ä¸Šé¢çš„ä¾‹å­å¯èƒ½æ²¡æœ‰ä½“ç°å‡ºäº¤äº’çš„æ„ä¹‰ï¼Œå› ä¸ºç¨‹åºæ¯”è¾ƒç®€å•ã€‚æœ‰äº›ç¨‹åºåœ¨è¿è¡Œçš„è¿‡ç¨‹ä¸­éœ€è¦äººä¸ºè°ƒæ•´ï¼Œsrunæ‰èƒ½ä½“ç°å‡ºä¼˜åŠ¿ã€‚ 2.1.2 æ‰¹å¤„ç†æ¨¡å¼â€”â€”sbatchæ‰¹å¤„ç†æ¨¡å¼é¡¾åæ€ä¹‰ç‰¹ç‚¹åœ¨äºéœ€è¦è‡ªå·±å†™æ‰¹å¤„ç†è„šæœ¬ï¼Œå…·ä½“è¿‡ç¨‹å¦‚ä¸‹ï¼š ç¼–å†™ä½œä¸šè„šæœ¬ï¼ŒæŒ‡å®šèµ„æºæ•°ç›®å’Œé™åˆ¶ sbatchæäº¤ä½œä¸š ä½œä¸šæ’é˜Ÿç­‰å¾…èµ„æºåˆ†é… åˆ†é…åˆ°èµ„æºååœ¨é¦–èŠ‚ç‚¹åŠ è½½æ‰§è¡Œä½œä¸šè„šæœ¬ ä»»åŠ¡ç»“æŸé‡Šæ”¾èµ„æº è¿è¡Œç»“æœå®šå‘åˆ°æŒ‡å®šæ–‡ä»¶å¤¹ è¿™ä¸ªæ¨¡å¼ä¹Ÿæ˜¯ç”¨çš„æœ€å¤šçš„ï¼Œç™»å½•å¡”å¤§é›†ç¾¤å¯ä»¥åœ¨ç”¨æˆ·å®¶ç›®å½•ä¸‹æ‰¾åˆ°job_exampleæ–‡ä»¶å¤¹ï¼Œé‡Œé¢æœ‰ä¸åŒçš„slurmè„šæœ¬æä¾›å‚è€ƒï¼Œä¸¾ä¸ªæœ€ç®€å•çš„ä¾‹å­sleep.slurmï¼Œæˆ‘ä»¬catä¸€ä¸‹çœ‹çœ‹è„šæœ¬å†…å®¹ï¼š ç¬¬ä¸€è¡Œ#! æŒ‡å®šè§£é‡Šå™¨ç±»å‹ï¼Œå’Œå…¶ä»–è„šæœ¬éƒ½ä¸€æ ·ï¼› ç¬¬äºŒè¡Œå¼€å§‹åé¢å‡ è¡Œçš„#SBATCHéƒ½è¢«è¯†åˆ«ä¸ºsbatchå‘½ä»¤ï¼Œå› æ­¤åé¢éƒ½åŠ ä¸Šäº†å¯¹åº”å‚æ•°ï¼Œè¿™é‡Œåªæœ‰sbatchè¿™ä¸€è¡Œä¼šè¢«è¯†åˆ«æˆå‘½ä»¤ï¼Œæ³¨æ„ä¸æ˜¯è¢«æ³¨é‡Šäº†ã€‚å¦‚æœè„šæœ¬é‡Œå†™äº†å¯¹åº”å‚æ•°å†…å®¹ï¼Œå‘½ä»¤è¿è¡Œè„šæœ¬çš„æ—¶å€™å°±å¯ä»¥ä¸ç”¨åŠ å…¥è¿™äº›å‚æ•°ã€‚ ç¬¬å…­è¡Œå¼€å§‹ä¹Ÿå°±æ˜¯#ä»¥åçš„éƒ¨åˆ†ï¼Œæ‰æ˜¯æˆ‘ä»¬ç¼–å†™è„šæœ¬è¦è¿è¡Œçš„å‘½ä»¤ã€‚ å‚è€ƒè¿™ä¸ªæ ¼å¼ï¼Œæˆ‘å†™äº†å¦‚ä¸‹ä¸€ä¸ªå»ºç«‹æ‹Ÿå—èŠ¥å‚è€ƒåŸºå› ç»„ç´¢å¼•æ–‡ä»¶çš„hisat2.slurmè„šæœ¬ï¼š ç”³è¯·äº†jobåä¸ºjob1ï¼Œä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæ ¸ï¼Œæ˜¾ç¤ºé˜Ÿåˆ—ï¼Œæ˜¾ç¤ºç¨‹åºè¿è¡Œå¼€å§‹æ—¶é—´ï¼Œè¿è¡Œç¨‹åºï¼Œæ˜¾ç¤ºç»“æŸæ—¶é—´ã€‚ æäº¤ç›´æ¥ç”¨sbatch hisat2.slurmï¼Œå¾ˆå¿«å°±è·å¾—èµ„æºè·‘å®Œäº†ç¨‹åºï¼Œå½“å‰ç›®å½•ä¸‹ç”Ÿæˆäº†ç´¢å¼•æ–‡ä»¶å’Œé»˜è®¤è¾“å‡ºæ–‡ä»¶slurm-jobå·.out å› ä¸ºè¾“å‡ºç»“æœåœ¨ç»“æœæ–‡ä»¶é‡Œï¼Œæ‰€ä»¥æˆ‘ä»¬å±å¹•ä¸Šæ˜¯çœ‹ä¸åˆ°è¿è¡Œè¿‡ç¨‹çš„ï¼Œè¦æƒ³ç›‘æ§è¿è¡Œè¿‡ç¨‹åªèƒ½åœ¨è¿è¡Œæ—¶è¾“å…¥squeueæŸ¥çœ‹ï¼Œåé¢ä¼šè¯´ã€‚è¿è¡Œç»“æŸååŒæ ·ä¼šè‡ªåŠ¨é‡Šæ”¾èµ„æºã€‚ 2.1.3 åˆ†é…æ¨¡å¼â€”â€”sallocåˆ†é…æ¨¡å¼ç›¸æ¯”å‰é¢ä¸¤ä¸ªæ¨¡å¼æ›´çµæ´»ä¸€äº›ï¼Œç®€å•æ¥è¯´å°±æ˜¯ç”³è¯·èµ„æºï¼Œæ‰§è¡Œè¿ç®—ä»»åŠ¡åæ‰‹åŠ¨é‡Šæ”¾èµ„æºï¼Œå¯ä»¥ç”¨æ¥åœ¨æ­£å¼æäº¤sbatchå‰åšç¨‹åºæµ‹è¯•ï¼Œæ£€æŸ¥ä»£ç æ­£ç¡®åå†å†™æˆè„šæœ¬æäº¤ï¼ˆä¸è¿‡ä¹Ÿå¯ä»¥ç›´æ¥æäº¤ï¼Œä¸ç”¨sbatchï¼‰ã€‚æµç¨‹å¦‚ä¸‹ï¼š æäº¤èµ„æºåˆ†é…è¯·æ±‚ æ’é˜Ÿç­‰å¾…èµ„æºåˆ†é… å‘½ä»¤è¡Œæ‰§è¡ŒæŒ‡å®šçš„å‘½ä»¤ å‘½ä»¤æ‰§è¡Œç»“æŸï¼Œexitæ‰‹åŠ¨é‡Šæ”¾èµ„æº è¿™ä¸ªæ¯”è¾ƒç®€å•ï¼Œç›´æ¥sallocåé¢æ¥å‚æ•°ç”³è¯·æŒ‡å®šçš„èµ„æºå°±è¡Œï¼Œæœ€åä¸€å®šè¦exitæ‰‹åŠ¨é‡Šæ”¾èµ„æºã€‚ ç”³è¯·åå¯ä»¥ç”¨hostnameå‘½ä»¤çœ‹çœ‹ç”³è¯·çš„æ˜¯å“ªä¸ªèŠ‚ç‚¹ï¼Œç¡®è®¤æ˜¯è®¡ç®—èŠ‚ç‚¹åå†è¿è¡Œè®¡ç®—å‘½ä»¤ã€‚ 2.1.4 ä½œä¸šæäº¤å‚æ•°çŸ¥é“äº†ä¸‰ä¸ªæ¨¡å¼çš„å…·ä½“ç”¨æ³•ï¼Œåªéœ€è¦æ·»åŠ å¯¹åº”çš„å‚æ•°å°±è¡Œäº†ã€‚æ²¡æœ‰äººä¼šå…·ä½“è®°ä½æ‰€æœ‰å‚æ•°ï¼Œä¸Šé¢åªæœ‰å¸¸ç”¨çš„å‡ ä¸ªéœ€è¦è®°ä¸€ä¸‹ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹å…¶ä»–å¸¸ç”¨æäº¤å‚æ•°ï¼š å‚æ•° å«ä¹‰ ç±»å‹ ç¤ºä¾‹ -J ä½œä¸šåï¼Œsqueueçœ‹åˆ°çš„ä½œä¸šå å­—ç¬¦ä¸² -J wrfï¼›è¡¨ç¤ºä½œä¸šåç§°ä¸ºâ€œwrfâ€ -n ä½œä¸šç”³è¯·çš„æ€»cpuæ ¸å¿ƒæ•° æ•°å€¼ -n 4ï¼›è¡¨ç¤ºä½œä¸šç”³è¯·4ä¸ªcpuæ ¸å¿ƒ -N ä½œä¸šç”³è¯·çš„èŠ‚ç‚¹æ•° æ•°å€¼ -N 1 è¡¨ç¤ºä½œä¸šç”³è¯·1ä¸ªè®¡ç®—èŠ‚ç‚¹ -p æŒ‡å®šä½œä¸šæäº¤çš„åˆ†åŒº å­—ç¬¦ä¸² -psiliconè¡¨ç¤ºå°†ä½œä¸šæäº¤åˆ°siliconåˆ†åŒº -t æŒ‡å®šä½œä¸šçš„æ‰§è¡Œæ—¶é—´ æ•°å€¼ -t 30 è¡¨ç¤ºä½œä¸šçš„æ‰§è¡Œæ—¶é—´ä¸è¶…è¿‡30åˆ†é’Ÿ -o æŒ‡å®šä½œä¸šæ ‡å‡†è¾“å‡ºæ–‡ä»¶çš„åç§° å­—ç¬¦ä¸² -o %jï¼Œè¡¨ç¤ºä½¿ç”¨ä½œä¸šå·ä½œä¸ºä½œä¸šæ ‡å‡†è¾“å‡ºæ–‡ä»¶çš„åç§° -e æŒ‡å®šä½œä¸šæ ‡å‡†é”™è¯¯è¾“å‡ºæ–‡ä»¶åç§° å­—ç¬¦ä¸² -e %jï¼Œè¡¨ç¤ºä½¿ç”¨ä½œä¸šå·ä½œä¸ºä½œä¸šæ ‡å‡†é”™è¯¯è¾“å‡ºæ–‡ä»¶å -w æŒ‡å®šåˆ†é…ç‰¹å®šçš„è®¡ç®—èŠ‚ç‚¹ å­—ç¬¦ä¸² -w computer3 è¡¨ç¤ºä½¿ç”¨computer3èŠ‚ç‚¹ -d ä½œä¸šä¾èµ–å…³ç³»è®¾ç½® å­—ç¬¦ä¸² -d after:123 è¡¨ç¤ºæœ¬ä½œä¸šé¡»å¾…ä½œä¸š123å¼€å§‹ä»¥åå†æ‰§è¡Œ é¡ºä¾¿æœ€åå†æä¸€ä¸‹äº¤äº’æ¨¡å¼å’Œæ‰¹å¤„ç†æ¨¡å¼æ˜¯å¯ä»¥ç›¸äº’ç»“åˆçš„ï¼Œè„šæœ¬ä¸­å¯ä»¥åŠ å…¥srunå‘½ä»¤ï¼Œå¯ä»¥è‡ªè¡Œå°è¯•ã€‚ å¦‚ä¸Šï¼Œå¯ä»¥ç”¨sbatchä¸€æ¬¡æ€§åˆ›å»º100ä¸ªjobï¼Œæ¯ä¸ªjobè¿è¡Œä¸€æ¬¡srunåé¢çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯æäº¤å¹¶è¡Œçš„100ä¸ªè®¡ç®—ä½œä¸šã€‚ä¹Ÿå¯ä»¥ä¸åŠ â€“arrayè¿™ä¸ªå‚æ•°ï¼Œsrunæœ€ååŠ ä¸Šç¬¦å·&amp;åœ¨åå°æŒ‚èµ·ï¼Œä¸‹ä¸€è¡Œç»§ç»­ç”¨srunå‘½ä»¤ï¼Œä»¥æ­¤æ¥å®ç°å¹¶è¡Œè®¡ç®—ï¼Œä¸è¿‡è¦æ³¨æ„æœ€åä¸€è¡Œå‘½ä»¤ç”¨waitç­‰å¾…æ‰€æœ‰å‘½ä»¤è¿è¡Œç»“æŸåä¸€èµ·ç»“æŸï¼Œå¦åˆ™è¯»å®Œsbatchå°±ç»“æŸäº†ã€‚ 2.2 å…¶ä»–ç”¨æˆ·å‘½ä»¤è¿™é‡Œå†ç®€å•åˆ—ä¸¾è®°å½•ä¸€äº›å¸¸ç”¨çš„ç”¨æˆ·å‘½ä»¤å’Œå‚æ•°ï¼Œæ–¹ä¾¿è‡ªå·±åç»­ç”¨åˆ°æ—¶æŸ¥é˜…~ 2.2.1 sinfo æŸ¥è¯¢ä¿¡æ¯ å‚æ•° å«ä¹‰ -a æŸ¥çœ‹æ‰€æœ‰åˆ†åŒºä¿¡æ¯ï¼ˆå«éšè—åˆ†åŒºï¼‰ -d æŸ¥çœ‹deadçŠ¶æ€ï¼ˆé€šä¿¡å¼‚å¸¸ï¼‰çš„èŠ‚ç‚¹å’Œåˆ†åŒºçš„ä¿¡æ¯ï¼Œä¸-rå‚æ•°å¯¹åº” -l æ‰“å°åˆ†åŒºï¼ˆæˆ–èŠ‚ç‚¹ï¼‰çš„è¯¦ç»†ä¿¡æ¯ -n æŸ¥çœ‹æŒ‡å®šèŠ‚ç‚¹çš„ä¿¡æ¯ -p æŸ¥çœ‹æŒ‡å®šåˆ†åŒºçš„çŠ¶æ€ -r æŸ¥çœ‹è®¡ç®—èŠ‚ç‚¹ï¼ˆå†…éƒ¨é€šä¿¡ï¼‰æ­£å¸¸çš„èŠ‚ç‚¹å’Œåˆ†åŒºçš„çŠ¶æ€ï¼Œä¸-då‚æ•°å¯¹åº” -R æŸ¥çœ‹èŠ‚ç‚¹ä¸å¯ç”¨çš„åŸå› ï¼ŒåŒ…æ‹¬ç®¡ç†æ“ä½œè®¾ç½®çš„å¼‚å¸¸ -t æŸ¥è¯¢æŒ‡å®šèŠ‚ç‚¹çŠ¶æ€çš„åˆ†åŒºæˆ–èŠ‚ç‚¹çš„ä¿¡æ¯ â€“federation æ˜¾ç¤ºæ‰€æœ‰é›†ç¾¤çš„åˆ†åŒºï¼ˆæˆ–èŠ‚ç‚¹ï¼‰çš„ä¿¡æ¯ â€“local ä»…æ˜¾ç¤ºå½“å‰é›†ç¾¤çš„åˆ†åŒºï¼ˆæˆ–èŠ‚ç‚¹ï¼‰çš„ä¿¡æ¯ 2.2.2 squeue æŸ¥è¯¢ä½œä¸š å‚æ•° å«ä¹‰ -A æŸ¥çœ‹æŒ‡å®šè´¦å·çš„ä½œä¸š -a æ˜¾ç¤ºæ‰€æœ‰åˆ†åŒºï¼ˆåŒ…å«éšè—ï¼‰ä¸‹çš„ä½œä¸šå’Œä½œä¸šæ­¥ -r æŒ‰è¡Œæ˜¾ç¤ºä½œä¸šç»„çš„æ¯ä¸€ä¸ªä½œä¸š â€“hide ä¸æ˜¾ç¤ºéšè—åˆ†åŒºæˆ–è€…æ— æƒè®¿é—®çš„åˆ†åŒºä¸­çš„ä½œä¸š -j æ ¹æ®æŒ‡å®šçš„ä½œä¸šå·æŸ¥è¯¢ä½œä¸šä¿¡æ¯ -l é•¿æ ¼å¼æ˜¾ç¤ºä½œä¸šä¿¡æ¯ â€“federation æ˜¾ç¤ºæ‰€æœ‰é›†ç¾¤ä¸‹çš„ä½œä¸š â€“local ä»…ä»…æŸ¥çœ‹å½“å‰é›†ç¾¤çš„ä½œä¸š -n æŒ‰ä½œä¸šåæŸ¥è¯¢ä½œä¸šæˆ–ä½œä¸šæ­¥ -p æŒ‰åˆ†åŒºæŸ¥è¯¢ä½œä¸š -s æŸ¥è¯¢ä½œä¸šæ­¥ -t æŒ‡å®šè¦æ˜¾ç¤ºçš„ä½œä¸šçš„çŠ¶æ€ 2.2.3 scancel åˆ é™¤ä½œä¸š å‚æ•° å«ä¹‰ &lt;job id&gt; åˆ é™¤æŒ‡å®šjob idä½œä¸š â€“t åˆ é™¤æŒ‡å®šçŠ¶æ€çš„ä½œä¸š â€“account&#x3D; åˆ é™¤æŒ‡å®šè´¦å·çš„ä½œä¸š â€“name&#x3D; åˆ é™¤æŒ‡å®šåç§°çš„ä½œä¸š â€“partition&#x3D; åˆ é™¤æŒ‡å®šåˆ†åŒºçš„ä½œä¸š â€“reservation&#x3D; åˆ é™¤æŒ‡å®šé¢„çº¦åç§°çš„ä½œä¸š â€“user&#x3D; åˆ é™¤æŒ‡å®šç”¨æˆ·çš„ä½œä¸š â€“nodelist&#x3D; åˆ é™¤æŒ‡å®šèŠ‚ç‚¹çš„ä½œä¸š 2.2.4 scontrol æŸ¥è¯¢è¯¦ç»†ä¿¡æ¯è¿™ä¸ªå‘½ä»¤å’Œsinfoç›¸æ¯”æ›´ä¸ºè¯¦ç»†ï¼Œä¸»è¦èƒ½è·å¾—4ä¸ªæ–¹é¢çš„è¯¦ç»†ä¿¡æ¯ å‘½ä»¤ å«ä¹‰ scontrol show node &lt;name&gt; æŸ¥è¯¢æŒ‡å®šèŠ‚ç‚¹ä¿¡æ¯ scontrol show partition &lt;name&gt; æŸ¥è¯¢æŒ‡å®šåˆ†åŒºä¿¡æ¯ scontrol show job æŸ¥è¯¢jobä¿¡æ¯ï¼Œæ³¨æ„æ˜¯æ‰€æœ‰çš„ scontrol show config æŸ¥è¯¢é…ç½®ä¿¡æ¯ï¼Œä¹Ÿæ˜¯æ‰€æœ‰çš„ 2023&#x2F;02&#x2F;23 è¡¥å……å› ä¸ºç»å¸¸è¦ç”¨åˆ°scontrol show jobæ¥æŸ¥çœ‹å½“å‰ä½œä¸šå¾—è¿è¡Œæƒ…å†µã€å ç”¨èµ„æºæƒ…å†µç­‰ç­‰ï¼Œå› æ­¤æ›´æ–°ä¸€ä¸‹è¯¥å‘½ä»¤ä¸»è¦è¾“å‡ºé¡¹ï¼š å‚æ•°å è§£é‡Š JobId ä½œä¸šå· UserId ç”¨æˆ·åï¼ˆç”¨æˆ·IDï¼‰ GroupId ç”¨æˆ·ç»„ï¼ˆç»„IDï¼‰ Priority ä¼˜å…ˆçº§ï¼Œè¶Šå¤§è¶Šä¼˜å…ˆï¼Œå¦‚æœä¸º0åˆ™è¡¨ç¤ºè¢«ç®¡ç†å‘˜æŒ‚èµ·ï¼Œä¸å…è®¸è¿è¡Œ Nice Niceå€¼ï¼Œè¶Šå°è¶Šä¼˜å…ˆï¼ŒÂ­20åˆ°19 Account è®°è´¦ç”¨æˆ·å JobState ä½œä¸šçŠ¶æ€ã€‚â€“ PENDINGï¼šæ’é˜Ÿä¸­ï¼›â€“ RUNNINGï¼šè¿è¡Œä¸­ï¼›â€“ COMPLETEDï¼šå·²å®Œæˆï¼›â€“ CANCELLEDï¼šå·²å–æ¶ˆ Requeue èŠ‚ç‚¹å¤±æ•ˆæ—¶ï¼Œæ˜¯å¦é‡æ’é˜Ÿï¼Œ0ä¸ºå¦ï¼Œ1ä¸ºæ˜¯ Restarts å¤±è´¥æ—¶ï¼Œæ˜¯å¦é‡è¿è¡Œï¼Œ0ä¸ºå¦ï¼Œ1ä¸ºæ˜¯ BatchFlag æ˜¯å¦ä¸ºæ‰¹å¤„ç†ä½œä¸šï¼Œ0ä¸ºå¦ï¼Œ1ä¸ºæ˜¯ Reboot èŠ‚ç‚¹ç©ºé—²æ—¶æ˜¯å¦é‡å¯èŠ‚ç‚¹ï¼Œ0ä¸ºå¦ï¼Œ1ä¸ºæ˜¯ RunTime å·²è¿è¡Œæ—¶é—´ TimeLimit ä½œä¸šå…è®¸çš„å‰©ä½™è¿è¡Œæ—¶é—´ TimeMin æœ€å°æ—¶é—´ SubmitTime æäº¤æ—¶é—´ EligibleTime è·å¾—è®¤å¯æ—¶é—´ StartTime å¼€å§‹è¿è¡Œæ—¶é—´ EndTime é¢„è®¡ç»“æŸæ—¶é—´ Partition é˜Ÿåˆ—å AllocNode:Sid åˆ†é…çš„èŠ‚ç‚¹:ç³»ç»ŸIDå· NodeList å®é™…è¿è¡ŒèŠ‚ç‚¹åˆ—è¡¨ BatchHost æ‰¹å¤„ç†èŠ‚ç‚¹å NumNodes èŠ‚ç‚¹æ•° NumCPUs CPUæ ¸æ•° NumTasks ä»»åŠ¡æ•° Command ä½œä¸šå‘½ä»¤ WorkDir å·¥ä½œç›®å½• StdErr æ ‡å‡†å‡ºé”™è¾“å‡ºæ–‡ä»¶ StdIn æ ‡å‡†è¾“å…¥æ–‡ä»¶ StdOut æ ‡å‡†è¾“å‡ºæ–‡ä»¶","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"é›†ç¾¤","slug":"é›†ç¾¤","permalink":"http://www.shelven.com/tags/%E9%9B%86%E7%BE%A4/"},{"name":"slurm","slug":"slurm","permalink":"http://www.shelven.com/tags/slurm/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ10ï¼‰â€”â€”åˆè¯†GO/KEGGå¯Œé›†åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ10ï¼‰â€”â€”åˆè¯†GO-KEGGå¯Œé›†åˆ†æ","date":"2022-05-15T19:47:39.000Z","updated":"2022-12-03T16:41:25.000Z","comments":true,"path":"2022/05/16/a.html","link":"","permalink":"http://www.shelven.com/2022/05/16/a.html","excerpt":"å‰é¢ä»‹ç»äº†å¦‚ä½•æ‰¾åˆ°å·®å¼‚åŸºå› ï¼Œæˆ‘ä»¬é€šè¿‡RåŒ…DESeq2è·å¾—äº†å·®å¼‚è¡¨è¾¾åŸºå› ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šåšäº†æ›´ä¸ºç›´è§‚çš„ç«å±±å›¾å’Œå·®å¼‚è¡¨è¾¾åŸºå› çƒ­å›¾ã€‚ä½†æ˜¯ä»…ä»…çŸ¥é“å·®å¼‚è¡¨è¾¾åŸºå› çš„åå­—è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜è¦çŸ¥é“å®ƒåˆ°åº•æœ‰å“ªäº›åŠŸèƒ½å’Œç‰¹å¾ï¼Œå°±æ¯”å¦‚æˆ‘çœ‹åˆ°ä¸€ä¸ªå¾ˆå…»çœ¼çš„åŠ¨æ¼«è§’è‰²ï¼Œæˆ‘å°±è¦å»æŸ¥æŸ¥å‡ºè‡ªå“ªéƒ¨ç•ªï¼Œæ˜¯æ€ä¹ˆæ ·çš„äººè®¾å’ŒèƒŒæ™¯æ•…äº‹ï¼Œä¸€æ ·çš„é“ç†ã€‚è¿™é‡Œç®€å•è®°å½•ä¸‹å¦‚ä½•ä½¿ç”¨AnnotationHubï¼Œä»¥åŠæ€ä¹ˆè¿›è¡ŒGO\\KEGGå¯Œé›†åˆ†æã€‚","text":"å‰é¢ä»‹ç»äº†å¦‚ä½•æ‰¾åˆ°å·®å¼‚åŸºå› ï¼Œæˆ‘ä»¬é€šè¿‡RåŒ…DESeq2è·å¾—äº†å·®å¼‚è¡¨è¾¾åŸºå› ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šåšäº†æ›´ä¸ºç›´è§‚çš„ç«å±±å›¾å’Œå·®å¼‚è¡¨è¾¾åŸºå› çƒ­å›¾ã€‚ä½†æ˜¯ä»…ä»…çŸ¥é“å·®å¼‚è¡¨è¾¾åŸºå› çš„åå­—è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬è¿˜è¦çŸ¥é“å®ƒåˆ°åº•æœ‰å“ªäº›åŠŸèƒ½å’Œç‰¹å¾ï¼Œå°±æ¯”å¦‚æˆ‘çœ‹åˆ°ä¸€ä¸ªå¾ˆå…»çœ¼çš„åŠ¨æ¼«è§’è‰²ï¼Œæˆ‘å°±è¦å»æŸ¥æŸ¥å‡ºè‡ªå“ªéƒ¨ç•ªï¼Œæ˜¯æ€ä¹ˆæ ·çš„äººè®¾å’ŒèƒŒæ™¯æ•…äº‹ï¼Œä¸€æ ·çš„é“ç†ã€‚è¿™é‡Œç®€å•è®°å½•ä¸‹å¦‚ä½•ä½¿ç”¨AnnotationHubï¼Œä»¥åŠæ€ä¹ˆè¿›è¡ŒGO\\KEGGå¯Œé›†åˆ†æã€‚ ä¸€ä¸ªåŸºå› æ²¡æœ‰æ³¨é‡Šä¿¡æ¯ï¼Œé‚£å°±åªæ˜¯ä¸€æ®µæ ¸è‹·é…¸åºåˆ—ï¼Œæœ‰äº†æ³¨é‡Šä¿¡æ¯æˆ‘ä»¬æ‰èƒ½çŸ¥é“è¿™ä¸ªåŸºå› åœ¨æŸ“è‰²ä½“ä¸Šçš„å®šä½ï¼Œåœ¨å…·ä½“çš„æŸä¸ªä»£è°¢é€”å¾„ä¸Šå‘æŒ¥ä»€ä¹ˆåŠŸèƒ½ç­‰ç­‰ã€‚ç½‘ä¸Šèƒ½æ‰¾åˆ°å¾ˆå¤šæ³¨é‡Šä¿¡æ¯çš„æ•°æ®åº“ï¼Œæ¯”å¦‚æ¨¡å¼ç”Ÿç‰©æ‹Ÿå—èŠ¥TAIRï¼Œäººç±»åŸºå› ç»„hg19ç­‰ç­‰ï¼ŒBioconductoræœ‰ä¸€ä¸ªä¸“é—¨ç”¨æ¥æœé›†æ³¨é‡Šä¿¡æ¯æ•°æ®åº“çš„å·¥å…·åŒ…â€”â€”AnnotationHubã€‚ 1. AnnotationHubæ³¨é‡Šæ•°æ®åº“æœç´¢å·¥å…·ç”¨bioconductorä¸‹è½½AnnotationhubåŒ…ï¼Œè½½å…¥ï¼ˆæ³¨ï¼šä¸ºæ¼”ç¤ºç»“æœï¼Œä»¥ä¸‹å‘½ä»¤å‡åœ¨Rstudioç»ˆç«¯è¾“å…¥ï¼‰ 123456789101112131415161718&gt; library(&quot;Annotationhub&quot;)&gt; hub &lt;- AnnotationHub()C:\\Users\\HUAWEI\\AppData\\Local/R/cache/R/AnnotationHub does not exist, create directory? (yes/no): yes |===================================================| 100%snapshotDate(): 2021-10-20&gt; hubAnnotationHub with 62386 records# snapshotDate(): 2021-10-20# $dataprovider: Ensembl, BroadInstitute, UCSC, ftp://ftp...# $species: Homo sapiens, Mus musculus, Drosophila melano...# $rdataclass: GRanges, TwoBitFile, BigWigFile, EnsDb, Rl...# additional mcols(): taxonomyid, genome,# description, coordinate_1_based, maintainer,# rdatadateadded, preparerclass, tags, rdatapath,# sourceurl, sourcetype # retrieve records with, e.g., &#x27;object[[&quot;AH5012&quot;]]&#x27; ç¬¬ä¸€æ¬¡ä½¿ç”¨AnnotationHubéœ€è¦åˆ›å»ºä¸€ä¸ªAnnotationHubå¯¹è±¡ã€‚ä¸ºäº†æ›´ç›´è§‚åœ°ä½¿ç”¨ï¼Œæˆ‘ä»¬å°†AnnotationHubå¯¹è±¡èµ‹å€¼ç»™hubå˜é‡ã€‚æŸ¥çœ‹è¿™ä¸ªå˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„ä¿¡æ¯ã€‚ æ•°æ®åº“ç‰ˆæœ¬æ˜¯2021-10-20ï¼Œç›®å‰æœ‰62386æ¡è®°å½• å¯ä»¥ç”¨$dataprovider æ–¹å¼æŸ¥çœ‹æ•°æ®æ¥æºï¼Œæ¯”å¦‚æ•°æ®æ¥è‡ªäºEnsemblï¼ŒUCSCç­‰ç­‰ å¯ä»¥ç”¨$species æ–¹å¼æŸ¥çœ‹æ•°æ®åº“æœ‰å“ªäº›ç‰©ç§ï¼Œæ¯”å¦‚äººç±»ã€å°é¼ ç­‰ç­‰ å¯ä»¥ç”¨$rdataclass æ–¹å¼æŸ¥çœ‹æ•°æ®ç±»å‹ å¯ä»¥é€šè¿‡å‡½æ•°mcols()æŸ¥çœ‹æ›´å¤šä¿¡æ¯ è·å–æ•°æ®çš„æ–¹å¼æ˜¯object[[&quot;AH5012&quot;]] objectæŒ‡ä½ å‘½åçš„å˜é‡å ä»¥ä¸Šå°±æ˜¯AnnotationHubçš„æ ‡å‡†ç”¨æ³•ï¼Œæ¯”å¦‚æˆ‘æƒ³è·å¾—æ‹Ÿå—èŠ¥çš„æ³¨é‡Šæ•°æ®åº“ï¼Œæˆ‘å°±è¾“å…¥ä»¥ä¸‹å‘½ä»¤æŸ¥æ‰¾ï¼š 123456789101112131415161718192021222324&gt; query(hub, &quot;Arabidopsis thaliana&quot;)AnnotationHub with 13 records# snapshotDate(): 2021-10-20# $dataprovider: UCSC, PathBank, NCBI,DBCLS, FANTOM5,DLRP...# $species: Arabidopsis thaliana# $rdataclass: SQLiteFile, TxDb, Tibble, list, OrgDb, Inp...# additional mcols(): taxonomyid, genome,# description, coordinate_1_based, maintainer,# rdatadateadded, preparerclass, tags, rdatapath,# sourceurl, sourcetype # retrieve records with, e.g., &#x27;object[[&quot;AH10456&quot;]]&#x27; title AH10456 | hom.Arabidopsis_thaliana.inp8.sqlite AH52245 | TxDb.Athaliana.BioMart.plantsmart22.sqlite AH52246 | TxDb.Athaliana.BioMart.plantsmart25.sqlite AH52247 | TxDb.Athaliana.BioMart.plantsmart28.sqlite AH87070 | pathbank_Arabidopsis_thaliana_metabolites.rda ... ... AH91794 | wikipathways_Arabidopsis_thaliana_metabolites... AH95585 | Alternative Splicing Annotation for Arabidops... AH95951 | org.At.tair.db.sqlite AH97723 | LRBaseDb for Arabidopsis thaliana (Thale cres... AH97844 | MeSHDb for Arabidopsis thaliana (Thale cress,... query()å‡½æ•°æŸ¥æ‰¾ï¼Œè¾“å…¥æ‹Ÿå—èŠ¥çš„å­¦åArabidopsis thalianaæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸€å…±æ‰¾å‡ºäº†13ä¸ªæ•°æ®åº“ã€‚å¯ä»¥çœ‹åˆ°AH95951è¿™ä¸ªç¼–å·çš„æ•°æ®åº“æ¥æºå°±æ˜¯æœ€å¤§çš„æ‹Ÿå—èŠ¥æ•°æ®åº“TAIRï¼ˆOrgDbï¼Œå­˜å‚¨ä¸åŒæ•°æ®åº“åŸºå› IDä¹‹é—´å¯¹åº”å…³ç³»ï¼Œä»¥åŠåŸºå› ä¸GOç­‰æ³¨é‡Šçš„å¯¹åº”å…³ç³»ï¼Œåé¢IDè½¬æ¢å’ŒGOåˆ†æè¦ç”¨åˆ°ï¼‰ï¼Œæˆ‘ä»¬å°±ç”¨è¿™ä¸ªæ•°æ®åº“çš„æ³¨é‡Šèµ„æºã€‚ 1234&gt; hub[[&quot;AH95951&quot;]]downloading 1 resourcesretrieving 1 resource | | 0% å‰é¢è¯´è¿‡object[[&quot;AH5012&quot;]]æ˜¯è·å–æ•°æ®çš„æ–¹å¼ã€‚ä»¥ä¸Šï¼Œå°±å¯ä»¥æŒ‚åå°è‡ªåŠ¨ä¸‹è½½äº†ã€‚æˆ‘è¿™é‡Œå› ä¸ºç½‘é€Ÿçš„åŸå› ä¸ä¸‹äº†ï¼Œä»å‰é¢çš„åŸºå› åä¹Ÿèƒ½çœ‹å‡ºæ¥ï¼Œæˆ‘ç­›é€‰çš„å·®å¼‚åŸºå› éƒ½æ˜¯ATå¼€å¤´çš„ï¼Œè€Œä¸”ä¹‹å‰çš„åŸºå› ç»„æ³¨é‡Šæ–‡ä»¶ä¹Ÿæ˜¯TAIRä¸‹è½½çš„ï¼Œæˆ‘å¯ä»¥ç›´æ¥ç”¨bioconductorå®‰è£…org.At.tair.dbåŒ…ï¼Œè¿™é‡Œç”¨AnnotationHubåªæ˜¯æä¾›ä¸€ä¸ªæ‰¾æ³¨é‡Šæ•°æ®åº“çš„æ€è·¯ã€‚ 2. GO&#x2F;KEGGå¯Œé›†åˆ†æ2.1 åŸºå› IDè½¬æ¢æ‰¾åˆ°å’Œä¸‹è½½æ³¨é‡Šæ•°æ®åº“åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæ¥ä¸‹æ¥GO&#x2F;KEGGå¯Œé›†åˆ†æéœ€è¦ç”¨åˆ°RåŒ…clusterProfilerå’Œorg.At.tair.db å…ˆæ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬åŸºå› åæ˜¯ä»€ä¹ˆæ ¼å¼çš„ï¼š å¾ˆæ˜æ˜¾ï¼Œæˆ‘ä»¬çš„åŸºå› IDæ˜¯TAIRç±»å‹ï¼ˆåºŸè¯ï¼Œæˆ‘ä»TAIRä¸‹çš„ï¼‰ï¼Œorg.At.tair.dbåŒ…å¯ä»¥è½¬æ¢åŸºå› IDç±»å‹ å¯ä»¥ç”¨keytypes(org.At.tair.db)æˆ–è€…columns(org.At.tair.db)æŸ¥çœ‹å¯ä»¥è½¬æ¢çš„åŸºå› IDç±»å‹ è½¬æ¢åŸºå› IDä»£ç å¦‚ä¸‹ï¼š 12345678library(&quot;org.At.tair.db&quot;)columns(org.At.tair.db) # æŸ¥çœ‹èƒ½è½¬æ¢åŸºå› çš„IDç±»å‹diffgen &lt;- nDEGs[, 1] # æ³¨æ„åªéœ€è¦åŸºå› ådiff_gen &lt;- bitr(diffgen, fromType = &quot;TAIR&quot;, toType = &quot;ENTREZID&quot;, # åŸºå› IDç±»å‹TAIRè½¬æ¢ä¸ºENTREZID OrgDb = &quot;org.At.tair.db&quot;) # è¯¥å‡½æ•°æ˜¯åŸºäºorg.At.tair.dbåŒ…çš„diff_gen è¿™ä¸€æ­¥æˆ‘çš„åŸºå› IDè½¬æ¢ç‡åªæœ‰60%å·¦å³ï¼Œæœ‰å°†è¿‘ä¸€åŠçš„TAIRåŸºå› IDä¸èƒ½æˆåŠŸè½¬æ¢æˆENTREZIDï¼Œå¯èƒ½æ˜¯Gene IDçš„ç‰ˆæœ¬é—®é¢˜ï¼ŒåŒä¸€ä¸ªåŸºå› åœ¨ä¸åŒç‰ˆæœ¬genecodeä¸­ç»“æœä¸ä¸€æ ·ï¼Œä¸‹è½½çš„æ³¨é‡Šæ–‡ä»¶åŸå§‹ç‰ˆæœ¬æˆ‘è¿™é‡Œæ‰¾ä¸åˆ°äº†â€¦æš‚æ—¶æ— æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚åªèƒ½ä¸è½¬æ¢åŸºå› IDå…ˆè·‘ä¸€éGO&#x2F;KEGGå¯Œé›†åˆ†æã€‚ çœ‹äº†å¾ˆå¤šæ•™ç¨‹éƒ½è¯´clusterProfileréœ€è¦çš„IDç±»å‹æ˜¯ENTREZIDï¼Œè¿™é‡Œæˆ‘æŒæ€€ç–‘æ€åº¦ï¼Œä¸è½¬æ¢åç»­ä¹Ÿèƒ½å¾—åˆ°ç»“æœï¼Œæˆ‘çœ‹äº†å‡½æ•°enrichGO()é»˜è®¤çš„åŸºå› IDæ˜¯ENTREZIDå¹¶ä¸ä»£è¡¨ä¸èƒ½æ”¹å˜ï¼Œæœ‰å¯èƒ½æ˜¯è¯¯ä¼ ã€‚æŸ¥é˜…äº†ä¸€äº›èµ„æ–™ï¼Œç®€å•æ¥è¯´Entrez IDæ˜¯æ¥è‡ªäºNCBIæ——ä¸‹Entrez geneæ•°æ®åº“çš„ç¼–å·ç³»ç»Ÿï¼ŒåŸºå› ç¼–å·ç³»ç»Ÿä¹‹é—´æ˜¯å¯ä»¥ç›¸äº’è½¬æ¢çš„ï¼Œè¿™äº›IDå¯ä»¥åœ¨å¯¹åº”çš„æ•°æ®åº“æ‰¾åˆ°åŸºå› æ³¨é‡Šä¿¡æ¯ï¼Œå°±æ˜¯è¯´ä¹Ÿå¯ä»¥åœ¨ç½‘é¡µä¸Šæ‰‹åŠ¨æ³¨é‡Šã€‚ 2.2 GO&#x2F;KEGGåˆ†æ123456789101112131415161718192021library(&quot;clusterProfiler&quot;)# GOå¯Œé›†åˆ†æenrich_GO &lt;- enrichGO(gene = diffgen, # åŸºå› ååˆ—è¡¨ OrgDb = &#x27;org.At.tair.db&#x27;, # è¾“å…¥OrgDbæ•°æ®åº“ï¼ˆæ³¨é‡Šå¯¹è±¡ä¿¡æ¯ï¼‰ keyType = &#x27;TAIR&#x27;, # è¾“å…¥çš„åŸºå› åIDç±»å‹ ont = &#x27;ALL&#x27;, # è¾“å‡ºçš„GOåˆ†ç±» pAdjustMethod = &#x27;fdr&#x27;, pvalueCutoff = 0.05, qvalueCutoff = 0.2, readable = TRUE)GO_result &lt;- enrich_GO@resultwrite.table(GO_result, &#x27;GO_result.csv&#x27;, sep = &#x27;,&#x27;, quote = FALSE, row.names = FALSE)# KEGGå¯Œé›†åˆ†æenrich_KEGG &lt;- enrichKEGG(gene = diffgen, keyType = &quot;kegg&quot;, organism = &quot;ath&quot;, # è¾“å…¥çš„ç‰©ç§å pvalueCutoff = 0.05, qvalueCutoff = 0.2)KEGG_result &lt;- enrich_KEGG@resultwrite.table(KEGG_result, &#x27;KEGG_result.csv&#x27;, sep = &#x27;,&#x27;, quote = FALSE, row.names = FALSE) clusterProfilerè¿™ä¸ªåŒ…è¿›è¡ŒGOå’ŒKEGGå¯Œé›†åˆ†æå°±è¿™ä¸¤ä¸ªå‡½æ•° è¿™é‡Œæˆ‘çš„GOåªå¯Œé›†åˆ°ä¸¤æ¡ç»†èƒç»„åˆ†çš„å†…å®¹ï¼š è¯´ä¸€ä¸‹å„åˆ—ä»£è¡¨çš„æ„æ€ï¼š ONTOLOGY GOåˆ†ç±»BPï¼ˆç”Ÿç‰©å­¦è¿‡ç¨‹ï¼‰ã€CCï¼ˆç»†èƒç»„åˆ†ï¼‰æˆ–MFï¼ˆåˆ†å­åŠŸèƒ½ï¼‰ ID å¯Œé›†åˆ°çš„GO idå· Description å¯Œé›†åˆ°çš„GOæè¿° GeneRatioå’ŒBgRatio åˆ†åˆ«ä¸ºå¯Œé›†åˆ°è¯¥GOæ¡ç›®ä¸­çš„åŸºå› æ•°ç›®&#x2F;ç»™å®šåŸºå› çš„æ€»æ•°ç›®ï¼Œä»¥åŠè¯¥æ¡ç›®ä¸­èƒŒæ™¯åŸºå› æ€»æ•°ç›®&#x2F;è¯¥ç‰©ç§æ‰€æœ‰å·²çŸ¥çš„GOåŠŸèƒ½åŸºå› æ•°ç›® pvalueã€p.adjustå’Œqvalue på€¼ã€æ ¡æ­£åpå€¼å’Œqå€¼ä¿¡æ¯ geneIDå’ŒCountï¼Œå¯Œé›†åˆ°è¯¥GOæ¡ç›®ä¸­çš„åŸºå› åç§°å’Œæ•°ç›® KEGGå¯Œé›†åˆ†æç»“æœè¡¨å¦‚ä¸‹ï¼š IDå’ŒDescription åˆ†åˆ«ä»£è¡¨å¯Œé›†åˆ°KEGGçš„IDå’Œæè¿°ï¼Œå…¶ä»–å’ŒGOå¯Œé›†éƒ½ç±»ä¼¼ KEGGå¯Œé›†åˆ†æçš„æ—¶å€™æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼Œè¾“å…¥çš„organismåç§°éœ€è¦åœ¨å®˜ç½‘çš„KEGG Organismsåˆ—è¡¨ä¸­èƒ½æ‰¾åˆ°ï¼Œå¦åˆ™æ˜¯ä¸èƒ½è¿›è¡Œåˆ†æçš„ï¼ç‚¹å‡»è¿™é‡Œè¿›å…¥KEGG Organisms: Complete Genomes è¿˜å‘ç°ä¸€ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜ï¼Œæˆ‘åœ¨å®˜ç½‘çš„Organismsåˆ—è¡¨èƒ½æ‰¾åˆ°æ‹Ÿå—èŠ¥Arabidopsis thalianaï¼Œä½†æ˜¯åœ¨ä¸Šé¢çš„å‡½æ•°ä¸­å¯¹å‚æ•°èµ‹å€¼organism = &quot;Arabidopsis thaliana&quot;ä¼šæ˜¾ç¤ºHTTP 400é”™è¯¯ï¼Œä¹Ÿå°±æ˜¯å‘å‡ºçš„urlè¯·æ±‚æœ‰é—®é¢˜ï¼Œä½†æ˜¯è¾“å…¥organism = &quot;ath&quot;ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä»¥åæ³¨æ„å†™ç¼©å†™å§ï¼ˆåº”è¯¥æ˜¯åªæœ‰ç¼©å†™æ‰è¡Œï¼Œä¼šé€šè¿‡è”ç½‘è‡ªåŠ¨è·å–è¯¥ç‰©ç§çš„pathwayæ³¨é‡Šä¿¡æ¯ï¼‰ã€‚ 3. å¯è§†åŒ–clusterProfileråŒ…è¿˜æä¾›äº†GO&#x2F;KEGGå¯Œé›†ç»“æœçš„å¯è§†åŒ–æ–¹æ¡ˆï¼Œæ­¤å¤„ä»£ç å‚è€ƒCSDNï¼Œä½œè€…ï¼šTianå• è¿™é‡Œå› ä¸ºæˆ‘çš„GOç»“æœä¸å¥½ï¼Œåªç®€å•å†™ä¸€ä¸‹æµç¨‹ï¼Œè¯¦ç»†ä½œå›¾å‡½æ•°å‚æ•°ä½¿ç”¨æ–¹æ³•å’Œæ•ˆæœåŒæ ·å¯ä»¥å‚è€ƒä¸Šé¢çš„é“¾æ¥~ 12345678910111213141516171819202122232425## GOå¯Œé›†åˆ†æå¯è§†åŒ–#barplotbarplot(enrich_GO, showCategory = 10)#dotplotdotplot(enrich_GO, showCategory = 10)#DAGæœ‰å‘æ— ç¯å›¾plotGOgraph(enrich_GO) #çŸ©å½¢ä»£è¡¨å¯Œé›†åˆ°çš„top10ä¸ªGO terms, é¢œè‰²ä»é»„è‰²è¿‡æ»¤åˆ°çº¢è‰²ï¼Œå¯¹åº”på€¼ä»å¤§åˆ°å°ã€‚#igraphå¸ƒå±€çš„DAGgoplot(enrich_GO)#GO termså…³ç³»ç½‘ç»œå›¾ï¼ˆé€šè¿‡å·®å¼‚åŸºå› å…³è”ï¼‰emapplot(enrich_GO, showCategory = 30)#GO termä¸å·®å¼‚åŸºå› å…³ç³»ç½‘ç»œå›¾cnetplot(enrich_GO, showCategory = 5)## KEGGå¯Œé›†åˆ†æå¯è§†åŒ–#barplotbarplot(enrich_KEGG, showCategory = 10)#dotplotdotplot(enrich_KEGG, showCategory = 10)#pathwayå…³ç³»ç½‘ç»œå›¾ï¼ˆé€šè¿‡å·®å¼‚åŸºå› å…³è”ï¼‰emapplot(enrich_KEGG, showCategory = 30)#pathwayä¸å·®å¼‚åŸºå› å…³ç³»ç½‘ç»œå›¾cnetplot(enrich_KEGG, showCategory = 5)#pathwayæ˜ å°„browseKEGG(enrich_KEGG, &quot;ath03060&quot;) #åœ¨pathwayé€šè·¯å›¾ä¸Šæ ‡è®°å¯Œé›†åˆ°çš„åŸºå› ï¼Œä¼šå¼¹å‡ºé¡µé¢é“¾æ¥åˆ°KEGGå®˜ç½‘ å…³äºGO&#x2F;KEGGå¯Œé›†åˆ†æï¼Œè¿˜æœ‰éå¸¸å¤šçš„æ“ä½œå’Œåº”ç”¨ï¼Œæˆ‘åªæ˜¯ç®€å•åšä¸ªæœ€åŸºç¡€çš„å¯Œé›†åˆ†æçš„å­¦ä¹ ï¼Œæ²¡æœ‰æ¶‰åŠåˆ°æ‰‹åŠ¨æ³¨é‡Šï¼Œæ„å»ºorgdbç­‰ç­‰æ›´å¤šæ“ä½œã€‚ç”µè„‘å¿«æ²¡ç”µäº†ï¼Œè¿™ç¯‡ç¬”è®°å…ˆæš‚æ—¶è®°è¿™äº›ï¼Œä»¥åéœ€è¦ç”¨åˆ°å†è¡¥å……~","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"AnnotationHub","slug":"AnnotationHub","permalink":"http://www.shelven.com/tags/AnnotationHub/"},{"name":"GO/KEGG","slug":"GO-KEGG","permalink":"http://www.shelven.com/tags/GO-KEGG/"},{"name":"org.At.tair.db","slug":"org-At-tair-db","permalink":"http://www.shelven.com/tags/org-At-tair-db/"}]},{"title":"è§†é¢‘ä¸€é”®è½¬å­—ç¬¦åŠ¨ç”»â€”â€”pythonå‡½æ•°å°è£…å’Œè°ƒç”¨ç»ƒä¹ ","slug":"è§†é¢‘ä¸€é”®è½¬å­—ç¬¦åŠ¨ç”»â€”â€”pythonå‡½æ•°å°è£…å’Œè°ƒç”¨ç»ƒä¹ ","date":"2022-05-07T17:43:17.000Z","updated":"2022-12-03T16:25:24.000Z","comments":true,"path":"2022/05/08/a.html","link":"","permalink":"http://www.shelven.com/2022/05/08/a.html","excerpt":"æ£é¼“äº†å‡ å¤©pythonä»£ç ï¼Œæˆ‘ç°åœ¨ä¹Ÿè¶Šæ¥è¶Šå‘ç°pythonçš„é­…åŠ›æ‰€åœ¨ï¼Œå®ƒçš„å¼ºå¤§ä¹‹å¤„åœ¨äºæœ‰éå¸¸å¤šçš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥éšæ„è°ƒç”¨ã€‚æˆ‘ä¸éœ€è¦çŸ¥é“è¿™äº›ç¬¬ä¸‰æ–¹åº“å„ç§å‡½æ•°çš„å®ç°æ–¹å¼ï¼Œåªè¦çŸ¥é“è¿™äº›å‡½æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Œèƒ½å¾—åˆ°ä»€ä¹ˆç»“æœã€‚åªè¦æ„æ€å¥½è‡ªå·±çš„æƒ³æ³•ï¼Œæ‰¾åˆ°å¯¹åº”çš„åº“å°±å¯ä»¥ä¸€æ­¥æ­¥æŒ‰ç…§æˆ‘çš„æ€è·¯ç¼–å†™ç¨‹åºï¼Œå®ç°æˆ‘æƒ³è¦çš„ç»“æœï¼Œæ•´ä¸ªæ„æ€åˆ°å®ç°çš„è¿‡ç¨‹è®©æˆ‘éå¸¸æ„‰æ‚¦~","text":"æ£é¼“äº†å‡ å¤©pythonä»£ç ï¼Œæˆ‘ç°åœ¨ä¹Ÿè¶Šæ¥è¶Šå‘ç°pythonçš„é­…åŠ›æ‰€åœ¨ï¼Œå®ƒçš„å¼ºå¤§ä¹‹å¤„åœ¨äºæœ‰éå¸¸å¤šçš„ç¬¬ä¸‰æ–¹åº“å¯ä»¥éšæ„è°ƒç”¨ã€‚æˆ‘ä¸éœ€è¦çŸ¥é“è¿™äº›ç¬¬ä¸‰æ–¹åº“å„ç§å‡½æ•°çš„å®ç°æ–¹å¼ï¼Œåªè¦çŸ¥é“è¿™äº›å‡½æ•°æœ‰ä»€ä¹ˆä½œç”¨ï¼Œèƒ½å¾—åˆ°ä»€ä¹ˆç»“æœã€‚åªè¦æ„æ€å¥½è‡ªå·±çš„æƒ³æ³•ï¼Œæ‰¾åˆ°å¯¹åº”çš„åº“å°±å¯ä»¥ä¸€æ­¥æ­¥æŒ‰ç…§æˆ‘çš„æ€è·¯ç¼–å†™ç¨‹åºï¼Œå®ç°æˆ‘æƒ³è¦çš„ç»“æœï¼Œæ•´ä¸ªæ„æ€åˆ°å®ç°çš„è¿‡ç¨‹è®©æˆ‘éå¸¸æ„‰æ‚¦~ 1. å‰è¨€å†™è¿™ç¯‡åšå®¢çº¯ç²¹æ˜¯ä¸ªäººçˆ±å¥½ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªå·§åˆ~ å‰å‡ å¤©åˆ·bç«™çœ‹åˆ°æœ‰äººåšäº†ä¸ªå‰ªå½±çš„å­—ç¬¦åŠ¨ç”»ï¼Œæˆ‘å°±å¾ˆå¥½å¥‡pythonæ˜¯å¦å¯ä»¥å®ç°ã€‚å‚è€ƒäº†ä¸€ä¸‹githubä¸Šå¤§ä½¬ä»¬çš„å›¾ç‰‡è½¬å­—ç¬¦ç”»çš„ä»£ç ï¼Œå¯¹è¿™äº›ä»£ç åšäº†ç‚¹æ·±å…¥ç ”ç©¶ï¼Œæ€»ç®—ææ˜ç™½äº†å…¶å®ç°æ–¹å¼ï¼Œå¹¶ä¸”è‡ªå·±åŠ¨æ‰‹ä¿®æ”¹ä»£ç ï¼Œåœ¨åŸæœ‰åŸºç¡€ä¸Šæ”¹äº†å‡ ä¸ªbugï¼Œæ–°å¢å‡ ä¸ªæ¨¡å—çš„è°ƒç”¨ï¼Œæœ€åä¸€æ­¥å°è£…å†™æˆäº†ä¸‹é¢è¿™ä¸ªè„šæœ¬ã€‚è¿™ä¸ªè„šæœ¬çš„åŠŸèƒ½æ˜¯åªè¦è¾“å…¥è§†é¢‘æ–‡ä»¶å’Œä½ æƒ³è¦çš„è§†é¢‘å¸§ç‡ï¼Œå°±å¯ä»¥è‡ªåŠ¨å°†è§†é¢‘è½¬åŒ–ä¸ºå­—ç¬¦åŠ¨ç”»ã€‚ å¯ä»¥å…ˆçœ‹ä¸€ä¸‹è§†é¢‘æ•ˆæœ~ æˆ–è€…ç‚¹å‡»è¿™é‡Œè¿›å…¥bç«™è§‚çœ‹ Your browser does not support the video tag. 2. å®ç°æ€è·¯ è°ƒç”¨ffmpegæ ¹æ®å¸§ç‡å°†è§†é¢‘åˆ‡å‰²æˆå›¾ç‰‡ è°ƒç”¨pillowåº“ä½œå›¾ï¼Œæ¯å¼ å›¾ç‰‡è½¬æ¢å­—ç¬¦ç”» è°ƒç”¨ffmpegåˆå¹¶å­—ç¬¦ç”»å¹¶è¾“å‡ºåŠ¨ç”» 3. è„šæœ¬ä»£ç åŠè¯¦è§£æ€è·¯å¾ˆæ¸…æ™°ï¼Œæ¥ä¸‹æ¥æ˜¯å†™ä»£ç å®ç°çš„è¿‡ç¨‹ï¼Œç»†èŠ‚æ–¹é¢éœ€è¦è°ƒç”¨å…¶ä»–åº“ 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182from PIL import Image, ImageDraw, ImageFont # pillowåº“ä½œå›¾import subprocess # æ‰§è¡Œå‘½ä»¤è¡Œå‘½ä»¤ï¼Œä¸ºäº†è°ƒç”¨ffmpegimport sysimport os # æ“ä½œç›®å½•ç”¨import shutil # åˆ é™¤ç›®å½•ç”¨import numpy as np # è½¬åŒ–numpyæ•°ç»„import gc # ä¼˜åŒ–è¿è¡Œå†…å­˜ç”¨åˆ°# å®šä¹‰è¾“å…¥å€¼ï¼Œè¿™ä¸ªè„šæœ¬éœ€è¦ä¸¤ä¸ªè¾“å…¥å€¼ï¼šfile_inputå’ŒFPSfile_input = sys.argv[1]FPS = sys.argv[2]def do_turn(file_input, FPS): # è°ƒç”¨ffmpegåˆ‡å‰²è§†é¢‘ os.makedirs(&quot;tempfile/cut/&quot;) # å½“å‰ç›®å½•æ–°å»ºå­˜æ”¾åˆ‡å‰²å›¾ç‰‡çš„ä¸´æ—¶æ–‡ä»¶å¤¹ shell_vedio = &quot;ffmpeg -i &quot; + file_input + &quot; -r &quot; + FPS + &quot; -qscale:v 2 ./tempfile/cut/%05d.jpg&quot; # æŒ‰ç…§XXXXXåºå·åˆ‡å‰² shell_voice = &quot;ffmpeg -i &quot; + file_input + &quot; ./tempfile/out.mp3&quot; subprocess.call(shell_vedio, shell=True) # åˆ‡å‰²è§†é¢‘ subprocess.call(shell_voice, shell=True) # åˆ†ç¦»éŸ³é¢‘ count =0 for file in os.listdir(&quot;./tempfile/cut/&quot;): count += 1 print(&quot;æˆåŠŸåˆ†ç¦»éŸ³é¢‘ï¼Œæˆªå›¾å¼€å§‹è½¬æ¢å­—ç¬¦ç”»......&quot; + &quot;å…±è®¡&quot; + str(count) + &quot;å¼ &quot;) # ç»Ÿè®¡åˆ‡å‰²å›¾å¼ æ•° # å›¾ç‰‡è½¬æ¢å­—ç¬¦ç”» list_p = os.listdir(&quot;./tempfile/cut/&quot;) cwd = os.getcwd() os.mkdir(&quot;./tempfile/new/&quot;) # æ–°å»ºå­˜æ”¾å­—ç¬¦ç”»çš„ä¸´æ—¶æ–‡ä»¶å¤¹ process = 1 # ç»Ÿè®¡å®Œæˆè½¬æ¢çš„å­—ç¬¦ç”»æ•°é‡ for id in list_p: # éå†cutæ–‡ä»¶å¤¹æ‰€æœ‰åˆ‡å‰²åçš„å›¾ç‰‡åšå­—ç¬¦ç”»è½¬æ¢ address = str(&quot;&quot;.join(cwd + &#x27;/tempfile/cut/&#x27; + id)) # æ‹¼æ¥æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ im = Image.open(address) # è°ƒç”¨imageæ‰“å¼€å›¾ç‰‡ font = ImageFont.truetype(&quot;DejaVuSans-Bold&quot;, size=20) # å­—ä½“æ¨¡å¼ï¼Œå¯æ›´æ”¹ rate = 0.1 # ç¼©æ”¾æ¯”ï¼ˆä¸è°ƒæ•´çš„è¯åƒç´ ç‚¹è¿‡å¤šï¼Œè¿™é‡Œç»Ÿä¸€è°ƒæ•´ï¼‰ aspect_ratio = font.getsize(&quot;x&quot;)[0] / font.getsize(&quot;x&quot;)[1] # è·å¾—å­—ç¬¦é•¿å®½æ¯” new_im_size = np.array([im.size[0] * rate, im.size[1] * rate * aspect_ratio]).astype(int) # è½¬æ¢numpyæ•°ç»„ï¼Œè°ƒæ•´å¤§å° im = im.resize(new_im_size) im = np.array(im.convert(&quot;L&quot;)) # è½¬æ¢ç°é˜¶å›¾ï¼Œç”Ÿæˆnumpyæ•°ç»„ symbols = np.array(list(&quot; .-vM@&quot;)) # å»ºç«‹å­—ç¬¦ç´¢å¼•ï¼Œæ³¨æ„è¦æŒ‰ç…§äº®åº¦æ‰‹åŠ¨æ’åº if im.max() == im.min(): # å…¨é»‘å’Œå…¨æ˜¯ä¸€ç§é¢œè‰²è¿›è¡ŒåŒºåˆ† if im.max() &gt; 0: # å…¨æ˜¯ä¸€ç§é¢œè‰²ï¼Œäº®åº¦å€¼å¤§äº0ï¼Œåˆ™å…¨éƒ¨ç”¨æœ€äº®çš„å­—ç¬¦æ•°å€¼ im = (im / im) * (symbols.size - 1) else: im[np.isnan(im)] = 0 # å…¨é»‘æ—¶äº®åº¦å€¼ä¸ºNaN(éæ•°å€¼)ï¼Œåˆ™å…¨éƒ¨ç”¨æœ€æš—å­—ç¬¦çš„å­—ç¬¦æ•°å€¼ï¼Œä¹Ÿå°±æ˜¯å…¨é»‘ else: im = (im - im.min()) / (im.max() - im.min()) * (symbols.size - 1) # æ ¹æ®ç´¢å¼•èµ‹äºˆç›¸åº”åƒç´ ç‚¹ç›¸åº”çš„æ•°å€¼ ascii = symbols[im.astype(int)] letter_size = font.getsize(&quot;x&quot;) # è·å–å­—ç¬¦å¤§å°ï¼Œä¸å‰é¢ä¸€å®šè¦å¯¹åº” im_out_size = new_im_size * letter_size # è¿™é‡Œä¹˜ä»¥å­—ç¬¦é•¿å®½ï¼Œå¦åˆ™å­—ç¬¦åªæœ‰ä¸€ä¸ªåƒç´ ç‚¹å¤§å° im_out = Image.new(&quot;RGB&quot;, tuple(im_out_size), &quot;black&quot;) # è®¾ç½®è¾“å‡ºå›¾ç‰‡ï¼ŒèƒŒæ™¯ draw = ImageDraw.Draw(im_out) y = 0 # ä¸¤ä¸ªå¾ªç¯ç©·ä¸¾èµ‹å€¼ï¼Œåšå­—ç¬¦ç”»å›¾ç‰‡ for i, m in enumerate(ascii): for j, n in enumerate(m): draw.text((letter_size[0] * j, y), n, font=font) y += letter_size[1] # æ³¨æ„+=ï¼Œè¿™é‡Œèµ‹å€¼å­—ç¬¦å®½åº¦ç»™yå€¼ im_out.save(&quot;./tempfile/new/&quot; + id + &quot;.png&quot;) # å®šä¹‰è¾“å‡ºä½ç½®å’Œå›¾ç‰‡æ ¼å¼ print(address + &quot;è½¬æ¢æˆåŠŸï¼å½“å‰è¿›åº¦ï¼š&quot; + str(process) + &quot;/&quot; + str(count)) # æ˜¾ç¤ºè¿›åº¦ process += 1 gc.collect() # é‡è¦ï¼æ¯æ¬¡å¾ªç¯ç»“æŸé‡Šæ”¾ä¸€æ¬¡å†…å­˜ï¼Œå¦åˆ™å®¹æ˜“å†…å­˜æº¢å‡º print(&quot;è½¬æ¢æˆåŠŸï¼å¼€å§‹ç”Ÿæˆè§†é¢‘ï¼Œè¯·ç¨å€™......&quot;) # è°ƒç”¨ffmpegåˆå¹¶å­—ç¬¦ç”»ä¸ºè§†é¢‘ï¼Œå¹¶ä¸”åˆå¹¶åˆ†ç¦»çš„éŸ³é¢‘ outvedio = &quot;ffmpeg -r &quot; + FPS + &quot; -i ./tempfile/new/%05d.jpg.png ./tempfile/out.mp4&quot; subprocess.call(outvedio, shell=True) final_vedio = &quot;ffmpeg -i ./tempfile/out.mp4 -i ./tempfile/out.mp3 final.mp4&quot; subprocess.call(final_vedio, shell=True) shutil.rmtree(&quot;./tempfile&quot;) # åˆ é™¤ä¸´æ—¶æ–‡ä»¶å¤¹ print(&quot;å­—ç¬¦åŠ¨ç”»final.mp4å·²ç”Ÿæˆ!å·²ç§»é™¤ä¸´æ—¶æ–‡ä»¶å¤¹&quot;)# è¾“å…¥æ ¼å¼é”™è¯¯åˆ™æ˜¾ç¤ºè¯¥æ¡ç”¨æ³•def usage(): print(&quot;usage:&quot;, sys.argv[0], &quot;&lt;file_input&gt; &lt;FPS&gt;&quot;) exit(0)if __name__ == &quot;__main__&quot;: # å°è£…ï¼Œåªæœ‰åœ¨æ–‡ä»¶ä½œä¸ºè„šæœ¬ç›´æ¥æ‰§è¡Œæ—¶åé¢çš„è¯­å¥æ‰ä¼šè¢«æ‰§è¡Œï¼Œè€Œ import åˆ°å…¶ä»–è„šæœ¬ä¸­åé¢çš„è¯­å¥æ˜¯ä¸ä¼šè¢«æ‰§è¡Œçš„ if len(sys.argv) != 3: # åˆ¤æ–­è¾“å…¥çš„å€¼æ˜¯å¦ä¸ºä¸¤ä¸ªï¼Œæ²¡é”™ï¼Œæ˜¯åˆ¤æ–­ä¸¤ä¸ª usage() else: do_turn(file_input, FPS) 4. æ³¨æ„è¦ç‚¹è°ƒç”¨numpyæ¨¡å—ç”Ÿæˆæ•°ç»„ï¼Œæ˜¯å› ä¸ºpythonæœ¬èº«è™½ç„¶å¯ä»¥å»ºç«‹å¤šç»´åº¦çš„æ•°ç»„ï¼Œä½†æ˜¯ä¹¦å†™èµ·æ¥éå¸¸éº»çƒ¦ã€‚numpyå¯ä»¥å¾ˆå¥½åœ°è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¯ä»¥ç†è§£ä¸ºèƒ½æ„å»ºä¸€ä¸ªæ›´å¥½ç”¨çš„æ•°ç»„ã€‚åœ¨å¯¹æ•°ç»„è¿›è¡Œéå†ç©·ä¸¾ï¼Œè¦æ³¨æ„ä¸¤æ¬¡ç©·ä¸¾åˆ†åˆ«ç”Ÿæˆä¸¤ä¸ªæ•°ç»„ï¼Œç¬¬äºŒæ¬¡ç”Ÿæˆçš„æ•°ç»„åªæœ‰ä¸€ä¸ªæ•°ï¼Œæ‰€ä»¥ä¸‹é¢draw.textç¬¬äºŒä¸ªå‚æ•°textå¯ä»¥ç”¨nï¼Œä¹Ÿå¯ä»¥ç”¨n[0]åˆ—ä¸¾ç¬¬ä¸€ä¸ªæ•°ã€‚ 12345y = 0 for i, m in enumerate(ascii): # è¿™é‡Œiæ˜¯ç”¨ä¸åˆ°çš„ for j, n in enumerate(m): draw.text((letter_size[0] * j, y), n, font=font) # ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ç¡®å®šåæ ‡ y += letter_size[1] å­—ç¬¦å¤§å°ï¼Œå­—ç¬¦æ ¼å¼ï¼Œä»¥ä»€ä¹ˆå­—ç¬¦ä¸ºå‚ç…§ï¼Œéƒ½æ˜¯å¯ä»¥è°ƒæ•´çš„ã€‚åªè¦æ³¨æ„ä¸€ç‚¹ï¼Œæˆ‘ä»¬æ˜¯æŒ‰ç…§åƒç´ ç‚¹çš„äº®åº¦æ¥èµ‹äºè¿™ä¸ªåƒç´ ç‚¹ç”¨ä»€ä¹ˆå­—ç¬¦çš„ï¼Œæ‰€ä»¥ç´¢å¼•åˆ—æ¯”è¾ƒé‡è¦ï¼Œè¦è‡ªå·±æŒ‰ç…§å­—ç¬¦äº®åº¦æ’åºï¼Œæ·»åŠ å­—ç¬¦æ³¨æ„æ”¹å€¼ã€‚ 1symbols = np.array(list(&quot; .-vM@&quot;)) # å¯ä»¥æ”¹æˆè‡ªå·±æƒ³è¦ç”¨çš„å­—ç¬¦ï¼Œæ³¨æ„æŒ‰ç…§äº®åº¦å‡åº è¿˜æœ‰ï¼Œåœ¨è®¡ç®—äº®åº¦å’Œèµ‹äºˆç´¢å¼•å€¼çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯æŒ‰ç…§ç›¸å¯¹äº®åº¦æ¥è®¡ç®—çš„ã€‚å› æ­¤ï¼Œå½“å›¾ç‰‡æ‰€æœ‰åƒç´ ç‚¹éƒ½æ˜¯ä¸€ç§é¢œè‰²çš„æ—¶å€™ï¼Œim.max() å’Œ im.min()å€¼æ˜¯ç›¸ç­‰çš„ï¼Œç›¸å¯¹äº®åº¦ä¼šå‡ºç°0&#x2F;0çš„å€¼ï¼Œå¯¼è‡´æŠ¥é”™ã€‚æ‰€ä»¥æˆ‘åŠ äº†ä»¥ä¸‹åˆ¤æ–­æ¡ä»¶ï¼šçº¯è‰²é»‘è‰²å’Œå…¶ä»–é¢œè‰²å±äºä¸¤ç§ä¸åŒæƒ…å†µï¼Œé»‘è‰²æ—¶numpyæ•°ç»„äº®åº¦æ˜¯éæ•°å€¼NaNï¼Œéœ€è¦å°†æ•°ç»„å…¨éƒ¨å€¼è¿›è¡Œæ›¿æ¢ä¸ºäº®åº¦æœ€å°çš„å­—ç¬¦çš„å€¼ï¼›å› ä¸ºæ˜¯RGBå–å€¼ï¼Œå…¶ä»–é¢œè‰²å€¼å›ºå®šåœ¨0-255ä¹‹é—´ï¼Œé¢œè‰²å‡ä¸€ï¼Œç›¸å¯¹äº®åº¦å°±æ²¡æœ‰æ„ä¹‰äº†ï¼Œå› æ­¤å…¨éƒ¨è°ƒæ•´ä¸ºæœ€äº®å­—ç¬¦çš„å€¼ã€‚ 1234567if im.max() == im.min(): if im.max() &gt; 0: im = (im / im) * (symbols.size - 1) else: im[np.isnan(im)] = 0else: im = (im - im.min()) / (im.max() - im.min()) * (symbols.size - 1) é¡ºä¾¿å†è¯´ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„æ¨¡å—subprocessï¼Œsubprocess.call()å‡½æ•°å¯ä»¥æ‰§è¡Œå‘½ä»¤è¡Œçš„å‘½ä»¤ï¼Œå¹¶ä¸”è¿™ä¸ªå‘½ä»¤æ˜¯åœ¨å­è¿›ç¨‹å®è¡Œçš„ï¼Œåªæœ‰å­ç¨‹åºç»“æŸæ‰ä¼šç»§ç»­æ‰§è¡Œå…¶ä»–å‘½ä»¤ï¼Œä½¿ç”¨èµ·æ¥çœŸçš„ç‰¹åˆ«æ–¹ä¾¿ï¼æ¯”å¦‚æœ‰äº›ç¨‹åºæˆ‘çš„pythonåº“é‡Œæ²¡æœ‰ä½†æ˜¯æˆ‘çš„linuxé‡Œæœ‰ï¼Œåœ¨pythonè„šæœ¬çš„æŸä¸€æ­¥æˆ‘éœ€è¦ç”¨åˆ°linuxé‡Œçš„è½¯ä»¶å»å¤„ç†ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥è°ƒç”¨subprocess.call()å‡½æ•°å»æ‰§è¡Œlinuxå‘½ä»¤è¡Œçš„å‘½ä»¤äº†ã€‚ è¿˜æœ‰ä¸€ä¸ªå‡½æ•°è™½ç„¶ä¸æ˜¾çœ¼ï¼Œä½†æ˜¯èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ gc.collect() æ²¡æœ‰è¿™ä¸ªå‡½æ•°éƒ¨åˆ†è¿è¡Œå†…å­˜ä¸å¤Ÿçš„ç”µè„‘ä¼šå´©â€¦â€¦æˆ‘åœ¨è¿™é‡Œè¸©äº†ä¸ªå¤§å‘â€¦â€¦ åœ¨å¯¹ç¨‹åºè¿›è¡Œç®€åŒ–ä»¥åï¼Œæˆ‘ä»¥ä¸ºä¼˜åŒ–åœ°å·®ä¸å¤šäº†ï¼Œç„¶åå‘ç°æœ‰çš„æ—¶å€™ç¨‹åºä¼šè¢«è«åå…¶å¦™killedâ€¦â€¦ vi /var/log/messages æŸ¥çœ‹è¿è¡Œæ—¥å¿—ï¼Œå¥½å®¶ä¼™ï¼Œå†…å­˜æº¢å‡ºäº† ç»è¿‡ä¸€ç•ªåº¦å¨˜ï¼Œæˆ‘æ£€æŸ¥äº†ä¸€ä¸‹è‡ªå·±ä¹Ÿæ²¡æœ‰ç”¨åˆ°å¾ªç¯å¼•ç”¨çš„å˜é‡å•Šï¼Œé‚£ä¹ˆçœŸç›¸åªæœ‰ä¸€ä¸ªäº†ï¼šè½¬æ¢å­—ç¬¦ç”»éƒ¨åˆ†ç¨‹åºæœ‰3ä¸ªforå¾ªç¯åµŒå¥—ï¼Œå¯èƒ½æ˜¯forå¾ªç¯å¼•ç”¨çš„å¯¹è±¡æ²¡æœ‰åŠæ—¶å›æ”¶å¯¼è‡´å†…å­˜ä¸æ–­å¢é•¿ï¼Œæœ€åè¢«ç³»ç»Ÿkillæ‰ï¼ˆä¸ªäººçŒœæµ‹ï¼‰ã€‚è™½ç„¶pythonæœ¬èº«æœ‰åƒåœ¾å›æ”¶åŠŸèƒ½ï¼Œè€Œåœ¨ç¨‹åºè¿è¡Œçš„æ—¶å€™æ¸…ç†åœ°å¹¶ä¸æ˜¯å¾ˆåŠæ—¶ï¼Œå¼•å…¥çš„gcæ¨¡å—æ˜¯pythonçš„åƒåœ¾æ”¶é›†å™¨æ¨¡å—ï¼Œä¸é»˜è®¤çš„å›æ”¶æ–¹å¼ç®—æ³•ä¸åŒï¼Œgc.collect()å‡½æ•°å¯ä»¥å¼ºåˆ¶è¿›è¡Œåƒåœ¾å›æ”¶ã€‚å› æ­¤æˆ‘åœ¨æ¯ä¸ªè½¬åŒ–å­—ç¬¦ç”»çš„forå¾ªç¯æ‰§è¡Œä¸€æ¬¡ç»“æŸåå¼ºåˆ¶å›æ”¶å†…å­˜ï¼Œå¦‚ä¸‹ï¼š æ•ˆæœæ˜¯ç«‹ç«¿è§å½±çš„ï¼Œå†…å­˜å ç”¨å†ä¹Ÿæ²¡è¶…è¿‡5%äº†ï¼Œéå¸¸çš„ç¨³å®šï¼ 5. é£Ÿç”¨æ–¹æ³•ç¼ºä»€ä¹ˆç¬¬ä¸‰æ–¹åº“å°±è£…ä»€ä¹ˆï¼Œä¸»è¦æ˜¯pillowåº“ã€numpyåº“å’Œffmpegï¼Œç”¨condaå¯ä»¥ç›´æ¥å®‰è£…ã€‚ä¸Šé¢é‚£æ®µè„šæœ¬ä»£ç å¤åˆ¶ç²˜è´´ï¼Œä¿å­˜ä¸ºascii.pyï¼Œè¿è¡Œå‘½ä»¤ï¼š python ascii.py &lt;è§†é¢‘æ–‡ä»¶&gt; &lt;ä½ æƒ³è¦çš„è§†é¢‘å¸§ç‡&gt; å›è½¦ï¼ŒOKï¼Œé™é™ç­‰å±å¹•ä¸Šçš„æç¤ºå°±å¥½äº†ã€‚è§†é¢‘æ–‡ä»¶ä¸åœ¨å½“å‰æ–‡ä»¶å¤¹çš„è¯è‡ªè¡ŒåŠ ä¸Šç»å¯¹è·¯å¾„ï¼Œå®Œæˆä»¥ååªä¼šåœ¨å½“å‰ç›®å½•ç”Ÿæˆä¸€ä¸ªout.mp4çš„è¾“å‡ºæ–‡ä»¶ã€‚ æºä»£ç å°†åŒæ­¥ä¸Šä¼ æˆ‘çš„githubã€‚","categories":[{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"},{"name":"ffmpeg","slug":"ffmpeg","permalink":"http://www.shelven.com/tags/ffmpeg/"},{"name":"numpy","slug":"numpy","permalink":"http://www.shelven.com/tags/numpy/"},{"name":"pillow","slug":"pillow","permalink":"http://www.shelven.com/tags/pillow/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ9ï¼‰â€”â€”pheatmapç»˜åˆ¶å·®å¼‚è¡¨è¾¾åŸºå› çƒ­å›¾","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ9ï¼‰â€”â€”pheatmapç»˜åˆ¶å·®å¼‚è¡¨è¾¾åŸºå› çƒ­å›¾","date":"2022-05-04T17:16:14.000Z","updated":"2022-12-03T16:30:21.000Z","comments":true,"path":"2022/05/05/a.html","link":"","permalink":"http://www.shelven.com/2022/05/05/a.html","excerpt":"å‰é¢è¯´åˆ°æ€ä¹ˆç”¨ggplotåšä¸€ä¸ªç«å±±å›¾æ¥æŸ¥çœ‹å„ä¸ªåŸºå› çš„è¡¨è¾¾æƒ…å†µï¼Œç«å±±å›¾æ˜¯ä»¥log2FCå€¼ä¸ºæ¨ªåæ ‡ï¼Œä»¥-log10ï¼ˆFDRï¼‰å€¼ä½œä¸ºçºµåæ ‡ï¼Œå°†æ‰€æœ‰çš„åŸºå› éƒ½åšäº†ç‚¹çŠ¶å›¾ã€‚è™½ç„¶èƒ½æ¯”è¾ƒç›´è§‚åœ°çœ‹åˆ°æ‰€æœ‰åŸºå› è¡¨è¾¾æƒ…å†µï¼Œä½†æˆ‘ä»¬çœŸæ­£æ„Ÿå…´è¶£çš„æ˜¯å¤„ç†åå·®å¼‚è¡¨è¾¾çš„åŸºå› ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‰é¢å¾—åˆ°çš„è¡¨è¾¾çŸ©é˜µè·å¾—å·®å¼‚è¡¨è¾¾çš„åŸºå› åï¼Œå¯¹raw countæ•°æ®è¿›è¡Œæå–å’Œå‡ä¸€åŒ–ï¼Œç„¶ååšä¸€ä¸ªå·®å¼‚åŸºå› çš„çƒ­å›¾ï¼Œèƒ½æ›´ç›´è§‚åœ°çœ‹åˆ°å·®å¼‚åŸºå› åœ¨å„ä¸ªæ ·æœ¬ä¸­çš„ä¸Šè°ƒä¸‹è°ƒæƒ…å†µã€‚","text":"å‰é¢è¯´åˆ°æ€ä¹ˆç”¨ggplotåšä¸€ä¸ªç«å±±å›¾æ¥æŸ¥çœ‹å„ä¸ªåŸºå› çš„è¡¨è¾¾æƒ…å†µï¼Œç«å±±å›¾æ˜¯ä»¥log2FCå€¼ä¸ºæ¨ªåæ ‡ï¼Œä»¥-log10ï¼ˆFDRï¼‰å€¼ä½œä¸ºçºµåæ ‡ï¼Œå°†æ‰€æœ‰çš„åŸºå› éƒ½åšäº†ç‚¹çŠ¶å›¾ã€‚è™½ç„¶èƒ½æ¯”è¾ƒç›´è§‚åœ°çœ‹åˆ°æ‰€æœ‰åŸºå› è¡¨è¾¾æƒ…å†µï¼Œä½†æˆ‘ä»¬çœŸæ­£æ„Ÿå…´è¶£çš„æ˜¯å¤„ç†åå·®å¼‚è¡¨è¾¾çš„åŸºå› ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡å‰é¢å¾—åˆ°çš„è¡¨è¾¾çŸ©é˜µè·å¾—å·®å¼‚è¡¨è¾¾çš„åŸºå› åï¼Œå¯¹raw countæ•°æ®è¿›è¡Œæå–å’Œå‡ä¸€åŒ–ï¼Œç„¶ååšä¸€ä¸ªå·®å¼‚åŸºå› çš„çƒ­å›¾ï¼Œèƒ½æ›´ç›´è§‚åœ°çœ‹åˆ°å·®å¼‚åŸºå› åœ¨å„ä¸ªæ ·æœ¬ä¸­çš„ä¸Šè°ƒä¸‹è°ƒæƒ…å†µã€‚ åšçƒ­å›¾æˆ‘ä»¬ç”¨çš„æœ€å¤šçš„RåŒ…æ˜¯pheatmapï¼Œå¯ä»¥ç›´æ¥ç”¨biocmanagerä¸‹è½½ã€‚ åé¢æ‰€æœ‰Rstudioæ“ä½œéƒ½æ˜¯åœ¨åŒä¸€ä¸ªRprojectä¸­è¿›è¡Œï¼Œå¼•ç”¨çš„å˜é‡å¦‚æœä¸ç†è§£å°±ç¿»å‰é¢çš„ç¬”è®°ï¼Œæœ€åæˆ‘ä¼šæŠŠä¸€æ•´ä¸ªè½¬å½•ç»„ä¸‹æ¸¸åˆ†æçš„Ræµç¨‹ä»£ç å†™æˆä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ åˆ°githubå¤‡ä»½ã€‚ 1. çƒ­å›¾ä»‹ç»åºŸè¯ä¸å¤šè¯´ï¼Œå…ˆä¸Šä¸€æ®µçƒ­å›¾çš„å®šä¹‰ä»‹ç»ï¼šçƒ­å›¾æ˜¯ç”¨æ¥å¯¹é‡‡é›†çš„å› å­å“åº”å¼ºåº¦æˆ–å…¶ä»–çš„ä¸€äº›å› ç´ è¿›è¡Œå‡ä¸€åŒ–ï¼Œä»è€Œåˆ©ç”¨é¢œè‰²æ¡çš„å˜åŒ–æ¥ç›´è§‚åœ°è¡¨ç¤ºä¸åŒæ ·æœ¬ä¹‹é—´çš„å«é‡å˜åŒ–æƒ…å†µçš„å›¾ã€‚ å®šä¹‰å¾ˆç®€å•ï¼Œè¿™é‡Œæˆ‘ä»¬çš„å› å­å“åº”å¼ºåº¦å°±æ˜¯æ¯ä¸ªåŸºå› çš„raw countå€¼ï¼Œä½†æ˜¯raw countå€¼ä»0åˆ°å‡ åƒä¸Šä¸‡å·®åˆ«éå¸¸ä¹‹å¤§ï¼Œä½œå›¾ä¸æ–¹ä¾¿ã€‚æ‰€ä»¥æˆ‘ä»¬é€šå¸¸ä¼šç”¨å‡ä¸€åŒ–çš„æ–¹æ³•ï¼Œä½¿æ¯ä¸ªåŸºå› çš„raw countå€¼å˜åŒ–ç¨‹åº¦å¤„äºåŒä¸€ä¸ªæ•°é‡çº§ï¼Œå†é€šè¿‡ä¸åŒé¢œè‰²å˜åŒ–å¾—åˆ°åŸºå› åœ¨ä¸åŒæ ·å“çš„å«é‡å˜åŒ–ã€‚ Rè‡ªå¸¦çš„å‡ä¸€åŒ–å‡½æ•°æ˜¯scale()ï¼Œæ³¨æ„ä¸‹scaleé»˜è®¤çš„å‡ä¸€åŒ–æ–¹å¼æ˜¯æŒ‰åˆ—è¿›è¡Œçš„ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡å‡½æ•° t() è¿›è¡ŒçŸ©é˜µçš„è¡Œåˆ—è½¬åŒ–ï¼Œåªéœ€è¦å°†å·®å¼‚åŸºå› æŒ‘å‡ºæ¥æŒ‰è¡Œï¼ˆä¹Ÿå°±æ˜¯åŸºå› åï¼‰è¿›è¡Œå‡ä¸€åŒ–ï¼Œå¯¼å…¥pheatmapåŒ…å³å¯åšæˆä¸€ä¸ªæœ€ç®€å•çš„çƒ­å›¾ã€‚ 2. ç®€åŒ–ç‰ˆä»£ç å…ˆä¸Šä¸€ä¸ªæœ€æœ€ç®€æ˜“ç‰ˆçš„ï¼Œæ¯”å¦‚æˆ‘è¦åˆ†æå‰25ä¸ªæœ€å¯èƒ½å‘ç”Ÿå·®å¼‚è¡¨è¾¾çš„åŸºå› ï¼Œä»£ç å¦‚ä¸‹ï¼š 1234567library(&quot;pheatmap&quot;)nDEGs &lt;- gene[which(gene$group != &quot;NOT_CHANGE&quot;),] # ç­›é€‰å·®å¼‚åŸºå› sort_DEGs &lt;- arrange(nDEGs,padj) # æŒ‰ç…§padjå€¼å‡åºæ’åºchoose_gene &lt;- head(sort_DEGs[,1],25) # å–padjå€¼æœ€å°çš„å‰25ä¸ªåŸºå› choose_matrix &lt;- mycounts[choose_gene,] # ä»raw countçŸ©é˜µä¸­æŒ‘å‡ºè¿™25ä¸ªåŸºå› æ•°æ®heat_matrix &lt;- t(scale(t(choose_matrix))) # è½¬æ¢äº†ä¸¤æ¬¡è¡Œåˆ—å¹¶å‡ä¸€åŒ–ï¼Œå®é™…å°±æ˜¯æŒ‰rowè¿›è¡Œäº†å‡ä¸€åŒ–pheatmap(heat_matrix) # ä»¥é»˜è®¤å‚æ•°åšçƒ­å›¾ åœ¨plotsçª—å£å¯ä»¥é¢„è§ˆç”Ÿæˆçš„çƒ­å›¾ï¼š å› ä¸ºæ²¡æœ‰åŠ ä»»ä½•å‚æ•°è°ƒæ•´ï¼Œæ‰€ä»¥ä¸å¥½çœ‹ï¼ˆå·²ç»æ¯”Rè‡ªå¸¦çš„çƒ­å›¾å‡½æ•°åšå‡ºæ¥çš„å¥½çœ‹äº†ï¼‰ï¼Œå…ˆè§£é‡Šä¸€ä¸‹ä¸Šé¢ä»£ç å®ç°çš„åŸç†ã€‚geneæ˜¯æˆ‘ä»¬å‰é¢åšç«å±±å›¾çš„çŸ©é˜µï¼Œé‡Œé¢å·²ç»æœ‰äº†æˆ‘ä»¬å·®å¼‚åŸºå› åˆ†ç»„çš„ä¸€åˆ—group nDEGs &lt;- gene[which(gene$group != &quot;NOT_CHANGE&quot;),] è¿™ä¸ªä»£ç æ˜¯å°†groupåˆ—ä¸­å­—ç¬¦ä¸ç­‰äºâ€œNOT_CHANGEâ€çš„æ•°æ®æŒ‘å‡ºæ¥èµ‹å€¼ç»™nDEGsï¼Œæ³¨æ„ä¸‹èµ‹å€¼åçš„nDEGsä¹Ÿæ˜¯çŸ©é˜µï¼Œå¯ä»¥ç›´æ¥æŸ¥çœ‹ã€‚ sort_DEGs &lt;- arrange(nDEGs,padj) arrange() å‡½æ•°çš„åŠŸèƒ½æ˜¯å‡åºæ’åˆ—ï¼Œè¿™é‡ŒæŒ‰ç…§padjå€¼å‡åºæ’åˆ—ã€‚ choose_gene &lt;- head(sort_DEGs[,1],25) head()å‡½æ•°ç”¨æ³•ä¸è¯´äº†ï¼Œå–äº†å‰25ä¸ªåŸºå› ã€‚æ³¨æ„ä¸‹æˆ‘ä»¬å–çš„ç¬¬ä¸€åˆ—æ˜¯åŸºå› åï¼Œå¦‚æœä½ å‰é¢å·²ç»å°†åŸºå› åä½œä¸ºrownameså¯¼å…¥äº†ï¼Œé‚£å°±è¦ç”¨rownameã€‚ choose_matrix &lt;- mycounts[choose_gene,]ï¼Œè¿”å›åˆ°æˆ‘ä»¬å‰é¢çš„raw countçŸ©é˜µï¼Œå°†åŸºå› åå¯¹åº”çš„æ•°æ®æŒ‘å‡ºæ¥ï¼Œå¯ä»¥çœ‹ä¸‹è¿™ä¸ªæ—¶å€™çš„choose_matrixçŸ©é˜µæ˜¯æ€ä¹ˆæ ·çš„ï¼š heat_matrix &lt;- t(scale(t(choose_matrix))) å…ˆè¿›è¡Œä¸€æ¬¡è¡Œåˆ—è½¬æ¢ï¼Œå¯¹åˆ—æ•°æ®è¿›è¡Œå‡ä¸€åŒ–ï¼Œå†è¿›è¡Œä¸€æ¬¡è¡Œåˆ—è½¬æ¢ï¼Œè¯´ç™½äº†å°±æ˜¯å¯¹æ¯è¡ŒåŸºå› çš„raw countæ•°æ®è¿›è¡Œå‡ä¸€åŒ–ï¼Œå¾—åˆ°å¦‚ä¸‹çŸ©é˜µï¼š pheatmap(heat_matrix)ä»¥é»˜è®¤å‚æ•°åšçƒ­å›¾ï¼Œå¤§åŠŸå‘Šæˆã€‚ å¦‚æœè¦å¯¹æ‰€æœ‰å·®å¼‚è¡¨è¾¾çš„åŸºå› åšçƒ­å›¾ï¼Œåªéœ€è¦ä¿®æ”¹ä¸€ä¸‹è¾“å…¥çš„çŸ©é˜µå°±è¡Œï¼š 123all_matrix &lt;- mycounts[(sort_DEGs[,1]),]heat_matrix_all &lt;- t(scale(t(all_matrix)))pheatmap(heat_matrix_all) å› ä¸ºè¿™æ˜¯é»˜è®¤å‚æ•°ä½œå›¾ï¼Œæ‰€ä»¥è¾“å‡ºç»“æœéå¸¸æ„Ÿäººï¼š ä½ è®ºæ–‡æ•¢ç”¨è¿™ç§å›¾ï¼Ÿæ‰€ä»¥è¿˜æ˜¯éœ€è¦äº†è§£ä¸€ä¸‹pheatmapåŒ…çš„å„ç§å‚æ•°ï¼Œå¯¹çƒ­å›¾è¿›è¡Œè°ƒæ•´å’Œä¿®æ”¹ã€‚ 3. å‚æ•°è¯¦è§£æ­¤éƒ¨åˆ†å†…å®¹å‚è€ƒCSDNåšå®¢ï¼šè·³åŠ¨çš„å–µå°¾å·´ 12345678910111213141516171819pheatmap(mat, color = colorRampPalette(rev(brewer.pal(n = 7, name = &quot;RdYlBu&quot;)))(100), kmeans_k = NA, breaks = NA, border_color = &quot;grey60&quot;, cellwidth = NA, cellheight = NA, scale = &quot;none&quot;, cluster_rows = TRUE, cluster_cols = TRUE, clustering_distance_rows = &quot;euclidean&quot;, clustering_distance_cols = &quot;euclidean&quot;, clustering_method = &quot;complete&quot;, clustering_callback = identity2, cutree_rows = NA, cutree_cols = NA, treeheight_row = ifelse((class(cluster_rows) == &quot;hclust&quot;) || cluster_rows, 50, 0), treeheight_col = ifelse((class(cluster_cols) == &quot;hclust&quot;) || cluster_cols, 50, 0), legend = TRUE, legend_breaks = NA, legend_labels = NA, annotation_row = NA, annotation_col = NA, annotation = NA, annotation_colors = NA, annotation_legend = TRUE, annotation_names_row = TRUE, annotation_names_col = TRUE, drop_levels = TRUE, show_rownames = T, show_colnames = T, main = NA, fontsize = 10, fontsize_row = fontsize, fontsize_col = fontsize, angle_col = c(&quot;270&quot;, &quot;0&quot;, &quot;45&quot;, &quot;90&quot;, &quot;315&quot;), display_numbers = F, number_format = &quot;%.2f&quot;, number_color = &quot;grey30&quot;, fontsize_number = 0.8 * fontsize, gaps_row = NULL, gaps_col = NULL, labels_row = NULL, labels_col = NULL, filename = NA, width = NA, height = NA, silent = FALSE, na_col = &quot;#DDDDDD&quot;, ...) å‚æ•°å†…å®¹éå¸¸ä¹‹å¤šï¼Œæˆ‘è¿™é‡Œä»…æŒ‘é€‰ä¸€äº›å¯èƒ½ç”¨å¾—ä¸Šçš„åšä¸ªè®°å½•ï¼š å‚æ•° æè¿° color è¡¨ç¤ºçƒ­å›¾é¢œè‰²ï¼ŒcolorRampPalette(rev(brewer.pal(n &#x3D; 7, name &#x3D; â€œRdYlBuâ€)))(100)è¡¨ç¤ºé¢œè‰²æ¸å˜è°ƒè‰²æ¿ï¼Œâ€œnâ€ çš„æ•°é‡å–å†³äºè°ƒè‰²æ¿ä¸­é¢œè‰²çš„æ•°é‡ï¼Œâ€œnameâ€ ä¸ºè°ƒè‰²æ¿çš„åç§°ï¼Œ(100)è¡¨ç¤º100ä¸ªç­‰çº§ï¼›color &#x3D; colorRampPalette(c(â€œblueâ€, â€œwhiteâ€, â€œredâ€))(100)åˆ™æ˜¯é€šè¿‡è®¾ç½®ä¸‰ç§ä¸åŒçš„é¢œè‰²è¿›è¡Œæ¸å˜æ˜¾ç¤º scale è¡¨ç¤ºè¿›è¡Œå‡ä¸€åŒ–çš„æ–¹å‘ï¼Œå€¼ä¸º â€œrowâ€, â€œcolumnâ€ æˆ–è€…â€noneâ€ kmeans_k é»˜è®¤ä¸ºNAï¼Œå³ä¸ä¼šå¯¹è¡Œè¿›è¡Œèšç±»ï¼›å¦‚æœæƒ³åœ¨è¿›è¡Œå±‚æ¬¡èšç±»ä¹‹å‰ï¼Œå…ˆå¯¹è¡Œç‰¹å¾(å› å­)è¿›è¡Œ k-means èšç±»ï¼Œåˆ™å¯åœ¨æ­¤è°ƒæ•´çƒ­å›¾çš„è¡Œèšç±»æ•° cluster_rows è¡¨ç¤ºä»…å¯¹è¡Œèšç±»ï¼Œå€¼ä¸ºTRUEæˆ–FALSE cluster_cols è¡¨ç¤ºä»…å¯¹åˆ—èšç±»ï¼Œå€¼ä¸ºTRUEæˆ–FALSE clustering_distance_cols è¡¨ç¤ºåˆ—èšç±»ä½¿ç”¨çš„åº¦é‡æ–¹æ³•ï¼Œä¸è¡Œèšç±»çš„åº¦é‡æ–¹æ³•ä¸€è‡´ clustering_method è¡¨ç¤ºèšç±»æ–¹æ³•ï¼ŒåŒ…æ‹¬ï¼šâ€˜wardâ€™, â€˜ward.Dâ€™, â€˜ward.D2â€™, â€˜singleâ€™, â€˜completeâ€™, â€˜averageâ€™, â€˜mcquittyâ€™, â€˜medianâ€™, â€˜centroidâ€™ cutree_rows è‹¥è¿›è¡Œäº†è¡Œèšç±»ï¼Œæ ¹æ®è¡Œèšç±»æ•°é‡åˆ†éš”çƒ­å›¾è¡Œ cutree_cols è‹¥è¿›è¡Œäº†åˆ—èšç±»ï¼Œæ ¹æ®åˆ—èšç±»æ•°é‡åˆ†éš”çƒ­å›¾åˆ— treeheight_row è‹¥è¿›è¡Œäº†è¡Œèšç±»ï¼Œå…¶çƒ­å›¾è¡Œçš„èšç±»æ ‘é«˜åº¦ï¼Œé»˜è®¤ä¸º â€œ50â€ treeheight_col è‹¥è¿›è¡Œäº†åˆ—èšç±»ï¼Œå…¶çƒ­å›¾åˆ—çš„èšç±»æ ‘é«˜åº¦ï¼Œé»˜è®¤ä¸º â€œ50â€ breaks ç”¨æ¥å®šä¹‰æ•°å€¼å’Œé¢œè‰²çš„å¯¹åº”å…³ç³»ï¼Œé»˜è®¤ä¸º â€œNAâ€ border_color è¡¨ç¤ºçƒ­å›¾æ¯ä¸ªå°çš„å•å…ƒæ ¼è¾¹æ¡†çš„é¢œè‰²ï¼Œé»˜è®¤ä¸º â€œNAâ€ cellwidth è¡¨ç¤ºå•ä¸ªå•å…ƒæ ¼çš„å®½åº¦ï¼Œé»˜è®¤ä¸º â€œNAâ€ï¼Œå³æ ¹æ®çª—å£è‡ªåŠ¨è°ƒæ•´ cellheight è¡¨ç¤ºå•ä¸ªå•å…ƒæ ¼çš„é«˜åº¦ï¼Œé»˜è®¤ä¸º â€œNAâ€ï¼Œå³æ ¹æ®çª—å£è‡ªåŠ¨è°ƒæ•´ fontsize è¡¨ç¤ºçƒ­å›¾ä¸­å­—ä½“å¤§å° fontsize_row è¡¨ç¤ºè¡Œåå­—ä½“å¤§å°ï¼Œé»˜è®¤ä¸fontsizeä¸€è‡´ fontsize_col è¡¨ç¤ºåˆ—åå­—ä½“å¤§å°ï¼Œé»˜è®¤ä¸fontsizeä¸€è‡´ fontsize_number è¡¨ç¤ºçƒ­å›¾ä¸Šæ˜¾ç¤ºæ•°å­—çš„å­—ä½“å¤§å° angle_col è¡¨ç¤ºåˆ—æ ‡ç­¾çš„è§’åº¦ï¼Œå¯é€‰æ‹© â€œ0â€ï¼Œâ€œ45â€ï¼Œâ€œ90â€ï¼Œâ€œ270â€ï¼Œâ€œ315â€ display_numbers è¡¨ç¤ºæ˜¯å¦åœ¨å•å…ƒæ ¼ä¸Šæ˜¾ç¤ºåŸå§‹æ•°å€¼æˆ–æŒ‰ç…§ç‰¹æ®Šæ¡ä»¶è¿›è¡ŒåŒºåˆ†æ ‡è®° number_format è¡¨ç¤ºçƒ­å›¾å•å…ƒæ ¼ä¸Šæ˜¾ç¤ºçš„æ•°æ®æ ¼å¼ï¼Œå¦‚ â€œ%.2fâ€ è¡¨ç¤ºä¸¤ä½å°æ•°ï¼› â€œ%.1eâ€ è¡¨ç¤ºç§‘å­¦è®¡æ•°æ³• number_color è¡¨ç¤ºçƒ­å›¾å•å…ƒæ ¼ä¸Šæ˜¾ç¤ºçš„æ•°æ®å­—ä½“é¢œè‰² legend è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºå›¾ä¾‹ï¼Œå€¼ä¸ºTRUEæˆ–FALSE annotation_row è¡¨ç¤ºæ˜¯å¦å¯¹è¡Œè¿›è¡Œæ³¨é‡Š annotation_col è¡¨ç¤ºæ˜¯å¦å¯¹åˆ—è¿›è¡Œæ³¨é‡Š annotation_colors è¡¨ç¤ºè¡Œæ³¨é‡ŠåŠåˆ—æ³¨é‡Šçš„é¢œè‰² annotation_legend è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºæ³¨é‡Šçš„å›¾ä¾‹ä¿¡æ¯ annotation_names_row è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºè¡Œæ³¨é‡Šçš„åç§° annotation_names_col è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºåˆ—æ³¨é‡Šçš„åç§° show_rownames è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºè¡Œå show_colnames è¡¨ç¤ºæ˜¯å¦æ˜¾ç¤ºåˆ—å main è¡¨ç¤ºçƒ­å›¾çš„æ ‡é¢˜åå­— gaps_row ä»…åœ¨æœªè¿›è¡Œè¡Œèšç±»æ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºåœ¨è¡Œæ–¹å‘ä¸Šçƒ­å›¾çš„éš”æ–­ä½ç½®ï¼Œå¦‚ gaps_row &#x3D; c(ï¼’, 4)è¡¨ç¤ºåœ¨ç¬¬ï¼’ä¸ç¬¬4åˆ—è¿›è¡Œéš”æ–­ gaps_col ä»…åœ¨æœªè¿›è¡Œåˆ—èšç±»æ—¶ä½¿ç”¨ï¼Œè¡¨ç¤ºåœ¨åˆ—æ–¹å‘ä¸Šçƒ­å›¾çš„éš”æ–­ä½ç½®ï¼ŒåŒ gaps_row labels_row è¡¨ç¤ºä½¿ç”¨è¡Œæ ‡ç­¾ä»£æ›¿è¡Œå labels_col è¡¨ç¤ºä½¿ç”¨åˆ—æ ‡ç­¾ä»£æ›¿åˆ—å filename è¡¨ç¤ºä¿å­˜å›¾ç‰‡çš„ä½ç½®åŠå‘½å width è¡¨ç¤ºè¾“å‡ºç»˜åˆ¶çƒ­å›¾çš„å®½åº¦ height è¡¨ç¤ºè¾“å‡ºç»˜åˆ¶çƒ­å›¾çš„é«˜åº¦ margins è¡¨ç¤ºçƒ­å›¾è·ç”»å¸ƒçš„ç©ºç™½è·ç¦» å¥½å§ï¼Œçœ‹ä¸Šå»åŸºæœ¬ä¸Šéƒ½èƒ½ç”¨åˆ°ã€‚åˆ¶ä½œçƒ­å›¾åº”ç”¨çš„ç»Ÿè®¡å­¦åŸç†å°±ä¸å¤šè¯´äº†ï¼Œæˆ‘ä¹Ÿæ²¡ç ”ç©¶æ˜ç™½ï¼Œæˆ‘ä»¬ç”¨ä¸Šé¢çš„è¿™äº›å‚æ•°èƒ½åšå‡ºå¥½çœ‹ç‚¹çš„å›¾å°±è¡Œã€‚æ‰€ä»¥å…¶å®pheatmapä¸­ä¹Ÿæœ‰å¯¹åº”çš„å‚æ•°scaleæ¥å¯¹è¡Œæˆ–åˆ—è¿›è¡Œå‡ä¸€åŒ–ï¼Œåœ¨pheatmapä¸­è®¾ç½®å‚æ•°æˆ–è€…å¤šåŠ ä¸€è¡Œä»£ç åšä¸ªå‡ä¸€åŒ–è½¬æ¢éƒ½æ˜¯ä¸€æ ·çš„ã€‚ 4. æœ€ç»ˆæµç¨‹ä»£ç çŸ¥é“äº†ç®€åŒ–ç‰ˆä»£ç çš„å„è¡Œå‘½ä»¤å’Œpheatmapå„å‚æ•°ä½œç”¨ï¼Œç¨åŠ ä¸€ç‚¹ç‚¹ä¿®æ”¹å¾—åˆ°æœ€ç»ˆæµç¨‹ä»£ç ï¼š 12345678910111213141516library(&quot;pheatmap&quot;)nDEGs &lt;- gene[which(gene$group != &quot;NOT_CHANGE&quot;),]sort_DEGs &lt;- arrange(nDEGs,padj)all_matrix &lt;- mycounts[(sort_DEGs[,1]),]heat_matrix_all &lt;- t(scale(t(all_matrix)))# è¦åšçƒ­å›¾çš„æ¯åˆ—åˆ†ç»„ï¼Œåº•ä¸‹ä¸¤è¡Œä»£ç æ˜¯å¿…é¡»çš„annotation_col &lt;- data.frame(sample = factor(c(rep(&quot;SD&quot;,4),rep(&quot;LD1&quot;,4)))) # ç®€å•ç²—æš´åœ°å†™ä¸€ä¸ªåˆ†ç»„çŸ©é˜µrow.names(annotation_col) &lt;- colnames(heat_matrix_all)pheatmap(heat_matrix_all, color = colorRampPalette(c(&quot;blue&quot;, &quot;white&quot;, &quot;red&quot;))(100), treeheight_col = 30, treeheight_row = 10, show_rownames = FALSE, angle_col = 45, annotation_col = annotation_col, filename = &quot;test.pdf&quot;) ä¿å­˜åçš„å·®å¼‚åŸºå› çƒ­å›¾å¦‚ä¸Šæ‰€ç¤ºï¼Œå·¦è¾¹4åˆ—æ˜¯LDé•¿æ—¥ç…§1å¤©ç»„ï¼Œå³è¾¹4åˆ—æ˜¯SDçŸ­æ—¥ç…§å¯¹ç…§ç»„ã€‚æ•°æ®ä¸æ˜¯ç‰¹åˆ«å¥½ï¼Œä½†æ˜¯ä¸¤ç»„è¿˜æ˜¯èƒ½åŒºåˆ†å¼€çš„ï¼Œè‡³å°‘ä¹Ÿæ¯”ç¬¬ä¸€æ¬¡åšçš„é¡ºçœ¼ä¸€ç‚¹äº†ã€‚ æ ‡é¢˜å‚æ•°mainæœ‰ä¸ªå°bugï¼ŒåŠ äº†å‚æ•°åœ¨plotsåŒºåŸŸé¢„è§ˆæ˜¯æ­£å¸¸çš„ï¼Œä½†æ˜¯ç”¨filenameä¿å­˜åˆ°è¾“å‡ºæ–‡ä»¶å¦‚æœæ ‡é¢˜æ˜¯ä¸­æ–‡ä¼šå‡ºé”™ï¼Œæ— æ³•æ˜¾ç¤ºä¸­æ–‡æ ‡é¢˜ã€‚è¿™ä¸ªå°bugå€’æ˜¯æ— ä¼¤å¤§é›…ï¼Œå›¾åœ¨plotsåŒºä¹Ÿå¯ä»¥ç›´æ¥ä¿å­˜è¾“å‡ºï¼Œä¸æ˜¯éå¾—è¦ç”¨filnameå‚æ•°æŒ‡å®šè¾“å‡ºæ–‡ä»¶è¾“å‡ºçš„ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Rè¯­è¨€","slug":"Rè¯­è¨€","permalink":"http://www.shelven.com/tags/R%E8%AF%AD%E8%A8%80/"},{"name":"pheatmap","slug":"pheatmap","permalink":"http://www.shelven.com/tags/pheatmap/"}]},{"title":"è·å¾—æµ‹åºåŸå§‹æ•°æ®â€”â€”åˆæ¢GEOå’ŒSRAæ•°æ®åº“","slug":"è·å¾—æµ‹åºåŸå§‹æ•°æ®â€”â€”åˆæ¢GEOå’ŒSRAæ•°æ®åº“","date":"2022-05-03T20:02:37.000Z","updated":"2022-12-03T16:24:11.000Z","comments":true,"path":"2022/05/04/a.html","link":"","permalink":"http://www.shelven.com/2022/05/04/a.html","excerpt":"æœ€è¿‘åœ¨çœ‹è½¬å½•ç»„æ•°æ®åˆ†æçš„æ–‡çŒ®ï¼Œæƒ³ä¸‹è½½ä¸€äº›åŸå§‹æ•°æ®è‡ªå·±è·‘ä¸€è·‘çš„ï¼Œå‘ç°è‡ªå·±å¯¹äºå‡ ä¸ªé«˜é€šé‡æµ‹åºæ•°æ®åº“è¿˜æ˜¯æœ‰äº›ä¸å¤ªç†Ÿæ‚‰ã€‚ä»¥æˆ‘ç°åœ¨çš„ç»éªŒæ¥çœ‹ï¼ŒEBIæ•°æ®åº“çš„åŸå§‹æµ‹åºæ•°æ®æœ€å®¹æ˜“è·å¾—ï¼Œå¯ä»¥ç›´æ¥åœ¨EBIå®˜ç½‘ä¸‹è½½éœ€è¦çš„fastqæ ¼å¼æ–‡ä»¶ï¼Œä½†æ˜¯NCBIçš„SRAæ•°æ®åº“ä¸‹è½½æ•°æ®è¿˜æ˜¯æœ‰äº›éº»çƒ¦çš„ï¼Œåšä¸ªå­¦ä¹ ç¬”è®°è®°å½•ä¸‹ã€‚","text":"æœ€è¿‘åœ¨çœ‹è½¬å½•ç»„æ•°æ®åˆ†æçš„æ–‡çŒ®ï¼Œæƒ³ä¸‹è½½ä¸€äº›åŸå§‹æ•°æ®è‡ªå·±è·‘ä¸€è·‘çš„ï¼Œå‘ç°è‡ªå·±å¯¹äºå‡ ä¸ªé«˜é€šé‡æµ‹åºæ•°æ®åº“è¿˜æ˜¯æœ‰äº›ä¸å¤ªç†Ÿæ‚‰ã€‚ä»¥æˆ‘ç°åœ¨çš„ç»éªŒæ¥çœ‹ï¼ŒEBIæ•°æ®åº“çš„åŸå§‹æµ‹åºæ•°æ®æœ€å®¹æ˜“è·å¾—ï¼Œå¯ä»¥ç›´æ¥åœ¨EBIå®˜ç½‘ä¸‹è½½éœ€è¦çš„fastqæ ¼å¼æ–‡ä»¶ï¼Œä½†æ˜¯NCBIçš„SRAæ•°æ®åº“ä¸‹è½½æ•°æ®è¿˜æ˜¯æœ‰äº›éº»çƒ¦çš„ï¼Œåšä¸ªå­¦ä¹ ç¬”è®°è®°å½•ä¸‹ã€‚ åˆæ¢GEOæ•°æ®åº“å’ŒSRAæ•°æ®åº“1. GEOæ•°æ®åº“å…ˆä¸Šæ•°æ®åº“é“¾æ¥ï¼Œç‚¹å‡»è¿™é‡Œ GEOæ•°æ®åº“å…¨ç§°Gene Expression Omnibus databaseï¼Œæ˜¯ç”±ç¾å›½å›½ç«‹ç”Ÿç‰©æŠ€æœ¯ä¿¡æ¯ä¸­å¿ƒNCBIåˆ›å»ºå¹¶ç»´æŠ¤çš„åŸºå› è¡¨è¾¾æ•°æ®åº“ã€‚å®ƒåˆ›å»ºäº2000å¹´ï¼Œæ”¶å½•äº†ä¸–ç•Œå„å›½ç ”ç©¶æœºæ„æäº¤çš„å¤§å¤šæ•°é«˜é€šé‡åŸºå› è¡¨è¾¾æ•°æ®ï¼ŒGEOé™¤äº†äºŒä»£æµ‹åºæ•°æ®ï¼Œè¿˜åŒ…å«èŠ¯ç‰‡æµ‹åºã€å•ç»†èƒæµ‹åºæ•°æ®ã€‚ GEOæ•°æ®åº“æœ‰å››ç§æ•°æ®å­˜æ”¾ç±»å‹**GSEæ•°æ®ç¼–å·(Series)ã€GPLæ•°æ®ç¼–å·(GEO platforms)ã€GSMæ•°æ®ç¼–å·(Samples)å’ŒGDSæ•°æ®ç¼–å·(Datasets)**ã€‚ ä¸€ç¯‡æ–‡ç« å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªGSE(Series)æ•°æ®é›†ï¼Œä¸€ä¸ªGSEé‡Œé¢å¯ä»¥æœ‰ä¸€ä¸ªæˆ–è€…å¤šä¸ªGSM(Samples)æ ·æœ¬ï¼Œå¦‚æœåšçš„æ˜¯åŸºå› èŠ¯ç‰‡ï¼Œé‚£æ¯ä¸ªæ•°æ®é›†ä¹Ÿä¼šæœ‰è‡ªå·±å¯¹åº”çš„èŠ¯ç‰‡å¹³å°ï¼Œå°±æ˜¯GPL(GEO platforms)ã€‚GSEç¼–å·ä¸€èˆ¬ä¸ºä½œè€…æäº¤æ—¶ç”Ÿæˆçš„åŸå§‹æ•°æ®ç¼–å·ï¼Œåç»­NCBIä¸­çš„å·¥ä½œäººå‘˜ä¼šæ ¹æ®ç ”ç©¶ç›®çš„ã€æ ·å“ç±»å‹ç­‰ä¿¡æ¯å½’çº³æ•´åˆä¸ºä¸€ä¸ªGDS(Datasets)ï¼Œæ•´ç†åçš„æ•°æ®è¿˜ä¼šæœ‰GEO profileæ•°æ®ï¼Œä¹Ÿå°±æ˜¯åŸºå› åœ¨è¿™æ¬¡å®éªŒä¸­çš„è¡¨è¾¾æ•°æ®ã€‚æˆ‘å¹³å¸¸æ–‡çŒ®é‡Œçœ‹åˆ°æœ€å¤šçš„å°±æ˜¯GSEç¼–å·ï¼Œå¯ä»¥ç›´æ¥åœ¨GEOæ•°æ®åº“çš„æœç´¢æ¡†é‡Œè¾“å…¥æŸ¥çœ‹ã€‚ æˆ‘ä¸ªäººæ¯”è¾ƒå…³æ³¨çš„æ˜¯toolsæ ç›®é‡Œçš„FTP SiteåŠŸèƒ½ã€‚ftpæ˜¯æ–‡ä»¶ä¼ è¾“åè®®ï¼Œftpè®¿é—®çš„ç•Œé¢éå¸¸å¹²å‡€ï¼Œå¦‚æœæˆ‘åªéœ€è¦ä¸‹è½½GEOæ•°æ®åº“é‡Œçš„æ–‡ä»¶ï¼Œè€Œä¸å…³æ³¨å…¶ä»–å¤šä½™ä¿¡æ¯çš„è¯ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªç•Œé¢éå¸¸å¿«é€Ÿåœ°æ‰¾åˆ°å¯¹åº”GSEç¼–å·ä¸‹æ‰€æœ‰ä½œè€…ä¸Šä¼ åˆ°GEOæ•°æ®åº“çš„æ–‡ä»¶ï¼Œç›®å½•ç»“æ„å±‚æ¬¡ä¸€ç›®äº†ç„¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œdatasetså¯¹åº”GDSç¼–å·ï¼›platformså¯¹åº”GPLç¼–å·ï¼›sampleså¯¹åº”GSMç¼–å·ï¼›serieså¯¹åº”GSEç¼–å·ï¼Œç½‘ç«™è¿˜å¾ˆè´´å¿ƒåœ°ç»™äº†README.txté‡Œé¢å†™äº†å¸®åŠ©æ–‡æ¡£ï¼ŒåŒ…æ‹¬æ€ä¹ˆç”¨ftpè®¿é—®ç­‰ç­‰ åœ¨Browse Contentè¿™ä¸ªæ ç›®é‡Œï¼Œæˆ‘ä»¬ä¹Ÿèƒ½çœ‹åˆ°è¿™ä¸ªæ•°æ®åº“çš„ä¸€äº›æ¦‚è§ˆï¼Œæ¯”å¦‚ç°åœ¨æœ‰å¤šå°‘æ•°æ®é›†ï¼Œå¤šå°‘ä¸ªèŠ¯ç‰‡å¹³å°ï¼Œå¤šå°‘ä¸Šä¼ çš„æ ·å“ç­‰ç­‰ä¿¡æ¯ã€‚æˆ‘ç¿»çœ‹äº†ä¸€ä¸‹ä¸¤å¹´å‰jimmyå‡ºçš„æ•™ç¨‹ï¼Œé‚£ä¸ªæ—¶å€™çš„GEOæ•°æ®åº“æ”¶å½•çš„ä¿¡æ¯åªæœ‰ç°åœ¨çš„ä¸€åŠä¸åˆ°ï¼Œä¸¤å¹´æ—¶é—´è¿™äº›æ•°æ®å‘ˆäº•å–·å¼çš„å‘å±•ï¼Œå¤§æ•°æ®æ—¶ä»£ä¿¡æ¯å‘å±•ä¹‹å¿«ä¹Ÿç¡®å®è®©æˆ‘æŒºéœ‡æƒŠã€‚ å°¤å…¶æ˜¯ç‚¹å¼€åŸºå› èŠ¯ç‰‡çš„å¹³å°ï¼Œä»¥ä¸Šä¼ çš„æ ·å“æ•°é‡å¯¹è¿™äº›èŠ¯ç‰‡å¹³å°è¿›è¡Œæ’åºï¼Œå‘ç°ä¸¤å¹´å‰ç‹¬å é³Œå¤´çš„Affymetrixå…¬å¸çš„HG-U133ï¼ˆä¹Ÿæ˜¯æœ€å¤è€çš„åŸºå› èŠ¯ç‰‡ï¼‰å·²ç»è¢«illuminaå…¬å¸é«˜é€šé‡æµ‹åºèŠ¯ç‰‡å…¨é¢è¶…è¶Šäº†æ¥è¿‘ä¸¤å€ï¼Œè¿™ä¹Ÿæ„å‘³ç€é«˜é€šé‡æµ‹åºåœ¨è¿™ä¸¤å¹´å‘å±•å·²ç»ä¸ä»…ä»…æ˜¯å¿«é€Ÿå‘å±•äº†ï¼Œç®€ç›´æ˜¯ç«ç®­å¼å‘å±•â€¦â€¦è¿™ä¹Ÿæ˜¯å¤§åŠ¿æ‰€è¶‹ã€‚ GEOæ•°æ®åº“çš„æœç´¢åœ°å€ä¹Ÿå¾ˆæœ‰è§„å¾‹æ€§ï¼Œæ¯”å¦‚åªæœ‰æœ€åçš„GSEç¼–å·ä¸åŒï¼Œå…¶ä»–ç½‘å€å­—æ®µéƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œè¿™ä¹Ÿç®—æ˜¯æ–¹ä¾¿æœç´¢çš„ä¸€ä¸ªæ²¡ä»€ä¹ˆç”¨å¤„çš„å°æŠ€å·§ï¼Ÿâ€¦â€¦ çœ‹ç‚¹æœ‰ç”¨çš„ï¼Œæˆ‘ä»¬æ ¹æ®æ–‡çŒ®å¾—åˆ°çš„GSEç¼–å·è¿›è¡Œæœç´¢ï¼Œå¯ä»¥çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼Œå‰åŠéƒ¨åˆ†æ˜¯ä½œè€…çš„ä¸€äº›ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥è·å¾—æµ‹åºç‰©ç§ã€ä½œè€…çš„è”ç³»æ–¹å¼ã€å‘è¡¨çš„æ–‡ç« PMIDç­‰ç­‰ï¼Œè€Œæˆ‘ä»¬æ›´éœ€è¦è·å–çš„ä¿¡æ¯åœ¨ååŠéƒ¨åˆ†ï¼š æ ·æœ¬ä¿¡æ¯è¿™é‡Œè§£é‡Šä¸€ä¸‹ï¼Œæœ‰ä¸‰ç§ä¸»è¦çš„æ•°æ®ç±»å‹ï¼š SOFT å¹³å°ä¿¡æ¯èŠ¯ç‰‡ä¸­æ¢é’ˆä¸åŸºå› çš„å¯¹åº”å…³ç³»æ³¨é‡Šæ–‡ä»¶ï¼Œæ ·å“å•ç‹¬çš„è¡¨è¾¾é‡ï¼Œæ‰€æœ‰ä¿¡æ¯æ–‡ä»¶ MINiML XMLæ ¼å¼çš„æ‰€æœ‰æ•°æ®ï¼ŒåŒSOFTæ–‡ä»¶å•æ ¼å¼ä¸åŒï¼Œå’ŒHTMLæ ¼å¼å·®ä¸å¤š TXT è¿™æ˜¯æ ·å“è¡¨è¾¾çŸ©é˜µçš„æ•°æ®æ–‡ä»¶ï¼Œæˆ‘çš„ç†è§£æ˜¯æ€»ç»“ç±»å‹æ–‡ä»¶ï¼Œä¸å¦‚ç”¨åº•ä¸‹çš„åŸå§‹æ•°æ® åŸå§‹æ•°æ®ä¿¡æ¯ä¹Ÿè¯´ä¸€ä¸‹ï¼Œè¿™é‡Œå¯èƒ½ä¼šç»™åŸå§‹æµ‹åºçš„raw dataï¼Œä¹Ÿå¯èƒ½ä¸ç»™ï¼›æœ‰çš„æ—¶å€™ä¼šç»™raw countè¡¨è¾¾çŸ©é˜µï¼Œä¹Ÿæœ‰çš„æ—¶å€™ä¸ç»™ï¼›æ ·å“è¡¨è¾¾çŸ©é˜µä¹Ÿæ˜¯æœ‰çš„æ—¶å€™ç»™çš„raw countï¼Œæœ‰çš„æ—¶å€™ç»™çš„FPKMï¼ˆæ¯”å¦‚ä¸Šé¢è¿™ç§æƒ…å†µï¼‰ã€‚å°±â€¦æŒºç¦»è°±çš„ï¼Œæ²¡æœ‰æ ‡å‡†ï¼Œå¦‚æœæˆ‘ä»¬è¦è·‘Deseq2å¤ç°ä½œè€…çš„ç»“è®ºï¼Œé€šè¿‡FPKMå¾—åˆ°çš„è¡¨è¾¾çŸ©é˜µè¿˜ä¸èƒ½ç”¨ã€‚å¸Œæœ›ç½‘ç«™èƒ½åˆ¶å®šç‚¹ç›¸å…³æ ‡å‡†å§ï¼ˆé¢˜å¤–è¯ï¼Œä¸ç„¶å¯¹äºæˆ‘ä»¬è¿™ç§å°ç™½ï¼Œæ‰¾ä¸åˆ°æ•°æ®ç›´æ¥ç—›è‹¦é¢å…·ï¼‰ æˆ‘ä¸ªäººè§‰å¾—ï¼Œè¿™ä¸ªæ•°æ®åº“æ¯”è¾ƒé‡è¦çš„æ˜¯å¯ä»¥è·å¾—æ ·å“åˆ†ç»„ä¿¡æ¯å’ŒSRAæ•°æ®åº“çš„é“¾æ¥åœ°å€ï¼Œæ–¹ä¾¿æˆ‘ä»¬ä¸‹è½½æµ‹åºåŸå§‹æ•°æ®ï¼ˆåé¢ä»‹ç»æ€ä¹ˆä¸‹è½½ï¼‰ã€‚å¦‚æœä¸æƒ³è·‘åŸå§‹æ•°æ®ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æ‹¿æ ·å“è¡¨è¾¾çŸ©é˜µæ¥è·‘è½¬å½•ç»„ä¸‹æ¸¸åˆ†æã€‚ç›´æ¥ç”¨è¡¨è¾¾çŸ©é˜µå°±æ˜¯è¦å½“å¿ƒä½œè€…æ‹¿æ¼‚äº®æ•°æ®å‘ä½ ã€‚ 2. SRAæ•°æ®åº“åŒæ ·çš„å…ˆä¸Šæ•°æ®åº“é“¾æ¥ï¼Œç‚¹è¿™é‡Œ å…¶å®ä»ç½‘å€ä¸Šå°±å¯ä»¥çœ‹å‡ºç«¯å€ªï¼Œè¿™ä¿©æ•°æ®åº“éƒ½æ˜¯NCBIæ——ä¸‹çš„ä¿©å…„å¼Ÿï¼Œéƒ½æ˜¯NCBIä¸€ä¸ªäº²çˆ¹äº²å¦ˆå…»çš„ã€‚æˆ‘ç™¾åº¦çš„æ—¶å€™ä¹Ÿå‘ç°ï¼Œå¾ˆå¤šäººæŠŠè¿™ä¸¤ä¸ªæ•°æ®åº“æ··åœ¨ä¸€èµ·ï¼Œæˆ–è€…å«GEO&#x2F;SRAæ•°æ®åº“ï¼Œå…¶å®ä¸¤è€…è¿˜æ˜¯æœ‰åŒºåˆ«çš„ã€‚ SRAæ•°æ®åº“æ˜¯ä¸‰å¤§æ ¸é…¸æ•°æ®åº“ä¹‹ä¸€ï¼Œæˆ‘ä¹‹å‰çš„ç¬”è®°ä¹Ÿæœ‰ä»‹ç»è¿‡ï¼ˆç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ï¼‰ã€‚æˆ‘ä¸ªäººçš„ç†è§£æ˜¯ï¼ŒSRAæ•°æ®åº“å­˜æ”¾çš„æ˜¯åŸå§‹æµ‹åºæ–‡ä»¶ï¼Œè€ŒGEOæ•°æ®åº“å­˜æ”¾çš„å¤§éƒ¨åˆ†æ˜¯ç»è¿‡ä½œè€…å¤„ç†ä»¥åçš„æ•°æ®æ–‡ä»¶ï¼ˆæœ‰çš„ä¹ŸåŒ…æ‹¬äº†åŸå§‹æµ‹åºæ–‡ä»¶ï¼‰ï¼Œç›¸å¯¹è€Œè¨€SRAæ•°æ®åº“æ›´å¤§ä¹Ÿæ›´å­˜ç²¹ï¼Œè€ŒNCBIå®˜æ–¹ä¹Ÿç»™äº†ä¸‹è½½SRAæ•°æ®çš„å°å·¥å…·â€”â€”SRA Toolkitã€‚ SRAæ•°æ®ç±»å‹åŒ…å«å¦‚ä¸‹å››ç§ï¼Œçœ‹åˆ°å‰ç¼€çŸ¥é“è¿™æ˜¯SRAæ•°æ®åº“ï¼Œäº†è§£ä¸€ä¸‹å°±è¡Œï¼š Studies ç ”ç©¶è¯¾é¢˜ï¼ˆå‰ç¼€ä¸ºERPæˆ–SRPï¼ŒåŒ…å«å¤šä¸ªExperiment) Experiments å®éªŒè®¾è®¡ï¼ˆå‰ç¼€ä¸ºSRSï¼ŒåŒ…å«Sampleã€DNA sourceã€æµ‹åºå¹³å°å’Œæµ‹åºæ•°æ®ç­‰ä¿¡æ¯ï¼‰ Samples æ ·å“ä¿¡æ¯ï¼ˆå‰ç¼€ä¸ºSRXï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªRuns) Runs æµ‹åºç»“æœé›†ï¼ˆSSRå¼€å¤´çš„è®°å½•ï¼Œä»£è¡¨æµ‹åºä»ªå™¨æ‰€äº§ç”Ÿçš„readsï¼‰ ä¸»è¦è¯´è¯´æ•°æ®ä¸‹è½½æ–¹å¼å‰å‡ å¤©ä¹Ÿæœ‰åŒå­¦é—®æˆ‘sraæ•°æ®åº“çš„åŸå§‹æµ‹åºæ•°æ®æ€ä¹ˆä¸‹è½½çš„ï¼Œæ‰¾ä¸åˆ°ä¸‹è½½æ–¹å¼ï¼Œçœ‹çš„æ•™ç¨‹éƒ½æ˜¯NCBIä¸Šç›´æ¥ä¸‹è½½çš„ã€‚emmmmmmæˆ‘çš„ç¬¬ä¸€ååº”æ˜¯è¿™ä¸å°±æ˜¯NCBIæ——ä¸‹çš„å­æ•°æ®åº“å˜›â€¦â€¦è¿˜èƒ½ä»å“ªå„¿ä¸‹è½½â€¦ åºŸè¯ä¸å¤šè¯´ï¼Œç›´æ¥çœ‹å®˜ç½‘ç»™çš„ä¸‹è½½å·¥å…·â€”â€”SRA Toolkit è¿™æ˜¯ä¸€ä¸ªå®˜æ–¹ç»™çš„å°å·¥å…·åˆé›†ï¼Œæä¾›æˆ‘ä»¬å„ç§æ“ä½œç³»ç»Ÿä¸‹çš„å®‰è£…åŒ…ï¼Œæˆ‘æŠŠlinuxå’Œwindowså®‰è£…åŒ…éƒ½ä¸‹äº†ã€‚å®‰è£…æ­¥éª¤éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè§£å‹ï¼ŒæŠŠbinæ–‡ä»¶å¤¹è·¯å¾„åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œæå®šã€‚windowséœ€è¦æ‰“å¼€cmdå‘½ä»¤è¡Œè¿è¡Œä¸€æ¬¡prefetchï¼ˆä¸‹è½½å‘½ä»¤ï¼‰ï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥vdb-config --interactiveèµ·åˆ°ç±»ä¼¼æ¿€æ´»çš„ä½œç”¨å°±è¡Œäº†ã€‚linuxé‡Œç”šè‡³éƒ½ä¸éœ€è¦ç¼–è¯‘ï¼ˆä¹Ÿå¯ä»¥condaå®‰è£…ï¼‰ã€‚å¯èƒ½æœ‰çš„åŒå­¦å¯¹è‡ªå·±çš„windowsç³»ç»Ÿä¸ç†Ÿæ‚‰ï¼Œä¸çŸ¥é“æ€ä¹ˆæ”¹è‡ªå·±çš„ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼Œå…¶å®è¿™ä¸ªæ¯”linuxæ”¹ç¯å¢ƒå˜é‡æ›´å®¹æ˜“ï¼Œç™¾åº¦ä¸€ä¸‹å§&#x3D; &#x3D; æˆ‘ä¸ªäººæ›´æ¨èåœ¨windowsç³»ç»Ÿå®‰è£…SRA Toolkitï¼ŒSRAæ•°æ®åº“æœ¬èº«æœåŠ¡å™¨åœ¨å›½å¤–ï¼Œå›½å†…è®¿é—®ä¸‹è½½é€Ÿåº¦æ…¢åˆ°ä»¤äººå‘æŒ‡ï¼ˆä¸ªä½æ•°Kb&#x2F;sï¼Œç”šè‡³ç›´æ¥æ²¡æœ‰ï¼‰ï¼Œè€Œç±»ä¼¼è½¬å½•ç»„è¿™ç§æ•°æ®ï¼Œç»†èŒå¯èƒ½è¿˜å¥½ç‚¹ï¼ŒåŠ¨æ¤ç‰©åšä¸ª10Xæµ‹åºåŠ¨ä¸åŠ¨å°±æ˜¯å‡ ä¸ªGåå‡ ä¸ªGï¼ŒåŠ ä¸Šåˆ†ç»„å’Œç”Ÿç‰©å­¦é‡å¤åŠ¨è¾„å‡ åä¸Šç™¾Gï¼Œé‚£ç‚¹é€Ÿåº¦ä¸‹åˆ°å¤©è’åœ°è€ä¹Ÿä¸‹ä¸å®Œã€‚çº¯å‘½ä»¤è¡Œçš„linuxç³»ç»Ÿä½¿ç”¨ä»£ç†æœåŠ¡ç›¸å¯¹windowsç³»ç»Ÿæ¥è¯´è¦éº»çƒ¦ä¸€ç‚¹ï¼Œè¯´ç™½äº†ï¼Œwindowsç³»ç»Ÿæ›´å®¹æ˜“ç§‘å­¦ä¸Šç½‘ï¼Œä¸ºäº†ä¸‹è½½æ•°æ®æ²¡æœ‰åˆ«çš„åŠæ³•ã€‚ æˆ‘ä»¬ç”¨çš„å°±æ˜¯SRA Toolkitå·¥å…·åŒ…é‡Œçš„prefetchå‘½ä»¤ä¸‹è½½åŸå§‹æ•°æ®ï¼Œprefetchæœ‰ä¸ªæœ€å¤§çš„å¥½å¤„æ˜¯åªè¦çŸ¥é“SRAæ•°æ®åº“çš„æ•°æ®ç±»å‹ç¼–å·ï¼Œå°±å¯ä»¥ç›´æ¥ä¸‹è½½å¯¹åº”çš„åŸå§‹æ•°æ®ã€‚å¦‚æœè¦æ‰¹é‡ä¸‹è½½ï¼Œå¯ä»¥å°†æ•°æ®ç¼–å·å†™å…¥txtæ–‡ä»¶ä¸­å†è¿è¡Œprefetchå‘½ä»¤ï¼Œæˆ–è€…ç›´æ¥å†™ä¸ªå¾ªç¯è¯­å¥ã€‚æ‰€ä»¥è¿™é‡Œçš„å…³é”®æ˜¯æ€ä¹ˆå¾—åˆ°æ•°æ®ç¼–å·ï¼Œæ¯”å¦‚SRRç¼–å·ç­‰ç­‰ã€‚ å‰é¢GEOæ•°æ®åº“æä¾›äº†SRAæ•°æ®åº“çš„é“¾æ¥ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç‚¹å¼€ï¼ˆæˆ–è€…ç‚¹å‡»åŸå§‹æ•°æ®åº•ä¸‹çš„SRA Run Selectorï¼‰ï¼š ç‚¹å‡»å³ä¸Šè§’çš„Send results to Run selector: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªé¡¹ç›®ä¸€å…±æœ‰16ä¸ªåŸºå› ç»„æµ‹åºæ•°æ®ï¼Œéš¾é“è¦16ä¸ªwgetå‘½ä»¤ä¸€ä¸ªä¸€ä¸ªä¸‹è½½éº½ï¼Ÿä¸éœ€è¦ï¼Œå¦‚æœè¦ä¸‹è½½çš„åŸºå› ç»„æ•°æ®æ•°é‡å¤šè‚¯å®šä¸è¡Œã€‚æˆ‘ä»¬å¯ä»¥ä»Accession listé‡Œè·å–ä¸åŒå‰ç¼€çš„å„ç§runæ•°æ®ï¼Œåé¢ç”¨prefetchå‘½ä»¤ç»“åˆå¾ªç¯è¯­å¥ï¼Œç›´æ¥ä¸€æ­¥ä¸‹è½½ã€‚ æŠŠAccession listçš„ç¼–å·å…¨éƒ¨å¤åˆ¶ä¸‹æ¥ï¼Œä»¥linuxä¸ºä¾‹è¿è¡Œcat &gt; idï¼Œå›è½¦åç²˜è´´ç¼–å·ï¼ŒæŒ‰ctrl+cé€€å‡ºï¼Œè¿™æ ·å°±ç”Ÿæˆäº†ä¸€ä¸ªåä¸ºidçš„æ–‡ä»¶ï¼Œé‡Œé¢å†…å®¹æ˜¯æˆ‘ä»¬è¦ä¸‹è½½çš„åŸºå› ç»„æµ‹åºæ•°æ®ç¼–å·ã€‚ å†™ä¸€ä¸ªå¾ªç¯è¯­å¥cat id | while read id ;do prefetch $id &amp;;done ï¼Œå°±å¯ä»¥å…¨éƒ¨ä¸‹è½½äº†ï¼Œè¿™é‡Œæ²¡æœ‰æŒ‡å®šè¾“å‡ºç›®å½•ï¼Œæœ€ç»ˆæ‰€æœ‰åŸå§‹æµ‹åºæ•°æ®ä¼šè¾“å‡ºåˆ°æ ¹ç›®å½•ä¸‹ã€‚ æœ€åé¡ºä¾¿è¯´ä¸€å¥ï¼Œä¸‹è½½æµ‹åºåŸå§‹æ•°æ®çš„æ–¹æ³•å¾ˆå¤šï¼Œä¸ä»…ä»…æ˜¯å®˜æ–¹ç»™çš„è¿™ä¸ªå°å·¥å…·ã€‚è¿˜å¯ä»¥ç”¨asperaéµå¾ªä¸€å®šçš„ä¸‹è½½æ ¼å¼ä¹Ÿå¯ä»¥ä¸‹è½½åŸå§‹æ•°æ®ï¼Œæˆ–è€…ç”¨æœ€åŸå§‹çš„wgetç®€å•ç²—æš´ç›´æ¥ä¸‹è½½ï¼Œåªæ˜¯è¯´è¿™äº›æ–¹æ³•éƒ½æˆ–å¤šæˆ–å°‘å—åˆ°ç½‘ç»œé™åˆ¶çš„å½±å“ï¼Œprefetchä¹Ÿåªæ˜¯ç›¸å¯¹ç¨³å®šä¸€ç‚¹ã€‚å‰é¢çš„ç¬”è®°æˆ‘ä¹Ÿä»‹ç»è¿‡çˆ¬è™«çš„ç¼–ç¨‹æ–¹æ³•ï¼Œåˆ†è§£ç½‘é¡µç»“æ„ï¼Œæ‰¹é‡æŠ“å–æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ï¼Œè¿™ä¹Ÿä¸å¤±ä¸ºä¸€ç§æ–¹æ³•ã€‚äººæ˜¯æ´»çš„ï¼Œä¸è¦æ‹˜æ³¥äºä¸€ç§æ€è·¯ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"SRA","slug":"SRA","permalink":"http://www.shelven.com/tags/SRA/"},{"name":"SRA Toolkit","slug":"SRA-Toolkit","permalink":"http://www.shelven.com/tags/SRA-Toolkit/"},{"name":"GEO","slug":"GEO","permalink":"http://www.shelven.com/tags/GEO/"}]},{"title":"ç®€æ˜“çˆ¬è™«ç¨‹åºç¼–ç¨‹è®°å½•â€”â€”ä»¥å¾®åšçƒ­æœä¸ºä¾‹","slug":"ç®€æ˜“çˆ¬è™«ç¨‹åºç¼–ç¨‹è®°å½•â€”â€”ä»¥å¾®åšçƒ­æœä¸ºä¾‹","date":"2022-05-02T16:05:41.000Z","updated":"2022-12-03T16:23:08.000Z","comments":true,"path":"2022/05/03/a.html","link":"","permalink":"http://www.shelven.com/2022/05/03/a.html","excerpt":"å†™çš„è¿™ä¸ªå°çˆ¬è™«ç¨‹åºä¸»è¦æ˜¯åº”ç”¨requestsåº“å’ŒlxmlåŒ…çš„etreeåº“ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹ã€‚","text":"å†™çš„è¿™ä¸ªå°çˆ¬è™«ç¨‹åºä¸»è¦æ˜¯åº”ç”¨requestsåº“å’ŒlxmlåŒ…çš„etreeåº“ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹ã€‚ 1. å…³äºçˆ¬è™«ç™¾åº¦ç™¾ç§‘å¯¹äºçˆ¬è™«çš„å®šä¹‰æ˜¯ï¼Œç½‘ç»œçˆ¬è™«ï¼ˆåˆè¢«ç§°ä¸ºç½‘é¡µèœ˜è››ã€ç½‘ç»œæœºå™¨äººï¼Œåœ¨ FOAF ç¤¾åŒºä¸­ï¼Œç»å¸¸è¢«ç§°ä¸ºç½‘é¡µè¿½é€è€…ï¼‰ï¼Œæ˜¯ä¸€ç§æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œè‡ªåŠ¨æŠ“å–äº’è”ç½‘ä¿¡æ¯çš„ç¨‹åºæˆ–è€…è„šæœ¬ã€‚å¦å¤–ä¸€äº›ä¸å¸¸ä½¿ç”¨çš„åå­—è¿˜æœ‰èš‚èšã€è‡ªåŠ¨ç´¢å¼•ã€æ¨¡æ‹Ÿç¨‹åºæˆ–è€…è •è™«ã€‚ æˆ‘ä»¬åªéœ€è¦çŸ¥é“çˆ¬è™«çš„ä½œç”¨æ˜¯æŠ“å–ç½‘é¡µçš„ä¿¡æ¯ï¼Œå…¶å®ç°åœ¨äº’è”ç½‘ä¸Šå……æ–¥ç€å¤§é‡çš„çˆ¬è™«ï¼ŒåŒ…æ‹¬ä¸å±€é™äºç«è½¦ç¥¨æŠ¢ç¥¨è½¯ä»¶ï¼Œå„ç§å®æ—¶æ•°æ®åˆ†æç½‘ç«™ç­‰ç­‰ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯å‘èµ·å¤§é‡çš„httpè¯·æ±‚è·å¾—ä¿¡æ¯ã€‚çˆ¬è™«æŠ€æœ¯çš„æ»¥ç”¨ä¼šå¯¼è‡´ç›®æ ‡ç½‘ç«™åœ¨çŸ­æ—¶é—´å†…æ”¶åˆ°å¤§é‡çš„è®¿é—®è¯·æ±‚ï¼Œè¿›è€Œå¯¼è‡´æœåŠ¡å™¨ç˜«ç—ªï¼Œç›¸å½“äºæ˜¯ddosæ”»å‡»äº†ã€‚ä½†æ˜¯çˆ¬è™«çš„ä¾¿åˆ©æ€§æ˜¯ä¸å¯å¦è®¤çš„ï¼Œå°¤å…¶æ˜¯æ‰¹é‡æ“ä½œæ•°æ®å’Œè·å–ä¿¡æ¯ï¼Œæ¯”å¦‚æ‰¹é‡ä¸‹è½½æˆ‘ä»¬éœ€è¦çš„æ–‡çŒ®ç­‰ç­‰ã€‚çŠ¯ç½ªçš„æ°¸è¿œæ˜¯å‡¶æ‰‹è€Œä¸æ˜¯å·¥å…·ï¼Œæˆ‘ä»¬åœ¨åˆæ³•çš„èŒƒå›´å†…åº”ç”¨å¥½å·¥å…·ï¼Œèƒ½ä¸ºæˆ‘ä»¬ç”Ÿæ´»æä¾›éå¸¸å¤§çš„ä¾¿åˆ©ã€‚ çŸ¥å…¶ç„¶çŸ¥å…¶æ‰€ä»¥ç„¶ï¼Œäº†è§£è¿™ä¸ªæŠ€æœ¯çš„æœ€å¥½æ–¹æ³•æ˜¯è‡ªå·±å»å­¦ï¼Œå› æ­¤å†™äº†è¿™ä¸ªå°çˆ¬è™«ç¨‹åºã€‚ä¸ºä»€ä¹ˆæ‹¿å¾®åšçƒ­æœæ¥ç»ƒæ‰‹å‘¢ï¼Œå› ä¸ºå¾®åšçƒ­æœç½‘é¡µç»“æ„éå¸¸ç®€å•æ˜äº†ï¼Œå¾ˆå®¹æ˜“ä¸Šæ‰‹â€¦â€¦ 1.1 requestsrequestsæ˜¯æœ€å¸¸ç”¨çš„Python HTTPå®¢æˆ·ç«¯åº“ï¼Œç¼–å†™çˆ¬è™«å’Œæµ‹è¯•æœåŠ¡å™¨å“åº”æ•°æ®æ—¶ç»å¸¸ä¼šç”¨åˆ°ï¼Œä¸“é—¨ç”¨äºå‘é€HTTPè¯·æ±‚ã€‚è¯´ç™½äº†requestsæœ€å¤§çš„ä½œç”¨å°±æ˜¯å‘èµ·httpè¯·æ±‚ï¼Œè¿”å›æˆ‘ä»¬éœ€è¦çš„ç½‘é¡µæ•°æ®ï¼Œæ‰€è°“çˆ¬è™«å°±æ˜¯ä»ç½‘é¡µä¸ŠæŠ“å–å’Œæ•´ç†æˆ‘ä»¬éœ€è¦çš„å…¬å¼€çš„ä¿¡æ¯ï¼Œå¯¹äºéå…¬å¼€çš„ä¿¡æ¯æŠ“å–æ˜¯è¿æ³•çš„ã€‚ requestsè¯·æ±‚æ–¹å¼ï¼š 1234567requests.get(url, kwargs)ï¼š å‘é€GETè¯·æ±‚requests.post(url, kwargs)ï¼š å‘é€POSTè¯·æ±‚requests.put(url, kwargs)ï¼š å‘é€PUTè¯·æ±‚requests.delete(url, kwargs)ï¼š å‘é€DELETEè¯·æ±‚requests.head(url, kwargs)ï¼š å‘é€headè¯·æ±‚erquests.options(url, kwargs)ï¼š å‘é€optionsè¯·æ±‚è¿™äº›è¯·æ±‚æ–¹æ³•çš„å‚æ•°å’Œç”¨æ³•ä¸€è‡´ï¼Œå¿…é€‰å‚æ•°ä¸ºurlï¼Œå…¶ä»–å‚æ•°ä¸ºå¯é€‰å‚æ•° 1.2 etreelxmlçš„etreeæ˜¯ä»ä¸Šé¢requestsè¿”å›çš„htmlæºç ä¸­æå–ä¿¡æ¯ç”¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡xpathè§£æç½‘é¡µçš„domæ ‘ï¼Œä»ä¸­è·å–æˆ‘ä»¬éœ€è¦çš„å…ƒç´ å’Œå†…å®¹ã€‚ ä¸»è¦ç”¨çš„ä¹Ÿå°±æ˜¯etree.HTML()ï¼Œå¯ä»¥ç”¨æ¥è§£æå­—ç¬¦ä¸²æ ¼å¼çš„htmlæ–‡æ¡£å¯¹è±¡ï¼Œæ›´æ–¹ä¾¿å¯¹æˆ‘ä»¬éœ€è¦çš„å…ƒç´ å’Œå¯¹è±¡è¿›è¡ŒæŠ“å–ï¼Œåé¢æ¼”ç¤ºä¼šè¯´åˆ°ã€‚ 2. ä»£ç å’Œç»“æœå±•ç¤º123456789101112131415161718192021import requestsfrom lxml import etreeimport timeurl = &#x27;https://s.weibo.com/top/summary/&#x27;header = &#123;&#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&#x27;,&#x27;cookie&#x27;: &quot;UOR=www.baidu.com,s.weibo.com,www.baidu.com; SINAGLOBAL=2417808258422.6777.1651037395174; _s_tentry=-; Apache=9947874618898.105.1651493077297; ULV=1651493077318:2:1:1:9947874618898.105.1651493077297:1651037395190; PC_TOKEN=04cd3c070b; login_sid_t=80fe8e3820060c4330191a42b71357dd; cross_origin_proto=SSL; ALF=1683032497; SSOLoginState=1651496497; SUB=_2A25Pa6ZiDeRhGeFL6lAT-CzMyj-IHXVsAJCqrDV8PUNbmtB-LUjdkW9NQm3k0nVgyW6LFmyhR5luy-dtvVNK1VjC; SUBP=0033WrSXqPxfM725Ws9jqgMF55529P9D9WWTcwdUO8qo5ZVwP9-2e8C.5JpX5KzhUgL.FoMfeKzE1hz7eKe2dJLoIp7LxKML1KBLBKnLxKqL1hnLBoMNSK2EeonEeh20&quot;&#125;resp = requests.get(url, headers=header)resp1 = resp.content.decode(encoding=&#x27;utf-8&#x27;)resp2 = etree.HTML(resp1)title = resp2.xpath(&#x27;//*[@id=&quot;pl_top_realtimehot&quot;]/table/tbody/tr/td/a/text()&#x27;)clout = resp2.xpath(&#x27;//*[@id=&quot;pl_top_realtimehot&quot;]/table/tbody/tr/td/span/text()&#x27;)addresses = resp2.xpath(&#x27;//*[@id=&quot;pl_top_realtimehot&quot;]/table/tbody/tr/td/a/@href&#x27;)print(time.strftime(&quot;%F,%R&quot;)+&#x27;\\n50æ¡å®æ—¶å¾®åšçƒ­æœ\\n&#x27;+&#x27;\\næ’åˆ—æ–¹å¼ï¼šåºå·+å…³é”®è¯+çƒ­åº¦\\n&#x27;)for i in range(51): if i == 0: print(&#x27;&#x27;.join(&#x27;ç½®é¡¶&#x27;+&#x27;\\t&#x27;+title[i]+&#x27;\\n&#x27;+&#x27;https://s.weibo.com&#x27;+addresses[i]), &#x27;\\n&#x27;) else: print(&#x27;&#x27;.join(str(i)+&#x27;\\t&#x27;+title[i]+&#x27;\\t&#x27;+clout[i-1]+&#x27;\\n&#x27;+&#x27;https://s.weibo.com&#x27;+addresses[i]), &#x27;\\n&#x27;) æœªå¯¹ä»£ç è¿›è¡Œå°è£…ï¼Œæºä»£ç å°±è¿™ä¹ˆåå‡ è¡Œï¼Œå®ç°çš„ç»“æœæ˜¯ï¼Œæ‰§è¡Œä¸€æ¬¡å°±åœ¨å½“å‰ç»ˆç«¯å±å¹•ä¸Šè¾“å‡ºå®æ—¶çš„50æ¡å¾®åšçƒ­æœè¯é¢˜ï¼Œå¹¶æ˜¾ç¤ºåºå·å’Œçƒ­åº¦ï¼Œæ¯æ¡çƒ­æœè¯é¢˜ä¸‹ä¸€è¡Œç”Ÿæˆå¾®åšè¶…é“¾æ¥ã€‚ 3. ä»£ç è¯¦è§£å»ºç«‹pythonè„šæœ¬ï¼Œå¯¼å…¥æ¨¡å—è¿™æ­¥ä¸è§£é‡Šäº†ã€‚ urlæ˜¯æˆ‘ä»¬è¦æŠ“å–ä¿¡æ¯çš„ç½‘ç«™åœ°å€ï¼Œè¿™ä¸ªå¾ˆå¥½ç†è§£ã€‚headeræ˜¯æˆ‘ä»¬è°ƒç”¨requestsæ¨¡å—éœ€è¦çš„ä¸€ä¸ªé‡è¦å‚æ•°ï¼Œé‡Œé¢æä¾›äº†æˆ‘ä»¬è®¿é—®éœ€è¦çš„è®¤è¯ä¿¡æ¯cookieï¼Œhttpè¯·æ±‚æœ¬èº«æ˜¯æ— çŠ¶æ€çš„ï¼Œç½‘ç«™æ— æ³•ç¡®è®¤å‰ä¸€æ¬¡å‘å‡ºè¯·æ±‚çš„äººå’Œåä¸€æ¬¡å‘å‡ºè¯·æ±‚çš„äººæ˜¯å¦ä¸ºåŒä¸€äººï¼Œå› æ­¤éœ€è¦è®©ç½‘ç«™è®°ä½æˆ‘ä»¬çš„ç™»å½•ä¿¡æ¯cookieä»¥å“åº”æˆ‘ä»¬çš„è¯·æ±‚ã€‚æ²¡æœ‰headerå¯èƒ½æ— æ³•è¿”å›ç½‘é¡µä¿¡æ¯ï¼Œé‚£è¿™ä¸€å¤§å †ä¸œè¥¿æ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿéœ€è¦æˆ‘ä»¬å®¡æŸ¥ç½‘é¡µå…ƒç´ ã€‚ 3.1 è·å¾—cookieå’Œuser-agentæ‰“å¼€å¾®åšçƒ­æœé¦–é¡µï¼Œç™»å½•å¾®åšï¼Œéšä¾¿ä»€ä¹ˆç©ºç™½çš„åœ°æ–¹å³é”®ï¼Œç‚¹å‡»æ£€æŸ¥ï¼Œæ‰¾åˆ°networkï¼ˆç½‘ç»œï¼‰ã€‚ ä¸Šé¢çš„ä¸ºç½‘é¡µå…ƒç´ ï¼Œæ—¥å¿—æ§åˆ¶å°ï¼Œç½‘ç»œï¼Œèµ„æºï¼Œæ€§èƒ½å’Œå†…å­˜ç­‰ç­‰æ ‡ç­¾ï¼Œä¸‹é¢çš„å°±æ˜¯å¯¹åº”çš„å†…å®¹ï¼Œå¾€å¾€ç‚¹å‡»ç¬¬ä¸€ä¸ªæ€»ç»“ç±»çš„æ–‡ä»¶å¯ä»¥è·å¾—request headersä¿¡æ¯ï¼Œè¿™é‡Œé¢æœ€é‡è¦çš„ä¸¤ä¸ªä¿¡æ¯ï¼šcookieå’ŒUser-Agent å°†cookieå’Œuser-agentå†…å®¹å…¨éƒ¨å†™åˆ°headerå˜é‡ä¸­ï¼Œè¿™æ ·æ¯æ¬¡è®¿é—®ç½‘ç«™å°±å¸¦ä¸Šäº†æˆ‘ä»¬å”¯ä¸€çš„æ ‡å¿—ä¿¡æ¯ resp = requests.get(url, headers=header) è®¿é—®ç›®æ ‡ç½‘å€ï¼Œè¿”å›çš„htmlæºç èµ‹å€¼ç»™respï¼Œç„¶è€Œæˆ‘ä»¬çœ‹ä¸åˆ°è¿”å›çš„å€¼æ˜¯æ€ä¹ˆæ ·çš„ï¼Œä»€ä¹ˆç±»å‹çš„ï¼Œè¿™é‡Œæˆ‘å°±è¦ä»‹ç»ä¸€ä¸‹vscodeçš„AREPLæ’ä»¶äº†ã€‚ 3.2 AREPLæŸ¥çœ‹å˜é‡å’Œå®¡æŸ¥ç½‘ç«™å…ƒç´ å‰é¢ä»‹ç»vscodeæ’ä»¶è¯´è¿‡ï¼ŒAREPLå¯ä»¥å®æ—¶æ‰“å°å‡ºå½“å‰çš„å˜é‡ä¿¡æ¯è€Œä¸éœ€è¦è¿è¡Œä»£ç ï¼Œæå¤§åœ°æ–¹ä¾¿äº†æˆ‘ä»¬æŸ¥çœ‹è¿”å›çš„å€¼å’Œä¿¡æ¯ï¼ŒçŸ¥é“æ¯ä¸€è¡Œä»£ç å‘æŒ¥äº†ä»€ä¹ˆä½œç”¨ã€‚ æˆ‘ä»¬çœ‹ä¸€ä¸‹è‡ªå®šä¹‰çš„respå˜é‡æ˜¯ä»€ä¹ˆï¼š status_codeå€¼ä¸º200ï¼Œå¾ˆæ˜æ˜¾æˆåŠŸè¿”å›äº†htmlæºç ä¿¡æ¯ï¼Œä½†æ˜¯ç‚¹å¼€æ¥çœ‹å´å¾—ä¸åˆ°æˆ‘ä»¬éœ€è¦çš„ç½‘é¡µæ–‡å­—ä¿¡æ¯ï¼Œå› ä¸ºè¿˜æ²¡æœ‰è¿›è¡Œè§£ç ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç¼–ç æ–¹å¼æ˜¯UTF-8ï¼Œè‡ªç„¶è€Œç„¶çš„ï¼Œæˆ‘ä»¬å°±è¦å¯¹respå˜é‡å€¼è¿›è¡Œå¯¹åº”çš„UTF-8è§£ç ï¼Œä¹Ÿå°±æ˜¯åé¢çš„ä»£ç resp1 = resp.content.decode(encoding=&#39;utf-8&#39;)ï¼Œè¿™é‡Œæ³¨æ„ä¸€ç‚¹è¦ç”¨contentä¸èƒ½ç”¨text å†æ¥ç‚¹å¼€çœ‹çœ‹è§£ç åçš„resp1ï¼š å¦‚æœæœ‰ç‚¹htmlåŸºç¡€çš„è¯ä¼šå‘ç°ï¼Œæ€ä¹ˆæ ·ï¼Œæ˜¯ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼æ²¡é”™ï¼è¿™å°±æ˜¯æˆ‘ä»¬åœ¨å®¡æŸ¥ç½‘é¡µå…ƒç´ è·å¾—çš„ç½‘é¡µçš„å‰ç«¯ç»“æ„ï¼Œè¿™é‡ŒåŒ…æ‹¬äº†æ‰€æœ‰çš„ç½‘é¡µä¿¡æ¯ï¼Œå†ä¹Ÿä¸ç”¨ç‚¹å¼€åŸç½‘ç«™ä¸€ä¸ªä¸€ä¸ªå…ƒç´ å»æ‰¾å•¦ï¼ï¼ˆå°±æ¯”å¦‚æˆ‘è¿™å°ç ´ç«™çš„ç½‘é¡µå…ƒç´ çœ‹åœ°æˆ‘è„‘ç“œå­å—¡å—¡çš„ï¼‰è¿™é‡Œå¯ä»¥å¾ˆè½»æ˜“åœ°çœ‹åˆ°å„ä¸ªèŠ‚ç‚¹ä¿¡æ¯ï¼Œæå¤§æ–¹ä¾¿äº†æˆ‘å†™ä¸Šé¢çš„çˆ¬è™«ä»£ç ã€‚ è¿™é‡Œæˆ‘éœ€è¦ä¸‰ä¸ªä¿¡æ¯ï¼Œçƒ­æœçš„æ ‡é¢˜ã€çƒ­åº¦å’Œç½‘å€ï¼Œæˆ‘ä»¬æ¥å±•å¼€çœ‹ä¸€çœ‹ç½‘é¡µç»“æ„ï¼š åƒæ´‹è‘±ä¸€æ ·ä¸€å±‚ä¸€å±‚æ‹¨å¼€ç½‘é¡µç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°table&#x2F;tbody&#x2F;tr&#x2F;td&#x2F;aèŠ‚ç‚¹çš„å†…å®¹æ˜¯å¾®åšçƒ­æœæ ‡é¢˜ï¼Œaè¿™ä¸ªèŠ‚ç‚¹çš„æ ‡ç­¾hrefå°±æ˜¯ç½‘å€ï¼Œtable&#x2F;tbody&#x2F;tr&#x2F;td&#x2F;spanèŠ‚ç‚¹çš„å†…å®¹å°±æ˜¯çƒ­åº¦ï¼Œè‡³æ­¤ï¼Œç½‘é¡µç»“æ„ä¸€æ¸…äºŒæ¥šï¼Œæˆ‘ä»¬è¦åšçš„å°±æ˜¯æŠŠä¿¡æ¯æå–å‡ºæ¥ï¼Œæå–çš„æ–¹å¼å°±æ˜¯etreeè§£æè¿™ä¸ªå­—ç¬¦ä¸²æ ¼å¼çš„htmlæ–‡æ¡£ï¼Œç”Ÿæˆå¯¹åº”çš„å…ƒç´ è·¯å¾„ã€‚ 3.3 è§£æhtmlæ–‡æ¡£resp2 = etree.HTML(resp1)å°±æ˜¯ç”¨æ¥è§£æå­—ç¬¦ä¸²æ ¼å¼çš„HTMLæ–‡æ¡£å¯¹è±¡çš„ï¼Œå°†ä¼ è¿›å»çš„å­—ç¬¦ä¸²è½¬å˜æˆå…ƒç´ å¯¹è±¡ è½¬æ¢åçš„resp2å¦‚ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ¯ä¸ªèŠ‚ç‚¹éƒ½è¢«è½¬æ¢æˆäº†_Elementå¯¹è±¡ï¼š æ¥ä¸‹æ¥å°±æ˜¯é¡ºç†æˆç« åœ°ç”¨xpathå¯»æ‰¾å…ƒç´ è·¯å¾„ï¼Œå°†å¯¹åº”å†…å®¹æå–å‡ºæ¥ï¼Œæˆ‘çš„å…ƒç´ è·¯å¾„ä¸­åº”ç”¨äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿™é‡Œä¹Ÿä¸è§£é‡Šäº†ã€‚ æœ€åå¯ä»¥å°†æå–å‡ºæ¥çš„ä¸‰ä¸ªä¿¡æ¯ä¸€ä¸€æ‰“å°å‡ºæ¥çœ‹çœ‹æ˜¯å¦æœ‰é—®é¢˜ï¼ˆAREPLæ’ä»¶çœŸçš„ç«‹å¤§åŠŸï¼‰ï¼Œæœ‰äº†ä¿¡æ¯æ¥ä¸‹æ¥å°±æ˜¯æ•´ç†å’Œæ’ç‰ˆï¼Œé‚£å°±æ˜¯printå‡½æ•°å’Œå¾ªç¯è¯­å¥çš„åŸºæœ¬ç”¨æ³•äº†ã€‚è™½ç„¶pythonä¸­çš„printå‡½æ•°å’Œå¾ªç¯è¯­å¥ä¸Ræˆ–è€…linuxä¸­ç•¥æœ‰ä¸åŒï¼Œè¿™ä¸ªåŸºç¡€çŸ¥è¯†è¿™é‡Œä¹Ÿä¸å†èµ˜è¿°ã€‚ å”¯ä¸€æˆ‘è§‰å¾—éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œrange() å‡½æ•°æä¾›çš„æ˜¯0-51çš„æ•´æ•°ï¼›å®˜ç½‘ç½®é¡¶çš„å¾®åšæ²¡æœ‰çƒ­åº¦æ˜¾ç¤ºï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸€ä¸ªifåˆ¤æ–­è¯­å¥åŒºåˆ«ï¼›æ’ç‰ˆçš„æ—¶å€™æ³¨æ„è½¬ä¹‰å­—ç¬¦ï¼Œå…¶ä»–éƒ½æ˜¯ç»†èŠ‚å¾®è°ƒéƒ¨åˆ†ï¼Œæ€ä¹ˆç¾è§‚æ€ä¹ˆé¡ºçœ¼æ€ä¹ˆæ¥ã€‚ 4. æ€»ç»“å› ä¸ºè¿™ä¸ªç½‘é¡µæ²¡æœ‰åšåçˆ¬ï¼ˆæˆ–è®¸æ˜¯æˆ‘æ²¡æ³¨æ„åˆ°ï¼‰æ‰‹æ®µï¼Œè‡³å°‘æˆ‘è·å–è¿™äº›å…¬å¼€ä¿¡æ¯è¿˜æ˜¯æ²¡æœ‰é‡åˆ°é˜»ç¢çš„ï¼Œè¿™ä¹Ÿæ˜¯æœ€æœ€ç®€å•çš„ä¸€ä¸ªçˆ¬è™«è„šæœ¬äº†ï¼Œè°ƒç”¨ç¬¬ä¸‰æ–¹æ¨¡å—ï¼Œè§£æç½‘é¡µï¼Œæœ€åæå–ä¿¡æ¯å’Œæ•´ç†ï¼Œå°±æ˜¯è¿™ä¹ˆç®€å•ä¹Ÿå¾ˆå¥½ç†è§£ã€‚ æˆ‘æœ€è¿‘è¿˜æ¥è§¦åˆ°ä¸€ä¸ªæ˜æ—¥æ–¹èˆŸæŠ½å¡è®°å½•æ±‡æ€»çš„å°ç¨‹åºï¼Œæˆ‘çœ‹äº†ä¸‹å°ç¨‹åºçš„æ–¹æ³•ï¼ŒçŒœæµ‹è¿™ç±»ç¨‹åºä¹Ÿæ˜¯ç±»ä¼¼çš„çˆ¬è™«ç¨‹åºã€‚å…ˆç™»å½•å®˜æ–¹ç½‘ç«™ï¼Œéœ€è¦ä½ è¾“å…¥ä¸€ä¸ªç½‘å€ï¼Œæä¾›token_by_cookieè¿™ä¸ªå€¼ï¼Œè¿™ä¸ªå€¼åœ¨networkæ ‡ç­¾ä¸­èƒ½æ‰¾åˆ°ï¼Œå¹¶ä¸”èƒ½å‘ç°resquest urlå°±æ˜¯è·å–token_by_cookieå€¼çš„ç½‘ç«™ã€‚ è·å¾—è¿™ä¸ªtokenä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æŠ½å¡è®°å½•å¯ä»¥é€šè¿‡å¦ä¸€ä¸ªéœ€è¦tokençš„ç½‘å€ä¸­ç›´æ¥è·å–ï¼Œæ˜æ—¥æ–¹èˆŸçš„æŠ½å¡è®°å½•åªèƒ½ä¿å­˜10é¡µï¼Œå› æ­¤ï¼Œåªéœ€è¦è¾“å…¥tokenï¼Œç›´æ¥æ›´æ”¹pageå€¼1-10ï¼Œå°±èƒ½è·å¾—è¯¦å°½çš„æŠ½å¡ä¿¡æ¯ã€‚è€Œåšæˆå¥½çœ‹çš„å›¾è¡¨ä¹Ÿæ— éæ˜¯æŠŠçˆ¬è™«ç¨‹åºå’Œä½œå›¾ç¨‹åºç»“åˆä¸€ä¸‹ï¼Œå°è£…ï¼Œæœ€ååœ¨å°ç¨‹åºè°ƒç”¨ï¼Œæ€è·¯å°±æ˜¯è¿™æ ·çš„ã€‚ åŒæ—¶ä¹Ÿèƒ½å‘ç°ï¼Œå¦‚æœæˆ‘ä»¬æä¾›tokenå€¼ç»™åˆ«äººï¼Œé™¤äº†æŠ½å¡è®°å½•ä»¥å¤–ï¼Œè¿˜èƒ½æå–æˆ‘ä»¬çš„å……å€¼ä¿¡æ¯å’ŒæºçŸ³æ¶ˆè´¹ä¿¡æ¯ç­‰ç­‰è¿™ç±»éšç§ä¿¡æ¯ã€‚è¦æŒæ¡éšç§ä¿¡æ¯æ— éæ˜¯ç¨‹åºçš„ä½œè€…æƒ³ä¸æƒ³åšçš„é—®é¢˜ï¼Œæ¯•ç«Ÿè¿˜æ˜¯æŠŠéšç§ä¿¡æ¯æ¡åœ¨è‡ªå·±æ‰‹é‡Œæ¯”è¾ƒå¥½ã€‚ å­¦ä¹ å°±æ˜¯å­¦ä¹ è¿™äº›æŠ€æœ¯çš„æ€è·¯å¹¶ä¸ºè‡ªå·±æ‰€ç”¨ã€‚","categories":[{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://www.shelven.com/tags/%E7%88%AC%E8%99%AB/"}]},{"title":"vscodeè¿œç¨‹è¿æ¥å’Œå¿«é€Ÿæ­å»ºpythonç¯å¢ƒ","slug":"vscodeå¿«é€Ÿæ­å»ºpythonç¯å¢ƒ","date":"2022-04-29T10:17:01.000Z","updated":"2022-12-03T16:17:35.000Z","comments":true,"path":"2022/04/29/a.html","link":"","permalink":"http://www.shelven.com/2022/04/29/a.html","excerpt":"æœ€è¿‘åœ¨è‡ªå­¦pythonï¼Œåˆšå…¥é—¨è‹¦äºä¸çŸ¥é“ä»ä½•ä¸‹æ‰‹ï¼Œä¹Ÿä¸çŸ¥é“ç”¨ä»€ä¹ˆç¼–è¾‘å™¨æ¯”è¾ƒé€‚åˆã€‚åœ¨åº¦å¨˜ä¸Šæœäº†åå‡ æ¬¾ç¼–è¾‘å™¨ï¼Œæœ€ç»ˆå†³å®šç”¨å¾®è½¯çš„vscodeï¼Œè¿™ä¸ªç¼–è¾‘å™¨å¯ä»¥é…ç½®Pythonã€Javaã€C ++ç­‰ç¼–ç¨‹ç¯å¢ƒï¼Œè€Œä¸”æœ‰éå¸¸å¼ºå¤§çš„æ’ä»¶åŠŸèƒ½ï¼Œç•Œé¢çœ‹ç€ä¹ŸæŒºå‹å¥½ï¼Œå†™ä¸ªæ—¥å¿—è®°å½•ä¸‹è‡ªå·±çæ£é¼“çš„é…ç½®ã€‚","text":"æœ€è¿‘åœ¨è‡ªå­¦pythonï¼Œåˆšå…¥é—¨è‹¦äºä¸çŸ¥é“ä»ä½•ä¸‹æ‰‹ï¼Œä¹Ÿä¸çŸ¥é“ç”¨ä»€ä¹ˆç¼–è¾‘å™¨æ¯”è¾ƒé€‚åˆã€‚åœ¨åº¦å¨˜ä¸Šæœäº†åå‡ æ¬¾ç¼–è¾‘å™¨ï¼Œæœ€ç»ˆå†³å®šç”¨å¾®è½¯çš„vscodeï¼Œè¿™ä¸ªç¼–è¾‘å™¨å¯ä»¥é…ç½®Pythonã€Javaã€C ++ç­‰ç¼–ç¨‹ç¯å¢ƒï¼Œè€Œä¸”æœ‰éå¸¸å¼ºå¤§çš„æ’ä»¶åŠŸèƒ½ï¼Œç•Œé¢çœ‹ç€ä¹ŸæŒºå‹å¥½ï¼Œå†™ä¸ªæ—¥å¿—è®°å½•ä¸‹è‡ªå·±çæ£é¼“çš„é…ç½®ã€‚ æœ¬æ¥æ˜¯æƒ³åœ¨æˆ‘çš„äº‘æœåŠ¡å™¨ä¸Šè£…vscodeï¼Œä½†æ˜¯æˆ‘çš„äº‘æœåŠ¡å™¨ä¸Šæ²¡æœ‰å¯è§†åŒ–ç•Œé¢â€¦â€¦äºæ˜¯åœ¨æˆ‘çš„å°ç ´ç¬”è®°æœ¬ä¸Šå®‰è£…äº†vscodeï¼Œåæ¥åˆå‘ç°æœ‰ä¸€ä¸ªæ’ä»¶å¯ä»¥sshè¿æ¥ä¸ŠæœåŠ¡å™¨ï¼Œåªè¦èƒ½sshè¿æ¥å°±å¯ä»¥ç›´æ¥è°ƒç”¨æœåŠ¡å™¨ä¸Šäº‹å…ˆå®‰è£…å¥½çš„å„ç§pythonåº“ï¼ŒçœŸé¦™~ ä»å¤´å¼€å§‹è®°å½•ä¸‹ä½¿ç”¨æ–¹æ³•å’Œè‡ªå·±çš„è®¾ç½® 1. ä¸‹è½½vscodevscodeå¯ä»¥ç›´æ¥ä¸Šå®˜ç½‘ä¸‹è½½ï¼ˆé€Ÿåº¦å¾ˆæ…¢ï¼Œå»ºè®®ç§‘å­¦ä¸Šç½‘ï¼‰ï¼Œé€‰æ‹©è‡ªå·±çš„æ“ä½œç³»ç»Ÿï¼Œæˆ‘ç”¨çš„windows ä¸€ç›´ä¸‹ä¸€æ­¥å°±å¯ä»¥äº†ï¼Œå”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯æŠŠvscodeåŠ å…¥ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ï¼ˆé»˜è®¤é€‰é¡¹ï¼‰ï¼Œå®‰è£…ä»¥åèƒ½å¤Ÿåœ¨cmdå‘½ä»¤è¡Œé€šè¿‡codeæ‰“å¼€è¯´æ˜å°±æ”¹äº†ç¯å¢ƒå˜é‡ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åœ¨ç³»ç»Ÿç¯å¢ƒå˜é‡çš„pathä¸­æ‰¾åˆ°ï¼Œè¿™é‡Œä¸èµ˜è¿° 2. æ’ä»¶ä¸‹è½½2.1 ä¸­æ–‡è¯­è¨€åŒ…è‹±æ–‡ç•Œé¢å¯¹äºæˆ‘è¿™ç§å°ç™½å¤ªéš¾äº†ï¼Œæ‰€ä»¥æ‰“å¼€è½¯ä»¶ç¬¬ä¸€ä»¶äº‹å°±æ˜¯å®‰è£…ä¸­æ–‡æ’ä»¶ï¼Œè¿™ä¸ªåœ¨å·¦è¾¹æ‹“å±•æ è¾“å…¥chineseç›´æ¥å¯ä»¥æ‰¾åˆ°ï¼ˆæˆ‘è¿™é‡Œå·²ç»è£…å¥½äº†ï¼Œåªæ˜¯æ¼”ç¤ºè®°å½•ä¸€ä¸‹ï¼‰ 2.2 sshè¿æ¥æ’ä»¶å› ä¸ºæˆ‘è¦è¿œç¨‹è°ƒç”¨æœåŠ¡å™¨ä¸Šçš„pythonåº“ï¼Œæ‰€ä»¥æˆ‘é¦–å…ˆä¸‹è½½äº†SSHè¿æ¥æ’ä»¶ å®‰è£…ä»¥åç‚¹å‡»å³ä¾§èœå•æ çš„è¿œç¨‹èµ„æºç®¡ç†å™¨ï¼Œå¯ä»¥æ–°å»ºä¸€ä¸ªè¿œç¨‹è¿æ¥ æŒ‰ç…§æ­£ä¸Šæ–¹å¼¹å‡ºçš„çª—å£æç¤ºï¼Œæˆ‘ä»¬è¾“å…¥è‡ªå·±çš„ç”¨æˆ·è´¦å·å’Œhoståœ°å€ï¼Œä¹‹åé€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œè¿™æ ·æˆ‘ä»¬è¦è¿æ¥çš„è¿œç¨‹ä¸»æœºåœ°å€å°±è¢«è®°å½•ä¸‹æ¥äº†ã€‚è¿æ¥ä¹‹åè¾“å…¥å¯†ç å³å¯è¿œç¨‹ç™»å½•ï¼Œæ¯æ¬¡ç™»å½•éƒ½éœ€è¦è¾“å…¥å¯†ç  è¿æ¥ä»¥åå¯ä»¥é€‰æ‹©æ‰“å¼€æ–‡ä»¶å¤¹ï¼ŒæŠŠæ ¹ç›®å½•æ–‡ä»¶å¤¹æ‰“å¼€å°±å¯ä»¥è°ƒç”¨è¿œç¨‹æœåŠ¡å™¨çš„æ‰€æœ‰æ–‡ä»¶äº† çœ‹åˆ°ç»ˆç«¯æˆåŠŸæ˜¾ç¤ºæ¬¢è¿ç•Œé¢ï¼Œè¯´æ˜è¿œç¨‹ç™»é™†æˆåŠŸï¼Œç»ˆç«¯å¯ä»¥è¾“å…¥å’Œæ‰§è¡Œå‘½ä»¤äº† 2.3 pythonæ‹“å±•æ’ä»¶è¿œç¨‹ç™»å½•åªæ˜¯ç¬¬ä¸€æ­¥ï¼Œæ¥ä¸‹æ¥å®‰è£…æ’ä»¶éƒ½æ˜¯è¿œç¨‹ç™»å½•çš„çª—å£ï¼Œå®‰è£…åœ¨æœ¬åœ°çš„æ’ä»¶ä¸€èˆ¬ä¸èƒ½ç”¨åœ¨è¿œç¨‹ç™»å½•çª—å£ã€‚æˆ‘è¦æ­å»ºpythonç¯å¢ƒï¼Œä¹Ÿæ˜¯å…ˆå®‰è£…pythonçš„æ‹“å±•æ’ä»¶ 2.4 AREPLæ’ä»¶è¿™ä¸ªæ’ä»¶å¯ä»¥åœ¨å³ä¸Šè§’ç‚¹å¼€ï¼Œå®æ—¶æ‰“å°å‡ºä½ å†™çš„pythonè„šæœ¬è¿è¡Œç»“æœï¼Œå˜é‡çš„èµ‹å€¼ç­‰ç­‰ï¼Œè¿˜å¯ä»¥æ£€æŸ¥ä½ å†™çš„è„šæœ¬å“ªé‡Œå‡ºé”™è€Œä¸éœ€è¦ç›´æ¥è¿è¡Œä»£ç ã€‚è¿™ä¸ªæ’ä»¶åœ¨å†™çˆ¬è™«è„šæœ¬çš„æ—¶å€™çœŸçš„éå¸¸æ–¹ä¾¿ï¼ˆåé¢çš„ç¬”è®°å†åˆ†äº«ï¼Œå†™ä¸ªç®€å•çš„çˆ¬è™«è„šæœ¬å°±èƒ½ä½“ä¼šï¼‰ï¼Œå†ä¹Ÿä¸éœ€è¦ç‚¹å¼€ç½‘é¡µå®¡æŸ¥å„ä¸ªå…ƒç´ äº†ï¼Œç›´æ¥åœ¨å³è¾¹æ¡†é‡Œæ‰¾åˆ° ä¸¾ä¸ªæ —å­æ¯”å¦‚æˆ‘å†™äº†ä¸ªæ‰“å°çš®å¡ä¸˜çš„pythonè„šæœ¬ï¼ˆæ»‘ç¨½ï¼‰ï¼Œæˆ‘ä¸ç”¨è¿è¡Œç¨‹åºå°±èƒ½åœ¨å³è¾¹çœ‹åˆ°ä»£ç è¿è¡Œçš„ç»“æœ 3. è„šæœ¬è°ƒè¯•ä¸‹è½½å®Œæ’ä»¶ï¼Œå†™å®Œä»£ç ï¼Œæˆ‘ä»¬é¦–å…ˆè¦è¿›è¡Œçš„å°±æ˜¯ä»£ç è°ƒè¯•ï¼Œç‚¹å‡»å·¦ä¾§èœå•æ çš„ è¿è¡Œå’Œè°ƒè¯• ï¼Œæˆ‘ä»¬ç›´æ¥ç‚¹å‡»åˆ›å»º launch.jsonæ–‡ä»¶ åœ¨å¼¹å‡ºçš„æ­£ä¸Šæ–¹èœå•æ é€‰æ‹©ç¬¬ä¸€ä¸ªè°ƒè¯•é…ç½®æ‰“å¼€çš„pythonæ–‡ä»¶ æœ¬è´¨ä¸Šå°±æ˜¯ç”Ÿæˆä¸€ä¸ªè°ƒè¯•çš„jsonæ–‡ä»¶ï¼Œä¸ç”¨å¤ªå¤šäº†è§£ï¼Œè°ƒè¯•å½“å‰æ‰“å¼€çš„æ–‡ä»¶å°±å¯ä»¥ã€‚ä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±éœ€è¦æ”¹æˆåªè°ƒè¯•æŒ‡å®šåç§°çš„pythonè„šæœ¬ï¼Œæ”¹çš„å°±æ˜¯çº¢æ¡†é‡Œçš„éƒ¨åˆ† åœ¨è„šæœ¬é¡µé¢ç›´æ¥æŒ‰F5å°±å¯ä»¥è¿è¡Œäº†ï¼Œå¯ä»¥åœ¨ä»£ç çš„è¡Œå·å‰è®¾ç½®çº¢è‰²çš„æ–­ç‚¹ï¼Œç”¨æ¥åˆ†æ®µæµ‹è¯•ä»£ç ï¼Œåœ¨å†™çš„ä»£ç æ¯”è¾ƒå¤šéœ€è¦ä¸€æ®µæ®µæ£€æŸ¥é”™è¯¯çš„æ—¶å€™ä¼šæ¯”è¾ƒæœ‰ç”¨ã€‚æ¯”å¦‚æˆ‘åœ¨ä¸Šé¢çš„çš®å¡ä¸˜è„šæœ¬çš„ç¬¬12è¡Œè®¾ç½®ä¸€ä¸ªæ–­ç‚¹ï¼Œå†æŒ‰F5è¿è¡Œè„šæœ¬ï¼Œå°±ä¼šä»ç¬¬ä¸€è¡ŒæŠ¥é”™ï¼ˆå› ä¸ºprintå‡½æ•°è¢«æ–­ç‚¹éš”å¼€äº†ï¼‰ï¼Œå³è¾¹æ˜¯AREPLæ’ä»¶çš„è¾“å‡ºç»“æœï¼Œä¸å—ä»£ç è¿è¡Œä¸å¦å’Œæ–­ç‚¹çš„å½±å“ï¼Œæ‰€ä»¥èƒ½æ­£å¸¸æ˜¾ç¤º æˆ‘ä»¬åŒæ—¶ä¹Ÿèƒ½çœ‹åˆ°å³ä¸‹è§’æ˜¯bugè°ƒè¯•åŒºï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬åœ¨è°ƒè¯•åŒºè¿è¡Œç¨‹åºï¼Œä¼šè‡ªåŠ¨ç»™æˆ‘ä»¬åˆ†é…ä¸€ä¸ªdebugæ§åˆ¶åŒºçš„ç»ˆç«¯ï¼Œæˆ‘ä¹Ÿå¯ä»¥åŒæ—¶åœ¨ä¸Šé¢çš„bashåŒºç»ˆç«¯è¿è¡Œåˆ«çš„ç¨‹åºã€‚ 4. æ ¼å¼åŒ–æ–‡æ¡£è¿™å‡ å¤©è‡ªå­¦è¿‡ç¨‹ä¸­æˆ‘ä¹Ÿå‘ç°ï¼Œpythonä»£ç æ˜¯æœ‰ä¸¥æ ¼çš„ç¼©è¿›è¦æ±‚çš„ï¼Œä¸åƒæ˜¯linuxç³»ç»Ÿä¸­çš„shellè¯­è¨€ï¼Œä¸€è¡Œå†™å®Œå¯ä»¥åœ¨å¦ä¸€è¡Œéšä¾¿æ’å‡ ä¸ªåˆ¶è¡¨ç¬¦ç»§ç»­å†™ä¸‹ä¸€ä¸ªå‘½ä»¤ã€‚pythonä¸¥æ ¼æŒ‰ç…§å†’å·å’Œç¼©è¿›æ¥åŒºåˆ†ä»£ç å—ä¹‹é—´çš„å±‚æ¬¡ï¼Œåœ¨ Python ä¸­ï¼Œå¯¹äºç±»å®šä¹‰ã€å‡½æ•°å®šä¹‰ã€æµç¨‹æ§åˆ¶è¯­å¥ã€å¼‚å¸¸å¤„ç†è¯­å¥ç­‰ï¼Œè¡Œå°¾çš„å†’å·å’Œä¸‹ä¸€è¡Œçš„ç¼©è¿›ï¼Œè¡¨ç¤ºä¸‹ä¸€ä¸ªä»£ç å—çš„å¼€å§‹ï¼Œè€Œç¼©è¿›çš„ç»“æŸåˆ™è¡¨ç¤ºæ­¤ä»£ç å—çš„ç»“æŸã€‚å“ªæ€•æœ‰ä¸€ä¸ªå¤šä½™çš„ç¼©è¿›é‡ï¼Œå°±ä¼šç³»ç»ŸæŠ¥é”™ åœ¨èµ‹å€¼å‰åï¼Œè¿ç®—ç¬¦å‰åï¼Œ#å·æ³¨é‡Šä¹‹åç­‰ä¸€äº›ä¸ç”¨åŒºåˆ†ä»£ç å—å±‚æ¬¡çš„åœ°æ–¹ï¼Œpythonå¯¹ç©ºæ ¼è¦æ±‚å´ä¸æ˜¯é‚£ä¹ˆä¸¥æ ¼ã€‚è™½ç„¶è¦æ±‚ä¸ä¸¥æ ¼ï¼Œä½†æ˜¯ä¸å°å¿ƒæ‰‹æ»‘å¤šæ‰“äº†æˆ–è€…å°‘æ‰“äº†ç©ºæ ¼æ€»å½’å½±å“ç¾è§‚ï¼ˆæˆ‘çœŸçš„æœ‰å¼ºè¿«ç—‡ï¼‰ï¼Œè¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨å³é”®çš„æ ¼å¼åŒ–æ–‡æ¡£åŠŸèƒ½ï¼Œä¸€é”®è‡ªåŠ¨æ”¹æˆæ ‡å‡†æ ¼å¼ æ¯”å¦‚ä¸Šé¢è¿™ä¸ªä¸‘ä¸æ‹‰å‡ çš„ç¨‹åºè™½ç„¶èƒ½è·‘å‡ºæ¥ç»“æœï¼Œä½†æ˜¯å¼ºè¿«ç—‡çœ‹å®Œä¼šå½“åœºå»ä¸–ã€‚è¿™ä¸ªæ—¶å€™å¯ä»¥ç”¨å³é”®çš„æ ¼å¼åŒ–æ–‡æ¡£åŠŸèƒ½ä¸€é”®å¯¹é½ï¼Œå¦‚ä¸‹ å¦‚æœç‚¹æ ¼å¼åŒ–æ–‡æ¡£æ˜¾ç¤ºçš„æ˜¯è¦è£…autopep8æ‹“å±•ï¼Œé‚£å°±ç‚¹ç¡®è®¤å®‰è£…ã€‚è¿™ä¸ªåŠŸèƒ½å°±æ˜¯é autopep8è¿™ä¸ªè½¯ä»¶å®ç°çš„ï¼Œä½†æ˜¯è¿™ä¸ªæ‹“å±•è½¯ä»¶æ˜¯é pipå®‰è£…çš„ï¼Œæœ‰çš„äººæ²¡æœ‰å®‰è£…pipï¼Œæˆ–è€…æœ‰çš„äººï¼ˆæ¯”å¦‚æˆ‘ï¼‰pipæœ‰é—®é¢˜ï¼Œä¸€ç›´æ˜¾ç¤ºsslè¯ä¹¦ä¸èƒ½è·å–æ‹’ç»å®‰è£…ï¼Œæ”¹pipæºä¹Ÿæ— æ³•è§£å†³é—®é¢˜ï¼ˆåˆæ˜¯å¥—å¨ƒè§£å†³é—®é¢˜çš„ä¸€å¤©ï¼‰ï¼Œå°±è¦å»githubä¸‹è½½autopep8æœ¬åœ°å®‰è£…ï¼Œæ›´æ”¹ç¯å¢ƒå˜é‡æ‰å¯ä»¥ä½¿ç”¨ã€‚ä¹Ÿå¯ä»¥ç”¨condaç›´æ¥ä¸€æ­¥å®‰è£…ï¼Œä¸å¾—ä¸è¯´condaç®¡ç†pythonç¯å¢ƒå˜é‡æ˜¯çœŸçš„é¦™ æ ¼å¼åŒ–æ–‡æ¡£ä¹Ÿä¸æ˜¯ä¸‡èƒ½çš„ï¼Œæ¯”æ–¹è¯´æˆ‘åœ¨çˆ¶ç›®å½•ä¸‹å°è£…äº†ä¸€ä¸ªå‡½æ•°ï¼Œæˆ‘æƒ³åœ¨å­ç›®å½•ä¸‹è°ƒç”¨ï¼Œvscodeæœ‰ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯éœ€è¦æŠŠå½“å‰ç›®å½•åŠ åˆ°ç¯å¢ƒå˜é‡é‡Œï¼Œç„¶åæ‰èƒ½è°ƒç”¨æˆ‘å°è£…å¥½çš„å‡½æ•°ï¼Œä½†æ˜¯ï¼æ·»åŠ ç¯å¢ƒå˜é‡ä¹‹åå†è°ƒç”¨ï¼Œè¿™ä¸ªæ—¶å€™è¿è¡Œæ ¼å¼åŒ–æ–‡æ¡£çš„åŠŸèƒ½ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æŠŠè°ƒç”¨æ¨¡å—æ’åœ¨æ·»åŠ ç¯å¢ƒå˜é‡æ­¥éª¤ä¹‹å‰ï¼Œå› ä¸ºè½¯ä»¶çš„è®¾è®¡å°±æ˜¯æŠŠè°ƒç”¨æ¨¡å—ä¸€å®šæ”¾åœ¨ç¬¬ä¸€ä½ã€‚ æ‰“ä¸ªæ¯”æ–¹ï¼Œæˆ‘åœ¨çˆ¶ç›®å½•demoä¸‹å°è£…äº†printpikaqiu()è¿™ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°ä½œç”¨æ˜¯æ‰“å°çš®å¡ä¸˜ã€‚æ–‡ä»¶ç›®å½•å¦‚ä¸‹ ç„¶åæˆ‘åœ¨å­ç›®å½•testä¸‹è°ƒç”¨ï¼Œå°±éœ€è¦å…ˆæ‹“å±•ç¯å¢ƒå˜é‡å†è°ƒç”¨ï¼Œä»£ç å¦‚ä¸‹å›¾ï¼Œf5è¿è¡Œæ²¡æ¯›ç—…ï¼Œæ‰“å°å‡ºä¸€åªçš®å¡ä¸˜ï¼š ä½†æ˜¯å³é”®æ ¼å¼åŒ–æ–‡æ¡£ä¹‹åï¼Œä»£ç ç›´æ¥å˜äº†ï¼Œå†è¿è¡Œç›´æ¥çº¢è‰²çš„æŠ¥é”™è·³è„¸ä¸Š å› ä¸ºä»£ç é¡ºåºæ”¹äº†ï¼Œæ²¡æœ‰æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œæ‰¾ä¸åˆ°çˆ¶ç›®å½•demoæ€ä¹ˆå¯èƒ½è°ƒç”¨pikaqiuæ¨¡å—å‘¢ï¼Ÿè¿™å°±éå¸¸å°´å°¬äº† å› æ­¤åœ¨è°ƒç”¨è‡ªå·±å°è£…çš„å‡½æ•°å’Œæ¨¡å—çš„æ—¶å€™ï¼Œä¸è¦ç”¨æ ¼å¼åŒ–æ–‡æ¡£ã€‚ç°åœ¨æš‚æ—¶è¿˜æ²¡æ‰¾åˆ°å¯é çš„è§£å†³æ–¹æ³• 5. å…¶ä»–è®¾ç½®vscodeä¸»èœå•æ  æ–‡ä»¶â€”é¦–é€‰é¡¹ åº•ä¸‹æœ‰éå¸¸å¤šéå¸¸è¯¦ç»†çš„è®¾ç½®é€‰é¡¹ï¼Œè€Œä¸”å¯ä»¥ä¸åŒè®¾å¤‡è¿›è¡ŒåŒæ­¥ï¼Œè¿™ä¸ªæ˜¯å…¶ä¼˜ç‚¹ä¹‹ä¸€ã€‚å¹¶ä¸”å¯ä»¥é€šè¿‡ctrl + shift + p å¿«é€Ÿæ‰“å¼€è®¾ç½®ï¼Œæ”¯æŒç›´æ¥ä¿®æ”¹é…ç½®çš„jsonæ–‡ä»¶ï¼Œè¿™ä¸ªæš‚æ—¶è¿˜æ²¡ç”¨åˆ°ï¼Œæˆ‘åªæ˜¯æ”¹äº†ä¸ªå­—ä½“å¤§å°ï¼Œä»¥åæœ‰é‡è¦ä¿®æ”¹çš„æ—¶å€™å†åšè®°å½•ï¼Œæ–¹ä¾¿åç»­æŸ¥çœ‹ã€‚ é¡ºä¾¿æä¸€å˜´ï¼Œæˆ‘çš„äº‘æœåŠ¡å™¨æ˜¯å®‰è£…äº†anacondaç®¡ç†pythonç¯å¢ƒçš„ï¼Œç”¨vscodeè¿œç¨‹sshç™»å½•äº‘æœåŠ¡å™¨åï¼Œä»ç„¶å¯ä»¥åœ¨å³ä¸‹è§’é€‰æ‹©æˆ‘ç”¨anacondaå®‰è£…çš„å„ä¸ªç‰ˆæœ¬pythonï¼Œä¾ç„¶æ˜¯ä¸€é”®åˆ‡æ¢ç¯å¢ƒï¼ŒçœŸçš„å¤ªæ–¹ä¾¿äº†ã€‚ä¹‹å‰æ²¡ç”¨ç¼–è¾‘å™¨ç ä»£ç ï¼Œæ¯æ¬¡éƒ½è¦åœ¨linuxé‡Œé€šè¿‡vimç å¥½ä¿å­˜é€€å‡ºï¼Œå†è¿è¡Œã€‚ã€‚ã€‚å„ç§æ„ä¹‰ä¸Šçš„èº«å¿ƒæŠ˜ç£¨ã€‚ã€‚ã€‚ ç°åœ¨å°±ä¸€ä¸ªå­—ï¼Œé¦™ï¼","categories":[{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"}],"tags":[{"name":"vscode","slug":"vscode","permalink":"http://www.shelven.com/tags/vscode/"},{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ8ï¼‰â€”â€”ggplot2å’Œggrepelç»˜åˆ¶ç«å±±å›¾","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ8ï¼‰â€”â€”ggplot2å’Œggrepelç»˜åˆ¶ç«å±±å›¾","date":"2022-04-24T20:53:27.000Z","updated":"2022-12-03T16:32:02.000Z","comments":true,"path":"2022/04/25/a.html","link":"","permalink":"http://www.shelven.com/2022/04/25/a.html","excerpt":"ä¸»è¦ä»‹ç»ä¸‹åœ¨ç”¨DESeq2å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å·®å¼‚è¡¨è¾¾åŸºå› åï¼Œå¦‚ä½•åœ¨Rä¸­ç”¨ggplotå’Œggrepelç»˜åˆ¶ç«å±±å›¾ã€‚","text":"ä¸»è¦ä»‹ç»ä¸‹åœ¨ç”¨DESeq2å¾—åˆ°æˆ‘ä»¬æƒ³è¦çš„å·®å¼‚è¡¨è¾¾åŸºå› åï¼Œå¦‚ä½•åœ¨Rä¸­ç”¨ggplotå’Œggrepelç»˜åˆ¶ç«å±±å›¾ã€‚ 1. å‰è¨€å‰é¢ä»‹ç»äº†æ€ä¹ˆç”¨DESeq2åšä¸¤ç»„æ ·æœ¬çš„å·®å¼‚åŸºå› è¡¨è¾¾åˆ†æï¼Œä»¥åŠæ€ä¹ˆç”¨dplyråŒ…ç»™DESeq2è¿è¡Œç»“æœå¢åŠ ä¸€åˆ—åˆ†ç»„ä¿¡æ¯ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸‹ä¸¤ä¸ªRåŒ…è¿è¡Œç»“æŸåç”Ÿæˆçš„gene_0_1.csvæ–‡ä»¶æ˜¯æ€ä¹ˆæ ·çš„ï¼š A-Gåˆ—ç»“æœæ˜¯DESeq2è·‘çš„ï¼Œæˆ‘ä»¬ç”¨åˆ°çš„åªæœ‰åŸºå› åï¼Œlog2FoldChangeå’Œpadjè¿™ä¸‰åˆ—ï¼Œé€šè¿‡log2FoldChangeç»å¯¹å€¼å¤§äº1ï¼Œè°ƒæ•´åçš„pvalueä¹Ÿå°±æ˜¯padjï¼ˆå³FDRå€¼ï¼‰å°äº0.05ç­›é€‰é™¤å·®å¼‚è¡¨è¾¾åŸºå› ï¼Œæœ€ååŠ ä¸Šgroupåˆ—æ–¹ä¾¿æŸ¥çœ‹ã€‚ åˆ°è¿™é‡Œå·²ç»å¯ä»¥é€šè¿‡æ’åºæ‰¾åˆ°æˆ‘ä»¬æ„Ÿå…´è¶£çš„åŸºå› äº†ï¼Œä½†æ˜¯è¿™æ ·çš„æ•°æ®ä¸å¤Ÿç›´è§‚ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨æœ€è‘—åçš„ç»˜å›¾RåŒ…ggplot2åšä¸ªç«å±±å›¾ã€‚è¿™é‡Œéœ€è¦å‡†å¤‡çš„ç»˜å›¾RåŒ…æ˜¯ggplot2ï¼Œè¿˜æœ‰æ·»åŠ æ ‡ç­¾çš„RåŒ…ggrepelã€‚ 1.2 ä¸¤ä¸ªæ³¨æ„ç‚¹ä»€ä¹ˆæ˜¯ç«å±±å›¾å°±ä¸å¤šbbäº†ï¼Œé‡è¦çš„æ˜¯çŸ¥é“æˆ‘ä»¬å¯ä»¥ä»ç«å±±å›¾è·å¾—ä¸¤ä¸ªä¿¡æ¯ï¼šå·®å¼‚è¡¨è¾¾å€æ•°ï¼ˆFoldChangeå€¼ï¼‰å’Œç»Ÿè®¡å­¦æ˜¾è‘—æ€§çš„æ ‡å¿—på€¼ã€‚ä¸ºäº†æ›´æ–¹ä¾¿æ¯”è¾ƒå’Œä½œå›¾ï¼Œæˆ‘ä»¬ä¸€èˆ¬ç”¨log2FCä»£æ›¿Fold Changeå€¼å¹¶ä½œä¸ºXè½´æ•°æ®ï¼Œè¡¨ç¤ºä¸¤æ ·å“ï¼ˆç»„ï¼‰é—´è¡¨è¾¾é‡çš„æ¯”å€¼ï¼Œå¯¹å…¶å–ä»¥2ä¸ºåº•çš„å¯¹æ•°å³ä¸ºlog2FCï¼Œä¸€èˆ¬é»˜è®¤å–log2FCç»å¯¹å€¼å¤§äº1ä¸ºå·®å¼‚åŸºå› çš„ç­›é€‰æ ‡å‡†ï¼›ç”¨FDRï¼ˆä¹Ÿå°±æ˜¯padjå€¼ï¼‰ä»£æ›¿pvalueï¼Œå¹¶å–-log10ï¼ˆFDRï¼‰å€¼ä½œä¸ºYè½´ï¼ŒFDRæ˜¯é”™è¯¯å‘ç°ç‡ï¼Œæ˜¯pvalueå€¼è¿›è¡Œæ ¡æ­£å¾—åˆ°çš„ã€‚ log2FCæœ‰æ­£æœ‰è´Ÿå¾ˆå¥½ç†è§£ï¼Œå¯èƒ½æœ‰åŒå­¦å‘ç°ï¼Œæœ‰çš„åŸºå› æ˜æ˜æœ‰pvalueå€¼ï¼Œä½†æ˜¯æ ¡æ­£ä¹‹åçš„FDRå€¼å´æ˜¯NAï¼Œå¦‚ä¸‹ï¼š æŸ¥é˜…äº†ä¸€äº›èµ„æ–™ï¼Œå½“åŸºå› çš„åœ¨æ‰€æœ‰æ ·æœ¬ä¸­è¡¨è¾¾é‡ä¸º0ï¼Œåˆ™ä¸¤ä¸ªå€¼éƒ½ä¸ºNAï¼›å½“read countæ•°è¾ƒä½æ—¶ï¼ŒDESeq2è¿›è¡ŒIndependent Filteringè¿‡æ»¤äº†ä¸€éƒ¨åˆ†å¯èƒ½é€ æˆå‡é˜³æ€§çš„ç»“æœï¼Œæ­¤æ—¶padjå€¼ä¸ºNAã€‚å› æ­¤ï¼Œè¿™éƒ¨åˆ†æ•°æ®åœ¨åšç«å±±å›¾çš„æ—¶å€™å› ä¸ºæ²¡æœ‰å¯¹åº”çš„Yå€¼ä¹Ÿä¼šè¢«è¿‡æ»¤æ‰ã€‚ 2. æµç¨‹ä»£ç è¿™éƒ¨åˆ†éœ€è¦ä¸€ç‚¹Rè¯­è¨€åŸºç¡€ï¼Œéœ€è¦çŸ¥é“æ€ä¹ˆæ”¹è‡ªå·±çš„å‚æ•°ã€‚å‡è®¾å‰é¢æ²¡æœ‰ç”¨dplyråŒ…åšå·®å¼‚ç­›é€‰ï¼ˆåšäº†ä¹Ÿä¸å½±å“ï¼Œåªæ˜¯å¤šä¸€åˆ—æ•°æ®è€Œå·²ï¼‰åªç”¨DESeq2è·‘äº†ä¸ªç»“æœï¼Œæˆ‘ä»¬åŒæ ·å¯ä»¥ç”¨ggplot2åŒ…åšç­›é€‰ï¼Œç”¨ggrepelåŒ…ç¾åŒ–åšæ ‡ç­¾ã€‚ç»§ç»­ç”¨å‰é¢DESeq2ç”Ÿæˆçš„csvæ–‡ä»¶ï¼Œæµç¨‹ä»£ç å¦‚ä¸‹ï¼š 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748library(&quot;ggplot2&quot;)gene &lt;- read.csv(&quot;gene_0_1.csv&quot;, stringsAsFactors = FALSE)gene[which(gene$log2FoldChange &lt;= -1 &amp; gene$padj &lt; 0.05), &quot;GROUP&quot;] &lt;- &quot;DOWN&quot;gene[which(gene$log2FoldChange &gt;= 1 &amp; gene$padj &lt; 0.05), &quot;GROUP&quot;] &lt;- &quot;UP&quot;gene[which(abs(gene$log2FoldChange) &lt; 1 | gene$padj &gt;= 0.05), &quot;GROUP&quot;] &lt;- &quot;NOT CHANGE&quot; # |ä»£è¡¨æˆ–ï¼Œå’Œlinuxé‡Œçš„ç®¡é“æ˜¯å®Œå…¨ä¸ä¸€æ ·çš„ã€‚ä»¥ä¸Šä¸‰æ­¥æ–°å»ºäº†ä¸€åˆ—GROUPï¼Œç­›é€‰å¹¶èµ‹äºˆäº†ä¸‰ä¸ªå€¼ã€‚res &lt;- ggplot(gene, # ggplotæ•°æ®æ¥æºï¼Œè¿™é‡Œçœç•¥äº†data = å’Œmapping = aes(x = log2FoldChange, # è¡¨ç¤ºæ˜ å°„å…³ç³»ï¼Œå°±æ˜¯å®šä¹‰xy y = -log10(padj), col = GROUP)) + # æ³¨æ„è¿™é‡Œå®šä¹‰é¢œè‰²ç”¨colï¼Œä»¥GROUPå€¼åŒºåˆ† geom_point(alpha = 0.5, # ggplotåšæ•£ç‚¹å›¾ï¼Œè®¾ç½®ç‚¹é€æ˜åº¦å’Œå¤§å° size = 1) + scale_color_manual(values = c(&quot;red&quot;,&quot;blue&quot;,&quot;grey&quot;), limits = c(&quot;UP&quot;,&quot;DOWN&quot;,&quot;NOT CHANGE&quot;)) + # è‡ªå®šä¹‰é¢œè‰² theme(panel.grid = element_blank(), # å»ç½‘æ ¼çº¿ panel.background = element_rect(color = &quot;black&quot;, fill = &quot;transparent&quot;), # å»èƒŒæ™¯è‰²ï¼Œé€æ˜ plot.title = element_text(hjust = 0.5), # è°ƒæ•´å›¾æ ‡æ ‡é¢˜ä½ç½®ä¸ºä¸­é—´ legend.key = element_rect(fill = &quot;transparent&quot;), legend.background = element_rect(fill = &quot;transparent&quot;), legend.position = &quot;right&quot;) + # è®¾ç½®legendå›¾æ ‡ geom_vline(xintercept = c(-1, 1), color = &quot;gray&quot;, size = 0.3) + # è®¾ç½®xè½´è¾…åŠ©çº¿ geom_hline(yintercept = -log10(0.05), color = &quot;gray&quot;, size = 0.3) + # è®¾ç½®yè½´è¾…åŠ©çº¿ labs(x = &quot;log2 Fold Change&quot;, y = &quot;-log10(FDR) &quot;, title = &quot;LD 1 day vs LD 0 day&quot;) # è®¾ç½®åæ ‡è½´æ ‡é¢˜å’Œç«å±±å›¾æ ‡é¢˜res # æŸ¥çœ‹ç»“æœï¼Œplotsä¸­å¯ä»¥æŸ¥çœ‹library(&quot;ggrepel&quot;)up &lt;- subset(gene, GROUP == &quot;UP&quot;) # subsetä»æ•°æ®æ¡†ä¸­ç­›é€‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®up &lt;- up[order(up$padj), ][1:5, ] # orderå‡åºæ’åºï¼Œå–å‰5ä¸ªdown &lt;- subset(gene, GROUP == &quot;DOWN&quot;)down &lt;- down[order(down$padj), ][1:5, ]resdata &lt;- res + geom_text_repel(data = rbind(up, down), # ggrepelç‰¹æœ‰çš„å‡½æ•° aes(x = log2FoldChange, y = -log10(padj), label = X ), # labelå€¼æŒ‡å®šå“ªåˆ—åšæ ‡ç­¾ size = 3, box.padding = unit(0.5, &quot;lines&quot;), segment.color = &quot;#cccccc&quot;, show.legend = FALSE) # ä»¥ä¸Šéƒ½æ˜¯ç‰¹æœ‰å‚æ•°resdata # æŸ¥çœ‹ç»“æœggsave(&quot;gene_0_1.png&quot;, resdata, width = 10, height = 10) # è¾“å‡ºç»“æœæ–‡ä»¶ 3. ä»£ç è¯¦è§£3.1 ggplot2123gene[which(gene$log2FoldChange &lt;= -1 &amp; gene$padj &lt; 0.05), &quot;GROUP&quot;] &lt;- &quot;DOWN&quot;gene[which(gene$log2FoldChange &gt;= 1 &amp; gene$padj &lt; 0.05), &quot;GROUP&quot;] &lt;- &quot;UP&quot;gene[which(abs(gene$log2FoldChange) &lt; 1 | gene$padj &gt;= 0.05), &quot;GROUP&quot;] &lt;- &quot;NOT CHANGE&quot; ä¹‹å‰è¿™é‡Œç¨å¾®è§£é‡Šä¸€ä¸‹ï¼Œå³ä½¿å‰é¢æ²¡æœ‰ç”¨dplyråŒ…ï¼Œç”¨åˆ«çš„æ–¹æ³•åŒæ ·å¯ä»¥ç­›é€‰å·®å¼‚åŸºå› å¹¶ä¸”æ–°å¢ä¸€åˆ—åˆ†ç»„æ•°æ®ï¼Œä¸‡å˜ä¸ç¦»å…¶å®—ï¼Œæ ¸å¿ƒçš„åˆ¤æ–­æ–¹å¼æ˜¯ä¸€æ ·çš„ã€‚å¦‚æœå‰é¢å­¦äº†linuxï¼Œæ³¨æ„æœ€å | è¿™ä¸ªç¬¦å·åœ¨Ré‡Œè¡¨ç¤ºæˆ–ï¼Œä¸è¦å’Œç®¡é“æ··æ·†ã€‚ 123456ggplot(data = è¾“å…¥çš„æ•°æ®, mapping = aes(x = å®šä¹‰å€¼, y = å®šä¹‰å€¼, å…¶ä»–å‚æ•°)) + genom_point(å‚æ•°) + # é€‰æ‹©ä½œå›¾æ–¹æ³•å’Œå‚æ•° å…¶ä»–è®¾ç½®å‡½æ•°å’Œå‚æ•° # å¯æœ‰å¯æ— ï¼Œç¾è§‚ç›¸å…³çš„ä¸œè¥¿ æˆ‘æ€»ç»“äº†ä¸€ä¸‹ggplotæœ€åŸºæœ¬çš„ç»“æ„ï¼Œdataå’Œmappingæ˜¯ç¼ºçœå€¼ï¼Œå¯ä»¥ä¸å†™ã€‚ è¾“å…¥çš„æ•°æ®å¯ä»¥æ˜¯è¡¨æ ¼ï¼Œå¯ä»¥æ˜¯æ•°æ®æ¡†ç­‰ç­‰ï¼›aesè‡ªå®šä¹‰ç‚¹çš„æ˜ å°„èŒƒå›´ï¼Œå¤§å°ï¼Œé¢œè‰²ç­‰ç­‰ï¼›ä½œå›¾æ–¹æ³•æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚ç‚¹çŠ¶å›¾æ˜¯genom_pointã€‚è‡ªç”±åº¦å¾ˆé«˜ï¼Œèƒ½è®¾ç½®çš„ä¸œè¥¿ä¹Ÿéå¸¸ä¹‹å¤šï¼Œåªæœ‰ä¸¤ç‚¹éœ€è¦æ³¨æ„ï¼ŒåŒä¸€ä¸ªå‡½æ•°ä¸åŒå‚æ•°ç”¨ , éš”å¼€ï¼›ä¸åŒå‡½æ•°ç”¨ + éš”å¼€ã€‚ ä¸­é—´çš„è®¾ç½®å‡½æ•°ä¹Ÿç¨å¾®è§£é‡Šä¸€ä¸‹ï¼š scale_color_manual() è¯¥å‡½æ•°æ˜¯Rä¸­çš„ä¸€ç§è‡ªå®šä¹‰é…è‰²æ–¹æ³•ï¼Œæ‰‹åŠ¨æŠŠé¢œè‰²èµ‹å€¼ç»™å‚æ•°valueã€‚æˆ‘è¿™é‡Œå°†UPçš„ç‚¹èµ‹äºˆäº†çº¢è‰²ï¼ŒDOWNçš„ç‚¹èµ‹äºˆè“è‰²ï¼Œå…¶ä»–ç‚¹èµ‹äºˆç°è‰²ã€‚ theme() è¯¥å‡½æ•°ä¸ä¸»é¢˜é…ç½®æœ‰å…³ï¼Œå‚æ•°éå¸¸å¤šï¼Œå¯ä»¥é€‰å–éœ€è¦çš„æ¯”å¦‚èƒŒæ™¯è‰²ã€ç½‘æ ¼çº¿ç­‰ç­‰è¿›è¡Œè®¾ç½®ã€‚è¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼Œlegendæ˜¯å›¾æ ‡ï¼Œåœ¨ggplotä¸­legendæœ‰å››éƒ¨åˆ†ï¼š legend.tittle, legend.text, legend.keyå’Œlegend.backgroudï¼Œè€Œæ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½æœ‰å››ç§å‡½æ•°å¯ä»¥åµŒå¥—ï¼ˆä¹Ÿæ˜¯æ˜¯å¯¹åº”4ç§å¤„ç†æ–¹å¼ï¼‰ï¼šelement_text()ç»˜åˆ¶æ ‡é¢˜ç›¸å…³ï¼›element_rect()ç»˜åˆ¶èƒŒæ™¯ç›¸å…³ï¼›element_blank()ç©ºä¸»é¢˜ï¼Œå¯¹å…ƒç´ ä¸åˆ†é…ç»˜å›¾ç©ºé—´ï¼›element_get()å¾—åˆ°å½“å‰ä¸»é¢˜çš„è®¾ç½®ã€‚æ¯ä¸ªå‡½æ•°è¿˜æœ‰ç›¸åº”çš„å‚æ•°ï¼Œè¯´èµ·æ¥å°±æ²¡å®Œæ²¡äº†äº†ã€‚ã€‚ã€‚å¸¸ç”¨çš„è®¾ç½®çŸ¥é“å°±è¡Œã€‚ geom_vline() å’Œ geom_hline() è¿™ä¸¤ä¸ªå‡½æ•°åˆ†åˆ«è®¾ç½®xè½´yè½´è¾…åŠ©çº¿ï¼Œç›®çš„æ˜¯ä½¿æˆ‘çš„ç«å±±å›¾æ›´ç›´è§‚ï¼Œä»å›¾ä¸Šå¯ä»¥ç›´æ¥çœ‹åˆ°æˆ‘çš„åˆ†ç±»ä¾æ®ã€‚ labs() è¯¥å‡½æ•°è‡ªå®šä¹‰xè½´yè½´æ ‡ç­¾å’Œå›¾æ ‡æ ‡é¢˜ã€‚è¿™é‡Œæä¸€å˜´ï¼Œç«å±±å›¾æ ‡é¢˜ä¹Ÿæ˜¯ä¸€ä¸ªæ³¨æ„ç‚¹ï¼Œä¸€èˆ¬æ˜¯ å¤„ç†ç»„vså¯¹ç…§ç»„ ï¼Œå› æ­¤å‰é¢ä¹Ÿè¯´åˆ°DESeq2å¤„ç†æ•°æ®è¦æ³¨æ„é¡ºåºé—®é¢˜ï¼Œä¸ç„¶ä¼šå¾—å‡ºå®Œå…¨ç›¸åçš„ç»“è®ºï¼Œåœ¨ç«å±±å›¾ä¸Šçš„è¡¨ç°ä¸ºä¸å®é™…ç«å±±å›¾å‘ˆé•œåƒå¯¹ç§°ï¼Œè¿™ä¹Ÿå¾ˆå¥½ç†è§£ã€‚ è¿™é‡Œçœ‹ä¸€ä¸‹resç»“æœï¼Œæˆ‘ä»¬å¯ä»¥åœ¨plotsä¸­çœ‹åˆ°ç¼©ç•¥çš„é¢„è§ˆå›¾ï¼š 3.3 ggrepelåœ¨è¿‡æ»¤æ‰4000å¤šä¸ªFDRå€¼ä¸ºNAçš„ç‚¹ï¼Œæˆ‘ä»¬è·å¾—äº†ä¸€ä¸ªä¸æ€ä¹ˆåƒç«å±±çš„ç«å±±å›¾ ï¼ˆç®€ç›´ä¸‘çˆ†äº†ï¼‰ ï¼Œä½†æ˜¯æ•°æ®è¿˜æ˜¯æŒºç¾ä¸½çš„ï¼Œä¸Šè°ƒåŒºåŸŸå’Œä¸‹è°ƒåŒºåŸŸéƒ½æœ‰å‰åå¯¹æ¯”å·®å¼‚éå¸¸å¤§çš„åŸºå› ï¼šlog2FCç»å¯¹å€¼è¶Šå¤§ï¼Œå·®å¼‚è¶Šæ˜æ˜¾ï¼›-log10ï¼ˆFDRï¼‰å€¼è¶Šå¤§ï¼Œå¯ä¿¡åº¦è¶Šé«˜ã€‚ ä½†æ˜¯è¿™ä¸ªå›¾è¿˜æœ‰ä¸ªç¼ºç‚¹ï¼Œæˆ‘ä¸çŸ¥é“è¿™äº›ä»£è¡¨æ€§çš„å·®å¼‚ç‚¹å¯¹åº”ä»€ä¹ˆåŸºå› åï¼Œæˆ‘è¿˜è¦å›åˆ°excelé‡Œå»ç­›é€‰æ’åºã€‚å› æ­¤ï¼Œæˆ‘æ¨èç”¨ggrepelåŒ…å¯¹ç«å±±å›¾è¿›ä¸€æ­¥ç¾åŒ–ï¼ŒåŠ ä¸ŠåŸºå› æ ‡ç­¾ï¼Œèƒ½ä¸€çœ¼çœ‹åˆ°æˆ‘æ„Ÿå…´è¶£çš„åŸºå› ã€‚ è¿™ä¸ªåŒ…çš„åŸç†å’Œå‘å±•å’±å°±ä¸è¯´äº†ï¼Œå·²ç»æ˜¯åŠå¤œ4ç‚¹äº†ã€‚ã€‚ã€‚ç®€å•ä»‹ç»ä¸‹ä¸­é—´ç”¨åˆ°çš„å‡½æ•°çš„ç»“æ„ã€‚ subset() ä»æ•°æ®æ¡†ä¸­ç­›é€‰ç¬¦åˆæ¡ä»¶çš„æ•°æ®ï¼Œæˆ‘å°†UPçš„ç‚¹å’ŒDOWNçš„ç‚¹éƒ½æå–å‡ºæ¥ã€‚ order() orderæ˜¯å‡åºæ’åºï¼Œå› ä¸ºä¸Šè°ƒå’Œä¸‹è°ƒçš„åŸºå› éƒ½æ¯”è¾ƒå¤šï¼Œå…¨éƒ¨æ‰“ä¸ŠåŸºå› åæ ‡ç­¾æ˜¯ä¸ç°å®ä¹Ÿæ²¡æœ‰æ„ä¹‰çš„ã€‚æˆ‘æŒ‰ç…§padjåˆ—ä¹Ÿå°±æ˜¯FDRå€¼è¿›è¡Œå‡åºæ’åºï¼Œå–å‰5ä¸ªå¯ä¿¡åº¦æœ€é«˜çš„åŸºå› æ‰“ä¸ŠåŸºå› åæ ‡ç­¾ã€‚å½“åŸºå› è¾ƒå°‘çš„æ—¶å€™æ˜¯å¯ä»¥å…¨éƒ¨æ‰“ä¸Šæ ‡ç­¾çš„ã€‚ åœ¨å‰é¢ggplot2ä½œå›¾çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬åŠ ä¸Šgeom_text_repel()è¿™ä¸ªç‰¹æ®Šçš„ggrepleåŒ…å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æ˜¯åŸºäºå‡½æ•°geom_label()åšçš„æ”¹è‰¯ï¼Œå®ƒå°†æ ‡ç­¾ç½®äºä¸€ä¸ªæ–¹æ¡†ä¸­ï¼Œå¹¶ä¸”æ¯ä¸ªæ ‡ç­¾æœ‰ç®—æ³•ä¼˜åŒ–ä¸ä¼šé‡å ã€‚è¯¥å‡½æ•°çš„ç»“æ„ä¸å‰é¢çš„ggplotå‰åŠéƒ¨åˆ†ç±»ä¼¼ï¼š 12345geom_text_repel(data = è¾“å…¥æ•°æ®, aes(x = å®šä¹‰å€¼, y = å®šä¹‰å€¼, label = X ), å…¶ä»–å‚æ•° è¿™é‡Œæ‰€æœ‰å‚æ•°è®¾ç½®éƒ½æ˜¯å¹³è¡Œçš„ï¼Œæ‰€ä»¥åªéœ€è¦ , éš”å¼€ã€‚ æˆ‘ä¹‹å‰è¯´åˆ°æå–äº†upå’Œdownçš„æ•°æ®ï¼Œè¿™é‡Œæˆ‘æŠŠå®ƒä»¬rbindä¸€ä¸‹åˆåœ¨ä¸€èµ·ï¼Œå°±å½¢æˆäº†æ–°çš„æ•°æ®æ¡†æ•°æ®ï¼Œä¹Ÿå°±æ˜¯æˆ‘åªå¯¹å‰é¢æ’åºç­›é€‰çš„ä¸Šè°ƒä¸‹è°ƒå„5ä¸ªåŸºå› æ‰“æ ‡ç­¾ã€‚è¿™é‡Œæ³¨æ„ä¸‹aes()è¿™é‡Œçš„ label æ˜¯æŒ‡å®šæ ‡ç­¾çš„ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬è¿™é‡Œçš„åŸºå› åï¼Œåº”è¯¥ç”¨çš„è¡Œåæ‰èƒ½å’Œæ•°æ®ä¸€ä¸€å¯¹åº”ï¼Œè¿™é‡Œæˆ‘ç”¨Xæ˜¯å¶ç„¶å‘ç°çš„ä¸€ä¸ªå¾ˆæœ‰è¶£çš„äº‹ï¼š å‰é¢å¯¼å…¥geneæ•°æ®æ¡†çš„æ—¶å€™ï¼Œè‡ªåŠ¨æŠŠè¡ŒååŠ åˆ°äº†ç¬¬ä¸€åˆ—æˆäº†å•ç‹¬çš„ä¸€åˆ—ï¼Œä¸”è¯¥åˆ—åˆ—åç³»ç»Ÿå®šä¹‰ä¸ºXï¼Œæˆ‘ä»¬å¯ä»¥è¿›å…¥environmentæ‰¾åˆ°geneç‚¹å¼€çœ‹çœ‹è¿™ä¸ªæ•°æ®æ¡†ç»“æ„ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å› æ­¤è¿™é‡Œç›´æ¥ç”¨label = Xå°±èƒ½å®Œç¾è§£å†³é—®é¢˜ã€‚åè€Œæˆ‘å›å¤´ç”¨row.names = 1ç”¨ç¬¬ä¸€åˆ—åšè¡Œåä¿®æ”¹äº†geneæ•°æ®æ¡†çš„è¯»å–æ–¹å¼ï¼Œå†åœ¨è¿™é‡Œç”¨label = rowname(gene)ä¼šæç¤ºé•¿åº¦é”™è¯¯æˆ–è€…ä¸åŒ¹é…ï¼Œä¸ªä¸­åŸå› æˆ‘æš‚æ—¶è¿˜æ²¡æƒ³æ˜ç™½ã€‚ å…¶ä»–ç‰¹æœ‰å‚æ•°å°±è§£é‡Šä¸€ä¸‹æˆ‘ç”¨åˆ°çš„å‡ ä¸ªï¼š size: æ ‡ç­¾å¤§å° box.padding: æ ‡ç­¾è¿æ¥æ–¹å¼ï¼Œæˆ‘ç”¨äº†çº¿ segment.color: çº¿æ®µé¢œè‰²ï¼Œå¯ä»¥ç”¨RGBé¢œè‰²ä»£ç  show.legend: æ˜¯å¦æ˜¾ç¤ºæ ‡ç­¾çš„æ ‡ç­¾ &#x3D;_&#x3D;å¥½åƒæœ‰ç‚¹ç»•ï¼Œè¯´ç™½äº†å°±æ˜¯è¦ä¸è¦å†å›¾æ ‡ä¸Šå†æ‰“æ ‡ç­¾â€¦ åŒæ ·æ”¾ä¸€å¼ plotsé‡Œçš„ç¼©ç•¥å›¾ï¼Œæ˜¯ä¸æ˜¯è¦ç›´è§‚ä¸€ç‚¹äº†å‘¢ï¼Ÿ 3.4 ç»“æœè¾“å‡ºggsave()æ˜¯ggplot2åŒ…é‡Œçš„è¾“å‡ºç»“æœçš„å‡½æ•°ï¼Œè‡ªå®šä¹‰è¾“å‡ºçš„æ–‡ä»¶ç±»å‹ï¼Œæ¯”å¦‚pdfã€pngç­‰ç­‰ï¼Œè¿˜å¯ä»¥è‡ªå®šä¹‰è¾“å‡ºå›¾ç‰‡å¤§å°ï¼Œè¿™é‡Œä¸èµ˜è¿°ï¼Œä¸»è¦æ”¾ä¸€ä¸ªå®Œæˆå›¾çœ‹çœ‹å’Œplotsé‡Œçš„ç¼©ç•¥å›¾åšä¸ªæ¯”è¾ƒã€‚å®Œæˆå›¾å¦‚ä¸‹ï¼š å¯èƒ½è¿˜æ˜¯æœ‰äº›ä¸ç¾è§‚ï¼Œä½†æ˜¯è¿™äº›æ•°æ®å¾ˆä¸é”™ï¼Œæç«¯ç‚¹åç¦»Xè½´å’ŒYè½´è¾ƒè¿œï¼Œéƒ½æ˜¯æˆ‘ä»¬éœ€è¦é‡ç‚¹å…³æ³¨çš„åŸºå› ã€‚ å¦‚æœæˆ‘ä»¬è®°ä¸‹äº†è¿™å‡ ä¸ªæç«¯ç‚¹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡åœ¨ggplotä¸­é™åˆ¶Xè½´å’ŒYè½´èŒƒå›´æ¯”å¦‚xlim(-10, 10) + ylim(0, 14)ï¼Œå†æ¬¡ç¼©å°èŒƒå›´ï¼Œå¾—åˆ°ä¸€ä¸ªæ›´åƒç«å±±çš„ç«å±±å›¾ (æ²¡æœ‰æ„ä¹‰ï¼Œçº¯ç²¹åƒé¥±äº†æ’‘çš„) å¦‚ä¸‹ï¼š","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"Rè¯­è¨€","slug":"Rè¯­è¨€","permalink":"http://www.shelven.com/tags/R%E8%AF%AD%E8%A8%80/"},{"name":"ggplot2","slug":"ggplot2","permalink":"http://www.shelven.com/tags/ggplot2/"},{"name":"ggrepel","slug":"ggrepel","permalink":"http://www.shelven.com/tags/ggrepel/"}]},{"title":"linuxæ“ä½œæŒ‡ä»¤æ€»ç»“æ•´ç†","slug":"linuxæ“ä½œæŒ‡ä»¤æ€»ç»“æ•´ç†","date":"2022-04-20T15:44:49.000Z","updated":"2022-12-03T16:10:22.000Z","comments":true,"path":"2022/04/20/b.html","link":"","permalink":"http://www.shelven.com/2022/04/20/b.html","excerpt":"è¯¥ç¯‡å†…å®¹éå¸¸ä¹‹å¤šï¼Œä¸»è¦è®°å½•è‡ªå·±èƒ½ç”¨çš„ä¸Šçš„linuxæ“ä½œæŒ‡ä»¤å’Œè‡ªå·±çš„ä¸€äº›ç†è§£ï¼Œæƒ³è¦ç”¨çš„æ—¶å€™æ–¹ä¾¿ç«™å†…æœç´¢ç›´æ¥æŸ¥æ‰¾ã€‚","text":"è¯¥ç¯‡å†…å®¹éå¸¸ä¹‹å¤šï¼Œä¸»è¦è®°å½•è‡ªå·±èƒ½ç”¨çš„ä¸Šçš„linuxæ“ä½œæŒ‡ä»¤å’Œè‡ªå·±çš„ä¸€äº›ç†è§£ï¼Œæƒ³è¦ç”¨çš„æ—¶å€™æ–¹ä¾¿ç«™å†…æœç´¢ç›´æ¥æŸ¥æ‰¾ã€‚ 1. linuxå¸¸ç”¨å‘½ä»¤cdcdï¼šChange directoryä¿®æ”¹ï¼ˆè¿›å…¥ï¼‰å·¥ä½œç›®å½•ï¼Œåªå¯¹ç›®å½•æ–‡ä»¶æœ‰æ•ˆ 12345cd / è¿›å…¥æ ¹(root)ç›®å½•cd - è¿”å›ä¸Šæ¬¡çš„ç›®å½•cd è¿”å›å®¶(home)ç›®å½•cd ~ è¿”å›å®¶ç›®å½•cd .. è¿”å›ä¸Šä¸€çº§ç›®å½• ls lsï¼šList fileslsè®¡ç®—ä¸äº†ç›®å½•å†…æ–‡ä»¶å¤§å°ï¼Œæ‰€ä»¥æ˜¾ç¤ºçš„ç›®å½•å¤§å°ä¸æ˜¯å®é™…çš„ï¼Œè¦çœ‹ç›®å½•å®é™…å¤§å°ç”¨duå‘½ä»¤ 123456-a åˆ—å‡ºåŒ…æ‹¬.aå¼€å¤´çš„éšè—æ–‡ä»¶çš„æ‰€æœ‰æ–‡ä»¶-A é€š-aï¼Œä½†ä¸åˆ—å‡º&quot;.&quot;å’Œ&quot;..&quot;-l åˆ—å‡ºæ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯-c æ ¹æ®ctimeæ’åºæ˜¾ç¤º-t æ ¹æ®æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ’åº-h å°†æ–‡ä»¶å¤§å°æŒ‰ç…§æ˜“äºè¯»æ‡‚çš„æ–¹å¼æ˜¾ç¤ºï¼ˆå¤šå°‘Mï¼Œå¤šå°‘Gï¼‰ llå’Œls-læ˜¯åŒæ ·çš„ç”¨æ³•ï¼Œlinuxå¯ç”¨ï¼Œmacä¸­ä¸èƒ½ç”¨ï¼Œå¯ä»¥æ”¹ç¯å¢ƒå˜é‡æ–‡ä»¶è‡ªå®šä¹‰llç”¨æ³• pwdpwdï¼šprint working directoryï¼Œæ‰“å°å½“å‰æ‰€åœ¨ç›®å½• cpcp: Copy fileæ‹·è´å¹¶ç²˜è´´æ–‡ä»¶ï¼Œå¹¶ä¸”å¯ä»¥é‡å‘½å 12345-b è¦†ç›–å‰åšå¤‡ä»½-f å¦‚å­˜åœ¨ä¸è¯¢é—®è€Œå¼ºåˆ¶è¦†ç›–-i å¦‚å­˜åœ¨åˆ™è¯¢é—®æ˜¯å¦è¦†ç›–-u è¾ƒæ–°æ‰è¦†ç›–-t å°†å¤šä¸ªæºæ–‡ä»¶ç§»åŠ¨åˆ°ç»Ÿä¸€ç›®å½•ä¸‹ï¼Œç›®å½•å‚æ•°åœ¨å‰ï¼Œæ–‡ä»¶å‚æ•°åœ¨å $ cp ../data/xist.fa xist_seq.fa # å¤åˆ¶ä¸Šä¸€ä¸ªç›®å½•dataç›®å½•ä¸‹çš„xist.faåˆ°å½“å‰ç›®å½•ï¼Œå¹¶é‡å‘½åä¸ºxist_seq.fa$ cp -r 003/ 007 # é€’å½’çš„æ–¹å¼ï¼Œå¤åˆ¶003ç›®å½•åˆ°007ç›®å½•ï¼Œç›®å½•å¤åˆ¶åˆ°ç›®å½•è¦ç”¨é€’å½’ mvmv: Move fileç§»åŠ¨æ–‡ä»¶ï¼Œç›¸å½“äºwindowsä¸‹çš„å‰ªåˆ‡ç²˜è´´ï¼Œå¦‚æœå‰ªåˆ‡ç²˜è´´åˆ°åŒä¸€ç›®å½•ä¸‹ï¼Œåˆ™ä¸ºé‡å‘½å 12345-b è¦†ç›–å‰åšå¤‡ä»½-f å¦‚å­˜åœ¨ä¸è¯¢é—®è€Œå¼ºåˆ¶è¦†ç›–-i å¦‚å­˜åœ¨åˆ™è¯¢é—®æ˜¯å¦è¦†ç›–-u è¾ƒæ–°æ‰è¦†ç›–-t å°†å¤šä¸ªæºæ–‡ä»¶ç§»åŠ¨åˆ°ç»Ÿä¸€ç›®å½•ä¸‹ï¼Œç›®å½•å‚æ•°åœ¨å‰ï¼Œæ–‡ä»¶å‚æ•°åœ¨å $ mv a1.index.sh ../ # ç§»åŠ¨åˆ°ä¸Šä¸€ç›®å½•$ mv a1.index.sh a2.index.sh # é‡å‘½åä¸ºa2.index.sh$ rename txt doc * # æŠŠæ‰€æœ‰txtæ”¹æˆdocï¼Œæ‰¹é‡æ–‡ä»¶é‡å‘½åå¯ä»¥ç”¨rename rmrm: Remove fileåˆ é™¤æ–‡ä»¶ 1234-r åˆ é™¤æ–‡ä»¶å¤¹ï¼ˆå°±æ˜¯åˆ é™¤ç›®å½•ï¼‰-f åˆ é™¤ä¸æç¤º-i åˆ é™¤æç¤º-v è¯¦ç»†æ˜¾ç¤ºè¿›è¡Œæ­¥éª¤ ä¸€å®šè¦æ…é‡ä½¿ç”¨ï¼Œå‘½ä»¤è¡Œæ¨¡å¼ä¸‹åˆ é™¤æ–‡ä»¶ä¸å¯æ¢å¤$ rm -rf *.fna #åˆ é™¤ç›®å½•ä¸‹æ‰€æœ‰ä»¥.fnaç»“å°¾çš„æ–‡ä»¶ lnln: Link filesåˆ›å»ºè¿æ¥æ–‡ä»¶ï¼ŒåŒ…æ‹¬è½¯è¿æ¥å’Œç¡¬é“¾æ¥ï¼Œä¸€èˆ¬è½¯è¿æ¥æ¯”è¾ƒå¸¸ç”¨ï¼Œç›¸å½“äºwindowsä¸‹çš„å¿«æ·æ–¹å¼ï¼›ç¡¬é“¾æ¥ç›¸å½“äºé‡è¦æ–‡ä»¶çš„å¤‡ä»½ï¼Œé»˜è®¤ç¡¬é“¾æ¥åˆ é™¤åŸæ–‡ä»¶ï¼Œç¡¬é“¾æ¥æ–‡ä»¶ä¸å—å½±å“ï¼Œè½¯è¿æ¥æ–‡ä»¶åˆ™æ— æ•ˆ 12-s å»ºç«‹è½¯è¿æ¥ -v æ˜¾ç¤ºè¯¦ç»†çš„å¤„ç†è¿‡ç¨‹ mkdirmkdirï¼šMake directoryåˆ›å»ºæ–‡ä»¶å¤¹(ç›®å½•) 123-p é€’å½’åˆ›å»ºç›®å½•ï¼Œè‹¥çˆ¶ç›®å½•ä¸å­˜åœ¨åˆ™ä¾æ¬¡åˆ›å»º-m è‡ªå®šä¹‰åˆ›å»ºç›®å½•çš„æƒé™-v æ˜¾ç¤ºåˆ›å»ºç›®å½•çš„è¯¦ç»†ä¿¡æ¯ $ mkdir rnaseq #åˆ›å»ºä¸€ä¸ªåä¸ºrnaseqçš„ç›®å½• touchå»ºæ–°çš„ç©ºæ–‡ä»¶(å¯å†™å…¥çš„æ–‡ä»¶)$ touch 1.txt 2.txt 3.txt # åŒæ—¶æ–°å»ºä¸‰ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ªæ–‡ä»¶å¯ä»¥ç›´æ¥vimå»ºç«‹ catcat: concatenate è¿æ¥catçš„ä¸€ä¸ªä½œç”¨æ˜¯æŸ¥çœ‹æ–‡ä»¶ï¼Œä¸€èˆ¬æ˜¯æ¯”è¾ƒå°çš„æ–‡ä»¶ï¼Œè¡Œæ•°å°äºä¸€ä¸ªå±å¹•ï¼Œæœ€å¤šä¸è¦è¶…è¿‡ä¸¤ä¸ªå±å¹•ï¼Œå¦åˆ™ä¼šåˆ·å±ï¼ˆå±å¹•è¾“å‡ºçš„æ–¹å¼ï¼‰catå¦ä¸€ä¸ªä½œç”¨æ˜¯åˆå¹¶å¤šä¸ªæ–‡ä»¶ï¼Œä¸€èˆ¬é…åˆé‡å®šå‘åˆå¹¶ä¸ºä¸€ä¸ªæ–°æ–‡ä»¶æˆ–è€…å°†ä¸€ä¸ªæ–‡ä»¶å†…å®¹è¿½åŠ åˆ°å¦ä¸€ä¸ªæ–‡ä»¶ç»“å°¾$ cat a1.txt a2.txt &gt;all.txt # åˆå¹¶æ–‡ä»¶ï¼Œå¹¶ä¸ä¼šåˆ é™¤åŸæ–‡ä»¶ï¼Œè¦†ç›–æ–°æ–‡ä»¶å†…å®¹ï¼Œæ–°æ–‡ä»¶ä¸ºall.txt$ cat a1.txt &gt;&gt;a2.txt # åŒæ ·æ˜¯åˆå¹¶ï¼Œa1é‡å®šå‘åˆ°a2ç»“å°¾$ cat &gt;id.txt # å›è½¦è¾“å…¥å†…å®¹ï¼Œå¯æ–°å»ºid.txtæ–‡ä»¶ï¼Œctrl+cé€€å‡º echoä¸å¯ä»¥è¿™æ ·æ–°å»ºï¼Œåªèƒ½echo &quot;å†…å®¹&quot;&gt;id.txt 1-A æ˜¾ç¤ºæ–‡ä»¶å†…çš„ç©ºç™½ä¿¡æ¯ linuxç³»ç»Ÿä¸‹æ˜¯æ¢è¡Œ\\nï¼›macç³»ç»Ÿä¸‹æ˜¯å›è½¦\\rï¼›windowsç³»ç»Ÿä¸‹å›è½¦åŠ æ¢è¡Œä¸¤ä¸ªå­—ç¬¦\\r\\n ä¸‰è€…éƒ½æ˜¯ç©ºç™½ï¼Œç”¨lessæ— æ³•çœ‹å‡ºåŒºåˆ«ï¼Œåªèƒ½åœ¨cat -Aä¸‹çœ‹åˆ°ä¸åŒæ“ä½œç³»ç»Ÿçš„æ¢è¡Œç¬¦ä¿¡æ¯ less &#x2F; morelesså’Œmoreéƒ½æ˜¯æ–‡ä»¶æŸ¥çœ‹å·¥å…·ï¼Œä½†æ˜¯lessåŠŸèƒ½æ›´å¤šä¸€äº›ï¼Œåœ¨windowsç³»ç»Ÿä¸‹æ‰“å¼€ä¸€ä¸ª10Gçš„æ–‡ä»¶æ¯”è¾ƒå›°éš¾ï¼Œä½†æ˜¯åœ¨Linuxä¸‹éå¸¸æ–¹ä¾¿ï¼Œlesså¯ä»¥æ‰“å¼€éå¸¸å¤§çš„æ–‡ä»¶ï¼Œå‹ç¼©æ ¼å¼ä¹Ÿå¯ä»¥ç›´æ¥æ‰“å¼€ã€‚æ³¨æ„åé¢æ¥æ–‡ä»¶ï¼Œä¸èƒ½æ¥ç›®å½•ã€‚ 12-m æ˜¾ç¤ºç±»ä¼¼äºmoreå‘½ä»¤çš„ç™¾åˆ†æ¯”-N æ˜¾ç¤ºè¡Œå· moreï¼šqé€€å‡ºï¼Œspaceå‘ä¸‹ç¿»ä¸€é¡µï¼Œenterå‘ä¸‹æ»šåŠ¨ä¸€è¡Œï¼Œbå¾€å‰ç¿»ä¸€é¡µï¼Œä¼šåŠ è½½å…¨éƒ¨æ˜¾ç¤ºæµè§ˆåˆ°ç™¾åˆ†ä¹‹å‡ ï¼Œé€€å‡ºåä¼šåŠ è½½æ˜¾ç¤ºçš„æ‰€æœ‰å†…å®¹lessï¼šç±»ä¼¼ï¼Œè¿˜å¯ä»¥ç”¨pageupå’Œpagedownï¼Œä¸ä¼šåŠ è½½å…¨éƒ¨ï¼Œé€€å‡ºåä¸ä¼šåŠ è½½æ–‡ä»¶å†…å®¹æ˜¾ç¤ºåˆ°å½“å‰ç•Œé¢lessä¸‹æŒ‰hè¿›å…¥å¸®åŠ©ç•Œé¢ï¼›æŒ‰&#x2F;å‘ä¸‹æœç´¢å­—ç¬¦ä¸²ï¼ŒæŒ‰ï¼Ÿå‘ä¸Šæœç´¢å­—ç¬¦ä¸²ï¼Œæœç´¢çŠ¶æ€ä¸‹nå’Œpå‰åè·³è½¬ï¼›æŒ‰vè¿›å…¥ç¼–è¾‘ head &#x2F; tailè¿™ä¸¤ä¸ªå‘½ä»¤æ¯”è¾ƒç®€å•ï¼Œåªæ˜¯å–ä¸€ä¸ªæ–‡ä»¶çš„å¤´éƒ¨å’Œå°¾éƒ¨å¤šå°‘è¡Œï¼Œé»˜è®¤10è¡Œï¼Œå¯ä»¥åŠ -nè¿›è¡Œè®¾ç½®ï¼Œåˆ©ç”¨ç®¡é“å¯ä»¥å–æ–‡ä»¶ä¸­é—´è¡Œ$ head -40 a.txt | tail -20 #å–æ–‡ä»¶ç¬¬21~40è¡Œ$ tail -n +20 notes.log #å–æ–‡ä»¶çš„ç¬¬20è¡Œåˆ°æ–‡ä»¶æœ«å°¾ g(un)zip&#x2F; b(un)zip2gzipå’Œbzip2æ˜¯æ–‡ä»¶å‹ç¼©å·¥å…·ï¼Œé»˜è®¤ç›´æ¥å¯¹æºæ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œå‹ç¼©æ¯”ç‡åœ¨2&#x2F;3å·¦å³ï¼Œéƒ½å¯ä»¥è¿›è¡Œè®¾ç½®åŠ ä¸Šunï¼Œä¸ºunpackçš„æ„æ€ï¼Œè¡¨ç¤ºè§£å‹ç¼©linuxå‹ç¼©æ–‡ä»¶æ ¼å¼æ˜¯.gzå’Œ.bz2windowså‹ç¼©æ–‡ä»¶æœ‰.raræ–‡ä»¶ï¼Œå¯ä»¥ä¸‹è½½rarlinuxå·¥å…·è§£å‹ç¼©ï¼›.zipæ–‡ä»¶å¯ä»¥é€šè¿‡unzipå‘½ä»¤è§£å‹bzip2å‹ç¼©æ¯”æ›´é«˜ï¼ˆå°½é‡ä¸‹è½½bz2å‹ç¼©æ–‡ä»¶ï¼‰ï¼Œä½†æ˜¯å ç”¨æ›´å¤šCPU$ gzip a.txt # å‹ç¼©a.txtæ–‡ä»¶$ gunzip a.txt.gz # è§£å‹a.txt.gzæ–‡ä»¶å‹ç¼©çš„æ–‡ä»¶å¯ä»¥ç”¨lessæˆ–è€…zcatæ‰“å¼€æ–‡ä»¶ tarï¼ˆå¾ˆå¤šç”Ÿç‰©è½¯ä»¶æ˜¯æ‰“åŒ…å¹¶å‹ç¼©çš„ï¼‰tarï¼šTape archive ï¼ˆç£å¸¦æ¡£æ¡ˆï¼‰tarä¸»è¦ç”¨äºæ‰“åŒ…ï¼Œç”±äºtarèƒ½è°ƒç”¨gzipæˆ–è€…bzip2è¿›è¡Œå‹ç¼©ï¼Œè€Œæ‰“åŒ…å’Œå‹ç¼©ç»å¸¸å¦‚windowsç³»ç»Ÿä¸€æ ·åˆå¹¶ä¸ºä¸€ä¸ªè¿‡ç¨‹ 123-c å»ºç«‹æ‰“åŒ…æ¡£æ¡ˆï¼Œå¯æ­é… -v æ¥å¯Ÿçœ‹è¿‡ç¨‹ä¸­è¢«æ‰“åŒ…çš„æ¡£å(filename)-t å¯Ÿçœ‹æ‰“åŒ…æ¡£æ¡ˆçš„å†…å®¹å«æœ‰å“ªäº›æ¡£åï¼Œé‡ç‚¹åœ¨å¯Ÿçœ‹æ–‡æ¡£åå°±æ˜¯äº†ï¼ˆåŒlessåŠŸèƒ½ï¼‰-x è§£æ‰“åŒ…æˆ–è§£å‹ç¼©çš„åŠŸèƒ½ï¼Œå¯ä»¥æ­é… -C (å¤§å†™) åœ¨ç‰¹å®šç›®å½•è§£å¼€ ä»¥ä¸Šä¸‰ä¸ªå‘½ä»¤ä¸èƒ½åŒæ—¶ä½¿ç”¨ï¼Œåªèƒ½ä¸‰é€‰ä¸€è¾…é€‰é¡¹ï¼š 1234-j é€è¿‡ bzip2 çš„æ”¯æŒè¿›è¡Œå‹ç¼©/è§£å‹ç¼©ï¼šæ­¤æ—¶æ¡£åæœ€å¥½ä¸º *.tar.bz2-z é€è¿‡ gzip çš„æ”¯æŒè¿›è¡Œå‹ç¼©/è§£å‹ç¼©ï¼šæ­¤æ—¶æ¡£åæœ€å¥½ä¸º *.tar.gz-v åœ¨å‹ç¼©/è§£å‹ç¼©çš„è¿‡ç¨‹ä¸­ï¼Œå°†æ­£åœ¨å¤„ç†çš„æ–‡ä»¶åæ˜¾ç¤ºå‡ºæ¥ï¼-f filename -f åé¢è¦ç«‹åˆ»æ¥è¦è¢«å¤„ç†çš„æ¡£åï¼få¾ˆé‡è¦ï¼Œæ¯æ¬¡æ‰§è¡Œtarå‘½ä»¤éƒ½è¦åŠ ä¸Š å¯¹äºåˆå­¦è€…ï¼Œè®°ä½cæ˜¯creatï¼Œåˆ›å»ºï¼Œxæ˜¯è§£åŒ…ï¼Œzå¯¹åº”gzipï¼Œjå¯¹åº”bzip2å³å¯ï¼Œæ‰€ä»¥å¸¸ç”¨çš„å‘½ä»¤å¦‚ä¸‹ï¼š$ tar -jcvf filename.tar.bz2 A B C #æ‰“åŒ…å‹ç¼©ä¸ºbz2ç»“å°¾æ–‡ä»¶$ tar -jxvf filename.tar.bz2 # è§£å‹ç¼©.tar.bz2ç»“å°¾æ–‡ä»¶$ tar -zcvf filename.tar.gz A B C #æ‰“åŒ…å‹ç¼©ä¸ºgzç»“å°¾æ–‡ä»¶$ tar -zxvf filename.tar.gz # è§£å‹ç¼©.tar.gz ç»“å°¾æ–‡ä»¶$ tar -jxvf filename.tar.bz2 -C ç›®å½•å #è§£å‹ç¼©åˆ°æŒ‡å®šç›®å½•ï¼Œæ³¨æ„æ˜¯å¤§å†™Clesså‘½ä»¤å¯ä»¥ä¸è§£å‹åªæŸ¥çœ‹ï¼ˆçœŸçš„å¼ºå¤§ï¼‰ï¼Œtar -tf filenameåŒæ ·å¦‚æœåªéœ€è§£å‹å…¶ä¸­ä¸€ä¸ªæ–‡æ¡£ï¼Œå¯ä»¥å…ˆé€šè¿‡-tæŸ¥çœ‹æ–‡æ¡£åå¹¶å¤åˆ¶ï¼Œå†åœ¨å‰é¢è§£å‹ç¼©çš„å‘½ä»¤åŸºç¡€ä¸ŠåŠ ç©ºæ ¼å’Œæ–‡æ¡£å wcwc &#x3D; Word Countç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œè¡Œæ•°ï¼Œå•è¯æ•°ï¼ˆæœ‰ç©ºæ ¼æˆ–è€…æ¢è¡Œç¬¦çš„å­—ç¬¦ä¸²ï¼‰ï¼Œå­—ç¬¦æ•° 1234-l filename æŠ¥å‘Šè¡Œæ•°-c filename æŠ¥å‘Šå­—èŠ‚æ•°-m filename æŠ¥å‘Šå­—ç¬¦æ•°-w filename æŠ¥å‘Šå•è¯æ•° ç»Ÿè®¡å½“å‰ç›®å½•ä¸‹æœ‰å¤šå°‘æ–‡ä»¶$ ll | wc # æ³¨æ„æ˜¾ç¤ºè¡Œæ•°æ¯”å®é™…å¤šä¸¤è¡Œï¼Œå› ä¸ºè¿˜æœ‰éšè—çš„å½“å‰ç›®å½•.å’Œä¸Šä¸€å±‚ç›®å½•.. å¯é€šè¿‡ls -aæŸ¥çœ‹ sortæ’åºï¼Œé»˜è®¤æŒ‰ç¬¬ä¸€åˆ—æ’åºï¼Œå¯ä»¥é€šè¿‡-kè¿›è¡Œè®¾ç½®ï¼›é»˜è®¤æ’åºè§„åˆ™ä¸ºæŒ‰ASCIIç æ’åºï¼Œå¯ä»¥é€šè¿‡-nè¿›è¡Œä¿®æ”¹ï¼›-rå–ç›¸åæ–¹å‘ï¼› 12345-n ä¾ç…§æ•°å€¼çš„å¤§å°æ’åºã€‚-o å°†æ’åºåçš„ç»“æœå­˜å…¥æŒ‡å®šçš„æ–‡ä»¶ã€‚-r ä»¥ç›¸åçš„é¡ºåºæ¥æ’åºã€‚-t æŒ‡å®šæ’åºæ—¶æ‰€ç”¨çš„æ ä½åˆ†éš”å­—ç¬¦ã€‚-k é€‰æ‹©ä»¥å“ªä¸ªåŒºé—´è¿›è¡Œæ’åºã€‚ $ sort -nk2 -k1 01.txt | less # åœ¨01.txtæ–‡ä»¶ä¸­ï¼Œæ ¹æ®ç¬¬äºŒåˆ—æ•°å­—å¤§å°è¿›è¡Œæ’åºï¼Œæ•°å­—ä¸€æ ·çš„æ¯”è¾ƒç¬¬ä¸€åˆ—å¹¶æ’åº uniqç”¨äºæ£€æŸ¥åŠåˆ é™¤æ–‡æœ¬æ–‡ä»¶ä¸­é‡å¤å‡ºç°çš„è¡Œåˆ—ï¼Œä¸€èˆ¬ä¸ sort å‘½ä»¤ç»“åˆä½¿ç”¨ï¼Œæ’åºä¹‹åä½¿ç”¨uniq 1234-u æ˜¾ç¤ºæœªé‡å¤çš„è¡Œ-c ç»Ÿè®¡é‡å¤è¡Œçš„æ•°é‡ï¼ˆåœ¨è¡Œé¦–æ ‡æ³¨ï¼‰-ci å¿½ç•¥å¤§å°å†™ç»Ÿè®¡é‡å¤è¡Œ-d æ˜¾ç¤ºé‡å¤å‡ºç°çš„è¡Œ # cut -f 1 blast.out | sort -t &quot;|&quot; -nk2 | uniq | wc -l #ä»blast.outæ–‡ä»¶ä¸­æå–ç¬¬ä¸€åˆ—ï¼ˆfä»£è¡¨å­—æ®µï¼‰ï¼Œç¬¬ä¸€åˆ—å­—æ®µä»¥â€œ|â€åˆ†å‰²å¹¶æ¯”è¾ƒç¬¬äºŒæ®µçš„æ•°å­—å¤§å°è¿›è¡Œæ’åºï¼Œå»é™¤é‡å¤è¡Œï¼Œå¹¶è®°å½•è¡Œæ•° å³è®°å½•æœ‰å¤šå°‘æ¡æ¯”å¯¹ä¸Šçš„åŸºå›  dfdf: disk freedfç”¨äºæŸ¥çœ‹ç£ç›˜æ¶ˆè€—ï¼Œæ˜¾ç¤ºç£ç›˜å¯ç”¨ç©ºé—´æ•°ç›®ä¿¡æ¯åŠç©ºé—´ç»“ç‚¹ä¿¡æ¯ã€‚ä¸€èˆ¬åŠ ä¸€ä¸ª-hé€‰é¡¹ï¼Œç„¶åæ¥è¦æŸ¥çœ‹çš„ç£ç›˜ï¼Œé»˜è®¤æ‰€æœ‰ç£ç›˜ã€‚ 12345-a æ˜¾ç¤ºå…¨éƒ¨æ–‡ä»¶ç³»ç»Ÿ-h æ–‡ä»¶å¤§å°å‹å¥½æ˜¾ç¤º-l åªæ˜¾ç¤ºæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ-i æ˜¾ç¤ºinodeä¿¡æ¯-T æ˜¾ç¤ºæ–‡ä»¶ç³»ç»Ÿç±»å‹ dudu: Disk usagedfç”¨äºæŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µï¼Œduç”¨äºæŸ¥çœ‹ç›®å½•æ‰€å ç£ç›˜å¤§å°ï¼Œä¸€èˆ¬ä¹ŸåŠ -hé€‰é¡¹ 12-h æ–¹ä¾¿é˜…è¯»çš„æ–¹å¼ï¼ˆæ˜¾ç¤ºå¸¦å•ä½ï¼‰-s åªæ˜¾ç¤ºæ€»å’Œçš„å¤§å° findfindé¡¾åæ€ä¹‰ï¼Œä¸»è¦ç”¨äºæŸ¥æ‰¾æ–‡ä»¶ã€‚å› ä¸ºå½“æ–‡ä»¶è¶Šæ¥è¶Šå¤šçš„æ—¶å€™ï¼Œç”±äºLinuxæ˜¯æ–‡æœ¬ç•Œé¢ï¼Œä¸æ–¹ä¾¿å¯è§†åŒ–æ–‡ä»¶ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥åˆ©ç”¨findå¿«é€Ÿæ‰¾åˆ°éœ€è¦çš„æ–‡ä»¶ã€‚findæ”¯æŒå¤šç§æœç´¢æ–¹å¼ä¸»è¦ç”¨çš„æœç´¢æ–¹å¼ï¼šfind ç›®å½• Expression æ¡ä»¶$ find /media/ -name *.fna #æŸ¥æ‰¾mediaç›®å½•ä¸‹æ‰€æœ‰.fnaç»“å°¾çš„æ–‡ä»¶$ find /media/ -size 100M #æŸ¥æ‰¾mediaç›®å½•ä¸‹æ‰€æœ‰å¤§äº100Mçš„æ–‡ä»¶ which$ which filename # æŸ¥çœ‹å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ï¼Œåœ¨PATHå˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­æŸ¥çœ‹ç³»ç»Ÿå‘½ä»¤æ˜¯å¦å­˜åœ¨åŠå…¶ä½ç½® whereisè¯¥æŒ‡ä»¤åªèƒ½ç”¨äºæŸ¥æ‰¾äºŒè¿›åˆ¶æ–‡ä»¶ã€æºä»£ç æ–‡ä»¶å’Œmanæ‰‹å†Œé¡µï¼Œä¸€èˆ¬æ–‡ä»¶çš„å®šä½éœ€ä½¿ç”¨locateå‘½ä»¤ locateæ˜¯find -nameçš„å¦ä¸€ç§å†™æ³•ï¼Œä½†æ˜¯è¦æ¯”åè€…å¿«å¾—å¤šï¼ŒåŸå› åœ¨äºå®ƒä¸æœç´¢å…·ä½“ç›®å½•ï¼Œè€Œæ˜¯æœç´¢ä¸€ä¸ªæ•°æ®åº“&#x2F;var&#x2F;lib&#x2F;locatedbï¼Œè¿™ä¸ªæ•°æ®åº“ä¸­å«æœ‰æœ¬åœ°æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯ã€‚Linuxç³»ç»Ÿè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªæ•°æ®åº“ï¼Œå¹¶ä¸”æ¯å¤©è‡ªåŠ¨æ›´æ–°ä¸€æ¬¡ï¼Œæ‰€ä»¥ä½¿ç”¨locateå‘½ä»¤æŸ¥ä¸åˆ°æœ€æ–°å˜åŠ¨è¿‡çš„æ–‡ä»¶ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œå¯ä»¥åœ¨ä½¿ç”¨locateä¹‹å‰ï¼Œå…ˆä½¿ç”¨updatedbå‘½ä»¤ï¼Œæ‰‹åŠ¨æ›´æ–°æ•°æ®åº“ toptopå¯ä»¥åŠ¨æ€æ˜¾ç¤ºï¼ˆ3sä¸€æ¬¡ï¼‰ç³»ç»Ÿè¿›ç¨‹ä½¿ç”¨æƒ…å†µï¼Œç±»ä¼¼äºwindowsç³»ç»Ÿçš„ä»»åŠ¡ç®¡ç†å™¨ã€‚å¯ä»¥æ˜¾ç¤ºå½“å‰ç³»ç»Ÿæ­£åœ¨æ‰§è¡Œçš„è¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼ŒåŒ…æ‹¬è¿›ç¨‹IDã€å†…å­˜å ç”¨ç‡ã€CPUå ç”¨ç‡ç­‰ã€‚ psps: process statuspsä¹Ÿæ˜¯ç³»ç»Ÿè¿›ç¨‹ç®¡ç†å·¥å…·ï¼Œä¸topä¸åŒçš„æ˜¯ï¼Œtopå¯ä»¥åŠ¨æ€æ˜¾ç¤ºï¼Œè€Œpsåˆ™æ˜¯é™æ€æ˜¾ç¤ºï¼Œæ˜¯æŸä¸€æ—¶åˆ»çš„å¿«ç…§ï¼Œé™æ€æ˜¾ç¤ºçš„å¥½å¤„æ˜¯ä¾¿äºå…¶ä»–ç¨‹åºæ•è·ç»“æœï¼Œè¿›è¡Œå¤„ç†ã€‚ killkillçš„ä½œç”¨æ˜¯æ€æ­»è¿›ç¨‹ï¼Œç»™å®šä¸€ä¸ªä»»åŠ¡çš„PIDå·ï¼Œå¯ä»¥é€šè¿‡topæˆ–è€…pså‘½ä»¤è·å¾—ï¼Œä¾‹å¦‚å½“å‰æœ‰ä¸€ä¸ªsleepè¿›ç¨‹ï¼Œpidå·ä¸º12000ï¼›é€šè¿‡kill -9å¯ä»¥å¼ºåˆ¶æ€æ­»$ kill -9 12000 12345671 ç»ˆç«¯æ–­çº¿2 ä¸­æ–­ï¼Œç›¸å½“äºctrl+c2 é€€å‡ºï¼ŒåŒctrl+\\9 å¼ºåˆ¶ç»ˆæ­¢15 ç»ˆæ­¢è¿›ç¨‹ï¼Œé»˜è®¤ä¸º1518 ç»§ç»­ï¼Œä¸STOPç›¸åï¼Œfg/bgå‘½ä»¤19 æš‚åœï¼ŒåŒctrl+z chmodchmod: Change modeç”¨äºä¿®æ”¹æ–‡ä»¶æƒé™ï¼ŒLinuxåŸºç¡€æƒé™å¯ä»¥åŒ…æ‹¬ugoæ¨¡å¼ï¼ˆæ–‡å­—è®¾å®šæ³•ï¼‰ä»¥åŠ421æ¨¡å¼ï¼ˆæ•°å­—è®¾å®šæ³•ï¼‰ï¼Œå¯ä»¥ç”¨é€šé…ç¬¦ä¸€æ¬¡ä¿®æ”¹æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶æ–‡å­—è®¾å®šæ³•ï¼šuè¡¨ç¤ºå±ä¸»(user)ï¼Œgè¡¨ç¤ºåŒç»„ç¾¤ç”¨æˆ·(group)ï¼Œoè¡¨ç¤ºå…¶ä»–ç”¨æˆ·(other)ï¼Œaè¡¨ç¤ºæ‰€æœ‰ç”¨æˆ·(all) 123456+ æ·»åŠ æƒé™- åˆ é™¤æƒé™= èµ‹äºˆç»™å®šæƒé™ï¼Œå¹¶å–æ¶ˆå…¶ä»–æ‰€æœ‰æƒé™r å¯è¯»(read)w å¯å†™(write)x å¯æ‰§è¡Œ(execute) æ•°å­—è®¾å®šæ³•ï¼š 12340è¡¨ç¤ºæ²¡æœ‰æƒé™ï¼Œ1è¡¨ç¤ºå¯æ‰§è¡Œæƒé™ï¼Œ2è¡¨ç¤ºå¯å†™æƒé™ï¼Œ4è¡¨ç¤ºå¯è¯»æƒé™7ï¼šå¯è¯»å¯å†™å¯æ‰§è¡Œ 4+2+16ï¼šå¯è¯»å¯å†™ 4+25ï¼šå¯è¯»å¯æ‰§è¡Œ4+1 $ chmod 721 a1.index.sh # 421æ¨¡å¼ä¿®æ”¹ä¸ä¹‹ç±»ä¼¼çš„è¿˜æœ‰chownä¸chgrpï¼Œè¿™ä¸¤ä¸ªæƒé™æ›´å¤§ï¼Œéœ€è¦rootæƒé™ï¼›chown: Change owner$ chown ç”¨æˆ·å ç›®å½•å/ # ä¿®æ”¹ç›®å½•çš„å±ä¸»chgrp: Change group$ chgrp ç»„å ç›®å½•å/ # ä¿®æ”¹ç›®å½•çš„ç»„å exité€€å‡ºç™»å½•ï¼Œexitæ˜¯æ­£ç¡®é€€å‡ºï¼Œæœ€å¥½ä¸è¦ç›´æ¥ç‚¹windowså…³é—­çª—å£æŒ‰é’®é€€å‡ºï¼Œä¹Ÿä¸è¦ä½¿ç”¨ctrl+Dç»™å®šé€€å‡ºä¿¡å·é€€å‡ºã€‚ manè¯¦ç»†è§£é‡Šå‘½ä»¤ï¼Œç³»ç»Ÿå‘½ä»¤å¯ä»¥ç”¨è¿™ä¸ªæ‰¾ï¼Œä¸‹è½½çš„ç¨‹åºå¾€å¾€æ˜¯â€“help wgetåé¢æ¥ä¸‹è½½ç½‘å€ï¼Œå¯ä»¥ç›´æ¥ç”±åœ°å€è·å–ä¸‹è½½æ–‡ä»¶ suï¼šsuper userè·å¾—è¶…çº§ç®¡ç†å‘˜æƒé™ï¼Œrootæƒé™ï¼Œéœ€è¦è¾“å…¥å¯†ç sudoï¼šsuper user doæš‚æ—¶å–å¾—rootæƒé™ï¼Œé…ç½®ç³»ç»Ÿç»å¸¸èƒ½çœ‹åˆ°sudo yum echoåœ¨æ ‡å‡†è¾“å‡ºï¼ˆå±å¹•ï¼‰ä¸Šæ˜¾ç¤ºæ–‡å­— 12-n è¾“å‡ºä¹‹åä¸æ¢è¡Œï¼Œå»é™¤ç»“å°¾çš„æ¢è¡Œç¬¦ã€‚æ³¨æ„é»˜è®¤ä¸€è¡Œåæœ‰ä¸€ä¸ªæ¢è¡Œç¬¦-e è½¬ä¹‰å­—ç¬¦æŒ‰ç…§å¯¹åº”æ–¹å¼å¤„ç† yumï¼ˆcentosæ˜¯yumï¼Œubuntuæ˜¯aptï¼‰ Yellow dog Updater Modifiedæ˜¯ä¸€ä¸ªè½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œèƒ½å¤Ÿä»æŒ‡å®šçš„æœåŠ¡å™¨è‡ªåŠ¨ä¸‹è½½rpmåŒ…è¿›è¡Œå®‰è£…å¹¶ä¸”è‡ªåŠ¨å¤„ç†ä¾èµ–æ€§å…³ç³»ï¼Œyumä¼˜ç‚¹æä¾›äº†æŸ¥æ‰¾ã€å®‰è£…ã€åˆ é™¤æŸä¸€ä¸ªã€ä¸€ç»„ç”šè‡³å…¨éƒ¨è½¯ä»¶åŒ…çš„å‘½ä»¤ï¼Œå¹¶ä¸”å‘½ä»¤ç®€æ´ä¾¿äºä½¿ç”¨ã€‚ 1234567891011121314151617181920yum clean all # æ¸…é™¤åŸæœ‰yumç¼“å­˜yum repolist # åˆ—å‡ºä»“åº“ä¿¡æ¯yum install software # å®‰è£…yum update # æ›´æ–°yum list software # æŸ¥çœ‹è½¯ä»¶yum list all # æŸ¥çœ‹æ‰€æœ‰è½¯ä»¶yum list installed # åˆ—å‡ºå·²å®‰è£…è½¯ä»¶yum list available # åˆ—å‡ºå¯å®‰è£…è½¯ä»¶yum reinstall software # é‡æ–°å®‰è£…yum remove software # å¸è½½yum info software # æŸ¥çœ‹è½¯ä»¶ä¿¡æ¯yum search software # æ ¹æ®è½¯ä»¶ä¿¡æ¯æŸ¥æ‰¾è½¯ä»¶yum whatprovides file # æ ¹æ®æ–‡ä»¶æ‰¾å‡ºåŒ…å«æ­¤æ–‡ä»¶çš„è½¯ä»¶yum history # æŸ¥çœ‹ç³»ç»Ÿä¸­è½¯ä»¶ç®¡ç†ä¿¡æ¯yum history info æ•°å­— # å¯¹è¯¥æ•°å­—ä¸ºidçš„ä¿¡æ¯è¿›è¡Œæ˜¾ç¤ºyum groups list # åˆ—å‡ºè½¯ä»¶ç»„ yum groups info # æŸ¥çœ‹è½¯ä»¶ç»„çš„ä¿¡æ¯yum groups install sfgroup # å®‰è£…è½¯ç”²ç»„yum groups remove sfgroup # å¸è½½è½¯ä»¶ç»„yum repolist # æŸ¥çœ‹yumæºä¿¡æ¯ cutå‘½ä»¤ä»æ–‡ä»¶çš„æ¯ä¸€è¡Œå‰ªåˆ‡å­—èŠ‚ã€å­—ç¬¦å’Œå­—æ®µå¹¶å°†è¿™äº›å­—èŠ‚ã€å­—ç¬¦å’Œå­—æ®µå†™è‡³æ ‡å‡†è¾“å‡ºå¦‚æœä¸æŒ‡å®š File å‚æ•°ï¼Œcut å‘½ä»¤å°†è¯»å–æ ‡å‡†è¾“å…¥ã€‚å¿…é¡»æŒ‡å®š -bã€-c æˆ– -f æ ‡å¿—ä¹‹ä¸€ 1234-b ä»¥å­—èŠ‚ä¸ºå•ä½è¿›è¡Œåˆ†å‰²ã€‚è¿™äº›å­—èŠ‚ä½ç½®å°†å¿½ç•¥å¤šå­—èŠ‚å­—ç¬¦è¾¹ç•Œï¼Œé™¤éä¹ŸæŒ‡å®šäº† -n æ ‡å¿—-c ä»¥å­—ç¬¦ä¸ºå•ä½è¿›è¡Œåˆ†å‰²-d è‡ªå®šä¹‰åˆ†éš”ç¬¦ï¼Œé»˜è®¤ä¸ºåˆ¶è¡¨ç¬¦-f ä¸-dä¸€èµ·ä½¿ç”¨ï¼ŒæŒ‡å®šæ˜¾ç¤ºå“ªä¸ªåŒºåŸŸ xargsä¸ç®¡é“ä¸åŒï¼Œxargså¯ä»¥ç»™ä¸‹ä¸ªå‘½ä»¤ä¼ é€’å‚æ•°ã€‚$ ls *.gz | head #åªå¯ä»¥è¾“å‡ºå‰10ä¸ªæ–‡ä»¶å$ ls *.gz | xargs head #è¾“å‡º.gzç»“å°¾çš„æ‰€æœ‰æ–‡ä»¶å‰10è¡Œè¿™é‡Œè¦æ³¨æ„ä¸‹å…¶å®å‘½ä»¤æ˜¯æœ‰çœç•¥çš„ï¼Œå®Œæ•´åº”è¯¥æ˜¯ls *.gz | xargs -i head&#123;&#125; #ä¼ é€’å‚æ•°åˆ°headçš„èŠ±æ‹¬å·ä¸­ jobsæŸ¥çœ‹å½“å‰åœ¨åå°æ‰§è¡Œçš„å‘½ä»¤ï¼Œå¯æŸ¥çœ‹å‘½ä»¤è¿›ç¨‹å·ç  &amp;è¿è¡Œå‘½ä»¤æ—¶ï¼Œåœ¨å‘½ä»¤æœ«å°¾åŠ ä¸Š&amp;å¯è®©å‘½ä»¤åœ¨åå°æ‰§è¡Œ é¡ºä¾¿è¯´ä¸€ä¸‹ | ; &amp;&amp; ||åŒºåˆ« 1234&amp;&amp; å·¦è¾¹å‘½ä»¤æˆåŠŸè¿è¡Œäº†ï¼Œå³è¾¹å‘½ä»¤æ‰ä¼šè¿è¡Œï¼Œå°±æ˜¯é€»è¾‘ä¸çš„åŠŸèƒ½; ä¸ç®¡å·¦è¾¹å‘½ä»¤æœ‰æ²¡æœ‰æˆåŠŸè¿è¡Œï¼Œå³è¾¹å‘½ä»¤éƒ½ä¼šè¿è¡Œï¼Œä¸¤è€…ä¹‹é—´ç‹¬ç«‹| å·¦è¾¹å‘½ä»¤çš„ç»“æœä½œä¸ºå³è¾¹å‘½ä»¤çš„å‚æ•°ï¼Œæ³¨æ„ä¸xargsåŒºåˆ†|| å·¦è¾¹è¿è¡Œçš„å‘½ä»¤å¤±è´¥ï¼Œå³è¾¹çš„å‘½ä»¤æ‰ä¼šè¿è¡Œï¼Œå¦åˆ™åªæ˜¾ç¤ºå·¦è¾¹å‘½ä»¤è¿è¡Œç»“æœ nohupå‘½ä»¤å¯ä»¥ä½¿å‘½ä»¤æ°¸ä¹…çš„æ‰§è¡Œä¸‹å»ï¼Œå’Œç»ˆç«¯æ²¡æœ‰å…³ç³»ï¼Œé€€å‡ºç»ˆç«¯ä¹Ÿä¸ä¼šå½±å“ç¨‹åºçš„è¿è¡Œï¼› &amp; æ˜¯åå°è¿è¡Œçš„æ„æ€ï¼Œä½†å½“ç”¨æˆ·é€€å‡ºçš„æ—¶å€™ï¼Œå‘½ä»¤è‡ªåŠ¨ä¹Ÿè·Ÿç€é€€å‡ºã€‚ é‚£ä¹ˆï¼ŒæŠŠä¸¤ä¸ªç»“åˆèµ·æ¥nohup å‘½ä»¤ &amp;è¿™æ ·å°±èƒ½ä½¿å‘½ä»¤æ°¸ä¹…çš„åœ¨åå°æ‰§è¡Œ fg Nå°†å‘½ä»¤è¿›ç¨‹å·ç ä¸ºNçš„å‘½ä»¤è¿›ç¨‹æ”¾åˆ°å‰å°æ‰§è¡Œï¼ŒåŒ%N #æ³¨æ„æ˜¯è¿›ç¨‹å·ä¸æ˜¯PIDï¼killç¨‹åºéœ€è¦PID bg Nå°†å‘½ä»¤è¿›ç¨‹å·ç ä¸ºNçš„å‘½ä»¤è¿›ç¨‹æ”¾åˆ°åå°æ‰§è¡Œ cal æ˜¾ç¤ºæ—¥å† date æ˜¾ç¤ºæ—¶é—´ 2. åŸºæœ¬æ“ä½œæºç ç¼–è¯‘å®‰è£…è½¯ä»¶éƒ½æœ‰Readmeæ–‡ä»¶æˆ–è€…installæ–‡ä»¶è¯´æ˜å®‰è£…æ–¹å¼ï¼Œä¸€èˆ¬æ˜¯ä»¥ä¸‹æ­¥éª¤ï¼š1ã€è¿è¡Œconfigueè„šæœ¬ #æ£€æŸ¥ç³»ç»Ÿç¯å¢ƒé…ç½®æƒ…å†µï¼Œç¼ºå°‘å“ªäº›ä¸œè¥¿ï¼Œç¼ºå°‘çš„å¯ä»¥yumä¸‹è½½å®‰è£…2ã€è¿è¡Œmake checkå‘½ä»¤ï¼ˆå¯é€‰ï¼‰3ã€æ•²makeå‘½ä»¤è¿›è¡Œç¼–è¯‘4ã€make installå‘½ä»¤å®‰è£…ï¼Œå‡ºç°å¯æ‰§è¡Œç¨‹åº æ–‡ä»¶æ ¡éªŒä¸‹è½½å¤§çš„æ–‡ä»¶ä¼šé™„å¸¦.md5æ–‡ä»¶ä»»æ„é•¿åº¦ä¿¡æ¯é€ä½è®¡ç®—ï¼Œäº§ç”Ÿ128ä½hashå€¼ï¼Œä¸å¯é€†ã€‚ä¹Ÿå°±æ˜¯è¯´MD5ç®—æ³•å¯ä»¥ä½ä»»ä½•æ–‡ä»¶äº§ç”Ÿä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„æ•°æ®æŒ‡çº¹ï¼Œé€šè¿‡æ ¡éªŒä¸‹è½½å‰åçš„MD5å€¼æ˜¯å¦å‘ç”Ÿæ”¹å˜ï¼Œå°±å¯ä»¥çŸ¥é“æºæ–‡ä»¶æ˜¯å¦è¢«æ”¹åŠ¨$ md5sum filename &gt; data.md5 # å¯¹æ–‡ä»¶ï¼ˆå¯å¤šä¸ªæ–‡ä»¶ï¼‰ç”Ÿæˆmd5æ ¡éªŒç ï¼ˆ32ä½ï¼Œ16è¿›åˆ¶ï¼‰ï¼Œå¹¶å‘½åä¸ºdata.md5$ md5sum -c data.md5 # æ ¡éªŒæ–‡ä»¶ï¼Œå¦‚æœæ ¡éªŒç ç›¸åŒåˆ™æ˜¾ç¤ºOK é‡å®šå‘æœ¬è´¨æ˜¯å°†è¾“å‡ºåˆ°å±å¹•çš„å†…å®¹é‡å®šå‘åˆ°ä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ä¸­ï¼Œå¤§äºå·å’Œå°äºå·éƒ½æ˜¯ä»£è¡¨æ•°æ®çš„æµå‘$ echo â€œæƒ³è¦çš„å†…å®¹â€&gt; æ–‡ä»¶å #è¦†ç›–åŸæ–‡ä»¶çš„å†…å®¹$ echo â€œæƒ³è¦çš„å†…å®¹â€&gt;&gt; æ–‡ä»¶å #æƒ³è¦çš„å†…å®¹è¿½åŠ åˆ°æ–‡ä»¶åï¼ŒåŸæ–‡ä»¶å†…å®¹ä¸ä¿®æ”¹ä¸€ä¸ª&gt;æ˜¯è¦†ç›–ï¼Œä¸¤ä¸ª&gt;&gt;æ˜¯è¿½åŠ  Ctrl+Cç»ˆæ­¢å¹¶é€€å‡ºå‰å°å‘½ä»¤çš„æ‰§è¡Œï¼Œå›åˆ°SHELL Ctrl+Zæš‚åœå‰å°å‘½ä»¤çš„æ‰§è¡Œï¼Œå°†è¯¥è¿›ç¨‹æ”¾å…¥åå°ï¼Œå›åˆ°SHELL 3. vimvimï¼ˆä¸»è¦ç”¨æ¥å†™è„šæœ¬ï¼Œç¼–è¾‘æ–‡ä»¶ï¼‰vimæ˜¯Linuxç³»ç»Ÿè‡ªå¸¦çš„æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œå¯ä»¥ç†è§£æˆä¸ºwindowsç³»ç»Ÿä¸‹çš„wordè½¯ä»¶ï¼Œé€‚åˆç¼–è¾‘å°æ–‡ä»¶ï¼Œä¼šä¸€æ¬¡åŠ è½½å…¨éƒ¨å†…å®¹åˆ°å†…å­˜ 123:w filename å°†æ–‡ä»¶ä»¥æŒ‡å®šçš„æ–‡ä»¶åä¿å­˜èµ·æ¥ :wq ä¿å­˜å¹¶é€€å‡º:q! ä¸ä¿å­˜è€Œå¼ºåˆ¶é€€å‡º æ³¨æ„vimæ˜¯viçš„æ‹“å±•ï¼Œæœ‰äº›è‡ªå®šä¹‰è®¾ç½®è¦åœ¨vimä¸‹ç”Ÿæ•ˆï¼Œæœ€å¥½æ˜¯ç”¨vimç”¨æˆ·è®¾ç½®ä¼˜å…ˆçº§é«˜äºå…¨å±€è®¾ç½®ï¼Œè®¾ç½®æ–‡ä»¶éƒ½åœ¨å®¶ç›®å½•~ä¸‹è®¾ç½®ï¼Œä¸”å‡ä¸ºç‚¹å¼€å¤´çš„éšè—æ–‡ä»¶ï¼Œå¦‚ä¸‹~&#x2F;.vimrc~&#x2F;.bashrc 3.1 å‘½ä»¤è¡Œæ¨¡å¼åŠŸèƒ½é”®ï¼š1ï¼‰æ’å…¥æ¨¡å¼ 123i åˆ‡æ¢è¿›å…¥æ’å…¥æ¨¡å¼ insert mode ï¼ŒæŒ‰&quot;i&quot;è¿›å…¥æ’å…¥æ¨¡å¼åæ˜¯ä»å…‰æ ‡å½“å‰ä½ç½®å¼€å§‹è¾“å…¥æ–‡ä»¶a è¿›å…¥æ’å…¥æ¨¡å¼åï¼Œæ˜¯ä»ç›®å‰å…‰æ ‡æ‰€åœ¨ä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®å¼€å§‹è¾“å…¥æ–‡å­—o è¿›å…¥æ’å…¥æ¨¡å¼åï¼Œæ˜¯æ’å…¥æ–°çš„ä¸€è¡Œï¼Œä»è¡Œé¦–å¼€å§‹è¾“å…¥æ–‡å­— 2ï¼‰ä»æ’å…¥æ¨¡å¼åˆ‡æ¢ä¸ºå‘½ä»¤è¡Œæ¨¡å¼æŒ‰ ESC é”®3ï¼‰ç§»åŠ¨å…‰æ ‡ç›´æ¥ç”¨é”®ç›˜ä¸Šçš„å…‰æ ‡æ¥ä¸Šä¸‹å·¦å³ç§»åŠ¨ï¼Œä¹Ÿå¯ä»¥ç”¨å°å†™è‹±æ–‡å­—æ¯hã€jã€kã€lï¼Œåˆ†åˆ«æ§åˆ¶å…‰æ ‡å·¦ã€ä¸‹ã€ä¸Šã€å³ç§»ä¸€æ ¼ã€‚ 1234567G ç§»åŠ¨åˆ°æ–‡ä»¶æœ«å°¾ï¼Œ15Gç§»åŠ¨å…‰æ ‡è‡³æ–‡ç« çš„ç¬¬15è¡Œè¡Œé¦–gg ç§»åŠ¨åˆ°æ–‡ä»¶å¼€å¤´$ ç§»åŠ¨åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå°¾^ ç§»åŠ¨åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œé¦–H å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸Šæ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦M å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„ä¸­å¤®é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦L å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸‹æ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦ 4ï¼‰åˆ é™¤æ–‡å­— 123x æ¯æŒ‰ä¸€æ¬¡ï¼Œåˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„åé¢ä¸€ä¸ªå­—ç¬¦X å¤§å†™çš„Xï¼Œæ¯æŒ‰ä¸€æ¬¡ï¼Œåˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®çš„å‰é¢ä¸€ä¸ªå­—ç¬¦dd åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ 1,6dåˆ é™¤1åˆ°6è¡Œ 5ï¼‰å›å¤ä¸Šä¸€æ¬¡æ“ä½œ 1u å¦‚æœè¯¯æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ï¼Œå¯ä»¥å›åˆ°ä¸Šä¸€ä¸ªæ“ä½œã€‚æŒ‰å¤šæ¬¡uå¯ä»¥æ‰§è¡Œå¤šæ¬¡å›å¤ 6ï¼‰ç»§ç»­ä¸‹ä¸€ä¸ªæ“ä½œ 12næˆ–. æ¯”å¦‚æŸ¥æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²ä»¥åï¼Œç»§ç»­å¯»æ‰¾ä¸‹ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‰å¤šæ¬¡næ‰§è¡Œå¤šæ¬¡æ“ä½œN ä¸ n åˆšå¥½ç›¸åï¼Œä¸ºåå‘è¿›è¡Œå‰ä¸€ä¸ªæœå¯»åŠ¨ä½œ 3.2 åº•çº¿å‘½ä»¤æ¨¡å¼1234567:/word # æŸ¥æ‰¾wordå­—ç¬¦ä¸²:%s/x/y/gc # æ‰€æœ‰xè¢«yæ›¿æ¢ gä»£è¡¨å…¨å±€ï¼Œcä»£è¡¨äº¤äº’æ¨¡å¼ï¼ˆæ¯æ¬¡æ›¿ä»£ä¼šæç¤ºï¼‰:!å‘½ä»¤ # å‘½ä»¤å…ˆæ‰§è¡Œï¼Œvimè¢«æŒ‚èµ·ã€‚æ‰§è¡ŒåæŒ‰enterå›åˆ°vim:split # æ¨ªå±åˆ†å±æ˜¾ç¤º ctrl+wwåˆ‡æ¢ä¸Šä¸‹å±:vsplit # çºµå‘åˆ†å±:only # å–æ¶ˆåˆ†å±:n1,n2s/word1/word2/g # åœ¨ç¬¬n1ä¸n2è¡Œä¹‹é—´å¯»æ‰¾word1è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶å°†è¯¥å­—ç¬¦ä¸²å–ä»£ä¸ºword2 vimè¿˜æœ‰ä¸“é—¨çš„é”®ç›˜å›¾ã€‚ã€‚ã€‚æ”¾ä¸€ä¸ªç®€ç•¥ç‰ˆçš„ 4. åŸºç¡€å‘½ä»¤ä¸‰å‰‘å®¢ä¸‰å‰‘å®¢çš„å‘½ä»¤éå¸¸ä¹‹å¤šï¼Œå®Œå…¨å¯ä»¥å‡ºä¸€æœ¬ä¹¦ï¼Œè¿™é‡Œåªæ”¾ä¸€äº›ç®€å•çš„å’Œæˆ‘èƒ½ç”¨å¾—åˆ°çš„ 4.1 ä¸‰å‰‘å®¢ä¹‹grepgrepï¼ˆæ‰¾åŸºå› ä¿¡æ¯æ¯”è¾ƒæ–¹ä¾¿ï¼‰Global Regular Expression Printï¼Œå…¨å±€æ­£åˆ™è¡¨è¾¾å¼ç‰ˆæœ¬æ–‡æœ¬æœç´¢å·¥å…·ï¼Œç±»ä¼¼äºæ­£åˆ™è¡¨è¾¾å¼æœç´¢ï¼Œå¯ä»¥åœ¨ä¸€ä¸ªå¤§çš„æ–‡ä»¶ä¸­å¿«é€Ÿæœç´¢åˆ°æ»¡è¶³ä¸€å®šè§„åˆ™çš„å†…å®¹ã€‚ $ grep &quot;&gt;&quot; gene.fna | wc -l # ç»Ÿè®¡gene.fnaæ–‡ä»¶ä¸­åºåˆ—çš„æ¡æ•°$ grep -A 2 &quot;3 gi 29732 34486&quot; lastz.axt #å°†æ»¡è¶³æ¡ä»¶çš„è¡Œå’Œä¸‹é¢ä¸¤è¡Œæ˜¾ç¤ºå‡ºæ¥ 12grep -E # grepçš„æ‹“å±•æ¨¡å¼grep -P # é€‚åº”perlè¯­è¨€çš„æ­£åˆ™è¡¨è¾¾å¼ åŒºåˆ†ä¸€ä¸‹ï¼šfindæ˜¯æœç´¢ç›®å½•ä¸‹æ»¡è¶³æ¡ä»¶çš„æ–‡ä»¶ï¼Œgrepæ˜¯æœç´¢æ–‡ä»¶å†…æ»¡è¶³æ¡ä»¶çš„å†…å®¹ 4.2 ä¸‰å‰‘å®¢ä¹‹sedsedsed &#x3D; Stream Editoræµå¤„ç†å™¨ï¼Œæ•°æ®æµè¿‡è¿™ä¸ªå·¥å…·ï¼Œæ ¼å¼åŒ–æˆå›ºå®šçš„æ ¼å¼sed + é€‰é¡¹å‚æ•° + &#39;æ¨¡å¼&#39; + æ–‡æœ¬æˆ–æ–‡ä»¶ é€‰é¡¹å‚æ•°ï¼š 12345-e æ›¿æ¢ï¼Œå¹¶è¾“å‡ºåˆ°å±å¹•ï¼ˆæ­é…é‡å®šå‘ï¼‰-i åŸæ–‡ä»¶ä¿®æ”¹-f æ ¹æ®æ¨¡å¼æ›¿æ¢-r æ‹“å±•çš„æ­£åˆ™è¡¨è¾¾å¼-n è¾“å‡º æ¨¡å¼ï¼š 1234g å…¨å±€s æ›¿æ¢ï¼Œä¸€ä¸ªå­—ç¬¦æ›¿æ¢å¦ä¸€ä¸ªd åˆ é™¤p æ‰“å° è¾“å‡ºå›ºå®šçš„è¡Œ$ sed -n &#39;1307p&#39; seq.fna # è¾“å‡ºæ–‡ä»¶ç¬¬1307è¡Œï¼›$ sed -n &#39;100,200p&#39; seq.fna # è¾“å‡ºæ–‡ä»¶ç¬¬100åˆ°200è¡Œï¼› æ›¿æ¢æ“ä½œ$ sed -e &#39;s/gi/GI/&#39; seq.fna # å°†æ–‡ä»¶ä¸­giå…¨éƒ¨æ›¿æ¢ä¸ºå¤§å†™GIï¼›sä¸ºæ›¿æ¢$ sed -i &#39;s/gi/GI/g&#39; seq.fna # åœ¨åŸæ–‡ä»¶ä¸Šè¿›è¡Œæ›¿æ¢ï¼Œå¹¶ä¸”è¿›è¡Œå…¨éƒ¨æ›¿æ¢ï¼Œgä¸ºå…¨å±€ï¼ˆé»˜è®¤åªè¿›è¡Œä¸€æ¬¡æ›¿æ¢ï¼‰ åˆ é™¤æ“ä½œ$ sed -e &#39;/^\\s$/d&#39; seq.fna # åˆ é™¤æ–‡ä»¶ä¸­çš„ç©ºç™½è¡Œï¼Œå‘½ä»¤dä¸ºåˆ é™¤ç¬¦åˆæ¡ä»¶çš„è¡Œã€‚\\sä¸ºç©ºç™½ï¼›^è¡Œé¦–ï¼Œ$è¡Œå°¾$ sed -e &#39;/&gt;/d&#39; seq.fna # åˆ é™¤åŒ…å«refçš„è¡Œï¼Œæ¯ä¸ªrefè¡Œéƒ½æœ‰&gt;$ sed -e &#39;s/:.*//g&#39; seq.fna # åˆ é™¤å†’å·ä¹‹åçš„æ‰€æœ‰å†…å®¹ 4.3 ä¸‰å‰‘å®¢ä¹‹awkawkä¹Ÿæ˜¯éå¸¸å¼ºå¤§çš„æ–‡æœ¬å¤„ç†å·¥å…·ï¼Œawkæœ¬èº«ä¹Ÿæ˜¯ä¸€é—¨ç¼–ç¨‹è¯­è¨€è¾“å‡ºä¸€ä¸ªåˆ—è¡¨ä»»æ„åˆ—$ awk &#39;&#123;print $1,$NF&#125;&#39; 1.txt # è¾“å‡º1.txtçš„ç¬¬ä¸€åˆ—å’Œæœ€åä¸€åˆ— è¿‡æ»¤æ–‡ä»¶ç»“æœ$ awk &#39;&#123;if ($3&gt;=80 &amp;&amp; $4&gt;=100) print $0&#125;&#39; blast_m8.out # è¿‡æ»¤æ–‡ä»¶æ¯”å¯¹ç»“æœï¼Œå°†ç¬¬ä¸‰åˆ—å€¼å¤§äº80ï¼Œå¹¶ä¸”ç¬¬å››åˆ—å€¼å¤§äº100çš„æ‰€æœ‰ç»“æœè¾“å‡º æ¯”è¾ƒ$ awk &#39;$8&gt;$10&#39; input.txt # è¾“å‡ºç¬¬8åˆ—æ•°å€¼å¤§äºç¬¬10åˆ—æ•°å€¼çš„è¡Œ è¾“å‡ºå›ºå®šè¡Œå†…å®¹$ awk &#39;NR&gt;=20&amp;&amp;NR&lt;=80&#39; input.txt #è¾“å‡ºç¬¬20åˆ°ç¬¬80è¡Œå†…å®¹ 5. æ­£åˆ™è¡¨è¾¾å¼æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¯¹å­—ç¬¦ä¸²æ“ä½œçš„ä¸€ç§é€»è¾‘å…¬å¼ï¼Œå°±æ˜¯ç”¨äº‹å…ˆå®šä¹‰å¥½çš„ä¸€äº›ç‰¹å®šå­—ç¬¦ã€åŠè¿™äº›ç‰¹å®šå­—ç¬¦çš„ç»„åˆï¼Œç»„æˆä¸€ä¸ªâ€œè§„åˆ™å­—ç¬¦ä¸²â€ï¼Œè¿™ä¸ªâ€œè§„åˆ™å­—ç¬¦ä¸²â€ç”¨æ¥è¡¨è¾¾å¯¹å­—ç¬¦ä¸²çš„ä¸€ç§è¿‡æ»¤é€»è¾‘ 123456789101112131415161718^ åŒ¹é…è¾“å…¥å­—è¡Œé¦– ^eat,è¯†åˆ«eatå¼€å¤´çš„å­—ç¬¦ä¸²$ åŒ¹é…è¾“å…¥è¡Œå°¾ eat$,è¯†åˆ«eatç»“å°¾çš„å­—ç¬¦ä¸² \\b å•è¯é”šå®šç¬¦ \\beat\\b ,åªè¯†åˆ«eatå­—ç¬¦ä¸². åŒ¹é…é™¤â€œ\\nâ€å’Œ&quot;\\r&quot;ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦\\ è½¬è¯‘å­—ç¬¦ æ¯”å¦‚åŒ¹é…. åˆ™\\.* åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä»»æ„æ¬¡+ åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼ä¸€æ¬¡æˆ–å¤šæ¬¡(å¤§äºç­‰äº1æ¬¡ï¼Œä¾‹å¦‚â€œzo+â€èƒ½åŒ¹é…â€œzoâ€ä»¥åŠâ€œzooâ€ï¼Œä½†ä¸èƒ½åŒ¹é…â€œzâ€ï¼‰# éœ€è¦grep -Eæ”¯æŒï¼ˆæ‹“å±•ï¼‰? åŒ¹é…å‰é¢çš„å­è¡¨è¾¾å¼é›¶æ¬¡æˆ–ä¸€æ¬¡ # éœ€è¦grep -Eæ”¯æŒï¼ˆæ‹“å±•ï¼‰[xyz] å­—ç¬¦é›†åˆã€‚åŒ¹é…æ‰€åŒ…å«çš„ä»»æ„ä¸€ä¸ªå­—ç¬¦x|y åŒ¹é…xæˆ–yã€‚â€œz|foodâ€èƒ½åŒ¹é…â€œzâ€æˆ–â€œfoodâ€ã€‚â€œ[z|f]oodâ€åˆ™åŒ¹é…â€œzoodâ€æˆ–â€œfoodâ€ï¼Œæ‹©è¯‘åŒ¹é…[a-z] å­—ç¬¦èŒƒå›´\\d åŒ¹é…æ‰€æœ‰æ•°å­—ï¼Œç­‰åŒ[0-9]\\s ç©ºç™½ï¼Œæ˜¯å­—ç¬¦é›†æ¢é¡µã€åˆ¶è¡¨ã€æ¢è¡Œã€å›è½¦ä»¥åŠç©ºæ ¼çš„ç®€å†™[\\f\\t\\n\\r]\\w [A-Za-z0-9_]å•è¯åŒ…æ‹¬å¤§å°å†™å­—æ¯ã€æ•°å­—å’Œä¸‹åˆ’çº¿^ è´Ÿå€¼å­—ç¬¦èŒƒå›´ã€‚åŒ¹é…ä»»ä½•ä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„ä»»æ„å­—ç¬¦ã€‚ï¼ˆå€’ä¸‰è§’ï¼‰\\D éæ•°å­—\\W éå­—ç¬¦\\S éç©ºç™½å­—ç¬¦","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"linuxæŒ‡ä»¤","slug":"linuxæŒ‡ä»¤","permalink":"http://www.shelven.com/tags/linux%E6%8C%87%E4%BB%A4/"}]},{"title":"shellè„šæœ¬åŸºæœ¬è¯­æ³•æ€»ç»“","slug":"shellè„šæœ¬åŸºæœ¬è¯­æ³•æ€»ç»“","date":"2022-04-19T19:55:58.000Z","updated":"2022-12-03T16:17:05.000Z","comments":true,"path":"2022/04/20/a.html","link":"","permalink":"http://www.shelven.com/2022/04/20/a.html","excerpt":"ç®€å•è®°å½•ä¸‹shellè„šæœ¬è¯­è¨€çš„å­¦ä¹ ã€‚","text":"ç®€å•è®°å½•ä¸‹shellè„šæœ¬è¯­è¨€çš„å­¦ä¹ ã€‚ shellè„šæœ¬è¿è¡Œæ–¹å¼é¦–å…ˆè¦äº†è§£ä»€ä¹ˆæ˜¯è„šæœ¬ï¼Œè„šæœ¬æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå¯è¿è¡Œçš„æ–‡ä»¶ï¼Œä½¿ç”¨ç‰¹å®šæ ¼å¼çš„æŒ‡ä»¤è®©ç³»ç»Ÿé€šè¿‡è„šæœ¬è§£æå™¨è§£æå¹¶æ‰§è¡Œä½ çš„æŒ‡ä»¤ã€‚ç³»ç»Ÿæä¾›çš„shellå‘½ä»¤è§£æå™¨æœ‰shã€bashå’Œashã€‚å¯ä»¥é€šè¿‡echo $SHELLæŸ¥çœ‹è‡ªå·±linuxç³»ç»Ÿçš„é»˜è®¤è§£ææ–¹å¼ shellè„šæœ¬æ–‡ä»¶çš„å¼€å¤´ï¼š#!/bin/bash #! æ˜¯ç‰¹æ®Šçš„ç”¨æ¥å£°æ˜è„šæœ¬ç”±ä»€ä¹ˆshellè§£é‡Šï¼Œå¦åˆ™ä½¿ç”¨é»˜è®¤shell shæ–‡ä»¶æœ‰ä¸‰ç§æ‰§è¡Œæ–¹å¼./xxx.sh bash xxx.sh . xxx.sh ./xxx.sh å…ˆæŒ‰ç…§ æ–‡ä»¶ä¸­#!æŒ‡å®šçš„è§£æå™¨è§£æï¼Œå¦‚æœ#ï¼æŒ‡å®šæŒ‡å®šçš„è§£æå™¨ä¸å­˜åœ¨æ‰ä¼šä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„è§£æå™¨ bash xxx.sh æŒ‡æ˜å…ˆç”¨bashè§£æå™¨è§£æï¼Œå¦‚æœbashä¸å­˜åœ¨æ‰ä¼šä½¿ç”¨é»˜è®¤è§£æå™¨ . xxx.sh ç›´æ¥ä½¿ç”¨é»˜è®¤è§£æå™¨è§£æ å„ç§å¼•å·çš„åŒºåˆ«vimåˆ›å»ºè„šæœ¬æ–‡ä»¶1111.shï¼š 123456789#!/bin/bashecho &quot;Phantomçš„SHELLç»ƒä¹ &quot;num=123echo &quot;é¢„è®¾æ•°å­—=$num&quot;read -p &quot;è¾“å…¥æ•°å­—&quot; sum # readå¯ä»¥è¯†åˆ«æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜è¾“å…¥ï¼‰ï¼Œ-på‚æ•°è®¾ç½®æç¤ºè¯­echo &quot;è¾“å‡ºç»“æœ=$sum+$num&quot;echo &quot;$sum&quot; # &quot;&quot;è§£æå˜é‡å€¼echo &#x27;$sum&#x27; # &#x27;&#x27;ä¸èƒ½è§£æå˜é‡å€¼echo &quot;ä»Šå¤©æ—¥æœŸ`date`&quot; # ``è¯†åˆ«ä¸ºç³»ç»Ÿå‘½ä»¤ å˜é‡åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ åœ¨å˜é‡èµ‹å€¼çš„è¿‡ç¨‹ä¸­ï¼Œç­‰å·ä¸¤è¾¹ä¸èƒ½æ¥ç©ºæ ¼ï¼Œè‹¥è¦æ¥ç©ºæ ¼ï¼Œåˆ™æ•´ä¸ªå­—ç¬¦ä¸²éƒ½è¦ç”¨å¼•å·æ‹¬èµ·æ¥ å„ç§å¼•å·åŒºåˆ«åŒå¼•å·â€œâ€å¯ä»¥è§£æå˜é‡çš„å€¼å•å¼•å·â€˜â€™ä¸èƒ½è§£æå˜é‡çš„å€¼ï¼ŒåŒ…å«çš„å˜é‡ä¼šè¢«å½“åšå­—ç¬¦ä¸²åå¼•å·`` åå¼•å·çš„å†…å®¹ä½œä¸ºç³»ç»Ÿå‘½ä»¤å¹¶æ‰§è¡Œ å¦‚`date` å„ç§æ‹¬å·çš„åŒºåˆ«vimåˆ›å»ºè„šæœ¬æ–‡ä»¶xxx.shï¼š 1234567#!/bin/bashNum=1000&#123; # èŠ±æ‹¬å·è¡¨ç¤ºåœ¨å½“å‰shellå®Œæˆï¼Œä¼šå½±å“å½“å‰å˜é‡ Num=1234 echo &quot;()é‡Œé¢çš„æ•°å­—æ˜¯=$Num&quot;&#125;echo &quot;æ˜¾ç¤ºå½“å‰shellæ•°å­—=$Num&quot; vimåˆ›å»ºè„šæœ¬æ–‡ä»¶xxxx.shï¼š 1234567#!/bin/bashNum=1000( # å°æ‹¬å·è¡¨ç¤ºåœ¨å½“å‰shellå®Œæˆï¼Œä¸ä¼šå½±å“å½“å‰å˜é‡ Num=1234 echo &quot;()é‡Œé¢çš„æ•°å­—æ˜¯=$Num&quot;)echo &quot;æ˜¾ç¤ºå½“å‰shellæ•°å­—=$Num&quot; {å‘½ä»¤åºåˆ—} åœ¨å½“å‰shellä¸­æ‰§è¡Œï¼Œç›´æ¥å½±å“å½“å‰å˜é‡(å‘½ä»¤åºåˆ—) ç”±å­shellå®Œæˆï¼Œä¸å½±å“å½“å‰shellçš„å˜é‡[åˆ¤æ–­æ¡ä»¶]ä¸­æ‹¬å·æ˜¯åˆ¤æ–­æ¡ä»¶ï¼Œè¿›è¡Œæ•°å€¼åˆ¤æ–­ã€‚ä¸‹é¢ä¼šè¯´æ˜ æ•°å€¼åˆ¤æ–­vimå»ºç«‹è„šæœ¬æ–‡ä»¶xxxxx.shï¼š 12345678910#!/bin/bashread -p &quot;è¯·è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—&quot; mread -p &quot;è¯·è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—&quot; nif [ $m -eq $n ]; then # -eq åˆ¤æ–­ä¸¤ä¸ªå‚æ•°æ˜¯å¦ç›¸ç­‰ echo &quot;è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ç›¸ç­‰&quot;elif [ $m -lt $n ]; then # -lt åˆ¤æ–­å·¦è¾¹å‚æ•°æ˜¯å¦å°äºå³è¾¹å‚æ•° echo &quot;ç¬¬ä¸€ä¸ªæ•°å­—å°äºç¬¬äºŒä¸ªæ•°å­—&quot;elif [ $m -gt $n ]; then # -gt åˆ¤æ–­å·¦è¾¹å‚æ•°æ˜¯å¦å¤§äºå³è¾¹å‚æ•° echo &quot;ç¬¬ä¸€ä¸ªæ•°å­—å¤§äºç¬¬äºŒä¸ªæ•°å­—&quot;fi # ifæ§åˆ¶è¯­å¥æ ¼å¼ï¼šif elif else fi æ•°å€¼åˆ¤æ–­å‚æ•°è¯¦è§£-eq æ¯”è¾ƒä¸¤ä¸ªå‚æ•°æ˜¯å¦ç›¸ç­‰-ne æ¯”è¾ƒä¸¤ä¸ªå‚æ•°æ˜¯å¦ä¸ç›¸ç­‰-lt å·¦è¾¹å‚æ•°æ˜¯å¦å°äºå³è¾¹å‚æ•°-le å·¦è¾¹å‚æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹å‚æ•°-gt å·¦è¾¹å‚æ•°æ˜¯å¦å¤§äºå³è¾¹å‚æ•°-ge å·¦è¾¹å‚æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹å‚æ•° å­—ç¬¦ä¸²æå–å’Œæ›¿æ¢vimæ–°å»ºè„šæœ¬æ–‡ä»¶1234.shï¼š 1234567#!/bin/bashll=&quot;Phantom Aria f r u i t l e s s l o v e&quot; # å®šä¹‰å­—ç¬¦ä¸²å˜é‡echo &quot;é•¿åº¦ä¸º:$&#123;#ll&#125;&quot; # å­—ç¬¦ä¸²é•¿åº¦(åŒ…æ‹¬ç©ºæ ¼)echo &quot;$&#123;ll:3&#125;&quot; # ä»ç¬¬3ä¸ªå­—ç¬¦å¾€åæå–echo &quot;$&#123;ll:3:11&#125;&quot; # ä»ç¬¬3ä¸ªå­—ç¬¦å¾€åæå–11ä¸ªå­—ç¬¦echo &quot;$&#123;ll/ /&#125;&quot; # å­—ç¬¦ä¸²ä»å·¦å¾€å³åˆ é™¤ç¬¬ä¸€ä¸ªç©ºæ ¼ï¼ˆç›¸å½“äºæ›¿æ¢çš„æ–¹å¼ï¼‰echo &quot;$&#123;ll// /&#125;&quot; # åˆ é™¤å­—ç¬¦ä¸²ä¸­æ‰€æœ‰ç©ºæ ¼ï¼ˆç›¸å½“äºå…¨å±€æ›¿æ¢çš„æ–¹å¼ï¼‰ å­—ç¬¦ä¸²åŒ¹é…å’Œåˆ é™¤vimæ–°å»ºè„šæœ¬æ–‡ä»¶match.shï¼š 123456#!/bin/bashll=&quot;Phantom Aria fruitless love&quot;echo $&#123;ll% *&#125; # ä»å³å¾€å·¦åŒ¹é…ç¬¬ä¸€ä¸ªç©ºæ ¼ï¼Œåˆ é™¤å³è¾¹æ‰€æœ‰å­—ç¬¦ä¸²echo $&#123;ll%% *&#125; # ä»å³å¾€å·¦åŒ¹é…æ‰€æœ‰ç©ºæ ¼ï¼Œåˆ é™¤å³è¾¹æ‰€æœ‰å­—ç¬¦ä¸²echo $&#123;ll#* &#125; # ä»å·¦å¾€å³åŒ¹é…ç¬¬ä¸€ä¸ªç©ºæ ¼ï¼Œåˆ é™¤å·¦è¾¹æ‰€æœ‰å­—ç¬¦ä¸²echo $&#123;ll##* &#125; # ä»å·¦å¾€å³åŒ¹é…æ‰€æœ‰ç©ºæ ¼ï¼Œåˆ é™¤å·¦è¾¹æ‰€æœ‰å­—ç¬¦ä¸² *å·æ˜¯é€šé…ç¬¦ï¼Œå¯ä»¥æ˜¯åŒ¹é…çš„ä»»æ„é•¿åº¦ä»»æ„å­—ç¬¦ä¸²%å’Œ%%åŒ¹é…åŸåˆ™ï¼šéƒ½æ˜¯ä»å³åˆ°å·¦åŒ¹é…ï¼Œåˆ é™¤å³è¾¹ï¼Œ%%ç§°ä¸ºè´ªå©ªåŒ¹é…#å’Œ##åŒ¹é…åŸåˆ™ï¼šéƒ½æ˜¯ä»å·¦å¾€å³åŒ¹é…ï¼Œåˆ é™¤å·¦è¾¹ï¼Œ##åŒæ ·ç§°ä¸ºè´ªå©ªåŒ¹é…ï¼Œæ³¨æ„é€šé…ç¬¦ä½ç½® forå¾ªç¯è¯­å¥forå¾ªç¯è¯­å¥ä¸¤ç§å†™æ³•å¦‚ä¸‹ï¼š 123456789for ï¼ˆ(åˆå§‹å€¼ï¼›é™åˆ¶å€¼ï¼›æ‰§è¡Œæ­¥é˜¶)ï¼‰ #æ³¨æ„ä¸¤ä¸ªå°æ‹¬å·ï¼Œå°‘ä¸€ä¸ªéƒ½ä¸è¡Œdo ç¨‹åºæ®µdoneæˆ–for å˜é‡ in 1 2 3 4 5 6 7 8 9 10 #ç­‰ä»·äº`seq 1 10`do ç¨‹åºæ®µdone vimå»ºç«‹è„šæœ¬æ–‡ä»¶for_example.shï¼š 12345678#!/bin/bashdeclare -i sum=0 # å¼ºåˆ¶å®šä¹‰sumä¸ºæ•´æ•°å‹å˜é‡ï¼ˆä¸å®šä¹‰ä¼šå˜æˆä¸€ä¸²å­—ç¬¦ä¸²ï¼‰read -p &quot;è¯·è¾“å…¥æ•´æ•°&quot; n # æ ‡å‡†è¾“å…¥å®šä¹‰å˜é‡nfor (( i=0; i&lt;=$n; i++ )) # ç­‰åŒäºfor i in `seq 0 $n`ï¼Œä¸èµ˜è¿°do sum=$sum+$i # è®¡ç®—0åˆ°nä¹‹å’Œdoneecho &quot;0åˆ°è¿™ä¸ªæ•°çš„æ•´æ•°ä¹‹å’Œ=$sum&quot; è‡ªå®šä¹‰å‡½æ•°vimå»ºç«‹è„šæœ¬æ–‡ä»¶12345.shï¼š 12345678910111213#!/bin/bashfunction formax()&#123; if [ $n -gt $m ]; then return $n else return $m fi&#125;read -p &quot;è¾“å…¥æ•°å€¼1ï¼š&quot; nread -p &quot;è¾“å…¥æ•°å€¼2ï¼š&quot; mformax $n $mecho &quot;è¾“å…¥çš„æœ€å¤§å€¼ä¸º$?&quot; # $?è¡¨ç¤ºä¸Šä¸ªæŒ‡ä»¤çš„è¿”å›å€¼ è‡ªå®šä¹‰äº†ä¸€ä¸ªformaxå‡½æ•°åˆ¤æ–­è¾“å…¥çš„ä¸¤ä¸ªæ•°å€¼å¤§å°ï¼Œå¯ä»¥çœ‹å‡ºshellè„šæœ¬ä¸­æ˜¯ä¸€è¡Œä¸€è¡Œè¯»å–æŒ‡ä»¤çš„ã€‚è‡ªå®šä¹‰å‡½æ•°å¯ä»¥è¢«å¼•ç”¨ï¼Œä¿å­˜ä¸Šè¿°{}å†…çš„æŒ‡ä»¤è‡³åŸæ–‡ä»¶å12345.shï¼Œåœ¨ä¸‹ä¸€ä¸ªè„šæœ¬æ–‡ä»¶ä¸­ï¼Œå°†å‡½æ•°æ”¾åœ¨è„šæœ¬å¼€å§‹å¤„ï¼Œ shellè§£é‡Šå™¨å‘ç°å®ƒæ‰å¯ä»¥è¿›è¡Œè°ƒç”¨ï¼ˆå¦‚ä¸‹æ‰€ç¤ºï¼‰ vimå»ºç«‹è„šæœ¬æ–‡ä»¶test.shï¼š 123456#!/bin/bashsource 12345.shread -p &quot;è¾“å…¥æ•°å€¼1ï¼š&quot; nread -p &quot;è¾“å…¥æ•°å€¼2ï¼š&quot; mformax $n $mecho &quot;è¾“å…¥çš„æœ€å¤§å€¼ä¸º$?&quot; è‡ªå®šä¹‰å‡½æ•°è¢«æˆåŠŸè°ƒç”¨","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"}],"tags":[{"name":"shellè„šæœ¬","slug":"shellè„šæœ¬","permalink":"http://www.shelven.com/tags/shell%E8%84%9A%E6%9C%AC/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ7ï¼‰â€”â€”DESeq2å·®å¼‚åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ7ï¼‰â€”â€”RåŒ…DESeq2åŸºå› å·®å¼‚è¡¨è¾¾åˆ†æ","date":"2022-04-18T07:49:20.000Z","updated":"2022-12-03T16:33:19.000Z","comments":true,"path":"2022/04/18/a.html","link":"","permalink":"http://www.shelven.com/2022/04/18/a.html","excerpt":"å‰é¢è¯´åˆ°DESeq2åŒ…éœ€è¦å‡†å¤‡ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯æ ·æœ¬åˆ—è¡¨çŸ©é˜µï¼Œä¸€ä¸ªæ˜¯row countå®šé‡è¡¨è¾¾çŸ©é˜µï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å¯¹æ ·æœ¬è¿›è¡Œä¸¤ä¸¤æ¯”å¯¹ï¼Œæ‰¾åˆ°ä¸¤ç»„ä¹‹é—´æœ‰å¤šå°‘ä¸ªåŸºå› ä¸Šè°ƒå’Œä¸‹è°ƒï¼Œä¸è¿›è¡Œä¸¤ä¸¤æ¯”å¯¹ç›´æ¥æŠŠ4ç»„æ•°æ®4ä¸ªé‡å¤å…¨éƒ¨å¯¼è¿›å»å¾—åˆ°çš„ç»“æœæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œè¿™é‡Œç”¨DESeq2åšè¡¨è¾¾åŸºå› çš„å·®å¼‚åˆ†æ","text":"å‰é¢è¯´åˆ°DESeq2åŒ…éœ€è¦å‡†å¤‡ä¸¤ä¸ªè¾“å…¥æ–‡ä»¶ï¼Œä¸€ä¸ªæ˜¯æ ·æœ¬åˆ—è¡¨çŸ©é˜µï¼Œä¸€ä¸ªæ˜¯row countå®šé‡è¡¨è¾¾çŸ©é˜µï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å¯¹æ ·æœ¬è¿›è¡Œä¸¤ä¸¤æ¯”å¯¹ï¼Œæ‰¾åˆ°ä¸¤ç»„ä¹‹é—´æœ‰å¤šå°‘ä¸ªåŸºå› ä¸Šè°ƒå’Œä¸‹è°ƒï¼Œä¸è¿›è¡Œä¸¤ä¸¤æ¯”å¯¹ç›´æ¥æŠŠ4ç»„æ•°æ®4ä¸ªé‡å¤å…¨éƒ¨å¯¼è¿›å»å¾—åˆ°çš„ç»“æœæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œè¿™é‡Œç”¨DESeq2åšè¡¨è¾¾åŸºå› çš„å·®å¼‚åˆ†æ ä¸¾ä¸ªæ —å­ï¼Œæˆ‘å…ˆè¿›è¡ŒçŸ­æ—¥ç…§çš„â€œ0â€ç»„æ ·æœ¬å’Œç»è¿‡â€œ1â€å¤©é•¿æ—¥ç…§çš„1ç»„æ ·æœ¬ä¹‹é—´è¿›è¡Œå·®å¼‚åŸºå› åˆ†æï¼Œä»å‰é¢æ•´ç†çš„æ ·æœ¬åˆ—è¡¨çŸ©é˜µæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ0ç»„æ ·æœ¬å››ä¸ªé‡å¤åˆ†åˆ«æ˜¯ERR1698194ã€ERR1698202ã€ERR1698203å’ŒERR1698204ï¼ŒåŒæ ·1ç»„æ•°æ®4ä¸ªé‡å¤åˆ†åˆ«ä¸ºERR1698205ã€ERR1698206ã€ERR1698207å’ŒERR1698208ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦é‡æ–°æ•´ç†æˆ‘ä»¬éœ€è¦çš„æ•°æ®åšæˆcsvæ ¼å¼ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š å®šé‡è¡¨è¾¾çŸ©é˜µç¬¬ä¸€è¡Œéœ€è¦å’Œæ ·æœ¬åˆ—è¡¨çŸ©é˜µçš„ç¬¬ä¸€åˆ—ä¸€ä¸€å¯¹åº”ï¼Œé¡ºåºéœ€è¦ä¸€æ¨¡ä¸€æ ·ä¸‹é¢è®²è§£å¦‚ä½•ä½¿ç”¨DESeq2 1. ä»£ç ç¤ºèŒƒå‰é¢å¤„ç†å¥½raw countå®šé‡è¡¨è¾¾çŸ©é˜µï¼Œå»ºç«‹æ ·æœ¬åˆ—è¡¨çŸ©é˜µåï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨rstudioé‡Œè¿è¡ŒDESeq2åŒ…è¿›è¡Œå·®å¼‚åŸºå› ç­›é€‰äº†ã€‚ä»£ç å¦‚ä¸‹ã€‚ 1234567891011121314151617181920212223library(&quot;DESeq2&quot;)mycounts &lt;- read.csv(&quot;gene_count_matrix_0_1.csv&quot;,row.names = 1)mycounts_1 &lt;- mycounts[rowSums(mycounts) != 0,] # é‡æ–°å®šä¹‰æ•°æ®é›†ï¼Œè¿‡æ»¤mappingæ•°ä¸º0çš„åŸºå› mymeta &lt;- read.csv(&quot;sample_list_0_1.csv&quot;,stringsAsFactors = T) # è½½å…¥æ ·æœ¬åˆ†ç»„æ–‡ä»¶ï¼Œé‡åˆ°å­—ç¬¦ä¸²å°†å…¶è½¬åŒ–ä¸ºå› å­colnames(mycounts_1) == mymeta$id # æ£€æŸ¥å¯¼å…¥çš„ä¸¤ä¸ªæ•°æ®é›†æ˜¯å¦åŒ¹é…ï¼Œè¿”å›å€¼ä¸ºFéœ€è¦é‡æ–°åŒ¹é…mymeta$index &lt;- factor(mymeta$index,levels = c(&quot;0&quot;,&quot;1&quot;)) # æŠŠæ ·æœ¬åˆ†ç»„æ–‡ä»¶çš„åˆ†ç»„åˆ—è½¬æ¢åˆ°å› å­ï¼Œä¸¤ä¸¤æ¯”å¯¹æŠŠå¯¹ç…§ç»„æ”¾å‰é¢ï¼dds &lt;- DESeqDataSetFromMatrix(countData = mycounts_1, colData = mymeta, design = ~index) #æ„é€ ç”¨äºå·®å¼‚è¡¨è¾¾åˆ†æçš„æ•°æ®é›†dds &lt;- DESeq(dds)res &lt;- results(dds)res_1 &lt;- data.frame(res) # ç»“æœresä¸æ˜¯å¸¸è§„çš„æ•°æ®ï¼Œéœ€è¦è½¬åŒ–æˆæ•°æ®æ¡†library(&quot;dplyr&quot;)res_1 %&gt;% # dplyrç»™æ•°æ®é›†å¢åŠ æ–°åˆ— mutate(group = case_when( log2FoldChange &gt;=1 &amp; padj &lt;=0.05 ~ &quot;UP&quot;, log2FoldChange &lt;=-1 &amp; padj &lt;=0.05 ~ &quot;DOWN&quot;, TRUE ~ &quot;NOT_CHANGE&quot; )) -&gt; res_2table(res_2$group)write.csv(res_2,file = &quot;gene_0_1.csv&quot;, quote = F) # è¾“å‡ºæ–‡ä»¶ 2. ä»£ç è¯¦è§£è¯¦ç»†è§£é‡Šä¸€ä¸‹è¿‡ç¨‹ï¼š åœ¨Ré‡Œè¿è¡Œç¨‹åºæˆ–è€…å†™ä»£ç ï¼Œé¦–å…ˆè¦ç¡®å®šå¥½å·¥ä½œç›®å½•åœ¨å“ªé‡Œï¼Œå°†ä¹‹å‰Stringtieè½¬åŒ–çš„å®šé‡è¡¨è¾¾çŸ©é˜µå’Œæ ·æœ¬åˆ—è¡¨çŸ©é˜µå…¨éƒ½æ”¾åœ¨å·¥ä½œç›®å½•ä¸‹ï¼Œè¿™é‡Œæˆ‘çš„è¡¨è¾¾é‡çŸ©é˜µæ˜¯transcript_count_matrix_0_1.csvï¼Œåˆ†ç»„åˆ—è¡¨çŸ©é˜µæ˜¯sample_list_0_1.csvã€‚getwd()å¯ä»¥æŸ¥çœ‹å½“å‰å·¥ä½œç›®å½•ï¼Œåœ¨å…¨å±€è®¾ç½®é‡Œå¯ä»¥æ›´æ”¹å·¥ä½œç›®å½•ã€‚ library(&quot;DESeq2&quot;) # åŠ è½½DESeq2è¿™ä¸ªRåŒ… mycounts &lt;- read.csv(&quot;gene_count_matrix_0_1.csv&quot;,row.names = 1) # è½½å…¥raw countçŸ©é˜µï¼Œä»¥ç¬¬ä¸€åˆ—æ•°æ®ä½œä¸ºè¡Œåï¼Œè¯»å–çš„çŸ©é˜µå‘½åä¸ºmycounts mycounts_1 &lt;- mycounts[rowSums(mycounts) != 0,] # è¿‡æ»¤æ¯ä¸€è¡Œmappingæ€»æ•°ä¸º0çš„åŸºå› ï¼Œå°†æ•°æ®é›†æ•´ç†å‘½åä¸ºmycounts_1 mymeta &lt;- read.csv(&quot;sample_list_0_1.csv&quot;,stringsAsFactors = T) # è½½å…¥æ ·å“åˆ—è¡¨ï¼Œé‡åˆ°å­—ç¬¦ä¸²å°†å…¶è½¬åŒ–ä¸ºä¸€ä¸ªå› å­ colnames(mycounts_1) == mymeta$id # æ£€æŸ¥raw countçŸ©é˜µç¬¬ä¸€è¡Œæ˜¯å¦ä¸æ ·å“åˆ—è¡¨çš„idåˆ—æ˜¯å¦ä¸€è‡´ï¼ˆå¦‚ä¸‹ï¼‰ã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼Œä¸ä¸€è‡´è·‘DESeq2ä¼šæŠ¥é”™ã€‚å¦‚æœæ˜¾ç¤ºfalseå°±è¦è°ƒæ•´ mymeta$index &lt;- factor(mymeta$index,levels = c(&quot;0&quot;,&quot;1&quot;)) # è¿™ä¸€æ­¥åŒæ ·é‡è¦ï¼ŒæŠŠæ ·æœ¬åˆ†ç»„æ–‡ä»¶çš„åˆ†ç»„åˆ—è½¬æ¢åˆ°å› å­ï¼Œä¸ç„¶ä¼šæŠ¥é”™ã€‚æˆ‘è¿™é‡Œå¯¹ç…§ç»„æ˜¯ç¬¬0å¤©ï¼Œæ‰€ä»¥æŠŠâ€œ1â€æ”¾åœ¨â€œ0â€ä¹‹åï¼Œè¿™é‡Œé¡ºåºéœ€è¦ç‰¹åˆ«è¯´æ˜ï¼æ ·æœ¬å’Œå®šé‡çŸ©é˜µçš„åˆ†ç»„åªè¦ä¸€ä¸€å¯¹åº”å¯ä»¥ä¸æ’åºï¼Œè¿™é‡Œä¸€å®šè¦åˆ†æ¸…æ¥šå“ªä¸ªç»„å’Œå“ªä¸ªç»„è¿›è¡Œæ¯”è¾ƒï¼Œå¦åˆ™ä¼šå¾—å‡ºå®Œå…¨ç›¸åçš„ç»“è®ºï¼ 123dds &lt;- DESeqDataSetFromMatrix(countData = mycounts_1, colData = mymeta, design = ~index) # ä¸­é—´é‚£ä¸€é•¿ä¸²æ˜¯DESeq2åŒ…é‡Œçš„å‡½æ•°ï¼ŒcountDataæ˜¯raw countå®šé‡çŸ©é˜µï¼ŒcolDataæ˜¯æ ·å“åˆ—è¡¨ï¼Œdesignæ˜¯åˆ†ç»„ä¿¡æ¯ï¼Œè¿™æ­¥æ˜¯ä¸ºäº†æ„é€ ç”¨äºå·®å¼‚è¡¨è¾¾åˆ†æçš„æ•°æ®é›†ï¼Œå¹¶å°†æ•°æ®é›†å‘½åä¸ºdds dds &lt;- DESeq(dds) # åˆ†æçš„æ ¸å¿ƒDESeqç¨‹åº res &lt;- results(dds) # å°†ç»“æœè¾“å‡ºè‡³resæ•°æ®é›† res_1 &lt;- data.frame(res) # resä¸æ˜¯å¸¸è§„çš„æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨headå’Œclasså‘½ä»¤æŸ¥çœ‹ä¸€ä¸‹ï¼ˆå¦‚ä¸‹å›¾ï¼‰ï¼Œéœ€è¦è½¬åŒ–æˆå¸¸è§„çš„æ•°æ®æ¡†æ ¼å¼æ‰å¯ä»¥å¯¹å…¶è¿›è¡ŒåŠ å‡åˆ—ç­‰æ“ä½œï¼Œè½¬æ¢æ ¼å¼åçš„æ•°æ®é›†åå­—ä¸ºres_1 library(&quot;dplyr&quot;) # åŠ è½½è¿™ä¸ªåŒ…æ˜¯ä¸ºäº†å¯¹æ•°æ®æ¡†è¿›è¡Œæ“ä½œï¼Œæˆ‘æ˜¯è¦å¢åŠ æ–°çš„ä¸€åˆ—ç»Ÿè®¡å·®å¼‚è¡¨è¾¾æƒ…å†µ 123456res_1 %&gt;% mutate(group = case_when( log2FoldChange &gt;=1 &amp; padj &lt;=0.05 ~ &quot;UP&quot;, log2FoldChange &lt;=-1 &amp; padj &lt;=0.05 ~ &quot;DOWN&quot;, TRUE ~ &quot;NOT_CHANGE&quot; )) -&gt; res_2 # è°ƒç”¨dplyråŒ…ç»™æ•°æ®é›†å¢åŠ æ–°çš„ä¸€åˆ—groupï¼Œlog2FoldChange &gt;&#x3D;1ï¼Œpadj &lt;&#x3D;0.05ï¼Œåˆ¤æ–­è¿™ä¸ªåŸºå› è¡¨è¾¾ä¸ºä¸Šè°ƒï¼Œåœ¨log2FoldChange &lt;&#x3D;-1ï¼Œpadj &lt;&#x3D;0.05æ—¶åˆ¤æ–­è¿™ä¸ªåŸºå› è¡¨è¾¾ä¸ºä¸‹è°ƒï¼Œå…¶ä½™æƒ…å†µä¸ºè¯¥åŸºå› è¡¨è¾¾æƒ…å†µä¸å˜ã€‚å°†ç»“æœè¾“å‡ºåˆ°res_2æ•°æ®é›†ã€‚ FoldChangeè¡¨ç¤ºä¸¤æ ·å“é—´è¡¨è¾¾é‡æ¯”å€¼ï¼Œæ˜¯å€æ•°å˜åŒ–ï¼Œå·®å¼‚è¡¨è¾¾åŸºå› åˆ†æé‡Œï¼Œlog2 fold changeç»å¯¹å€¼å¤§äº1ä¸ºå·®å¼‚åŸºå› ç­›é€‰æ ‡å‡†ã€‚padjæ˜¯è°ƒæ•´åçš„på€¼ï¼Œåœ¨pæ£€éªŒé‡Œï¼Œpå€¼å°äº0.05æ˜¯æœ‰æ˜¾è‘—å·®å¼‚çš„æ ‡å¿—ã€‚ table(res_2$group) # æŸ¥çœ‹å·®å¼‚åŸºå› è¡¨è¾¾çš„ç»“æœï¼Œä¸Šè°ƒåŸºå› å¤šå°‘ï¼Œä¸‹è°ƒåŸºå› æœ‰å¤šå°‘ï¼Œä¸å˜çš„æœ‰å¤šå°‘ write.csv(res_2,file = &quot;gene_0_1.csv&quot;, quote = F) # è¾“å‡ºå’Œç”Ÿæˆgene_0_1.csvæ–‡ä»¶ï¼Œå³ä¸ºç»“æœæ–‡ä»¶ 3. ç»“æœæ¼”ç¤ºæˆ‘å¯¹â€œ0â€ç»„æ ·æœ¬ï¼ˆå¯¹ç…§ï¼‰å’Œé•¿æ—¥ç…§1å¤©ï¼Œ2å¤©å’Œ3å¤©è¿™ä¸€å…±4ç»„æ ·æœ¬åˆ†åˆ«è¿›è¡Œä¸¤ä¸¤å¯¹æ¯”ï¼Œåšäº†åŸºå› è¡¨è¾¾å·®å¼‚åˆ†æï¼ˆ0_1è¡¨ç¤º0ç»„å’Œ1ç»„å¯¹æ¯”ï¼Œ1_2è¡¨ç¤º1ç»„å’Œ2ç»„å¯¹æ¯”ï¼Œä¾æ¬¡ç±»æ¨ä¸å†èµ˜è¿°ï¼‰ï¼ŒåŒæ—¶ä¸åŸæ–‡çŒ®è¡¥å……æ•°æ®2ä¸­çš„å·®å¼‚åˆ†æç»“æœåšå¯¹æ¯” 0ç»„ä¸1ç»„å¯¹æ¯”ï¼Œ187ä¸ªåŸºå› ä¸Šè°ƒï¼Œ149ä¸ªåŸºå› ä¸‹è°ƒï¼›åŸæ–‡57ä¸ªåŸºå› ä¸Šè°ƒï¼Œ79ä¸ªåŸºå› ä¸‹è°ƒ 0ç»„ä¸2ç»„å¯¹æ¯”ï¼Œ51ä¸ªåŸºå› ä¸Šè°ƒï¼Œ42ä¸ªåŸºå› ä¸‹è°ƒï¼›åŸæ–‡21ä¸ªåŸºå› ä¸Šè°ƒï¼Œ24ä¸ªåŸºå› ä¸‹è°ƒ 0ç»„ä¸3ç»„å¯¹æ¯”ï¼Œ142ä¸ªåŸºå› ä¸Šè°ƒï¼Œ143ä¸ªåŸºå› ä¸‹è°ƒï¼›åŸæ–‡107ä¸ªåŸºå› ä¸Šè°ƒï¼Œ84ä¸ªåŸºå› ä¸‹è°ƒ 1ç»„å’Œ2ç»„å¯¹æ¯”ï¼Œ26ä¸ªåŸºå› ä¸Šè°ƒï¼Œ29ä¸ªåŸºå› ä¸‹è°ƒï¼›åŸæ–‡3ä¸ªåŸºå› ä¸Šè°ƒï¼Œ0ä¸ªåŸºå› ä¸‹è°ƒ 1ç»„å’Œ3ç»„å¯¹æ¯”ï¼Œ46ä¸ªåŸºå› ä¸Šè°ƒï¼Œ50ä¸ªåŸºå› ä¸‹è°ƒï¼›åŸæ–‡8ä¸ªåŸºå› ä¸Šè°ƒï¼Œ2ä¸ªåŸºå› ä¸‹è°ƒ 2ç»„å’Œ3ç»„å¯¹æ¯”ï¼Œ11ä¸ªåŸºå› ä¸Šè°ƒï¼Œ13ä¸ªåŸºå› ä¸‹è°ƒï¼›åŸæ–‡2ä¸ªåŸºå› ä¸Šè°ƒï¼Œ1ä¸ªåŸºå› ä¸‹è°ƒ ç‚¹å‡»è¿™é‡Œä¸‹è½½åŸæ–‡åŸºå› è¡¨è¾¾å·®å¼‚æ€»è¡¨ï¼ˆè¡¥å……æ•°æ®2ï¼‰ 3.1 åˆ†ææˆ‘åšçš„å·®å¼‚åˆ†ææ€»ä½“è¶‹åŠ¿å’Œæ–‡ç« ç±»ä¼¼ï¼Œéƒ½æ˜¯çŸ­æ—¥ç…§ç»„ï¼ˆSDç»„ï¼Œä¹Ÿå°±æ˜¯0ç»„ï¼‰ä¸é•¿æ—¥ç…§1ã€2ã€3å¤©ç»„ï¼ˆLDç»„ï¼Œåˆ†åˆ«å¯¹åº”123ç»„ï¼‰ç›¸æ¯”ï¼Œæœ‰è¾ƒå¤šåŸºå› å‡ºç°å·®å¼‚æ€§è¡¨è¾¾ï¼›è€Œé•¿æ—¥ç…§1ã€2ã€3å¤©ç»„ä¹‹é—´ç›¸æ¯”å·®å¼‚è¡¨è¾¾åŸºå› è¾ƒå°‘ï¼Œè¿™æ ·æ‰åˆç†ï¼Œè¡¨æ˜æ‹Ÿå—èŠ¥èŒå°–åˆ†ç”Ÿç»„ç»‡åœ¨å¼€èŠ±æœŸé•¿æ—¥ç…§ä¸‹ï¼Œç¡®å®æœ‰ä¸åŒçš„åŸºå› å‚ä¸äº†å…‰å‘¨æœŸè¯±å¯¼çš„å¼€èŠ±è¿‡ç¨‹ã€‚å¦‚æœè¦å¯¹è¿™äº›å·®å¼‚è¡¨è¾¾çš„åŸºå› åšæ›´æ·±å…¥çš„åˆ†æï¼ˆä¸‹æ¸¸åˆ†æï¼‰ï¼Œæˆ‘ä»¬å°±è¦æ¯”å¯¹GOåº“æˆ–è€…KEGGåº“è¿›è¡Œä»£è°¢é€šè·¯å¯Œé›†åˆ†æå’Œæ³¨é‡Šã€‚ä»¥åçš„ç¬”è®°ä¼šè¯´åˆ°ã€‚è‡³äºä¸ºä»€ä¹ˆæˆ‘å¾—åˆ°çš„å·®å¼‚åŸºå› æ™®éæ¯”åŸæ–‡å¤šï¼Œä¸€ä¸ªæ˜¯å·®å¼‚åˆ†æä¹‹å‰ç”¨çš„åˆ†æè½¯ä»¶ä¸åŒï¼Œåœ¨è¿‡æ»¤æ•°æ®è¿‡ç¨‹ä¸­æˆ‘çš„æ¡ä»¶æ¯”è¾ƒæ¾ï¼ˆåªè¿‡æ»¤äº†countæ•°ä¸º0çš„åŸºå› ï¼‰ï¼Œå¦å¤–ä¸åŒè½¯ä»¶çš„ç»„è£…ã€æ¯”å¯¹å’Œè®¡æ•°çš„ç®—æ³•å®ç°ä¹Ÿä¸ä¸€æ ·ã€‚å¦å¤–ï¼Œæˆ‘ä»¬å¾—åˆ°è¿™ä¸ªåŸºå› å·®å¼‚è¡¨è¾¾ç»“æœä¹‹åï¼Œè¿˜å¯ä»¥åšä¸ªæ›´ç›´è§‚çš„ç«å±±å›¾çœ‹æˆ‘ä»¬çš„å·®å¼‚åŸºå› åˆ†å¸ƒæ˜¯å¦åˆç†ï¼Œä¹‹åä¹Ÿä¼šè¯´ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"DESeq2","slug":"DESeq2","permalink":"http://www.shelven.com/tags/DESeq2/"},{"name":"dplyr","slug":"dplyr","permalink":"http://www.shelven.com/tags/dplyr/"},{"name":"Rè¯­è¨€","slug":"Rè¯­è¨€","permalink":"http://www.shelven.com/tags/R%E8%AF%AD%E8%A8%80/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ6ï¼‰â€”â€”HTseqè®¡æ•°å®šé‡","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ6ï¼‰â€”â€”HTseqè®¡æ•°å®šé‡","date":"2022-04-17T15:49:37.000Z","updated":"2022-12-03T16:33:39.000Z","comments":true,"path":"2022/04/17/b.html","link":"","permalink":"http://www.shelven.com/2022/04/17/b.html","excerpt":"HTseqä¹Ÿæ˜¯å¯¹æœ‰å‚è€ƒåŸºå› ç»„è½¬å½•æ•°æ®è¿›è¡Œè¡¨è¾¾é‡åˆ†æçš„ï¼Œä¸»è¦ç”¨äºreadsè®¡æ•°ã€‚è¿™ä¸ªè½¯ä»¶åŠŸèƒ½å°±æ¯”è¾ƒä¸“ä¸€ï¼Œä¸åƒstringtieè¿˜éœ€è¦è¿è¡ŒprepDE.pyè„šæœ¬è¿›è¡Œæ•°æ®è½¬åŒ–ï¼Œç›´æ¥ä¸€æ­¥åˆ°ä½ã€‚é‚£ä¸ºä»€ä¹ˆæˆ‘ä¸€å¼€å§‹ä¸ç”¨HTseqå‘¢ï¼Ÿå› ä¸ºæˆ‘é‡åˆ°ä¸€ä¸ªbug ä¸»è¦è¿˜æ˜¯è¿ç®—é€Ÿåº¦çš„é—®é¢˜ï¼Œæˆ‘æ¯”è¾ƒäº†ä¸¤ç§å®šé‡æ–¹å¼ï¼ŒHTseqå®šé‡è™½ç„¶åªæœ‰ä¸€æ­¥ï¼Œä½†æ˜¯é€Ÿåº¦è¿œä¸å¦‚stringtieï¼Œä¹Ÿå¯èƒ½æ˜¯æˆ‘çš„é—®é¢˜ï¼Œä¸‹é¢ä¼šè¯´åˆ°ã€‚","text":"HTseqä¹Ÿæ˜¯å¯¹æœ‰å‚è€ƒåŸºå› ç»„è½¬å½•æ•°æ®è¿›è¡Œè¡¨è¾¾é‡åˆ†æçš„ï¼Œä¸»è¦ç”¨äºreadsè®¡æ•°ã€‚è¿™ä¸ªè½¯ä»¶åŠŸèƒ½å°±æ¯”è¾ƒä¸“ä¸€ï¼Œä¸åƒstringtieè¿˜éœ€è¦è¿è¡ŒprepDE.pyè„šæœ¬è¿›è¡Œæ•°æ®è½¬åŒ–ï¼Œç›´æ¥ä¸€æ­¥åˆ°ä½ã€‚é‚£ä¸ºä»€ä¹ˆæˆ‘ä¸€å¼€å§‹ä¸ç”¨HTseqå‘¢ï¼Ÿå› ä¸ºæˆ‘é‡åˆ°ä¸€ä¸ªbug ä¸»è¦è¿˜æ˜¯è¿ç®—é€Ÿåº¦çš„é—®é¢˜ï¼Œæˆ‘æ¯”è¾ƒäº†ä¸¤ç§å®šé‡æ–¹å¼ï¼ŒHTseqå®šé‡è™½ç„¶åªæœ‰ä¸€æ­¥ï¼Œä½†æ˜¯é€Ÿåº¦è¿œä¸å¦‚stringtieï¼Œä¹Ÿå¯èƒ½æ˜¯æˆ‘çš„é—®é¢˜ï¼Œä¸‹é¢ä¼šè¯´åˆ°ã€‚ 1. HTseqå®šé‡è·å¾—raw countvimä¸€ä¸ªæ–°è„šæœ¬ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š 12345678#!/bin/bashfor i in `seq 194 209`do htseq-count -f bam -s no \\ /media/sf_/data/fastq/bam/ERR1698&quot;$i&quot;.bam \\ # è¾“å…¥bamæ–‡ä»¶ /media/sf_/data/ref/Arabidopis_thaliana.gtf # å‚è€ƒåŸºå› ç»„æ³¨é‡Šæ–‡ä»¶ &gt; /media/sf_/data/fastq/count/ERR1698&quot;$i&quot;.count # è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶done å‚æ•°è¯¦è§£-f # è®¾ç½®è¾“å…¥æ–‡ä»¶æ ¼å¼ï¼Œå¯ä»¥æ˜¯bamæˆ–è€…sam-s # è®¾ç½®æ˜¯å¦æ˜¯é“¾ç‰¹å¼‚æ€§æµ‹åºï¼Œè®¾ç½®noæ¯ä¸€æ¡readséƒ½ä¼šå’Œæ­£ä¹‰é“¾å’Œåä¹‰é“¾è¿›è¡Œæ¯”è¾ƒ ä¿å­˜è¿è¡Œä»¥åå‘ç°è¿™ä¸ªç¨‹åºåªèƒ½åˆ†é…ä¸€ä¸ªçº¿ç¨‹ï¼ˆä¹Ÿå¯èƒ½æ˜¯æˆ‘æ²¡æ‰¾åˆ°åˆ†çº¿ç¨‹çš„æ–¹æ³•ï¼‰ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®ç”µè„‘å†…æ ¸æ•°åˆ†å‡ ä¸ªæ‰¹å¤„ç†ä¸€èµ·è¿è¡Œä¼šå¿«å¾ˆå¤šï¼ˆä¸ç„¶å°±ç­‰ç€å¹²çªçœ¼&#x3D; &#x3D;ï¼‰ã€‚ è¿˜æœ‰ä¸€ç‚¹éå¸¸é‡è¦ï¼bamæ–‡ä»¶éœ€è¦æå‰æŒ‰ç…§åç§°æ’åºï¼Œä¸ç„¶ä¼šå‡ºç°ç»å¤§éƒ¨åˆ†reads mappingä¸åˆ°å‚è€ƒåŸºå› ç»„ï¼Œè¿™ç§æƒ…å†µä¼šåœ¨å±å¹•ä¸Šè¾“å‡ºæç¤ºä¿¡æ¯ï¼Œä½†æ˜¯ç¨‹åºè¿˜æ˜¯ä¼šç»§ç»­è·‘â€¦â€¦è¿™æ—¶å€™å°±åˆ«çŠ¹è±«äº†èµ¶ç´§killè¿™ä¸ªç¨‹åºï¼Œå°±ç®—è·‘å®Œäº†æ•°æ®éƒ½ä¸èƒ½ç”¨ã€‚å¯ä»¥ç”¨samtools sort -nå¯¹bamæ–‡ä»¶è¿›è¡Œåç§°æ’åºï¼Œä½†æ˜¯æ’åºä¹‹åæ— æ³•å†ç”¨samtools indexå»ºç«‹ç´¢å¼•æ–‡ä»¶ï¼Œè¿™ä¼šå¯¼è‡´HTseqè¿è¡Œé€Ÿåº¦æ¯”èœ—ç‰›è¿˜æ…¢ã€‚æš‚æ—¶æ²¡æ‰¾åˆ°æ›´å¥½çš„åŠæ³• æ‘Šæ‰‹ã€‚ ç»è¿‡æ¼«é•¿é•¿é•¿é•¿é•¿çš„æ—¶é—´ç­‰å¾…ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹ç»“æœæ–‡ä»¶çš„headå’Œtailï¼ˆè¿™é‡Œå°±æ”¾ä¸€å¼ å›¾å§ï¼‰ï¼š å‰é¢è®°å½•äº†åŸºå› åç§°å’Œmappingä¸Šçš„readsæ•°ï¼Œæœ€å5è¡Œå¯¹åº”ä¸åŒçš„mappingæƒ…å†µï¼Œåœ¨ä¸åŒçš„æ¨¡å¼ä¸‹æ„ä¹‰ä¸åŒï¼Œå®˜ç½‘ç»™å‡ºçš„åŒºåˆ«å¦‚ä¸‹å›¾ï¼Œé»˜è®¤æ˜¯unionæ¨¡å¼ï¼š è®¡æ•°ç»“æœä¹Ÿå¯ä»¥ç”¨multiqcåˆå¹¶ï¼Œç”Ÿæˆåœ¨çº¿æŠ¥å‘Šï¼Œè¿™é‡Œå¯ä»¥ç›´è§‚åœ°çœ‹åˆ°æ¯ä¸ªæ ·å“æ¯”å¯¹ä¸Šçš„readsæ•°ç™¾åˆ†æ¯”ï¼Œè¿™é‡Œ16ä¸ªæ ·å“çš„æ¯”å¯¹ç‡éƒ½è¶…è¿‡80%ï¼Œè¯´æ˜è®¡æ•°ç»“æœéƒ½è¿˜ä¸é”™ã€‚ 2. HTseqç»“æœæ–‡ä»¶å¤„ç†HTseqè®¡æ•°å®šé‡åå¾—åˆ°çš„æ˜¯æ¯ä¸€ä¸ªæ ·å“çš„æ¯ä¸ªåŸºå› readsæ•°ï¼Œæˆ‘ä»¬éœ€è¦åˆå¹¶æ¯ä¸ªæ ·å“å®šé‡æ•°æ®ï¼Œæ‰‹åŠ¨ä¿®æ”¹æˆDESeq2èƒ½è¯†åˆ«çš„raw countè¡¨è¾¾çŸ©é˜µï¼Œè¿˜éœ€è¦å†å‡†å¤‡ä¸€ä¸ªæ ·æœ¬åˆ—è¡¨çŸ©é˜µï¼Œæ‰èƒ½è¿›è¡Œåç»­çš„DESeqåˆ†æã€‚å‚è€ƒä¸€ä¸‹stringtieæœ€åç”Ÿæˆçš„è¡¨è¾¾é‡çŸ©é˜µæ–‡ä»¶ï¼Œæˆ‘ä»¬ä¹Ÿéœ€è¦å°†HTseqå®šé‡ç»“æœæ•´ç†æˆcsvæ ¼å¼ï¼ˆé€—å·ä½œä¸ºåˆ†éš”ç¬¦ï¼‰ï¼Œç¬¬ä¸€åˆ—æ˜¯åŸºå› åï¼Œåé¢æ˜¯æŒ‰ç…§æ ·å“åºåˆ—çš„æ’åºï¼Œä¸­é—´æ˜¯è¡¨è¾¾çŸ©é˜µã€‚ å†æ¥çœ‹ä¸€çœ‹HTseqå®šé‡ç”Ÿæˆçš„æ–‡ä»¶è¯¦æƒ…ï¼ŒåŒæ ·ç¬¬ä¸€åˆ—æ˜¯åŸºå› åï¼Œåé¢æ˜¯raw countæ•°é‡ï¼Œ^I è¡¨ç¤ºä¸¤åˆ—æ•°æ®æ˜¯ä»¥åˆ¶è¡¨ç¬¦tabé”®åˆ†éš”çš„ï¼Œ$ä¸ºæ¢è¡Œç¬¦ã€‚ æˆ‘çš„æ–¹æ³•æ¯”è¾ƒç¬¨æ¯”ï¼Œé™¤ç¬¬ä¸€ä¸ªERR1698194.countæ–‡ä»¶ä¿ç•™å¤–ï¼Œå…¶ä»–æ‰€æœ‰countæ–‡ä»¶ç¬¬ä¸€åˆ—åˆ å»å¹¶å‘½åä¸ºcut.countï¼Œç„¶ååˆå¹¶ERR1698194.countå’Œå…¶ä»–æ‰€æœ‰cut.countæ–‡ä»¶ï¼Œå†å°†æ‰€æœ‰çš„åˆ¶è¡¨ç¬¦æ›¿æ¢ä¸ºé€—å·ï¼Œæœ€ååŠ ä¸Šç¬¬ä¸€è¡Œè¡Œåå’Œæ”¹æ–‡ä»¶åã€‚ ç”¨awkå‘½ä»¤åˆ é™¤ç¬¬ä¸€åˆ—ï¼Œå†™å…¥åˆ°æ–°çš„cut.countæ–‡ä»¶ä¸­ï¼š 1234for i in `seq 195 209`do cat ERR1698&quot;$i&quot;.count | awk &#x27;&#123;$1 = &quot;&quot;; print $0&#125;&#x27; &gt; ERR1698&quot;$i&quot;cut.countdone pasteç»„åˆERR1698194æ ·å“å’Œå…¶ä»–cut.countæ–‡ä»¶åˆ°alldata.count: $ paste ERR1698194.count *cut.count &gt; alldata.count çœ‹çœ‹alldata.countçš„æ•°æ®æ ¼å¼ï¼Œåˆ—æ•°æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯awkåˆ é™¤åˆ—äº§ç”Ÿäº†ç©ºæ ¼ï¼š ç”¨sedå‘½ä»¤åˆ é™¤æ‰€æœ‰ç©ºæ ¼ï¼Œæ›¿æ¢æ‰€æœ‰åˆ¶è¡¨ç¬¦ä¸ºé€—å·ï¼ˆä¸¤æ­¥å¯ä»¥åˆä¸€æ­¥ï¼‰ï¼š $ sed &#39;s/ //g&#39; alldata.count &gt; alldata1.count $ sed &#39;s/\\t/,/g&#39; alldata1.count &gt; alldata2.count è¿™æ ·å°±æ‰‹åŠ¨ç”Ÿæˆç¬¦åˆcsvæ ¼å¼çš„æ–‡ä»¶äº†ï¼Œåªéœ€åŠ ä¸Šç¬¬ä¸€è¡Œï¼š è¿™é‡Œæ ·æœ¬é‡æ¯”è¾ƒå°‘ï¼Œæˆ‘ç›´æ¥vimå¤åˆ¶ç²˜è´´çš„æ–¹æ³•åŠ äº†ç¬¬ä¸€è¡Œï¼Œé‡å‘½åä¸€ä¸‹æ–‡ä»¶å°±å®Œæˆäº†è¡¨è¾¾çŸ©é˜µçš„åˆ¶ä½œï¼Œå¯ä»¥ç”¨äºDESeq2åˆ†æäº†ï¼ å› ä¸ºæœ¬äººæ¯”è¾ƒå°ç™½ï¼Œä¸Šé¢å¤„ç†è¿‡ç¨‹å°±æœ‰äº›å•°å—¦äº†ï¼Œæ€»çš„æ€è·¯å°±æ˜¯æ”¹æˆcsvæ ¼å¼æ–‡ä»¶çš„æ ·å¼å°±å¯ä»¥ã€‚ æ ·æœ¬åˆ—è¡¨çŸ©é˜µçš„åˆ¶ä½œè¿‡ç¨‹å’Œstringtieä¸€æ¨¡ä¸€æ ·ï¼Œç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ï¼Œæœ¬ç¯‡ä¸å†èµ˜è¿°ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"HTseq","slug":"HTseq","permalink":"http://www.shelven.com/tags/HTseq/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ5ï¼‰â€”â€”stringtieè½¬å½•æœ¬ç»„è£…å’Œå®šé‡","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ5ï¼‰â€”â€”stringtieè½¬å½•æœ¬ç»„è£…å’Œå®šé‡","date":"2022-04-17T15:14:21.000Z","updated":"2022-12-03T16:35:23.000Z","comments":true,"path":"2022/04/17/a.html","link":"","permalink":"http://www.shelven.com/2022/04/17/a.html","excerpt":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•å¦‚ä½•ç”¨Stringtieåšè½¬å½•æœ¬çš„ç»„è£…å’Œå®šé‡ï¼Œä»¥åŠå¦‚ä½•åˆ¶ä½œæ ·æœ¬åˆ—è¡¨çŸ©é˜µï¼Œä¸ºåé¢DESeq2åˆ†æåšé“ºå«ã€‚","text":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•å¦‚ä½•ç”¨Stringtieåšè½¬å½•æœ¬çš„ç»„è£…å’Œå®šé‡ï¼Œä»¥åŠå¦‚ä½•åˆ¶ä½œæ ·æœ¬åˆ—è¡¨çŸ©é˜µï¼Œä¸ºåé¢DESeq2åˆ†æåšé“ºå«ã€‚ stringtieè½¬å½•æœ¬ç»„è£…å’Œå®šé‡1 è½¬å½•æœ¬ç»„è£…Stringtieæ˜¯ä¸€ä¸ªåŸºå› å’Œè½¬å½•æœ¬ç»„è£…å®šé‡çš„è½¯ä»¶ï¼Œstringtieçš„è¾“å…¥æ–‡ä»¶æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ç»è¿‡æ’åºçš„bamæ–‡ä»¶ï¼Œæ’åºå¯ä»¥ç”¨å‰é¢è¯´åˆ°çš„samtools sortå‘½ä»¤å®Œæˆï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯å‚è€ƒåŸºå› ç»„çš„æ³¨é‡Šæ–‡ä»¶ï¼ˆgffæˆ–gtfæ ¼å¼ï¼‰ã€‚ åœ¨ä½¿ç”¨Stringtieè¿›è¡ŒåŸºå› æˆ–è€…è½¬å½•æœ¬ç»„è£…å®šé‡çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰ä¸€ä¸ªéå¸¸é‡è¦çš„å‚æ•° - eï¼Œæˆ‘ä¹‹å‰è·‘äº†ä¸€éæµç¨‹æ²¡æœ‰åŠ å‚æ•°-eï¼Œç»“æœç»„è£…çš„ç»“æœéå¸¸å·®ï¼Œè¿˜æœ‰å¤§é‡çš„æœªæ³¨é‡Šçš„åŸºå› ã€‚æˆ‘è¯·æ•™äº†åº¦å¨˜ï¼Œç½‘ä¸Šçš„æ•™ç¨‹æ”»ç•¥ä¹Ÿéƒ½æ˜¯æŠ„æ¥æŠ„å»çš„æ²¡è§£å†³ä»€ä¹ˆé—®é¢˜ï¼Œå®˜ç½‘åªæœ‰è¿™ä¹ˆä¸€å¥è§£é‡Šï¼š -e this option directs StringTie to operate in expression estimation mode; this limits the processing of read alignments to estimating the coverage of the transcripts given with the -G option (hence this option requires -G). å¯¹äºåŠ äº†å‚æ•°-eä¹‹åå¦‚ä½•åšçš„æ¯”å¯¹å’Œç»„è£…å¤„ç†è¿˜æ˜¯ä¸æ˜äº†ï¼Œä¸çŸ¥é“è¡¨è¾¾è¯„ä¼°æ¨¡å¼çš„åŸç†æ˜¯ä»€ä¹ˆï¼Œåªèƒ½è‡ªå·±åšä¸ªå¤§æ¦‚çš„æ€»ç»“ï¼ˆä¸çŸ¥æ­£ç¡®ä¸å¦ï¼‰ï¼š å¦‚æœæˆ‘ä»¬ç ”ç©¶çš„æ ·æœ¬æ²¡æœ‰å¾ˆå¥½çš„æ³¨é‡Šä¿¡æ¯ï¼Œç ”ç©¶çš„äººå°‘ï¼Œç°æœ‰çš„æ³¨é‡Šä¿¡æ¯éƒ½ä¸å®Œå–„ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦é‡å»ºè½¬å½•æœ¬è¿›è¡Œæ³¨é‡Šï¼Œè¿™ä¸ªæ—¶å€™å°±ä¸éœ€è¦åŠ å‚æ•°-eã€‚å¦‚æœæ ·å“çš„æ³¨é‡Šä¿¡æ¯éå¸¸å®Œæ•´ï¼Œæ¯”å¦‚æ‹Ÿå—èŠ¥è¿™ç§æ¨¡å¼ç”Ÿç‰©ï¼Œæˆ‘ä»¬ä¸éœ€è¦é‡å»ºæ–°çš„è½¬å½•æœ¬è¿›è¡Œæ³¨é‡Šï¼Œåªå¯¹ç°æœ‰çš„å‚è€ƒåŸºå› ç»„æ³¨é‡Šæ–‡ä»¶å°±è¶³å¤Ÿäº†ï¼Œé‚£å°±è¦ç”¨-eå‚æ•°ï¼Œä¸éœ€è¦é¢„æµ‹æ–°çš„è½¬å½•æœ¬ã€‚ -eå‚æ•°è¿˜æœ‰ä¸ªæ¯”è¾ƒé‡è¦çš„åœ°æ–¹ï¼Œåªæœ‰ç”¨äº†-eå‚æ•°åï¼Œæ‰å¯ä»¥è¿è¡ŒprepDE.py3è„šæœ¬å¾—åˆ°read countçŸ©é˜µï¼ˆä¹Ÿå°±æ˜¯è¿›è¡Œå®šé‡ï¼‰ï¼Œè¿™ä¸ªè„šæœ¬åé¢ä¼šè¯´ã€‚ æˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªshellè„šæœ¬è¿›è¡Œè½¬å½•æœ¬ç»„è£…ï¼š 12345678#!/bin/bashfor i in `seq 194 209`do stringtie -p 4 -e \\ -G /media/sf_/data/ref/Arabidopis_thaliana.gtf \\ # å‚è€ƒåŸºå› ç»„æ³¨é‡Šæ–‡ä»¶ -o /media/sf_/data/fastq/gtf/ERR1698&quot;$i&quot;.gtf \\ # è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶ /media/sf_/data/fastq/bam/ERR1698&quot;$i&quot;.bam # è¾“å…¥çš„bamæ–‡ä»¶done ä¿å­˜ï¼Œè¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°.gtfæ ¼å¼æ–‡ä»¶ï¼Œlessä¸€ä¸‹æŸ¥çœ‹é‡Œé¢çš„å†…å®¹ï¼š æˆ‘ä»¬è¿™é‡Œå› ä¸ºåŠ äº†å‚æ•°-eï¼Œä¸ä¼šæœ‰æ–°çš„åŸºå› å’Œè½¬å½•æœ¬ï¼Œå¯ä»¥çœ‹åˆ°æ¯ä¸ªreadæ¯”å¯¹ä¸Šçš„åŸºå› çš„ä¿¡æ¯ã€‚ï¼ˆä¸åŠ å‚æ•°-eä¼šç»„è£…æ–°åŸºå› å’Œè½¬å½•æœ¬ï¼Œé»˜è®¤é‡‡ç”¨STRGåŠ æ•°å­—ç¼–å·è¿›è¡ŒåŒºåˆ†ï¼‰ã€‚æ¯è¡Œæ•°æ®ä¼šç»™å‡ºcoverageï¼ŒFPKMå’ŒTPMä¸‰ä¸ªä¿¡æ¯ï¼Œåä¸¤è€…éƒ½å¯ä»¥ç”¨æ¥å®šé‡ã€‚FPKMå’ŒTPMéƒ½æ˜¯å¯¹read countsæ•°ç›®è¿›è¡Œçš„æ ‡å‡†åŒ–ï¼Œå¦‚æœæ˜¯å•ç«¯æµ‹åºæ•°æ®å¯ä»¥ç”¨RPKMè¿›è¡Œæ ‡å‡†åŒ–ï¼Œä¸è¿›è¡Œæ•°æ®æ ‡å‡†åŒ–çš„æ¯”è¾ƒæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ 2 åˆå¹¶è½¬å½•æœ¬(é‡æ„è½¬å½•æœ¬æ‰éœ€è¦)è¿™ä¸€æ­¥è¦æ³¨æ„ä¸‹ï¼Œå¦‚æœéœ€è¦é‡æ„è½¬å½•æœ¬æ‰éœ€è¦åˆå¹¶æ‰€æœ‰çš„è½¬å½•æœ¬çš„ç»„è£…ç»“æœï¼Œå¾—åˆ°ä¸€ä¸ªéå†—ä½™çš„è½¬å½•æœ¬åˆé›†ï¼Œä¹Ÿå°±æ˜¯è·å¾—è·¨å¤šä¸ªRNA-seqæ ·å“çš„å…¨å±€çš„è½¬å½•æœ¬ã€‚è¿™é‡Œéœ€è¦åˆ†ä¸¤æ­¥ï¼š $ ls *.gtf &gt; mergelist.txt # å°†æ‰€æœ‰ç»„è£…çš„è½¬å½•æœ¬æ–‡ä»¶ååˆå¹¶åˆ°ä¸€ä¸ªæ–‡ä»¶ $ stringtie --merge -p 4 -G /media/sf_/data/ref/Arabidopis_thaliana.gtf -o merge.gtf ./mergelist.txt #è¿™ä¸€æ­¥æ˜¯ç”¨--mergeæŒ‡ä»¤å°†æ‰€æœ‰è½¬å½•æœ¬åˆå¹¶è¾“å‡ºåˆ°merge.gtfæ–‡ä»¶ä¸­ æˆ‘ä»¬æœ€åå¾—åˆ°çš„merge.gtfå°±æ˜¯å…¨å±€çš„è½¬å½•æœ¬ã€‚è¿™é‡Œåªæ˜¯è®°å½•ä¸€ä¸‹è¿™æ­¥æ“ä½œï¼Œæˆ‘ä»¬åªå…³æ³¨å‚è€ƒåŸºå› ç»„çš„æ³¨é‡Šç»“æœå°±ä¸éœ€è¦mergeã€‚ 3 è·å¾—å®šé‡è¡¨è¾¾çŸ©é˜µDESeq2è¦æ±‚è¾“å…¥çš„å®šé‡ç»“æœä¸ºraw countå½¢å¼ï¼Œraw countæ˜¯æ ¹æ®mappingåˆ°åŸºå› æˆ–è½¬å½•æœ¬çš„readsæ•°è®¡ç®—å¾—åˆ°ï¼Œè€Œstringtieåªæä¾›äº†è½¬å½•æœ¬æ°´å¹³çš„è¡¨è¾¾é‡ï¼Œå®šé‡æ–¹å¼åŒ…æ‹¬TPMå’ŒFPKMå€¼ä¸¤ç§ã€‚ä¸ºäº†è¿›è¡Œraw countå®šé‡ï¼Œstringtieå®˜æ–¹æä¾›äº†prepDE.pyè„šæœ¬ï¼ˆä¸¤ä¸ªç‰ˆæœ¬ï¼Œæˆ‘é€‰æ‹©çš„python 3ç‰ˆæœ¬ï¼Œåœ¨æˆ‘baseç¯å¢ƒä¸‹ä¸ä¼šå†²çªï¼‰ï¼Œå¯ä»¥è®¡ç®—å‡ºraw countçš„è¡¨è¾¾é‡ã€‚ ä¸‹è½½è¿™ä¸ªpythonè„šæœ¬ï¼Œå¦‚æœä½ ç”¨çš„æ˜¯windowsæµè§ˆå™¨ï¼Œåœ¨å®˜ç½‘æ‰¾åˆ°è„šæœ¬ç›´æ¥å³é”®å¤åˆ¶é“¾æ¥ï¼Œç”¨wgetç›´æ¥ä¸‹åˆ°linuxç³»ç»Ÿé‡Œï¼Œåƒä¸‡ä¸è¦åœ¨windowsä¸Šç›´æ¥å¤åˆ¶ç²˜è´´ä»£ç è¿‡å»ã€‚å› ä¸ºwindowsçš„æ¢è¡Œç¬¦å’Œlinuxçš„ä¸ä¸€æ ·ï¼Œä¸¤ä¸ªç³»ç»Ÿé—´ç›´æ¥ç²˜è´´ä»£ç ä¼šå‡ºç°é”™è¡Œå’Œè«åå…¶å¦™çš„ç¼©è¿›å¯¼è‡´ç¨‹åºæŠ¥é”™ï¼ˆå¯ä»¥ç”¨cat -Açœ‹ä¸¤ä¸ªç³»ç»Ÿæ¢è¡Œç¬¦çš„åŒºåˆ«ï¼Œè¡€çš„æ•™è®­ï¼Œæ’æŸ¥äº†è€åŠå¤©æ‰å‘ç°ï¼‰æ¨èç”¨prepDE.py3ï¼Œä¸ç”¨å†åˆ‡python 2 çš„ç¯å¢ƒäº†ã€‚ å®˜æ–¹ç»™å‡ºçš„prepDE.pyè„šæœ¬æœ‰ä¸¤ç§è¿è¡Œæ–¹å¼ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œä¸€ç§æ˜¯å»ºç«‹Ballgownèƒ½è¯†åˆ«çš„ç›®å½•ç»“æ„ï¼Œä¸€ç§æ˜¯å»ºç«‹sample_lstæ–‡ä»¶å¹¶æŒ‡å®šæ‰€æœ‰æ ·å“æ•°æ®çš„è·¯å¾„ã€‚ä¸¤ç§æ–¹æ³•éƒ½å¯è¡Œï¼ŒBallgownç°åœ¨ç”¨çš„æ¯”è¾ƒå°‘ï¼Œæ¯”è¾ƒä¸»æµçš„è¿˜æ˜¯Stringtie+DESeq2çš„åˆ†ææ–¹æ³•ã€‚æ¼”ç¤ºä¸€ä¸‹å¦‚ä½•åˆ›å»ºsample_lstå’Œè§£é‡Šä¸€ä¸‹è¿™ä¸ªæ–‡ä»¶è¦æ±‚çš„æ ¼å¼ã€‚ 3.1 sample_lstæ–‡ä»¶å‡†å¤‡ç®€å•æ¥è¯´ï¼Œsample_lst.txtè¦æ±‚ç¬¬ä¸€åˆ—ä¸ºæ ·å“ç¼–å·ï¼Œç¬¬äºŒåˆ—ä¸ºå¯¹åº”ç¼–å·çš„æ ·å“gtfæ–‡ä»¶æ‰€åœ¨è·¯å¾„ï¼Œä¸­é—´ç”¨åˆ¶è¡¨ç¬¦tabéš”å¼€ï¼Œå¦‚ä¸‹å›¾ï¼ˆå‘½åä¸ä¸€å®šè¦å®Œå…¨ä¸€æ ·ï¼Œæ³¨æ„æ ¼å¼ï¼Œåé¢è¦å¯¼å…¥prepDEè„šæœ¬ï¼Œèƒ½æ‰¾åˆ°å°±è¡Œï¼‰ï¼š è¿™ä¸ªæ–‡ä»¶å‡†å¤‡å·¥ä½œæ¯”è¾ƒç®€å•ï¼Œä¸å†èµ˜è¿° 3.2 è¿è¡ŒprepDE.py3å°†prepDE.py3è„šæœ¬æ”¾åœ¨ä¸Šé¢gtfæ–‡ä»¶çš„ç›®å½•ä¸‹ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š $ python prepDE.py3 -i sample_lst.txt -g gene_count_matrix.csv -t transcript_count_matrix.csv è§£é‡Šä¸€ä¸‹ï¼š å‚æ•°å«ä¹‰-i # è¾“å…¥æ–‡ä»¶ï¼Œå°±æ˜¯å‰é¢åšçš„sample_lst.txt-g # è‡ªå®šä¹‰åŸºå› ç»„è¡¨è¾¾çŸ©é˜µåå­—ï¼Œé»˜è®¤ä¹Ÿæ˜¯gene_count_matrix.csv-t # è‡ªå®šä¹‰è½¬å½•æœ¬è¡¨è¾¾çŸ©é˜µåå­—ï¼Œé»˜è®¤ä¹Ÿæ˜¯transcript_count_matrix.csv å¾—åˆ°çš„è¿™ä¸¤ä¸ªæ–‡ä»¶å°±æ˜¯åŸºå› å’Œè½¬å½•æ°´å¹³çš„raw countè¡¨è¾¾é‡çŸ©é˜µï¼Œæˆ‘ä»¬éƒ½å¯ä»¥ç”¨äºåé¢çš„DESeq2åˆ†æã€‚ 4. åˆ¶ä½œæ ·æœ¬åˆ—è¡¨çŸ©é˜µè¿™é‡Œéœ€è¦å’Œå‰é¢ä¸ºäº†è¿è¡ŒprepDE.pyè„šæœ¬è€Œåˆ¶ä½œçš„sample_lstæ–‡ä»¶åŒºåˆ†å¼€ï¼Œè¦åšä¸‹ä¸€æ­¥DESeq2å·®å¼‚åŸºå› åˆ†æï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªDESeq2èƒ½è¯†åˆ«çš„æ ·æœ¬åˆ—è¡¨çŸ©é˜µï¼ŒåŒ…å«ä¸¤åˆ—ä¿¡æ¯ï¼šä¸€åˆ—æ˜¯æ ·æœ¬åç§°ï¼Œä¸€åˆ—æ˜¯æ ·æœ¬åˆ†ç»„ã€‚æ ·æœ¬åˆ†ç»„ä¿¡æ¯æˆ‘ä»¬å¯ä»¥ç›´æ¥ä»ä¸‹è½½æ ·æœ¬æ•°æ®çš„åœ°æ–¹ï¼ˆEBIå®˜ç½‘ï¼‰å¾—åˆ°ï¼Œåªéœ€è¦è‡ªå·±æ”¹ä¸€ä¸‹æ ¼å¼ã€‚ ä¸‹è½½ä¹‹åå‘ç°ç¬¬ä¸€è¡Œæ ‡é¢˜ç‰¹åˆ«é•¿ï¼Œç¨å¾®å¤„ç†ä¸‹åˆ¶è¡¨ç¬¦æ›¿æ¢æˆæ¢è¡Œç¬¦ï¼Œå°†ç¬¬ä¸€è¡Œæ ‡é¢˜æ‹†åˆ†æˆæ¯ä¸ªå­—æ®µä¸€è¡Œçš„æ ¼å¼ï¼Œæ‰¾ä¸€ä¸‹ä¸åŒå¤©æ•°å¤„ç†çš„åˆ†ç»„ä¿¡æ¯å…³é”®å­—â€œtimeâ€ï¼Œå‘ç°æˆ‘ä»¬è¦çš„åˆ†ç»„ä¿¡æ¯åœ¨ç¬¬36è¡Œï¼ˆä¹Ÿå°±æ˜¯åŸæ¥æ–‡ä»¶çš„ç¬¬36åˆ—ï¼‰ï¼š $ head -n1 E-MTAB-5130.sdrf.txt | tr &#39;\\t&#39; &#39;\\n&#39; | nl | grep &quot;time&quot; åŒæ ·çš„æ–¹æ³•æ‰¾æ ·æœ¬ä¿¡æ¯æ‰€åœ¨åˆ—æ˜¯32åˆ—ï¼š $ head -n1 E-MTAB-5130.sdrf.txt | tr &#39;\\t&#39; &#39;\\n&#39; | nl | grep &quot;ENA&quot; æ‰€ä»¥æˆ‘ä»¬éœ€è¦æå–ç¬¬32åˆ—å’Œç¬¬36åˆ—ï¼Œç”¨cutå‘½ä»¤åˆ‡å‰²å¹¶é‡å®šå‘åˆ°æ–°çš„æ–‡ä»¶sample_list: $ cut -f 32,36 E-MTAB-5130.sdrf.txt &gt; sample_list.csv å‘ç°ç›¸é‚»æ•°æ®æœ‰é‡å¤ï¼Œuniqåˆ é™¤é‡å¤è¡Œï¼Œå†ç”¨sedæ›¿æ¢åˆ¶è¡¨ç¬¦ä¸ºé€—å·ï¼ˆå› ä¸ºcsvæ–‡ä»¶å°±æ˜¯ä»¥é€—å·ä½œä¸ºåˆ†éš”ç¬¦ï¼‰ï¼Œå°†åŸæ¥çš„sample_list.csvè¦†ç›–ï¼Œvimæ‰‹åŠ¨ä¿®æ”¹ä¸€ä¸‹ç¬¬ä¸€è¡Œåå­—ï¼Œå®Œæˆåå°±å¯ä»¥ç”¨äºDESeq2åˆ†æäº†ï¼ $ uniq sample_list.csv &gt; sample_list1.csv # uniqåˆ é™¤é‡å¤è¡Œ $ sed &#39;s/\\t/,/g&#39; sample_list1.csv &gt; sample_list.csv # æ›¿æ¢åˆ¶è¡¨ç¬¦ä¸ºé€—å· æ‰‹åŠ¨ä¿®æ”¹sample_list .csvç¬¬ä¸€è¡Œå†…å®¹ï¼Œä¿®æ”¹ä¹‹åå¦‚ä¸‹å³å¯ æ›´æ–°2022&#x2F;4&#x2F;22ï¼šè¿™é‡Œçš„å¤„ç†ä»…ä»…æ˜¯åšåˆ°ç¬¦åˆDESeq2è¾“å…¥çš„æ ¼å¼ï¼Œåœ¨è¿›è¡Œä¸¤ç»„æ ·æœ¬åŸºå› è¡¨è¾¾å·®å¼‚åˆ†æçš„æ—¶å€™ï¼Œè¿˜éœ€è¦åˆ†åˆ«å»ºç«‹ä¸¤ä¸¤æ¯”å¯¹çš„æ ·æœ¬åˆ—è¡¨çŸ©é˜µå’Œå®šé‡çŸ©é˜µï¼Œä¸ç„¶å·®å¼‚åˆ†ææ²¡æœ‰æ„ä¹‰ï¼Œè¯¦è§DESeq2ç¬”è®°","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"stringtie","slug":"stringtie","permalink":"http://www.shelven.com/tags/stringtie/"},{"name":"prepDE.py3","slug":"prepDE-py3","permalink":"http://www.shelven.com/tags/prepDE-py3/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ4ï¼‰â€”â€”IGVåŸºå› ç»„æµè§ˆå™¨å®‰è£…å’Œè§£è¯»","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ4ï¼‰â€”â€”IGVåŸºå› ç»„æµè§ˆå™¨å®‰è£…å’Œè§£è¯»","date":"2022-04-16T11:32:50.000Z","updated":"2022-12-03T16:36:31.000Z","comments":true,"path":"2022/04/16/b.html","link":"","permalink":"http://www.shelven.com/2022/04/16/b.html","excerpt":"IGVï¼ˆIntegrative Genomics Viewerï¼‰æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„æ¯”å¯¹è½¯ä»¶ï¼Œåœ¨ä½¿ç”¨å‰åªéœ€è¦å°†å‚è€ƒåŸºå› ç»„å’Œbamæ–‡ä»¶åˆ†åˆ«å»ºç«‹ç´¢å¼•ï¼ˆå³å»ºç«‹faiå’Œbaiæ–‡ä»¶ï¼‰å¹¶è½½å…¥ï¼Œå°±å¯ä»¥å¯¹è½¬å½•ç»„æµ‹åºæ•°æ®è¿›è¡Œå¯è§†åŒ–æµè§ˆã€‚å¯¹æ¯”samtools tviewåŠŸèƒ½ï¼Œè¿™ä¸ªè½¯ä»¶æœ‰äº¤äº’å¼æ“ä½œç•Œé¢ï¼Œå¯¹èŒæ–°éå¸¸å‹å¥½ã€‚","text":"IGVï¼ˆIntegrative Genomics Viewerï¼‰æ˜¯ä¸€ä¸ªéå¸¸æ–¹ä¾¿çš„æ¯”å¯¹è½¯ä»¶ï¼Œåœ¨ä½¿ç”¨å‰åªéœ€è¦å°†å‚è€ƒåŸºå› ç»„å’Œbamæ–‡ä»¶åˆ†åˆ«å»ºç«‹ç´¢å¼•ï¼ˆå³å»ºç«‹faiå’Œbaiæ–‡ä»¶ï¼‰å¹¶è½½å…¥ï¼Œå°±å¯ä»¥å¯¹è½¬å½•ç»„æµ‹åºæ•°æ®è¿›è¡Œå¯è§†åŒ–æµè§ˆã€‚å¯¹æ¯”samtools tviewåŠŸèƒ½ï¼Œè¿™ä¸ªè½¯ä»¶æœ‰äº¤äº’å¼æ“ä½œç•Œé¢ï¼Œå¯¹èŒæ–°éå¸¸å‹å¥½ã€‚ 1. IGVè½¯ä»¶ä¸‹è½½ç›´æ¥ä¸Šç™¾åº¦æœå°±èƒ½æ‰¾åˆ°IGVå®˜ç½‘ï¼Œé€‰æ‹©linuxç‰ˆæœ¬æˆ–è€…windowsç‰ˆæœ¬éƒ½è¡Œï¼Œè¿™é‡Œç”¨linuxç‰ˆæœ¬ä¸ºä¾‹ï¼ŒIGVåªæ”¯æŒJAVA11ç‰ˆæœ¬ï¼Œä¸ç”¨æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ï¼Œä¸‹è½½çš„å®‰è£…åŒ…é‡Œç›´æ¥æœ‰JAVA11ï¼Œè§£å‹å°±å¯ä»¥ç”¨ï¼Œå°±æ˜¯å›½å¤–ç½‘ç«™ä¸‹è½½æœ‰ç‚¹æ…¢ï¼ˆç§‘å­¦ä¸Šç½‘ï¼‰ã€‚ ç›´æ¥åœ¨è™šæ‹Ÿæœºé‡Œè§£å‹æ‰“å¼€ï¼Œè¿è¡Œigv.shï¼Œä¼šè‡ªåŠ¨å‡†å¤‡å¥½JAVA11çš„è¿è¡Œç¯å¢ƒï¼ŒæˆåŠŸå¼¹å‡ºäº¤äº’å¼ç•Œé¢ï¼ˆç»ˆäºå‘Šåˆ«äº†é»‘æ¼†æ¼†çš„å‘½ä»¤è¡Œ ï¼‰ã€‚ 2. å¯¼å…¥æ–‡ä»¶Genomesèœå•æ ä¸Šä¼ å»ºç«‹ç´¢å¼•çš„å‚è€ƒåŸºå› ç»„.faå’Œ.faiæ–‡ä»¶ï¼š Fileèœå•æ ä¸Šä¼ æ’åºå¹¶å»ºç«‹ç´¢å¼•çš„.bamå’Œ.baiæ–‡ä»¶ï¼š å¦‚æœæœ‰å‚è€ƒåŸºå› ç»„æ³¨é‡Šæ–‡ä»¶ï¼ŒåŒæ ·å¯ä»¥å¯¼å…¥è¿›å»ï¼ŒåŒæ ·å¯¼å…¥å‰éœ€è¦sortæ’åºå’Œå»ºç«‹indexï¼Œå¯ä»¥ç”¨èœå•æ é‡Œçš„igvtoolsç›´æ¥sortå’Œindexï¼š 3. ç•Œé¢è§£è¯»æˆ‘å¯¼å…¥äº†5ç»„bamæ•°æ®ï¼Œæ‰€æœ‰æ–‡ä»¶å¯¼å…¥åå¯ä»¥çœ‹åˆ°å¦‚ä¸‹ç•Œé¢ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹å„ä¸ªåŒºåŸŸå’ŒåŠŸèƒ½ï¼š ä¸»é¡µé¢è·å¾—çš„ä¿¡æ¯æœ‰é™ï¼Œæˆ‘ä»¬é€‰å–ç¬¬3æ¡æŸ“è‰²ä½“ä¸ºä¾‹ï¼Œå°†å…¶æ”¾å¤§ï¼š ä¸­é—´çš„ç•Œé¢å¯ä»¥é€šè¿‡å·¦å³æ‹–åŠ¨é¼ æ ‡ï¼Œæˆ–è€…æŒ‰å·¦å³æ–¹å‘é”®æ¥æµè§ˆæŸ“è‰²ä½“ä¸Šçš„æ¯”å¯¹æƒ…å†µã€‚æˆ‘ä»¬åœ¨æœç´¢æ¡†ä¸­ç›´æ¥æœåŸºå› åå­—è¿›è¡ŒæŸ“è‰²ä½“å®šä½ï¼Œæ¯”å¦‚CIPKå®¶æ—ä¸­çš„CIPK7åŸºå› ï¼Œå›è½¦ååŒå‡»æœ€åä¸€æ åŸºå› æ³¨é‡Šæ–‡ä»¶ä¸­çš„åŸºå› åç§°CIPK7ï¼Œå¯ä»¥å¾—åˆ°è¯¦ç»†çš„CIPK7åŸºå› ä¿¡æ¯ï¼ˆè¿™é‡Œæ³¨æ„ä¸‹ï¼Œå¦‚æœåŒå‡»å¼¹å‡ºæ¥å¤šä¸ªå¯ä¾›é€‰æ‹©çš„ç‰‡æ®µçš„è¯ï¼Œä»£è¡¨è¿™ä¸ªåŸºå› å­˜åœ¨å¯å˜å‰ªåˆ‡ï¼‰: åœ¨åŸºå› æ³¨é‡ŠåŒºå³é”®ï¼Œé€‰æ‹©expandedï¼Œå¯ä»¥å°†CIPK7åŸºå› çš„æ‰€æœ‰è½¬å½•æœ¬æ˜¾ç¤ºå‡ºæ¥ã€‚ æ”¾å¤§åˆ°ä¸€å®šç¨‹åº¦åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°åŸºå› æ³¨é‡ŠåŒºä¸Šæ–¹å‡ºç°äº†æ ¸è‹·é…¸åºåˆ—å’Œæ°¨åŸºé…¸åºåˆ—ï¼Œæˆ‘ä»¬å¯ä»¥ç‚¹å‡»sequenceæ—è¾¹çš„ç®­å¤´ï¼Œåˆ‡æ¢åˆ°å¦ä¸€æ¡é“¾çš„åºåˆ—ã€‚ ç‚¹å‡»æ ¸è‹·é…¸ï¼Œä¼šå‡ºç°ä¸‰è¡Œï¼Œåˆ†åˆ«è¡¨ç¤ºä¸åŒèµ·å§‹ä½ç‚¹çš„æ ¸è‹·é…¸ç¿»è¯‘ç»“æœï¼Œç»¿è‰²ä¸ºèµ·å§‹å¯†ç å­ï¼Œçº¢è‰²çš„æ˜Ÿå·è¡¨ç¤ºç»ˆæ­¢å¯†ç å­ã€‚ å†æ¥çœ‹çœ‹æ”¾å¤§åçš„tracksåŒºåŸŸï¼Œbamæ–‡ä»¶åœ¨è½½å…¥åä¼šé»˜è®¤ç”Ÿæˆä¸¤ä¸ªtracksï¼Œä¸€ä¸ªæ˜¾ç¤ºæµ‹åºæ·±åº¦ï¼ˆCoverage trackï¼Œå¯ä»¥å¯¹æ¯”ä¸‹samtools depthï¼‰ï¼Œä¸€ä¸ªæ˜¾ç¤ºæ¯”å¯¹æƒ…å†µï¼ˆAlignment trackï¼‰ï¼Œæˆ‘ä»¬æ”¾å¤§å…¶ä¸­ä¸€ä¸ªæ ·æœ¬çš„æ•°æ®ä¿¡æ¯ã€‚ Coverage trackåŒºåŸŸç°è‰²ä»£è¡¨è´¨é‡å¥½ï¼Œå¦‚æœreadsä¸­æŸæ ¸è‹·é…¸ä¸å‚è€ƒåºåˆ—è¶…è¿‡20%ä¸ä¸€è‡´çš„æ—¶å€™ï¼ŒIGVä¼šæ ¹æ®å››ä¸ªç¢±åŸºçš„è®¡æ•°å¯¹coverageçš„æ¡å½¢å›¾è¿›è¡Œç€è‰²ã€‚è¿™é‡Œå¯ä»¥çœ‹åˆ°è¯¥ä½ç‚¹å¤„æœ‰20ä¸ªreadsè¦†ç›–åˆ°ï¼Œ8æ¡readsæµ‹çš„æ˜¯Cæ ¸è‹·é…¸ï¼Œ12æ¡readsæµ‹çš„æ˜¯Tæ ¸è‹·é…¸ã€‚å¦‚æœæŸä¸ªä½ç½®coverageæ¡å½¢å›¾åªæœ‰ä¸€ç§é¢œè‰²ï¼Œå³è¯¥ä½ç‚¹æµ‹çš„æ ¸è‹·é…¸å’Œå‚è€ƒåºåˆ—å®Œå…¨ä¸ä¸€æ ·ï¼Œé‚£è¯´æ˜è¯¥ä½ç‚¹æ˜¯SNPä½ç‚¹ã€‚ Alignment tracksæŸ±å½¢å›¾æ˜¯å’Œbamæ–‡ä»¶ä¸­çš„æ•°æ®ä¸€ä¸€å¯¹åº”çš„ï¼Œä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘åœ¨IGVè½¯ä»¶çš„ERR1698206.bamå¯ä»¥çœ‹åˆ°åœ¨ç¬¬3æ¡æŸ“è‰²ä½“ä½ç½®8173028æœ‰3æ¡readsã€‚è™šæ‹Ÿæœºä¸­æ‰¾åˆ°è¿™ä¸ªbamæ–‡ä»¶ï¼Œç›´æ¥samtools viewæŸ¥çœ‹å¹¶grepè¿™ä¸ªä½ç½®ï¼Œå¯ä»¥æ‰¾åˆ°3æ¡å®šä½çš„readsï¼ˆè¿˜æœ‰ä¸‰æ¡æ˜¯é…å¯¹çš„å¦ä¸€æ¡é“¾ï¼‰ã€‚ å¦‚æœä¸€æ¡readsä¸­é—´æœ‰ç¼ºå¤±ï¼ŒIGVä¼šç”¨é»‘è‰²æ¨ªæ è¡¨ç¤ºï¼Œä¸­é—´æ•°å­—è¡¨ç¤ºç¼ºå¤±å‡ ä¸ªæ ¸è‹·é…¸ã€‚ IGVè¿˜ç”¨ä¸åŒé¢œè‰²æ ‡è®°å¼‚å¸¸çš„æ’å…¥ç‰‡æ®µå¤§å°çš„readsï¼Œè¿™é‡Œåšçš„æ˜¯RNA-seqæ•°æ®æ¯”å¯¹ï¼Œä¸ç”¨çœ‹readsé¢œè‰²ï¼Œæœ‰äº›readsè¿˜åœ¨è´¨æ§çš„æ—¶å€™è¢«è£çŸ­äº†ï¼Œå˜æˆè“è‰²å¾ˆæ­£å¸¸ï¼ˆå› ä¸ºæ¯”é¢„æœŸçŸ­ï¼Œä¸ªäººç†è§£æ˜¯è¿™æ ·ï¼Œæœ‰å¾…è€ƒè¯ï¼Ÿï¼‰ã€‚ä»¥ä¸‹æ˜¯å®˜ç½‘çš„é»˜è®¤ç€è‰²æ–¹æ¡ˆï¼š","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"IGV","slug":"IGV","permalink":"http://www.shelven.com/tags/IGV/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ3ï¼‰â€”â€”samtoolsç”¨æ³•å°ç»“","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ3ï¼‰â€”â€”samtoolsç”¨æ³•å°ç»“","date":"2022-04-16T10:41:24.000Z","updated":"2022-12-03T16:37:26.000Z","comments":true,"path":"2022/04/16/a.html","link":"","permalink":"http://www.shelven.com/2022/04/16/a.html","excerpt":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•samtoolsçš„ç”¨æ³•ã€‚","text":"æœ¬ç¯‡ç¬”è®°ä¸»è¦è®°å½•samtoolsçš„ç”¨æ³•ã€‚ 1. samæ–‡ä»¶è½¬åŒ–bambamæ–‡ä»¶æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå ç”¨ç£ç›˜ç©ºé—´å°ï¼Œè¿ç®—é€Ÿåº¦å¿«ï¼Œsamtoolsæ“ä½œæ˜¯é’ˆå¯¹bamæ–‡ä»¶çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦è¿›è¡Œæ•°æ®è½¬åŒ–ã€‚samtools sortæŒ‡ä»¤å¯ä»¥å°†bamæ–‡ä»¶è¿›è¡Œæ’åºï¼Œè¿™ä¸ªæŒ‡ä»¤åŒæ—¶ä¹Ÿå¯ä»¥å°†samæ–‡ä»¶è½¬åŒ–æˆbamæ–‡ä»¶ï¼š 12345#!/bin/bashls *.sam | while read iddo samtools sort -l 0 -@ 5 -o $(basename $id &quot;.sam&quot;).bam $id # æŒ‡å®šè¾“å‡ºæ–‡ä»¶ï¼Œæ”¹åç¼€.bamdone è¿è¡Œè„šæœ¬ï¼Œå°†å½“å‰ç›®å½•çš„samæ–‡ä»¶å…¨è½¬æ¢æˆbamæ–‡ä»¶å¹¶æ’åºï¼ˆè¿™é‡Œçš„æ’åºä¸æ˜¯æŒ‰åç§°ï¼Œç”¨HTseqè¿˜è¦å†æŒ‰ç…§readåç§°æ’åºï¼Œä½¿ç”¨å‚æ•°-nï¼‰ã€‚ samtools sortå‚æ•°samtools sort # å¯¹bamæ–‡ä»¶è¿›è¡Œæ’åºï¼ˆsamæ–‡ä»¶æ’åºä¸ä¼šå˜ï¼‰-l # è®¾ç½®è¾“å‡ºæ–‡ä»¶å‹ç¼©ç­‰çº§ï¼Œ0-9ï¼Œ0æ˜¯ä¸å‹ç¼©,9æ˜¯æœ€é«˜ç­‰çº§å‹ç¼©-@ # è®¾ç½®çº¿ç¨‹æ•°-o # è®¾ç½®æ’åºåè¾“å‡ºçš„æ–‡ä»¶åæœ€åæ¥è¾“å…¥çš„bamæˆ–è€…samæ ¼å¼æ–‡ä»¶ 2. æ„å»ºç´¢å¼•æ–‡ä»¶2.1 æ„å»ºbamæ–‡ä»¶ç´¢å¼•åœ¨bamæ–‡ä»¶ç›®å½•ä¸‹ï¼Œæ’åºåçš„bamæ–‡ä»¶å¯ä»¥å»ºç«‹ç´¢å¼•ï¼š $ ls *.bam | xargs -i samtools index &#123;&#125; æ³¨æ„ä¸‹xargs -içš„ç”¨æ³•ï¼Œå’Œç®¡é“ä¸ä¸€æ ·ï¼Œæ˜¯ä¼ é€’å‚æ•°ç»™åä¸€ä¸ªå‘½ä»¤çš„èŠ±æ‹¬å·ä¸­ï¼Œåä¸€ä¸ªå‘½ä»¤ä¸­ä¸å­˜åœ¨æ­§ä¹‰çš„æ—¶å€™å¯çœç•¥å‚æ•°-iå’ŒèŠ±æ‹¬å·ã€‚ å¦‚å›¾ç”Ÿæˆçš„baiæ–‡ä»¶å°±æ˜¯ç´¢å¼•æ–‡ä»¶ã€‚å…¶å®åˆ°äº†è¿™ä¸€æ­¥ï¼Œå‰é¢çš„samæ–‡ä»¶å°±å¯ä»¥åˆ é™¤ï¼ˆèŠ‚çœç”µè„‘ç©ºé—´ï¼‰ï¼Œåªç•™ä¸‹bamæ–‡ä»¶å°±è¡Œï¼Œbamæ–‡ä»¶æ— æ³•ç›´æ¥æŸ¥çœ‹ï¼Œå¯ä»¥é€šè¿‡samtools viewå‘½ä»¤æŸ¥çœ‹bamæ–‡ä»¶ã€‚ 2.2 æ„å»ºå‚è€ƒåŸºå› ç»„faæ–‡ä»¶ç´¢å¼•åœ¨å‚è€ƒåŸºå› ç»„æ–‡ä»¶ç›®å½•ä¸‹ï¼Œå¯¹å‚è€ƒåŸºå› ç»„çš„faæ–‡ä»¶å»ºç«‹ç´¢å¼•ï¼š $ samtools faidx Arabidopsis_thaliana.dna.genome.fa å‚è€ƒåŸºå› ç»„æ–‡ä»¶åæ³¨æ„æ”¹æˆè‡ªå·±çš„ï¼Œç”Ÿæˆçš„ç´¢å¼•æ–‡ä»¶æ˜¯.faiç»“å°¾çš„ 3. bamæ–‡ä»¶qcè´¨æ§samtoolsè½¬åŒ–ç”Ÿæˆçš„bamæ–‡ä»¶éœ€è¦è¿›è¡Œè´¨æ§ï¼Œçœ‹çœ‹æ¯”å¯¹æƒ…å†µå¦‚ä½•ã€‚åœ¨bamæ–‡ä»¶ç›®å½•ä¸‹ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªsamtoolsè‡ªå¸¦qcè´¨æ§æŒ‡ä»¤samtools flagstatè¿è¡Œè„šæœ¬ï¼š 12345#!/bin/bashls *.bam | while read iddo samtools flagstat -@ 4 $id &gt; $(basename $id &quot;.bam&quot;).flagstat # è‡ªå®šä¹‰è¾“å‡ºæ–‡ä»¶done $ samtools flagstat bamæ–‡ä»¶ &gt; è¾“å‡ºæ–‡ä»¶ # è¿™ç§æ ¼å¼ï¼Œå…¶ä»–å‚æ•°éƒ½ä¸€æ · è¿è¡Œè„šæœ¬æ–‡ä»¶å¯ä»¥è·å¾—16ä¸ª.flagstatè´¨æ§æ–‡ä»¶ï¼Œå’Œfastqcä¸€æ ·ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åšå®Œåç”¨multiqcå‘½ä»¤é›†åˆæˆä¸€ä¸ªhtmlæ ¼å¼çš„æ€»çš„qcæŠ¥å‘Šç½‘é¡µã€‚å’Œfastqcä¸åŒä¹‹å¤„æ˜¯ï¼Œfastqcæ˜¯åšä¸‹æœºæ•°æ®è´¨æ§ï¼Œsamtoolsæ˜¯åšæ¯”å¯¹å‚è€ƒåŸºå› ç»„çš„è´¨æ§ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¯ä»¥æ¯”è¾ƒç›´è§‚åœ°çœ‹å‡ºå¤§éƒ¨åˆ†readséƒ½æ˜¯mapä¸Šçš„ã€‚ ç”Ÿæˆçš„æ¯ä¸€ä¸ªflagstatæ–‡ä»¶æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥ç‚¹å¼€ã€‚ æ¯ä¸€è¡Œç»Ÿè®¡æ•°æ®éƒ½æ˜¯ä»¥é€šè¿‡QCçš„readsæ•°é‡å’Œæœªé€šè¿‡QCçš„readsæ•°é‡ç»„æˆï¼Œä»¥æˆ‘ç‚¹å¼€çš„è¿™ä¸ªæ–‡ä»¶ä¸ºä¾‹ï¼Œä¸»è¦ä¿¡æ¯æœ‰ä»¥ä¸‹å‡ ä¸ªï¼š 13992629ä¸ªreadséƒ½æ˜¯åˆæ ¼çš„12328290ä¸ªreadsåªæ¯”å¯¹åˆ°å‚è€ƒåŸºå› ç»„ä¸€ä¸ªä½ç½®ä¸Š13988737ä¸ªreadsæ¯”å¯¹åˆ°å‚è€ƒåŸºå› ç»„ï¼ˆ99.97%ï¼‰12332182ä¸ªreadsæ˜¯æˆå¯¹çš„12201338ä¸ªreadså¯ä»¥æ­£ç¡®é…å¯¹ï¼ˆ98.94%ï¼‰2846æ¡readsæˆå¯¹ä½†åªæœ‰ä¸€æ¡èƒ½æ¯”å¯¹ä¸Šå‚è€ƒåŸºå› ç»„12398ä¸ªé…å¯¹çš„readså¯ä»¥æ¯”å¯¹åˆ°åˆ«çš„æŸ“è‰²ä½“ä¸Š å¯ä»¥è‡ªå·±å°†æ‰€æœ‰çš„flagstatè¿è¡Œç»“æŸåçš„æ–‡ä»¶æ”¾åœ¨ä¸€ä¸ªç›®å½•ä¸‹ï¼Œè¿ç”¨pasteå‘½ä»¤å…¨éƒ¨æŒ‰åˆ—ç²˜è´´åœ¨ä¸€èµ·ï¼Œç”¨cutæˆ–è€…awkæå–æ‰€éœ€çš„åˆ—æ•°æ®è‡ªå·±åšæ¯”å¯¹æƒ…å†µè¡¨æ ¼ï¼Œè¿™é‡Œä¸å†èµ˜è¿°ã€‚ 4. samtoolså…¶ä»–æŒ‡ä»¤ç®€å•ä»‹ç»ä¸€ä¸‹ï¼š $ samtools view ERR1698194.bam #æŸ¥çœ‹bamæ–‡ä»¶ï¼ˆä¸èƒ½ç›´æ¥catæŸ¥çœ‹äºŒè¿›åˆ¶æ–‡ä»¶ï¼‰ $ samtools tview ERR1698194.bam #ç±»ä¼¼äºIGVè¿™ç§åŸºå› ç»„æµè§ˆå™¨ï¼Œä½†æ˜¯éäº¤äº’å¼ç•Œé¢ï¼ˆä¸‹å›¾ï¼‰ä¸ç›´è§‚ï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯ç”¨IGVæŸ¥çœ‹åŸºå› ç»„ å…¶ä»–è¿˜æœ‰samtools mergeï¼ˆåˆå¹¶æ‰€æœ‰bamæ–‡ä»¶åˆ°ä¸€ä¸ªæ–‡ä»¶ï¼‰ï¼Œsamtools depthï¼ˆå¾—åˆ°æ¯ä¸ªç¢±åŸºä½ç‚¹æˆ–è€…åŒºåŸŸçš„æµ‹åºæ·±åº¦,å¹¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼‰ç­‰ç­‰ï¼Œä¸æ˜¯ç‰¹åˆ«å¸¸ç”¨ï¼Œè¿™é‡Œå°±ä¸ä»‹ç»äº†ã€‚ åœ¨æ­¥éª¤2ä¸­æ„å»ºçš„ç´¢å¼•æ–‡ä»¶å¯ä»¥å¯¼å…¥IGVä¸­ï¼Œå¯¹è½¬å½•ç»„æ¯ä¸ªread mappingæƒ…å†µè¿›è¡Œå¯è§†åŒ–æµè§ˆï¼Œä¸‹ä¸ªç¬”è®°å°†ä»‹ç»IGVçš„ç”¨æ³•ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"samtools","slug":"samtools","permalink":"http://www.shelven.com/tags/samtools/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ2ï¼‰â€”â€”ä½¿ç”¨Hisat2æ¯”å¯¹å‚è€ƒåŸºå› ç»„","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ2ï¼‰â€”â€”ä½¿ç”¨Hisat2æ¯”å¯¹å‚è€ƒåŸºå› ç»„","date":"2022-04-15T08:53:41.000Z","updated":"2022-12-03T16:38:55.000Z","comments":true,"path":"2022/04/15/a.html","link":"","permalink":"http://www.shelven.com/2022/04/15/a.html","excerpt":"æœ¬ç‰‡ç¬”è®°ä¸»è¦è®°å½•Hisat2çš„ç”¨æ³•ï¼Œä»¥åŠæ¯”è¾ƒå››ä¸ªå¸¸ç”¨çš„æ¯”å¯¹å‚è€ƒåŸºå› ç»„çš„è½¯ä»¶ã€‚","text":"æœ¬ç‰‡ç¬”è®°ä¸»è¦è®°å½•Hisat2çš„ç”¨æ³•ï¼Œä»¥åŠæ¯”è¾ƒå››ä¸ªå¸¸ç”¨çš„æ¯”å¯¹å‚è€ƒåŸºå› ç»„çš„è½¯ä»¶ã€‚ 1. å»ºç«‹å‚è€ƒåŸºå› ç»„ç´¢å¼•åœ¨è¿›è¡Œclean dataä¸å‚è€ƒåŸºå› ç»„æ¯”å¯¹ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆå»ºç«‹å‚è€ƒåŸºå› ç»„ç´¢å¼•ã€‚è¿›å…¥ä¸‹è½½å¥½å‚è€ƒåŸºå› ç»„çš„æ–‡ä»¶ç›®å½•ä¸‹ï¼Œè¿è¡Œå‘½ä»¤ï¼š $ hisat2-build Arabidopsis_thaliana.dna.genome.fa genome -p # ä»¥å‡ ä¸ªçº¿ç¨‹è¿è¡Œï¼Œä¸ç”µè„‘æ ¸æ•°æˆ–è€…åˆ†é…è™šæ‹Ÿæœºçš„æ ¸æ•°æœ‰å…³genome # å‘½åçš„ç´¢å¼•æ–‡ä»¶åï¼Œå¯ä»¥æ”¹æˆè‡ªå·±èƒ½æ‰¾åˆ°çš„ å°±å¯ä»¥åœ¨å½“å‰ç›®å½•å»ºç«‹å‚è€ƒåŸºå› ç»„ç´¢å¼•æ–‡ä»¶ï¼Œhisat2å›ºå®šä¼šç”Ÿæˆ8ä¸ªä»¥.ht2åšåç¼€åçš„ç´¢å¼•æ–‡ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š éœ€è¦æ³¨æ„çš„ä¸€ç‚¹ï¼Œæ¯”å¯¹è½¯ä»¶é™¤äº†hiasat2ä»¥å¤–ï¼Œè¿˜æœ‰subjunkã€bwaã€bowtie2ç­‰ç­‰ï¼Œå„ä¸ªæ¯”å¯¹è½¯ä»¶ç”Ÿæˆçš„ç´¢å¼•æ–‡ä»¶æ˜¯ä¸åŒçš„ï¼Œä¸èƒ½ç›¸äº’æ··ç”¨ï¼Œå‘½åçš„æ—¶å€™æ³¨æ„åŒºåˆ†å„ç§æ¯”å¯¹å·¥å…·ã€‚ 2. clean dataä¸å‚è€ƒåŸºå› ç»„æ¯”å¯¹æ¯”å¯¹çš„æ„æ€æ˜¯å°†æ¯ä¸€ä¸ªreadä¸å‚è€ƒåŸºå› ç»„åºåˆ—è¿›è¡Œå¯¹æ¯”ï¼Œç›®çš„æ˜¯å¾—åˆ°æ¯ä¸€ä¸ªreadåœ¨å‚è€ƒåŸºå› ç»„ä¸Šçš„ä½ç½®ä¿¡æ¯ï¼Œæœ‰äº†è¿™ä¸ªåŸºç¡€çš„ä½ç½®ä¿¡æ¯æ‰å¯ä»¥è¿›è¡Œåç»­åŸºå› æˆ–è€…è½¬å½•æœ¬çš„å®šé‡ï¼Œæœ€ç»ˆç”±å®šé‡ç»“æœåšå·®å¼‚è¡¨è¾¾çŸ©é˜µï¼Œåˆ†æä¸Šè°ƒæˆ–è€…ä¸‹è°ƒçš„åŸºå› æ•°é‡ã€‚ æ–°å»ºä¸€ä¸ªshellè„šæœ¬è¾“å…¥ä¸‹é¢çš„ä»£ç  12345678#!/bin/bashfor i in `seq 194 209`do hisat2 -p 4 -x /media/sf_example/data/ref/genome \\ #ç´¢å¼•æ–‡ä»¶ç»å¯¹è·¯å¾„ -1 /media/sf_example/data/clean_data/ERR1698&quot;$i&quot;_1.fq.gz \\ -2 /media/sf_example/data/clean_data/ERR1698&quot;$i&quot;_2.fq.gz \\ -S /media/sf_example/data/hisat2_sam/ERR1698&quot;$i&quot;.sam #æ³¨æ„å¤§å†™çš„Sdone å‚æ•°è§£é‡Šï¼š -p # åŒæ ·æ˜¯é…ç½®çº¿ç¨‹æ•°-x # æŒ‡å®šç´¢å¼•æ–‡ä»¶ï¼Œéœ€è¦å®šä¹‰ç´¢å¼•æ–‡ä»¶åç§°ï¼Œä¸èƒ½åŠ åç¼€ï¼Œä¸èƒ½åªå®šä¹‰åˆ°ç´¢å¼•æ–‡ä»¶æ‰€åœ¨ç›®å½•-1 # ç¬¬ä¸€ç«¯æµ‹åºæ•°æ®æ–‡ä»¶-2 # ç¬¬äºŒç«¯æµ‹åºæ•°æ®æ–‡ä»¶-S # æŒ‡å®šè¾“å‡ºç›®å½•å’Œæ–‡ä»¶ï¼Œä¸æŒ‡å®šä¼šåˆ·å±ï¼Œæ³¨æ„æ˜¯å¤§å†™çš„S è¾“å‡ºåˆ°å±å¹•çš„ç»“æœå¦‚ä¸‹ï¼Œæˆ‘ä»¬é€‰å–å…¶ä¸­ä¸€ä¸ªè¿›è¡Œè§£è¯»ï¼š å…±æœ‰6166091å¯¹æµ‹åºæ•°æ®ï¼Œéƒ½æ˜¯åŒä¾§æµ‹åºæ•°æ®ï¼Œå…¶ä¸­ï¼š read1 å’Œ read2 æ²¡æœ‰åˆç†æ¯”å¯¹ä¸Šå‚è€ƒåŸºå› ç»„åºåˆ—çš„æœ‰65259å¯¹ï¼Œå 1.06% read1 å’Œ read2 åªæœ‰ä¸€æ¡æ¯”å¯¹ä¸Šå‚è€ƒåŸºå› ç»„åºåˆ—çš„æœ‰5698903å¯¹ï¼Œå 92.42%ï¼Œè¿™éƒ¨åˆ†readsæ•°éœ€è¦å æµ‹åºreadsçš„ç»å¤§å¤šæ•°æ‰æ­£å¸¸ read1 å’Œ read2 å¯ä»¥åŒæ—¶æ¯”å¯¹åˆ°å¤šä¸ªåœ°æ–¹çš„æœ‰401929å¯¹ï¼Œå 6.52% 65259å¯¹æ²¡æœ‰åˆç†æ¯”å¯¹ä¸Šçš„åºåˆ—ä¸­ï¼Œ55871å¯¹å¯ä»¥ä¸åˆç†åœ°æ¯”å¯¹ä¸Šä¸€æ¬¡ æœ€åä¸€å—æ˜¯å¯¹ä¸¤æ¡é“¾æ‹†å¼€æ¯”å¯¹çš„ç»“æœï¼Œè¿™ä¸ªä¸€èˆ¬ç”¨ä¸åˆ°ï¼Œæœ¬æ¥æµ‹åºçš„ä¸¤æ¡readså°±åº”è¯¥æ¯”å¯¹åˆ°åŒä¸€ä¸ªæŸ“è‰²ä½“åŒä¸€ä¸ªåŸºå› é™„è¿‘ï¼Œæ‹†å¼€æ¯”å¯¹åˆ°ä¸åŒæŸ“è‰²ä½“æ²¡æœ‰æ„ä¹‰ã€‚æˆ‘ä»¬è¦çœ‹çš„æ˜¯æœ€åä¸€å¥è¯ï¼Œæ€»æ¯”å¯¹ç‡ä¸º99.97%ï¼Œé€šå¸¸æ¯”å¯¹ç‡å¤§äº90%è¯´æ˜æ¯”å¯¹æƒ…å†µè¾ƒå¥½ï¼Œä¸å‚è€ƒåŸºå› ç»„åŸºæœ¬å»åˆã€‚ 3. samæ–‡ä»¶è§£è¯»æ¯”å¯¹ç»“æœé™¤äº†æœ‰å±å¹•ä¸Šè¾“å‡ºçš„æ€»ä½“æŠ¥å‘Šå¤–ï¼Œè¿˜æœ‰è®°å½•è¯¦ç»†æ¯”å¯¹ç»“æœçš„samæ–‡ä»¶ã€‚åŒç«¯æµ‹åºçš„æ¯”å¯¹ä¼šå°†ä¸¤ä¸ªæµ‹åºæ–‡ä»¶è¿›è¡Œæ•´åˆå’Œæ¯”è¾ƒï¼Œæœ€ååªç”Ÿæˆä¸€ä¸ªsamæ–‡ä»¶ï¼Œå› æ­¤è¿™ä¸ªsamæ–‡ä»¶éå¸¸å¤§ï¼Œhisat2æ¯”å¯¹ç”Ÿæˆçš„samæ–‡ä»¶å¯ä»¥ç›´æ¥æ‰“å¼€ã€‚æˆ‘ä»¬å¯ä»¥é€‰å–ä¸€éƒ¨åˆ†è¿›è¡Œè§£è¯»ã€‚ @HD VN:1.0 SO:unsorted ï¼ˆæ’åºç±»å‹ï¼‰ VNæ˜¯æ ¼å¼ç‰ˆæœ¬ï¼›SOè¡¨ç¤ºæ¯”å¯¹æ’åºçš„ç±»å‹ï¼Œæœ‰unknownï¼Œunsortedï¼Œquerynameå’Œcoordinateå‡ ç§ã€‚samtoolsè½¯ä»¶åœ¨è¿›è¡Œè¡Œæ’åºåä¸èƒ½è‡ªåŠ¨æ›´æ–°samæ–‡ä»¶çš„SOå€¼ã€‚ @SQ SN:1 LN:30427671 ï¼ˆåºåˆ—IDåŠé•¿åº¦ï¼‰ å‚è€ƒåºåˆ—åï¼Œè¿™äº›å‚è€ƒåºåˆ—å†³å®šäº†æ¯”å¯¹ç»“æœsortçš„é¡ºåºï¼ŒSNæ˜¯å‚è€ƒåºåˆ—åï¼›LNæ˜¯å‚è€ƒåºåˆ—é•¿åº¦ï¼›æ¯ä¸ªå‚è€ƒåºåˆ—ä¸ºä¸€è¡Œã€‚è¿™é‡Œè¡¨ç¤ºæ‹Ÿå—èŠ¥æœ‰5æ¡æŸ“è‰²ä½“ï¼Œå¯¹åº”é•¿åº¦éƒ½åœ¨åé¢ï¼ŒMtæ˜¯çº¿ç²’ä½“åŸºå› ï¼ŒPtæ˜¯å¶ç»¿ä½“åŸºå› ã€‚ @PG ID:hisat2 PN:hisat2 VN:2.2.1 ï¼ˆæ¯”å¯¹æ‰€ä½¿ç”¨çš„è½¯ä»¶åŠç‰ˆæœ¬ï¼‰ è¿™é‡ŒåŒ…æ‹¬äº†è·¯å¾„ï¼Œæ–¹æ³•ï¼Œä»¥åŠæˆ‘è´¨æ§åçš„åºåˆ—é•¿åº¦ï¼ˆ50-100ï¼‰ç­‰è¯¦ç»†ä¿¡æ¯ã€‚ æ¥ä¸‹æ¥æ¯è¡Œéƒ½æ˜¯ä¸€é•¿ä¸²ï¼Œæ˜¾ç¤ºçš„æ˜¯æ¯”å¯¹ç»“æœéƒ¨åˆ†ï¼Œ11ä¸ªå­—æ®µï¼ˆåˆ—ï¼‰ ç¬¬ä¸€åˆ—ï¼šQNAMEï¼šæµ‹åºå‡ºæ¥çš„readsåºåˆ—æ•°æ®åï¼ŒERR1698194.2 ç¬¬äºŒåˆ—ï¼šFLAGï¼šè¡¨æ˜æ¯”å¯¹ç±»å‹ï¼šparingï¼Œstrandï¼Œmate strandç­‰ ç¬¬ä¸‰åˆ—ï¼šRNAMEï¼šå‚è€ƒåŸºå› ç»„çš„æŸ“è‰²ä½“åï¼Œæˆ‘è¿™é‡Œæ˜¯ç¬¬1æ¡æŸ“è‰²ä½“ ç¬¬å››åˆ—ï¼šPOSï¼šæ¯”å¯¹åˆ°è¿™ä¸ªæŸ“è‰²çš„å…·ä½“ä½ç½®ï¼Œ4969 ç¬¬äº”åˆ—ï¼šMAPQï¼šæ¯”å¯¹è´¨é‡ï¼Œæ˜¯ä¸€ä¸ªè¡¡é‡æ¯”å¯¹å¥½åçš„æ‰“åˆ†ç»“æœï¼Œ60æœ€å¥½ ç¬¬å…­åˆ—ï¼šCIGARï¼šç®€è¦æ¯”å¯¹ä¿¡æ¯è¡¨è¾¾å¼ï¼Œ1S100Mæ˜¯ç¬¬1ä¸ªç¢±åŸºåˆ‡é™¤ï¼Œ100ä¸ªåŒ¹é… ç¬¬ä¸ƒåˆ—ï¼šRNEXTï¼šå¦ä¸€ä¸ªåºåˆ—æ¯”å¯¹ä¸Šçš„å‚è€ƒåºåˆ—ç¼–å·ï¼Œæ²¡æœ‰å¦å¤–çš„ç‰‡æ®µæ˜¯*ï¼ŒåŒä¸€ä¸ªç‰‡æ®µ&#x3D; ç¬¬å…«åˆ—ï¼šMPOSï¼šå¦ä¸€ä¸ªåºåˆ—åŒ¹é…çš„æŸ“è‰²ä½“å…·ä½“ä½ç½®ï¼Œè¿™é‡Œä¸€æ ·ä¹Ÿæ˜¯4969 ç¬¬ä¹åˆ—ï¼šTLENï¼šé…å¯¹ç‰‡æ®µé•¿åº¦ï¼Œæœ€å·¦è¾¹çš„ä¸ºæ­£ï¼Œæœ€å³è¾¹çš„ä¸ºè´Ÿ ç¬¬ååˆ—ï¼šSEQï¼šå’Œå‚è€ƒåºåˆ—åœ¨åŒä¸€ä¸ªé“¾ä¸Šæ¯”å¯¹çš„åºåˆ— ç¬¬åä¸€åˆ—ï¼šQUALï¼šæ¯”å¯¹åºåˆ—çš„è´¨é‡å’Œreadsç¢±åŸºè´¨é‡å€¼ åé¢æä¾›é¢å¤–çš„ä¿¡æ¯ï¼Œä¸€èˆ¬ä¸é‡è¦ï¼Œäº†è§£ä¸€ä¸‹å°±è¡Œã€‚å› ä¸ºsamæ–‡ä»¶å¤ªå¤§ï¼ˆå¾€å¾€æœ‰10Gä»¥ä¸Šï¼‰ï¼Œä¹Ÿä¸é€‚åˆç”µè„‘è¿›è¡Œåç»­å¤„ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¼šç”¨åˆ°samtoolsï¼Œå°†samæ–‡ä»¶è½¬åŒ–ä¸ºæ›´é€‚åˆç”µè„‘å¤„ç†çš„äºŒè¿›åˆ¶bamæ–‡ä»¶ã€‚è¿™ä¸ªåé¢ä¼šè®²ã€‚ 4. å…¶ä»–æ¯”å¯¹è½¯ä»¶ä»¥ä¸‹4ç§è½¯ä»¶å‡ç”¨äºåºåˆ—æ¯”å¯¹ï¼Œç”¨æ³•ç¨æœ‰ä¸åŒï¼Œåšä¸ªè®°å½• $ hisat2 -p 4 -x ç´¢å¼•ç›®å½• -1 å•ç«¯æµ‹åºæ•°æ®æ–‡ä»¶ -2 å¦ä¸€ç«¯æµ‹åºæ•°æ®æ–‡ä»¶ -S è¾“å‡ºæ–‡ä»¶ $ subjunk -T 4 -i ç´¢å¼•ç›®å½• -r å•ç«¯æµ‹åºæ•°æ®æ–‡ä»¶ -R å¦ä¸€ç«¯æµ‹åºæ•°æ®æ–‡ä»¶ -o è¾“å‡ºæ–‡ä»¶ $ bowtie2 -p 4 -x ç´¢å¼•ç›®å½• -1 å•ç«¯æµ‹åºæ•°æ®æ–‡ä»¶ -2 å¦ä¸€ç«¯æµ‹åºæ•°æ®æ–‡ä»¶ -S è¾“å‡ºæ–‡ä»¶ $ bwa mem -t 4 -M ç´¢å¼•ç›®å½• å•ç«¯æµ‹åºæ•°æ®æ–‡ä»¶ å¦ä¸€ç«¯æµ‹åºæ•°æ®æ–‡ä»¶ &gt; è¾“å‡ºæ–‡ä»¶","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"hisat2","slug":"hisat2","permalink":"http://www.shelven.com/tags/hisat2/"}]},{"title":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ1ï¼‰â€”â€”å¦‚ä½•ç”¨fastqcå’Œtrim-galoreåšæµ‹åºæ•°æ®è´¨æ§","slug":"è½¬å½•ç»„æ•°æ®åˆ†æç¬”è®°ï¼ˆ1ï¼‰â€”â€”å¦‚ä½•ç”¨fastqcå’Œtrim-galoreåšæµ‹åºæ•°æ®è´¨æ§","date":"2022-04-14T13:13:35.000Z","updated":"2022-12-03T16:39:16.000Z","comments":true,"path":"2022/04/14/a.html","link":"","permalink":"http://www.shelven.com/2022/04/14/a.html","excerpt":"æœ¬ç³»åˆ—å­¦ä¹ ç¬”è®°æ•°æ®å‡æ¥è‡ªâ€Temporal dynamics of gene expression and histone marks at the Arabidopsis shoot meristem during floweringâ€œï¼ŒåŸæ–‡ç”¨RNA-Seqçš„æ–¹å¼ç ”ç©¶å¼€èŠ±é˜¶æ®µï¼ŒèŠ½åˆ†ç”Ÿç»„ç»‡ä¸åŒæ—¶æœŸçš„åŸºå› è¡¨è¾¾é‡å˜åŒ–ï¼Œ4ä¸ªæ—¶é—´æ®µï¼ˆ0, 1, 2, 3ï¼‰ï¼Œ4ä¸ªé‡å¤ï¼Œå…±æœ‰16ä¸ªæ ·å“ã€‚ç‚¹å‡»è¿™é‡Œè·å–æ–‡çŒ®","text":"æœ¬ç³»åˆ—å­¦ä¹ ç¬”è®°æ•°æ®å‡æ¥è‡ªâ€Temporal dynamics of gene expression and histone marks at the Arabidopsis shoot meristem during floweringâ€œï¼ŒåŸæ–‡ç”¨RNA-Seqçš„æ–¹å¼ç ”ç©¶å¼€èŠ±é˜¶æ®µï¼ŒèŠ½åˆ†ç”Ÿç»„ç»‡ä¸åŒæ—¶æœŸçš„åŸºå› è¡¨è¾¾é‡å˜åŒ–ï¼Œ4ä¸ªæ—¶é—´æ®µï¼ˆ0, 1, 2, 3ï¼‰ï¼Œ4ä¸ªé‡å¤ï¼Œå…±æœ‰16ä¸ªæ ·å“ã€‚ç‚¹å‡»è¿™é‡Œè·å–æ–‡çŒ® 1. è¯»æ–‡ç« è·å¾—RNA-Seqæ•°æ®ä»æ–‡ç« æœ«å°¾æˆ‘ä»¬å¯ä»¥è·å¾—ä¸€äº›æµ‹åºæ•°æ®ä¿¡æ¯ï¼š Data availability. ChIP-seq and RNA-seq data have been deposited with ArrayExpress database (www.ebi.ac.uk/arrayexpress), accession numbers E-MTAB-4680, E-MTAB-4684 and E-MTAB-5130. å¯ä»¥çœ‹åˆ°ä½œè€…å°†CHIP-seqå’ŒRNA-seqæ•°æ®ä¸Šä¼ åˆ°ArrayExpressè¿™ä¸ªæ•°æ®åº“ä¸­ï¼Œè¿™ä¸ªæ•°æ®åº“æ˜¯æ¬§æ´²ç”Ÿç‰©ä¿¡æ¯ç ”ç©¶æ‰€ï¼ˆEuropean Bioinformatics Institute, EBIï¼‰æ——ä¸‹çš„å…¬å…±æ•°æ®åº“ï¼Œä¸»è¦ç”¨äºå­˜æ”¾èŠ¯ç‰‡å’Œé«˜é€šé‡æµ‹åºæ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä»è¯¥æ•°æ®åº“ä¸­ä¸‹è½½æˆ‘ä»¬éœ€è¦çš„RNA-seqæ•°æ®ï¼Œè‡ªå·±åŠ¨æ‰‹åˆ†æã€‚ é¡ºä¾¿ä»‹ç»ä¸€ä¸‹ï¼Œæ¬§æ´²EBIæ——ä¸‹çš„ENAæ•°æ®åº“ï¼Œç¾å›½NCBIæ——ä¸‹çš„GenBankï¼Œä»¥åŠæ—¥æœ¬çš„DDBJä¸‰å¤§å·¨å¤´ç»„æˆäº†å›½é™…æ ¸é…¸åºåˆ—æ•°æ®åº“åˆä½œè”ç›Ÿï¼ˆINSDCï¼‰ï¼Œè¿™ä¸‰å¤§æ•°æ®åº“æ”¶å½•äº†ä¸–ç•Œä¸ŠæŠ¥é“çš„æ‰€æœ‰åºåˆ—æ•°æ®ã€‚ EBIæ•°æ®åº“å¯ä»¥ç›´æ¥ä¸‹è½½fastqæ•°æ®ï¼Œä¸éœ€è¦åšSRAæ•°æ®è½¬æ¢ï¼ˆNCBIæ•°æ®åº“ä¸­ä¸‹è½½sraæ•°æ®åˆ™éœ€è¦è½¬æ¢ï¼Œéœ€è¦ç”¨å·¥å…·fastq-dumpï¼‰ï¼Œè¿™æ˜¯EBIæ•°æ®åº“ä¸‹è½½é«˜é€šé‡æµ‹åºæ•°æ®çš„ä¼˜ç‚¹ï¼Œä½†æ˜¯è¿™ä¸ªæ•°æ®åº“ç»å¸¸ç½‘ç»œè¿æ¥ä¸ç¨³å®šï¼Œç”¨asperaæˆ–è€…prefetchè¿™ç§é«˜é€Ÿä¸‹è½½è½¯ä»¶ä¹Ÿä¸ä¸€å®šèƒ½ç¨³å®šä¸‹è½½ æœ€å¥½çš„æ–¹æ³•æ˜¯ç§‘å­¦ä¸Šç½‘ã€‚æˆ‘ä»¬å¯ä»¥ä»ArrayExpressæ•°æ®åº“ä¸­è¾“å…¥ç´¢å¼•å·E-MTAB-5130ï¼Œç›´æ¥è·å¾—æ ·æœ¬ä¿¡æ¯å’Œæµ‹åºä¿¡æ¯ã€‚ 2. æµ‹åºæ•°æ®è´¨æ§æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œä¸‹è½½çš„æ•°æ®æ˜¯åŒç«¯æµ‹åºäº§ç”Ÿçš„ã€‚æˆ‘ä»¬ä¸èƒ½ç›´æ¥ç”¨ä¸‹è½½çš„raw dataåšåç»­åˆ†æï¼Œå¿…é¡»è¦è¿›è¡Œè´¨æ§æŸ¥çœ‹æµ‹åºè´¨é‡å¦‚ä½•ã€‚ 2.1 ä½¿ç”¨fastqcå¯¹æµ‹åºæ•°æ®ç”Ÿæˆè´¨æ§æŠ¥å‘Šä¸‹è½½å¥½çš„fastqæ–‡ä»¶å¯ä»¥ç›´æ¥ç”¨fastqcå·¥å…·åšæµ‹åºæ•°æ®è´¨æ§ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ä¸€æ¬¡ç”Ÿæˆæ‰€æœ‰qcæŠ¥å‘Šï¼š $ fastqc *.fastq.gz -o ./ #åœ¨å½“å‰ç›®å½•ä¸‹å¯¹æ‰€æœ‰.fastq.gzæ–‡ä»¶ç”ŸæˆqcæŠ¥å‘Šï¼Œ-oå‚æ•°å®šä¹‰è¾“å‡ºç›®å½• è¿è¡Œç»“æŸåæˆ‘ä»¬å¯ä»¥å¾—åˆ°.htmlæ–‡ä»¶å’Œ.zipå‹ç¼©åŒ…ï¼Œè¿™ä¸ªå°±æ˜¯è´¨æ§æŠ¥å‘Šã€‚åœ¨è™šæ‹Ÿæœºé‡Œï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ç‚¹å¼€.htmlåç¼€çš„ç½‘é¡µæ–‡ä»¶æŸ¥çœ‹è´¨æ§æŠ¥å‘Šï¼ˆå’Œå‹ç¼©åŒ…çš„å†…å®¹æ˜¯ä¸€è‡´çš„ï¼‰ã€‚ é¡ºä¾¿ä»‹ç»ä¸€ä¸ªéå¸¸å¥½ç”¨çš„å·¥å…·multiqcï¼Œå¯ä»¥é€šè¿‡conda installç›´æ¥å®‰è£…ï¼Œè¿™ä¸ªå·¥å…·å¯ä»¥å°†æ‰¹é‡ç”Ÿæˆçš„qcæŠ¥å‘Šåˆå¹¶ä¸ºä¸€ä¸ªï¼Œçœ‹èµ·æ¥æ›´åŠ ç›´è§‚ã€‚åœ¨ç”ŸæˆqcæŠ¥å‘Šçš„å½“å‰ç›®å½•ä¸‹ï¼Œè¿è¡Œä»£ç ï¼š $ multiqc ./ 2.2 è´¨æ§æŠ¥å‘Šè§£è¯»2.2.1 åŸºæœ¬ä¿¡æ¯ç»¿è‰²è¡¨ç¤ºé€šè¿‡ï¼Œé»„è‰²è¡¨ç¤ºä¸å¤ªå¥½ï¼Œçº¢è‰²è¡¨ç¤ºä¸é€šè¿‡ã€‚RNA-seqä¸€èˆ¬åœ¨Sequence Duplication Levelsä¸Šç»“æœä¼šä¸å¥½ï¼Œä¸€ä¸ªåŸºå› å¯èƒ½ä¼šå¤§é‡è¡¨è¾¾ï¼Œæµ‹åˆ°å¥½å¤šéã€‚ 2.2.2 æ ¸è‹·é…¸æµ‹åºè´¨é‡ç®±å¼å›¾è¿™é‡Œæµ‹åºè´¨é‡ï¼ˆçºµåæ ‡ï¼‰ç”¨Qå€¼è¡¨ç¤ºï¼Œpä¸ºå‡ºé”™ç‡ï¼ŒQå€¼è®¡ç®—å¼ä¸ºQ&#x3D;-10*lgï¼ˆpï¼‰ã€‚æ¯ä¸€ä¸ªæ ¸è‹·é…¸çš„æµ‹åºè´¨é‡å¯ä»¥ä»fastqæ–‡ä»¶ç¬¬å››è¡Œä¸€ä¸€å¯¹åº”ä¸Šï¼Œè¿™é‡Œåªæ˜¯åšäº†ç»Ÿè®¡å’Œå¯è§†åŒ–ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ¯ä¸ªä½ç‚¹çš„æ ¸è‹·é…¸æµ‹åºè´¨é‡Qå€¼éƒ½åœ¨30ä»¥ä¸Šï¼Œæ„å‘³ç€æ¯ä¸ªä½ç‚¹çš„æµ‹åºæ­£ç¡®ç‡éƒ½åœ¨99.9%ä»¥ä¸Šï¼Œå¯ä»¥è®¤ä¸ºæµ‹åºè´¨é‡æ¯”è¾ƒå¥½ã€‚ ç®±å¼å›¾è§£è¯»ï¼šé»„è‰²ç®±å­(25%å’Œ75%çš„åˆ†æ•°çº¿)ï¼Œçº¢è‰²çº¿(ä¸­ä½æ•°)ï¼Œè“çº¿æ˜¯å¹³å‡æ•°ï¼Œä¸‹é¢å’Œä¸Šé¢çš„è§¦é¡»åˆ†åˆ«è¡¨ç¤º10%å’Œ90%çš„ç‚¹ã€‚ 2.2.3 æµ‹åºæ³³é“è´¨é‡å›¾çºµåæ ‡ä¸ºtileç¼–å·ï¼Œè¿™å¼ å›¾ä»£è¡¨æ¯æ¬¡è§å…‰æ‰«æçš„è´¨é‡ã€‚è“è‰²èƒŒæ™¯è¡¨æ˜æµ‹åºè´¨é‡è‰¯å¥½ï¼Œç™½è‰²å’Œçº¢è‰²çš„èƒŒæ™¯è¡¨ç¤ºæµ‹åºè¿‡ç¨‹ä¸­å¯èƒ½æœ‰å°æ°”æ³¡æˆ–è€…æµ‹åºæ³³é“ä¸Šæœ‰æ±¡æŸ“ã€‚ç›´æ¥çš„ä½“ç°å°±æ˜¯éƒ¨åˆ†æµ‹åºæ•°æ®ä¸­å‡ºç°è¿ç»­çš„Nï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½è¯»å–ï¼Œå¯èƒ½æ˜¯ä»»ä½•ä¸€ä¸ªæ ¸è‹·é…¸ã€‚ 2.2.4 readsè´¨é‡å¾—åˆ†å¯ä»¥çœ‹åˆ°å¹³å‡è´¨é‡åœ¨38ï¼Œè´¨é‡æ¯”è¾ƒé«˜ã€‚å¦‚æœæœ€é«˜å³°æ‰€å¯¹åº”çš„æ¨ªåæ ‡è´¨é‡å€¼å°äº27ï¼ˆé”™è¯¯ç‡0.2%ï¼‰ åˆ™ä¼šæ˜¾ç¤ºâ€œè­¦å‘Šâ€ï¼Œå¦‚æœæœ€é«˜å³°çš„è´¨é‡å€¼å°äº20ï¼ˆé”™è¯¯ç‡1%ï¼‰åˆ™ä¼šæ˜¾ç¤ºâ€œä¸åˆæ ¼â€ã€‚ 2.2.5 æ¯æ¡readså„ä¸ªæµ‹åºä½ç‚¹ä¸Šå„ç¢±åŸºå‡ºç°æ¦‚ç‡å›¾ä¸Šçœ‹å¾—å‡ºæ¯”è¾ƒç¨³å®šï¼Œæµ‹åºåˆšå¼€å§‹çš„æ—¶å€™æ³¢åŠ¨ä¼šå¤§ä¸€ç‚¹ï¼Œè¿™é‡Œçš„GCå«é‡å’ŒATå«é‡ä¸ä¸€è‡´ã€‚å¦‚æœä»»ä½•ä¸€ä¸ªä½ç½®ä¸Šçš„Aå’ŒTä¹‹é—´æˆ–è€…Gå’ŒCä¹‹é—´çš„æ¯”ä¾‹ç›¸å·®10%ä»¥ä¸Šåˆ™æŠ¥â€œè­¦å‘Šâ€ï¼Œä»»ä½•ä¸€ä¸ªä½ç½®ä¸Šçš„Aå’ŒTä¹‹é—´æˆ–è€…Gå’ŒCä¹‹é—´çš„æ¯”ä¾‹ç›¸å·®20%ä»¥ä¸Šåˆ™æŠ¥â€œä¸åˆæ ¼â€ã€‚ 2.2.6 GCå«é‡å’Œç†è®ºåˆ†å¸ƒå¯ä»¥çœ‹å‡ºGCå«é‡åœ¨43%å·¦å³ï¼Œä¸ç†è®ºåˆ†å¸ƒï¼ˆä¹Ÿå°±æ˜¯æ­£æ€åˆ†å¸ƒï¼‰æ¯”è¾ƒå»åˆï¼Œä¸­å¿ƒå³°å€¼ä¸æ‰€æµ‹è½¬å½•ç»„çš„GCå«é‡ä¸€è‡´ã€‚å¦‚æœæœ‰ä¸æ­£å¸¸çš„å°–å³°ï¼Œå¯èƒ½æ˜¯æµ‹åºæ–‡åº“æœ‰æ±¡æŸ“ï¼Œæ¥å¤´çš„æ±¡æŸ“è¿˜ä¼šåœ¨è¿‡è¡¨è¾¾åºåˆ—ä¸­ä½“ç°ã€‚ 2.2.7 æ¯æ¡readsçš„å«Nç¢±åŸºæ•°ä¸èƒ½è¯†åˆ«çš„ç¢±åŸºä¼šè¢«è¯»æˆNï¼Œè¿™é‡Œæ²¡æœ‰Nï¼Œæµ‹åºè´¨é‡éå¸¸å¥½ã€‚æ¨ªåæ ‡è¡¨ç¤ºreadsçš„ä½ç½®ï¼Œçºµåæ ‡è¡¨ç¤ºNçš„æ¯”ä¾‹ã€‚å¦‚æœä»»ä½•ä¸€ä¸ªä½ç½®Nçš„æ¯”ä¾‹å¤§äº5%åˆ™æŠ¥â€œè­¦å‘Šâ€ï¼Œå¤§äº20%åˆ™æŠ¥â€œå¤±è´¥â€ã€‚ 2.2.8 æµ‹åºé•¿åº¦åˆ†å¸ƒè¿™ä¸ªæµ‹åºä»ªä¸€æ¬¡æµ‹é‡é•¿åº¦æ˜¯101bpã€‚æµ‹åºä»ªå‡ºæ¥çš„åŸå§‹readsé€šå¸¸æ˜¯å‡ä¸€é•¿åº¦çš„ï¼Œç»è¿‡è´¨æ§è½¯ä»¶å¤„ç†è¿‡çš„readsé•¿åº¦åˆ™ä¸ä¸€æ ·ï¼Œè¿™é‡Œè¯´æ˜æµ‹åºç»“æœè¾ƒå¥½ã€‚ 2.2.9 é‡å¤åºåˆ—æ°´å¹³å¯ä»¥çœ‹åˆ°é‡å¤æ°´å¹³è¾ƒä½ã€‚å›¾ä¸­æ¨ªè½´ä»£è¡¨readsçš„é‡å¤æ¬¡æ•°ï¼Œå¤§äº10æ¬¡é‡å¤ååˆ™æŒ‰ä¸åŒçš„é‡å¤æ¬¡æ•°åˆå¹¶æ˜¾ç¤ºã€‚çºµåæ ‡è¡¨ç¤ºå„é‡å¤æ¬¡æ•°ä¸‹çš„readsæ•°å æ€»readsçš„ç™¾åˆ†æ¯”ï¼›è“çº¿å±•ç¤ºæ‰€æœ‰readsçš„é‡å¤æƒ…å†µï¼Œçº¢çº¿è¡¨ç¤ºåœ¨å»æ‰é‡å¤ä»¥åï¼ŒåŸé‡å¤æ°´å¹³ä¸‹çš„readså å»é‡åreadsæ€»æ•°çš„ç™¾åˆ†æ¯”ï¼›å¦‚æœéuniqueçš„readså æ€»readsæ•°çš„20%ä»¥ä¸Šåˆ™æŠ¥ â€è­¦å‘Šâ€œï¼Œå æ€»readæ•°çš„50%ä»¥ä¸Šåˆ™æŠ¥ â€ä¸åˆæ ¼â€œã€‚è¿™é¡¹å˜é»„æ˜¯æ­£å¸¸çš„ã€‚ 2.2.10 è¿‡è¡¨è¾¾åºåˆ—å’Œæ¥å¤´åºåˆ—è¿‡è¡¨è¾¾çš„åºåˆ—å¾ˆå¯èƒ½æ˜¯ä¸€äº›æµ‹åºçš„æ¥å¤´åºåˆ—ï¼Œè¿™é‡Œä¸¤ç§åºåˆ—éƒ½çœ‹ä¸åˆ°ï¼Œè¯´æ˜è´¨é‡è‰¯å¥½ã€‚è¿‡è¡¨è¾¾åºåˆ—æ˜¯æ˜¾ç¤ºåŒä¸€æ¡readså‡ºç°æ¬¡æ•°è¶…è¿‡æ€»æµ‹åºreadsæ•°çš„0.1%çš„ç»Ÿè®¡æƒ…å†µï¼Œè¶…è¿‡0.1%åˆ™æŠ¥â€œè­¦å‘Šâ€ï¼Œè¶…è¿‡1%åˆ™æŠ¥â€œä¸åˆæ ¼â€ï¼Œä¼šåˆ—å‡ºå¯èƒ½çš„æ¥å¤´åºåˆ—ã€‚æ¥å¤´åºåˆ—æ­£å¸¸æƒ…å†µä¸‹å«é‡æ¥è¿‘äº0ã€‚ 2.3 trim-galoreæµ‹åºæ•°æ®è´¨æ§è¿‡æ»¤è´¨æ§çš„ç›®çš„ä½¿ä¸ºäº†é™¤å»ä¸‹æœºæ•°æ®raw dataä¸­çš„æ¥å¤´åºåˆ—å’Œè´¨é‡æ¯”è¾ƒå·®çš„æµ‹åºæ•°æ®ï¼ŒQ&lt;20ï¼Œæ­£ç¡®ç‡å°äº99%ï¼Œå¦‚æœè¿™æ ·çš„æ ¸è‹·é…¸è¶…è¿‡readé•¿åº¦çš„20%ï¼Œåˆ™è€ƒè™‘å°†è¯¥readä¸¢å¼ƒï¼ˆåªæ˜¯å»ºè®®ï¼Œä¸æ˜¯å¼ºåˆ¶ï¼Œæ ¹æ®éœ€è¦å¯ä»¥è‡ªå®šä¹‰è¿‡æ»¤æ¡ä»¶ï¼‰ã€‚ trim-galoreä¹Ÿå¯ä»¥ç”¨conda installå®‰è£…ï¼Œéå¸¸æ–¹ä¾¿ï¼Œè¿™æ˜¯ä¸€ä¸ªè‡ªåŠ¨æ£€æµ‹adaptorçš„è½¯ä»¶ï¼Œå¯ä»¥ä¸€ä¸ªå‘½ä»¤è‡ªåŠ¨æ‰¾å‡ºä¸»æµçš„æµ‹åºæ¥å¤´å¹¶å»é™¤ï¼Œè¿˜å¯ä»¥è®¾ç½®å‚æ•°å¯¹æµ‹åºæ•°æ®è´¨æ§ã€‚ç®€å•ä»‹ç»ä¸€ä¸‹trim-galoreçš„ä¸€äº›å‚æ•°ï¼š -q # è®¾å®šPhred quality scoreé˜ˆå€¼ï¼Œé»˜è®¤ä¸º20ï¼›-phred33 # æµ‹åºå¹³å°è¡¡é‡æµ‹åºè´¨é‡çš„æ–¹æ³•ï¼Œæœ‰33å’Œ64ï¼Œä¸å½±å“ï¼›-length # è®¾å®šè¾“å‡ºreadsé•¿åº¦é˜ˆå€¼ï¼Œå°äºè®¾å®šå€¼ä¼šè¢«æŠ›å¼ƒï¼Œæ ¹æ®éœ€è¦è®¾è®¡;-stringency # è®¾å®šå¯ä»¥å¿å—çš„å‰åadapteré‡å çš„ç¢±åŸºæ•°ï¼Œé»˜è®¤ä¸º1ï¼ˆéå¸¸è‹›åˆ»ï¼‰;-paired # ç”¨äºåˆ†æåŒç«¯æµ‹åºæ•°æ®ç»“æœï¼›-o # è¾“å‡ºç›®å½• å› ä¸ºæ˜¯åŒç«¯æµ‹åºï¼Œ16ä¸ªæ ·æœ¬æ¯ä¸ªéƒ½æœ‰_1å’Œ_2ä¸¤ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥å†™ä¸ªè„šæœ¬æ‰¹é‡è¿è¡Œï¼š 12345678#!/bin/bashfor i in `seq 194 209` do trim_galore -q 25 -phred33 -length 50 -stringency 3 -paired \\ -o /media/sf_/example/data/clean_data \\ /media/sf_/example/data/raw_data/ERR1698&quot;$i&quot;_1.fastq.gz \\ #ä¸€ç«¯æµ‹åºæ•°æ® /media/sf_/example/data/raw_data/ERR1698&quot;$i&quot;_2.fastq.gz #å¦ä¸€ç«¯æµ‹åºæ•°æ®done ä¿å­˜é€€å‡ºï¼Œè¿è¡Œï¼Œæœ€åç”Ÿæˆçš„_triming_report.txtæ–‡ä»¶å°±æ˜¯ç”Ÿæˆçš„è´¨æ§æŠ¥å‘Šï¼Œ_val_1.fq.gzå°±æ˜¯è¿‡æ»¤åç˜¦èº«çš„clean dataï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¤§å°æ¯”åŸæ¥å°äº†10Må·¦å³ï¼Œè¿™ä¸ªclean dataæ‰å¯ä»¥ç”¨äºåç»­çš„åˆ†ææµç¨‹ æˆ‘æˆªå–äº†å…¶ä¸­ä¸€ä¸ªæ•°æ®çš„è´¨æ§ç»“æœï¼Œæ‹‰åˆ°æœ€åº•ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ç«¯æµ‹åºæ•°æ®ä¸­éƒ½æœ‰AGATCGGAAGAGCè¿™ä¸ªåºåˆ—ï¼Œåœ¨ä¸€ä¸ªæ ·æœ¬æµ‹åºæ•°æ®ä¸­å‡ºç°240027æ¬¡ç»è¿‡ç½‘ä¸ŠæŸ¥æ‰¾ï¼ŒAGATCGGAAGAGCè¿™ä¸ªåºåˆ—ç¡®å®æ˜¯Illuminaå…¬å¸æµ‹åºæ—¶çš„æ¥å¤´åºåˆ—ï¼ˆç‚¹å‡»è¿™é‡ŒæŸ¥çœ‹ï¼‰ï¼Œå¯ä»¥å’Œä¸Šé¢fastqcè´¨æ§æŠ¥å‘Šä¸­çš„æµ‹åºå¹³å°Illuminaç›¸äº’éªŒè¯ã€‚","categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"fastqc","slug":"fastqc","permalink":"http://www.shelven.com/tags/fastqc/"},{"name":"multiqc","slug":"multiqc","permalink":"http://www.shelven.com/tags/multiqc/"},{"name":"trim-galore","slug":"trim-galore","permalink":"http://www.shelven.com/tags/trim-galore/"}]},{"title":"å°ç ´ç«™æ­£å¼å¯¹å¤–å¼€æ”¾å•¦ï¼","slug":"å°ç ´ç«™æ­£å¼å¯¹å¤–å¼€æ”¾å•¦ï¼","date":"2022-04-13T14:29:14.000Z","updated":"2023-07-04T10:13:40.000Z","comments":true,"path":"2022/04/13/a.html","link":"","permalink":"http://www.shelven.com/2022/04/13/a.html","excerpt":"å’³å’³ï¼Œç»è¿‡10å¤©å·¦å³ç´§å¼ åœ°å‡†å¤‡ï¼Œå°ç«™ä»Šå¤©æ­£å¼å¯¹å¤–å¼€æ”¾å•¦ï¼ä½œä¸ºç¬¬ä¸€æ¬¡è¿è¡Œä¸ªäººç½‘ç«™çš„å°ç™½ï¼Œçœ‹ç€ç½‘ç«™ä»é›¶å¼€å§‹åœ¨è‡ªå·±æ‰‹ä¸Šæ…¢æ…¢å±•ç°ä¸€ä¸ªä¸ªé¡µé¢ï¼Œå®ç°ä¸€ä¸ªä¸ªåŠŸèƒ½ï¼Œè¿™ç§æˆå°±æ„Ÿå’Œæ¿€åŠ¨æ„Ÿï¼Œè®©æˆ‘æ„Ÿè§‰è¿™å‡ å¤©çš„ç†¬å¤œç‹‚è‚è¿˜æ˜¯å€¼å¾—çš„å‘œå‘œå‘œæˆ‘çš„å¤´å‘ã€‚","text":"å’³å’³ï¼Œç»è¿‡10å¤©å·¦å³ç´§å¼ åœ°å‡†å¤‡ï¼Œå°ç«™ä»Šå¤©æ­£å¼å¯¹å¤–å¼€æ”¾å•¦ï¼ä½œä¸ºç¬¬ä¸€æ¬¡è¿è¡Œä¸ªäººç½‘ç«™çš„å°ç™½ï¼Œçœ‹ç€ç½‘ç«™ä»é›¶å¼€å§‹åœ¨è‡ªå·±æ‰‹ä¸Šæ…¢æ…¢å±•ç°ä¸€ä¸ªä¸ªé¡µé¢ï¼Œå®ç°ä¸€ä¸ªä¸ªåŠŸèƒ½ï¼Œè¿™ç§æˆå°±æ„Ÿå’Œæ¿€åŠ¨æ„Ÿï¼Œè®©æˆ‘æ„Ÿè§‰è¿™å‡ å¤©çš„ç†¬å¤œç‹‚è‚è¿˜æ˜¯å€¼å¾—çš„å‘œå‘œå‘œæˆ‘çš„å¤´å‘ã€‚ å»ºç«™è¿‡ç¨‹ä¸ºä»€ä¹ˆå»ºç«™è¯´æ˜¯ä»é›¶å¼€å§‹ï¼Œå…¶å®ä¹Ÿæ˜¯ç«™åœ¨å‰äººæ­å»ºå¥½çš„æ¡†æ¶ä¸Šæ‰èƒ½é¡ºåˆ©è¿›è¡Œçš„ã€‚æˆ‘å¾ˆæ—©ä¹‹å‰å°±èŒå‘äº†æ­å»ºä¸ªäººç½‘ç«™çš„æƒ³æ³•ï¼Œè‡ªä»è¿™ä¸ªå­¦æœŸå¼€å§‹å­¦ä¹ ç”Ÿç‰©ä¿¡æ¯å­¦ï¼Œæˆ‘ä¹Ÿæ…¢æ…¢å¯¹linuxç³»ç»Ÿæœ‰äº†æ›´æ·±å…¥çš„ç†è§£ã€‚ä¸€å¼€å§‹åªæ˜¯åœ¨è™šæ‹Ÿæœºä¸Šè·‘è·‘ç¨‹åºï¼Œåæ¥å°±æƒ³ç€ä¸å¦‚ä¹°ä¸€ä¸ªäº‘æœåŠ¡å™¨è£…linuxç©ç©ï¼Œæ—¢ç„¶ä¹°äº†æœåŠ¡å™¨äº†ï¼Œé‚£å°±å†ç»‘ä¸ªåŸŸåå§ï¼Œæ—¢ç„¶ä¸¤ä¸ªéƒ½æœ‰äº†ï¼Œä¸å¦‚å°±å†å»ºä¸ªç½‘ç«™å§ï¼ˆæ»‘ç¨½ï¼‰ã€‚äºæ˜¯è¶ç€è…¾è®¯äº‘çš„è½»é‡çº§åº”ç”¨æœåŠ¡å™¨æ‰“æŠ˜çš„æœºä¼šï¼Œä¸€æ¬¡æ€§ä¹°äº†3å¹´â€¦ç„¶ååˆåœ¨é˜¿é‡Œäº‘ä¹°äº†ä¸ªåŸŸåï¼Œäº†è§£åˆ°éœ€è¦å¤‡æ¡ˆåæ‰èƒ½è§£æåŸŸåï¼Œè¡Œï¼ŒåˆåŠç†å„ç§æ‰‹ç»­åœ¨å·¥ä¿¡éƒ¨å¤‡äº†æ¡ˆã€‚ä¸å¾—ä¸è¯´ï¼Œåœ¨å„å¤§äº‘æœåŠ¡å™¨å•†å†…å·ææ´»åŠ¨çš„æ—¶å€™ï¼Œæœ‰ä¸ªå­¦ç”Ÿè®¤è¯è¿˜æ˜¯ç›¸å½“é¦™çš„ã€‚è‡³äºæ€ä¹ˆç”¨æœåŠ¡å™¨ï¼Œé‚£å°±æ˜¯åé¢è€ƒè™‘çš„äº‹äº†ã€‚ å¤‡æ¡ˆå’Œå¤‡æ¡ˆæœŸé—´çš„å­¦ä¹ æˆ‘åœ¨è…¾è®¯äº‘ä¹°çš„æœåŠ¡å™¨ï¼Œé€šè¿‡æ¥å…¥å•†è…¾è®¯äº‘ååŠ©ï¼Œè…¾è®¯äº‘å…ˆå®¡æ ¸æˆ‘çš„ææ–™ï¼Œé€šè¿‡ä»¥åå†æäº¤å·¥ä¿¡éƒ¨å¤‡æ¡ˆï¼Œå¤‡æ¡ˆè¿˜æ˜¯ç›¸å½“å¿«çš„ï¼Œ3å¤©æ—¶é—´å°±åŠä¸‹æ¥äº†ã€‚å¤‡æ¡ˆæœŸé—´ä¹Ÿæ²¡é—²ç€ï¼Œä½œä¸ºä¸€ä¸ªå‰ç«¯å°ç™½çš„æˆ‘ï¼Œåˆå»æ¶è¡¥äº†ä¸€äº›å‰ç«¯çŸ¥è¯†ï¼Œæ¯”å¦‚ä»€ä¹ˆæ˜¯cssã€jsã€ejsã€htmlæ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶çš„æ ¼å¼æ˜¯æ€ä¹ˆæ ·çš„ï¼Œjavaçš„ä¸€äº›åŸºæœ¬è¯­æ³•ç­‰ç­‰ã€‚å­¦ä¹ çš„æŠ˜ç£¨ç¨‹åº¦ä¸äºšäºåˆšå¼€å§‹å­¦Rè¯­è¨€å’Œlinuxæ“ä½œç³»ç»Ÿï¼Œä¸è¿‡æœ‰äº†ä¸€äº›shellè„šæœ¬çš„è¯­æ³•çŸ¥è¯†ä»¥åï¼Œè¿˜æ˜¯èƒ½æ„Ÿè§‰åˆ°è¿™äº›è¯­è¨€ä¹‹é—´è¿˜æ˜¯æœ‰å…±åŒçš„åˆ¤æ–­æ–¹å¼å’Œé€»è¾‘åœ¨é‡Œé¢çš„ï¼ˆçº¯å°ç™½å‘è¨€ï¼Œä¸çŸ¥é“å¯¹ä¸å¯¹ï¼‰ã€‚åœ¨æ…¢æ…¢æ‘¸ç´¢çš„è¿‡ç¨‹ä¸­ç—›å¹¶å¿«ä¹ç€ï¼Œå…ˆæ˜¯ç…§ç€åˆ«äººç»™çš„jsæ–‡ä»¶é­”æ”¹ï¼Œå†æ˜¯è‡ªå·±è°ƒè¯•é‡åˆ°çš„é—®é¢˜å’Œbugï¼Œå°¤å…¶åœ¨å‘ç°bugæœ€åè§£å†³bugçš„æ—¶å€™ï¼Œé‚£ç§æˆå°±æ„Ÿèƒ½ç»™æˆ‘å¸¦æ¥è«å¤§çš„å¿«ä¹ã€‚ å»ºç«™å†ç¨‹å»ºç«™çš„è¿‡ç¨‹æ˜¯ç—›è‹¦çš„ï¼Œè¸©äº†éå¸¸å¤šçš„å‘ï¼Œæˆ‘è§‰å¾—æˆ‘ç”šè‡³å¯ä»¥å†™å¥½å‡ ç¯‡æ”»ç•¥å‡ºæ¥ã€‚æˆ‘ä¸€å¼€å§‹çš„æƒ³æ³•æ˜¯åœ¨githubå»ºåº“æ­å»ºä¸ªäººç½‘ç«™ï¼Œä»å®‰è£…nodejså’Œnpmè¿™ç§æœ€åŸºç¡€çš„å¼€å§‹ï¼Œé…ç½®ç¯å¢ƒï¼Œç”¨hexoæ¡†æ¶æ­å»ºä¸€ä¸ªæœ¬åœ°é™æ€åšå®¢ï¼Œç„¶åéƒ¨ç½²åˆ°githubç©ºé—´ï¼Œè¿™æ ·å°±å¯ä»¥ç”¨githubä»“åº“åè®¿é—®æˆ‘çš„ç½‘ç«™ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªéå¸¸å¤§çš„é—®é¢˜ï¼Œgithubä»å›½å†…è®¿é—®ä¼šæœ‰DNSæ±¡æŸ“ï¼Œè¿æ¥é€Ÿåº¦é‚£å«ä¸€ä¸ªç»æœ›ã€‚æˆ‘è‡ªå·±æ˜¯å¯ä»¥ç§‘å­¦ä¸Šç½‘ï¼Œä½†æ˜¯æ€»ä¸èƒ½è®©åˆ«äººæµè§ˆæˆ‘ç½‘é¡µçš„æ—¶å€™ä¹Ÿç§‘å­¦ä¸Šç½‘å§ï¼Ÿæˆ‘ä¹Ÿä¸å¤ªç›¸ä¿¡æœ‰å¾ˆå¤šäººä¼šç”¨æ”¹hostçš„åŠæ³•æ¥è®¿é—®githubï¼Œäºæ˜¯æˆ‘å°±èŒç”Ÿäº†å°†ä¹°çš„äº‘æœåŠ¡å™¨ç”¨æ¥æ­å»ºç½‘ç«™çš„æƒ³æ³•ï¼ˆæˆ‘çŸ¥é“è¿™æ˜¯ä¸€ç§èµ„æºæµªè´¹ï¼‰ï¼Œgithubå°±å¯ä»¥å½“åšç½‘ç«™çš„å¤‡ä»½ï¼Œä»¥åå³ä½¿æˆ‘çš„äº‘æœåŠ¡å™¨è¿‡æœŸäº†ï¼Œæˆ‘ä¹Ÿå¯ä»¥ä¾æ—§æ­£å¸¸è®¿é—®æ­å»ºåœ¨githubé‡Œçš„é™æ€åšå®¢ã€‚æ‰€ä»¥æˆ‘çš„éƒ¨ç½²è¿‡ç¨‹æœ‰ç‚¹ç»•ï¼Œå°±æ˜¯æœ¬åœ°ç”Ÿæˆé™æ€åšå®¢ï¼Œå…ˆéƒ¨ç½²åˆ°githubä»“åº“ï¼Œå†åŒæ­¥éƒ¨ç½²åˆ°æˆ‘çš„äº‘æœåŠ¡å™¨ã€‚è¿™æ ·æˆ‘å°±å¯ä»¥ç”¨å¤‡æ¡ˆåçš„äºŒçº§åŸŸåè§£æåˆ°äº‘æœåŠ¡å™¨ï¼Œåœ¨é€šè¿‡å®‰è£…httpdæœåŠ¡æ¥å¼€å¯å¤–éƒ¨çš„è®¿é—®äº†ã€‚ å¯ä»¥è®¿é—®æˆ‘çš„ç½‘ç«™è¿˜æ˜¯ç¬¬ä¸€æ­¥ï¼Œè¿˜è¦åšå¥½å®‰å…¨é˜²æŠ¤ï¼Œç”³è¯·SSLå®‰å…¨è¯ä¹¦æ‰èƒ½å¼€å¯httpsè¿æ¥ã€‚å…è´¹ç”³è¯·æ–¹å¼ä¹Ÿå¾ˆå¤šï¼Œæˆ‘ç”³è¯·äº†ä¸€å¹´çš„apacheä¸Šçš„SSLå®‰å…¨è¯ä¹¦ï¼Œç„¶åå®‰è£…åˆ°è‡ªå·±æœåŠ¡å™¨ä¸Šã€‚è¿˜æƒ³åæ§½ä¸€ä¸‹ï¼Œè…¾è®¯äº‘æœ‰ä¸€é”®éƒ¨ç½²SSLå®‰å…¨è¯ä¹¦é€šé“ï¼Œè¦90å—é’±ï¼Œåªè¦æœ‰ç‚¹linuxæ–‡æœ¬æ“ä½œåŸºç¡€ï¼Œè‡ªå·±æŒ‰ç…§æ•™ç¨‹éƒ¨ç½²ä¸€ä¸‹åŠå°æ—¶å·¦å³å°±èƒ½å®Œæˆï¼Œè¿™é’±çœŸå¥½èµšã€‚SSLè¯ä¹¦å®‰è£…åšå¥½ä»¥åï¼Œå°±å¯ä»¥ä¸Šåˆ«çš„äº‘æœåŠ¡å•†æ‰¾æ‰¾å…è´¹çš„CDNåŠ é€Ÿäº†ï¼Œæœ‰CDNåŠ é€Ÿä¸€æ˜¯å¯ä»¥åŠ å¿«ç½‘ç«™çš„åŠ è½½é€Ÿåº¦ï¼ŒäºŒæ˜¯éšè—è‡ªå·±æœåŠ¡å™¨çš„ipåœ°å€ï¼Œèƒ½èµ·åˆ°ä¸€å®šçš„ç½‘ç«™å®‰å…¨é˜²æŠ¤ä½œç”¨ã€‚å¹ä¸€æ³¢åˆæ‹äº‘ï¼Œåªè¦åœ¨ç½‘ç«™åº•ä¸‹åŠ ä¸Šä»–ä»¬çš„æ ‡å¿—ï¼Œå¯ç”¨ä»–ä»¬çš„CDNåŠ é€Ÿï¼Œå°±èƒ½ç”³è¯·åŠ å…¥åˆæ‹äº‘è”ç›Ÿï¼Œæœ‰å…è´¹ä¸€å¹´çš„CDNåŠ é€Ÿå’Œäº‘å‚¨å­˜æœåŠ¡ï¼Œè¿˜å¯ä»¥æŸ¥çœ‹è®¿é—®è®°å½•ç­‰ç­‰ å­¦ç”Ÿå…šè–…ç¾Šæ¯›çš„åˆ©å™¨23333 ã€‚å› ä¸ºæˆ‘çš„ç½‘é¡µå›¾ç‰‡æ¯”è¾ƒå¤šï¼Œæ‰€ä»¥å°±åº”ç”¨äº†ç½‘é¡µå›¾ç‰‡åŠ é€Ÿã€‚ åè®°å…·ä½“è¿‡ç¨‹æ¯”å¦‚æ€ä¹ˆæ¥å…¥ç¬¬ä¸‰æ–¹å„ç§ç½‘ç«™ï¼Œç”¨ä»€ä¹ˆä¸»é¢˜ï¼Œæ€ä¹ˆç¾åŒ–é¡µé¢ç­‰ç­‰ï¼Œå°±ä¸è¯¦ç»†è¯´äº†ï¼Œè¯´å¤šäº†è‚ç–¼ï¼Œä»¥åæœ‰æƒ³æ³•å†æ›´æ–°å¦‚ä½•ä»é›¶å¼€å§‹æ­å»ºè‡ªå·±çš„åšå®¢å§ï¼è‡³å°‘æ²¡æœ‰æœåŠ¡å™¨å’ŒåŸŸåä¹Ÿæ˜¯å®Œå…¨å¯ä»¥å®ç°çš„ã€‚å»ºç«‹è¿™ä¸ªå°ç ´ç«™ä¹Ÿä¸»è¦æ˜¯ä¸ºäº†ä¸Šä¼ è‡ªå·±çš„å­¦ä¹ ç¬”è®°ï¼Œæ•´ç†ç”Ÿä¿¡ç½‘ç«™å’Œå·¥å…·åˆé›†ï¼ˆç›¸åº”çš„æ ç›®è¿˜åœ¨å»ºè®¾ä¸­ æ–°å»ºæ–‡ä»¶å¤¹äº† ï¼‰ï¼Œç£ä¿ƒè‡ªå·±å­¦ä¹ hhhhh æœ¬äººæŠ€æœ¯å®åŠ›æœ‰é™ï¼Œä¹Ÿä¸æƒ³æåœ°å¤ªèŠ±é‡Œèƒ¡å“¨ï¼Œä¹‹åå¯èƒ½ä¼šæœ‰ä¸€äº›ç®€å•çš„å°åŠŸèƒ½æ¥å…¥ï¼Œè¿˜æœ‰ç§»åŠ¨ç«¯æµè§ˆå°ç ´ç«™çš„ä¼˜åŒ–ï¼ˆç°åœ¨ç§»åŠ¨ç«¯æµè§ˆè¿™ä¸ªå°ç ´ç«™ç®€ç›´æ˜¯ç¾éš¾ï¼Œæˆ‘éƒ½çœ‹ä¸ä¸‹å»äº†ï¼‰ï¼Œå¤ªè´¹å¿ƒæ€çš„ä¸œè¥¿å°±æš‚æ—¶æ”¾æ”¾äº†ï¼Œä¸»è¦ä¸“æ³¨äºå†…å®¹çš„åˆ›ä½œï¼Œè¿™å‡ å¤©ä¼šæŠŠä¸€äº›å­¦ä¹ ç¬”è®°é™†ç»­ä¸Šä¼ ã€‚æœ¬äººä¹Ÿæ˜¯ç¬¬ä¸€æ¬¡ç”¨markdownè¯­æ³•å†™ä¸œè¥¿ï¼Œæ’ç‰ˆä¸€ç›´æä¸å®šæ®µé¦–çš„ä¸¤ä¸ªç©ºæ ¼ï¼Œå…ˆè¿™æ ·å§ã€‚ å¼€æ‘†","categories":[{"name":"ä¸ªäººä¸»é¡µ","slug":"ä¸ªäººä¸»é¡µ","permalink":"http://www.shelven.com/categories/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/"}],"tags":[{"name":"å»ºç«™","slug":"å»ºç«™","permalink":"http://www.shelven.com/tags/%E5%BB%BA%E7%AB%99/"}]}],"categories":[{"name":"å­¦ä¹ ç¬”è®°","slug":"å­¦ä¹ ç¬”è®°","permalink":"http://www.shelven.com/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"},{"name":"æ¯”è¾ƒåŸºå› ç»„å­¦","slug":"æ¯”è¾ƒåŸºå› ç»„å­¦","permalink":"http://www.shelven.com/categories/%E6%AF%94%E8%BE%83%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"},{"name":"åŸºå› å®¶æ—åˆ†æ","slug":"åŸºå› å®¶æ—åˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E5%AE%B6%E6%97%8F%E5%88%86%E6%9E%90/"},{"name":"github","slug":"github","permalink":"http://www.shelven.com/categories/github/"},{"name":"ç¼–ç¨‹è‡ªå­¦","slug":"ç¼–ç¨‹è‡ªå­¦","permalink":"http://www.shelven.com/categories/%E7%BC%96%E7%A8%8B%E8%87%AA%E5%AD%A6/"},{"name":"ç½‘ç»œç›¸å…³","slug":"ç½‘ç»œç›¸å…³","permalink":"http://www.shelven.com/categories/%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3/"},{"name":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","slug":"åŸºå› ç»„ä¸‰ä»£æµ‹åºåˆ†æ","permalink":"http://www.shelven.com/categories/%E5%9F%BA%E5%9B%A0%E7%BB%84%E4%B8%89%E4%BB%A3%E6%B5%8B%E5%BA%8F%E5%88%86%E6%9E%90/"},{"name":"ä¸ªäººä¸»é¡µ","slug":"ä¸ªäººä¸»é¡µ","permalink":"http://www.shelven.com/categories/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/"},{"name":"è¡¨è§‚é—ä¼ å­¦","slug":"è¡¨è§‚é—ä¼ å­¦","permalink":"http://www.shelven.com/categories/%E8%A1%A8%E8%A7%82%E9%81%97%E4%BC%A0%E5%AD%A6/"},{"name":"QQæœºå™¨äºº","slug":"QQæœºå™¨äºº","permalink":"http://www.shelven.com/categories/QQ%E6%9C%BA%E5%99%A8%E4%BA%BA/"},{"name":"ç¾¤ä½“åŸºå› ç»„å­¦","slug":"ç¾¤ä½“åŸºå› ç»„å­¦","permalink":"http://www.shelven.com/categories/%E7%BE%A4%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"},{"name":"ä¸‰ç»´åŸºå› ç»„å­¦","slug":"ä¸‰ç»´åŸºå› ç»„å­¦","permalink":"http://www.shelven.com/categories/%E4%B8%89%E7%BB%B4%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"},{"name":"å•ç»†èƒè½¬å½•ç»„","slug":"å•ç»†èƒè½¬å½•ç»„","permalink":"http://www.shelven.com/categories/%E5%8D%95%E7%BB%86%E8%83%9E%E8%BD%AC%E5%BD%95%E7%BB%84/"},{"name":"æ·±åº¦å­¦ä¹ ","slug":"æ·±åº¦å­¦ä¹ ","permalink":"http://www.shelven.com/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/"},{"name":"è½¬å½•ç»„æ•°æ®åˆ†æ","slug":"è½¬å½•ç»„æ•°æ®åˆ†æ","permalink":"http://www.shelven.com/categories/%E8%BD%AC%E5%BD%95%E7%BB%84%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/"}],"tags":[{"name":"GO","slug":"GO","permalink":"http://www.shelven.com/tags/GO/"},{"name":"KEGG","slug":"KEGG","permalink":"http://www.shelven.com/tags/KEGG/"},{"name":"OrthoFinder","slug":"OrthoFinder","permalink":"http://www.shelven.com/tags/OrthoFinder/"},{"name":"r8s","slug":"r8s","permalink":"http://www.shelven.com/tags/r8s/"},{"name":"cafe5","slug":"cafe5","permalink":"http://www.shelven.com/tags/cafe5/"},{"name":"mcmctree","slug":"mcmctree","permalink":"http://www.shelven.com/tags/mcmctree/"},{"name":"ExPASY","slug":"ExPASY","permalink":"http://www.shelven.com/tags/ExPASY/"},{"name":"Plant-mPLoc","slug":"Plant-mPLoc","permalink":"http://www.shelven.com/tags/Plant-mPLoc/"},{"name":"NetPhos 3.1","slug":"NetPhos-3-1","permalink":"http://www.shelven.com/tags/NetPhos-3-1/"},{"name":"Phyre2","slug":"Phyre2","permalink":"http://www.shelven.com/tags/Phyre2/"},{"name":"PyMOL","slug":"PyMOL","permalink":"http://www.shelven.com/tags/PyMOL/"},{"name":"python","slug":"python","permalink":"http://www.shelven.com/tags/python/"},{"name":"Numpy","slug":"Numpy","permalink":"http://www.shelven.com/tags/Numpy/"},{"name":"PostgreSQL","slug":"PostgreSQL","permalink":"http://www.shelven.com/tags/PostgreSQL/"},{"name":"kdevtmpfsi","slug":"kdevtmpfsi","permalink":"http://www.shelven.com/tags/kdevtmpfsi/"},{"name":"kinsing","slug":"kinsing","permalink":"http://www.shelven.com/tags/kinsing/"},{"name":"RagTag","slug":"RagTag","permalink":"http://www.shelven.com/tags/RagTag/"},{"name":"Liftoff","slug":"Liftoff","permalink":"http://www.shelven.com/tags/Liftoff/"},{"name":"Barker3","slug":"Barker3","permalink":"http://www.shelven.com/tags/Barker3/"},{"name":"æ ¼å¼è½¬æ¢","slug":"æ ¼å¼è½¬æ¢","permalink":"http://www.shelven.com/tags/%E6%A0%BC%E5%BC%8F%E8%BD%AC%E6%8D%A2/"},{"name":"JavaScript","slug":"JavaScript","permalink":"http://www.shelven.com/tags/JavaScript/"},{"name":"CSS","slug":"CSS","permalink":"http://www.shelven.com/tags/CSS/"},{"name":"HTML","slug":"HTML","permalink":"http://www.shelven.com/tags/HTML/"},{"name":"Rè¯­è¨€","slug":"Rè¯­è¨€","permalink":"http://www.shelven.com/tags/R%E8%AF%AD%E8%A8%80/"},{"name":"BUSCO","slug":"BUSCO","permalink":"http://www.shelven.com/tags/BUSCO/"},{"name":"éŸ¦æ©å›¾","slug":"éŸ¦æ©å›¾","permalink":"http://www.shelven.com/tags/%E9%9F%A6%E6%81%A9%E5%9B%BE/"},{"name":"UpSetå›¾","slug":"UpSetå›¾","permalink":"http://www.shelven.com/tags/UpSet%E5%9B%BE/"},{"name":"eggNOG mapper","slug":"eggNOG-mapper","permalink":"http://www.shelven.com/tags/eggNOG-mapper/"},{"name":"tkinter","slug":"tkinter","permalink":"http://www.shelven.com/tags/tkinter/"},{"name":"pyinstaller","slug":"pyinstaller","permalink":"http://www.shelven.com/tags/pyinstaller/"},{"name":"å¯†ç å­ç»Ÿè®¡å·¥å…·","slug":"å¯†ç å­ç»Ÿè®¡å·¥å…·","permalink":"http://www.shelven.com/tags/%E5%AF%86%E7%A0%81%E5%AD%90%E7%BB%9F%E8%AE%A1%E5%B7%A5%E5%85%B7/"},{"name":"ATAC-seq","slug":"ATAC-seq","permalink":"http://www.shelven.com/tags/ATAC-seq/"},{"name":"CUT&Tag","slug":"CUT-Tag","permalink":"http://www.shelven.com/tags/CUT-Tag/"},{"name":"qq bot","slug":"qq-bot","permalink":"http://www.shelven.com/tags/qq-bot/"},{"name":"go-cqhttp","slug":"go-cqhttp","permalink":"http://www.shelven.com/tags/go-cqhttp/"},{"name":"Hi-CæŸ“è‰²ä½“æŒ‚è½½","slug":"Hi-CæŸ“è‰²ä½“æŒ‚è½½","permalink":"http://www.shelven.com/tags/Hi-C%E6%9F%93%E8%89%B2%E4%BD%93%E6%8C%82%E8%BD%BD/"},{"name":"3D-DNA","slug":"3D-DNA","permalink":"http://www.shelven.com/tags/3D-DNA/"},{"name":"JBAT","slug":"JBAT","permalink":"http://www.shelven.com/tags/JBAT/"},{"name":"juicer2","slug":"juicer2","permalink":"http://www.shelven.com/tags/juicer2/"},{"name":"ç¾¤ä½“åŸºå› ç»„å­¦","slug":"ç¾¤ä½“åŸºå› ç»„å­¦","permalink":"http://www.shelven.com/tags/%E7%BE%A4%E4%BD%93%E5%9F%BA%E5%9B%A0%E7%BB%84%E5%AD%A6/"},{"name":"Tassel5","slug":"Tassel5","permalink":"http://www.shelven.com/tags/Tassel5/"},{"name":"Plink","slug":"Plink","permalink":"http://www.shelven.com/tags/Plink/"},{"name":"HiC-Pro","slug":"HiC-Pro","permalink":"http://www.shelven.com/tags/HiC-Pro/"},{"name":"HiCPlotter","slug":"HiCPlotter","permalink":"http://www.shelven.com/tags/HiCPlotter/"},{"name":"HiTC","slug":"HiTC","permalink":"http://www.shelven.com/tags/HiTC/"},{"name":"Seurat","slug":"Seurat","permalink":"http://www.shelven.com/tags/Seurat/"},{"name":"MCScanX","slug":"MCScanX","permalink":"http://www.shelven.com/tags/MCScanX/"},{"name":"å…±çº¿æ€§åˆ†æ","slug":"å…±çº¿æ€§åˆ†æ","permalink":"http://www.shelven.com/tags/%E5%85%B1%E7%BA%BF%E6%80%A7%E5%88%86%E6%9E%90/"},{"name":"TEsorter","slug":"TEsorter","permalink":"http://www.shelven.com/tags/TEsorter/"},{"name":"å®¹å™¨","slug":"å®¹å™¨","permalink":"http://www.shelven.com/tags/%E5%AE%B9%E5%99%A8/"},{"name":"singularity","slug":"singularity","permalink":"http://www.shelven.com/tags/singularity/"},{"name":"tRNAscan-SE","slug":"tRNAscan-SE","permalink":"http://www.shelven.com/tags/tRNAscan-SE/"},{"name":"Rfam/Infernal","slug":"Rfam-Infernal","permalink":"http://www.shelven.com/tags/Rfam-Infernal/"},{"name":"å»ºç«™","slug":"å»ºç«™","permalink":"http://www.shelven.com/tags/%E5%BB%BA%E7%AB%99/"},{"name":"RepeatModeler","slug":"RepeatModeler","permalink":"http://www.shelven.com/tags/RepeatModeler/"},{"name":"RepeatMasker","slug":"RepeatMasker","permalink":"http://www.shelven.com/tags/RepeatMasker/"},{"name":"GMATA","slug":"GMATA","permalink":"http://www.shelven.com/tags/GMATA/"},{"name":"TRF","slug":"TRF","permalink":"http://www.shelven.com/tags/TRF/"},{"name":"ChatGPT","slug":"ChatGPT","permalink":"http://www.shelven.com/tags/ChatGPT/"},{"name":"GATK","slug":"GATK","permalink":"http://www.shelven.com/tags/GATK/"},{"name":"QUAST","slug":"QUAST","permalink":"http://www.shelven.com/tags/QUAST/"},{"name":"LAI","slug":"LAI","permalink":"http://www.shelven.com/tags/LAI/"},{"name":"NextPolish","slug":"NextPolish","permalink":"http://www.shelven.com/tags/NextPolish/"},{"name":"Racon","slug":"Racon","permalink":"http://www.shelven.com/tags/Racon/"},{"name":"NextDenovo","slug":"NextDenovo","permalink":"http://www.shelven.com/tags/NextDenovo/"},{"name":"Canu","slug":"Canu","permalink":"http://www.shelven.com/tags/Canu/"},{"name":"github","slug":"github","permalink":"http://www.shelven.com/tags/github/"},{"name":"å†…ç½‘ç©¿é€","slug":"å†…ç½‘ç©¿é€","permalink":"http://www.shelven.com/tags/%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"},{"name":"ä»£ç†æœåŠ¡å™¨","slug":"ä»£ç†æœåŠ¡å™¨","permalink":"http://www.shelven.com/tags/%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8/"},{"name":"çˆ¬è™«","slug":"çˆ¬è™«","permalink":"http://www.shelven.com/tags/%E7%88%AC%E8%99%AB/"},{"name":"requests","slug":"requests","permalink":"http://www.shelven.com/tags/requests/"},{"name":"Xpath","slug":"Xpath","permalink":"http://www.shelven.com/tags/Xpath/"},{"name":"selenium","slug":"selenium","permalink":"http://www.shelven.com/tags/selenium/"},{"name":"HTTP","slug":"HTTP","permalink":"http://www.shelven.com/tags/HTTP/"},{"name":"äººå·¥æ™ºèƒ½","slug":"äººå·¥æ™ºèƒ½","permalink":"http://www.shelven.com/tags/%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD/"},{"name":"google colab","slug":"google-colab","permalink":"http://www.shelven.com/tags/google-colab/"},{"name":"Tacotron2","slug":"Tacotron2","permalink":"http://www.shelven.com/tags/Tacotron2/"},{"name":"HiFiGAN","slug":"HiFiGAN","permalink":"http://www.shelven.com/tags/HiFiGAN/"},{"name":"æ‹†åŒ…","slug":"æ‹†åŒ…","permalink":"http://www.shelven.com/tags/%E6%8B%86%E5%8C%85/"},{"name":"å£°çº¹è¯†åˆ«","slug":"å£°çº¹è¯†åˆ«","permalink":"http://www.shelven.com/tags/%E5%A3%B0%E7%BA%B9%E8%AF%86%E5%88%AB/"},{"name":"è¯­éŸ³è½¬æ–‡æœ¬","slug":"è¯­éŸ³è½¬æ–‡æœ¬","permalink":"http://www.shelven.com/tags/%E8%AF%AD%E9%9F%B3%E8%BD%AC%E6%96%87%E6%9C%AC/"},{"name":"åå‘ä»£ç†","slug":"åå‘ä»£ç†","permalink":"http://www.shelven.com/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"},{"name":"blast","slug":"blast","permalink":"http://www.shelven.com/tags/blast/"},{"name":"kmergenie","slug":"kmergenie","permalink":"http://www.shelven.com/tags/kmergenie/"},{"name":"SOAPdenovo2","slug":"SOAPdenovo2","permalink":"http://www.shelven.com/tags/SOAPdenovo2/"},{"name":"jellyfish","slug":"jellyfish","permalink":"http://www.shelven.com/tags/jellyfish/"},{"name":"GenomeScope2.0","slug":"GenomeScope2-0","permalink":"http://www.shelven.com/tags/GenomeScope2-0/"},{"name":"blast+","slug":"blast","permalink":"http://www.shelven.com/tags/blast/"},{"name":"nanoplot","slug":"nanoplot","permalink":"http://www.shelven.com/tags/nanoplot/"},{"name":"filtlong","slug":"filtlong","permalink":"http://www.shelven.com/tags/filtlong/"},{"name":"BLAST+","slug":"BLAST","permalink":"http://www.shelven.com/tags/BLAST/"},{"name":"aspera","slug":"aspera","permalink":"http://www.shelven.com/tags/aspera/"},{"name":"perl","slug":"perl","permalink":"http://www.shelven.com/tags/perl/"},{"name":"bioperl","slug":"bioperl","permalink":"http://www.shelven.com/tags/bioperl/"},{"name":"é›†ç¾¤","slug":"é›†ç¾¤","permalink":"http://www.shelven.com/tags/%E9%9B%86%E7%BE%A4/"},{"name":"slurm","slug":"slurm","permalink":"http://www.shelven.com/tags/slurm/"},{"name":"AnnotationHub","slug":"AnnotationHub","permalink":"http://www.shelven.com/tags/AnnotationHub/"},{"name":"GO/KEGG","slug":"GO-KEGG","permalink":"http://www.shelven.com/tags/GO-KEGG/"},{"name":"org.At.tair.db","slug":"org-At-tair-db","permalink":"http://www.shelven.com/tags/org-At-tair-db/"},{"name":"ffmpeg","slug":"ffmpeg","permalink":"http://www.shelven.com/tags/ffmpeg/"},{"name":"numpy","slug":"numpy","permalink":"http://www.shelven.com/tags/numpy/"},{"name":"pillow","slug":"pillow","permalink":"http://www.shelven.com/tags/pillow/"},{"name":"pheatmap","slug":"pheatmap","permalink":"http://www.shelven.com/tags/pheatmap/"},{"name":"SRA","slug":"SRA","permalink":"http://www.shelven.com/tags/SRA/"},{"name":"SRA Toolkit","slug":"SRA-Toolkit","permalink":"http://www.shelven.com/tags/SRA-Toolkit/"},{"name":"GEO","slug":"GEO","permalink":"http://www.shelven.com/tags/GEO/"},{"name":"vscode","slug":"vscode","permalink":"http://www.shelven.com/tags/vscode/"},{"name":"ggplot2","slug":"ggplot2","permalink":"http://www.shelven.com/tags/ggplot2/"},{"name":"ggrepel","slug":"ggrepel","permalink":"http://www.shelven.com/tags/ggrepel/"},{"name":"linuxæŒ‡ä»¤","slug":"linuxæŒ‡ä»¤","permalink":"http://www.shelven.com/tags/linux%E6%8C%87%E4%BB%A4/"},{"name":"shellè„šæœ¬","slug":"shellè„šæœ¬","permalink":"http://www.shelven.com/tags/shell%E8%84%9A%E6%9C%AC/"},{"name":"DESeq2","slug":"DESeq2","permalink":"http://www.shelven.com/tags/DESeq2/"},{"name":"dplyr","slug":"dplyr","permalink":"http://www.shelven.com/tags/dplyr/"},{"name":"HTseq","slug":"HTseq","permalink":"http://www.shelven.com/tags/HTseq/"},{"name":"stringtie","slug":"stringtie","permalink":"http://www.shelven.com/tags/stringtie/"},{"name":"prepDE.py3","slug":"prepDE-py3","permalink":"http://www.shelven.com/tags/prepDE-py3/"},{"name":"IGV","slug":"IGV","permalink":"http://www.shelven.com/tags/IGV/"},{"name":"samtools","slug":"samtools","permalink":"http://www.shelven.com/tags/samtools/"},{"name":"hisat2","slug":"hisat2","permalink":"http://www.shelven.com/tags/hisat2/"},{"name":"fastqc","slug":"fastqc","permalink":"http://www.shelven.com/tags/fastqc/"},{"name":"multiqc","slug":"multiqc","permalink":"http://www.shelven.com/tags/multiqc/"},{"name":"trim-galore","slug":"trim-galore","permalink":"http://www.shelven.com/tags/trim-galore/"}]}